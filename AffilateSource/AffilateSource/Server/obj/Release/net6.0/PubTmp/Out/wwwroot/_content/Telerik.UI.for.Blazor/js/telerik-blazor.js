!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TelerikBlazor=e():t.TelerikBlazor=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(34);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(55);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(58);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=n(66);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var l=n(75);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})});var c=n(4);Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});var u=n(78);Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var p=n(81);Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})});var h=n(136);Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})});var f=n(139);Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})});var d=n(149);Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})});var v=n(152);Object.keys(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return v[t]}})});var y=n(166);Object.keys(y).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}})});var g=n(216);Object.keys(g).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return g[t]}})});var m=n(219);Object.keys(m).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return m[t]}})});var b=n(223);Object.keys(b).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return b[t]}})});var w=n(235);Object.keys(w).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return w[t]}})});var _=n(238);Object.keys(_).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return _[t]}})});var x=n(262);Object.keys(x).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return x[t]}})});var k=n(273);Object.keys(k).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return k[t]}})});var S=n(277);Object.keys(S).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return S[t]}})});var C=n(280);Object.keys(C).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return C[t]}})});var O=n(284);Object.keys(O).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return O[t]}})});var E=n(287);Object.keys(E).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return E[t]}})});var T=n(291);Object.keys(T).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return T[t]}})});var M=n(299);Object.keys(M).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return M[t]}})});var P=n(302);Object.keys(P).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return P[t]}})});var A=n(305);Object.keys(A).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return A[t]}})});var D=n(308);Object.keys(D).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return D[t]}})});var j=n(311);Object.keys(j).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return j[t]}})});var R=n(314);Object.keys(R).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return R[t]}})});var I=n(326);Object.keys(I).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return I[t]}})});var L=n(329);Object.keys(L).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return L[t]}})});var z=n(332);Object.keys(z).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return z[t]}})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,c.initComponent)(l.AnimationGroup,t,e)}function o(t,e){var n=(0,c.getComponentInstance)(t);return n?(n.setOptions(e),n.showAsync().catch(u.noop)):null}function i(t,e){var n=(0,c.getComponentInstance)(t);return n?(n.setOptions(e),n.hideAsync().catch(u.noop)):null}function s(t){var e=(0,c.getComponentInstance)(t);e&&e.hide()}function a(t){var e=(0,c.getComponentInstance)(t);e&&e.show()}Object.defineProperty(e,"__esModule",{value:!0}),e.initAnimationGroup=r,e.showAnimationGroupAsync=o,e.hideAnimationGroupAsync=i,e.hideAnimationGroup=s,e.showAnimationGroup=a;var l=n(3),c=n(4),u=n(6)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationGroup=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(4),p=n(9),h="none",f="k-popup",d="k-animation-container-shown",v={vertical:"reveal-vertical",horizontal:"reveal-horizontal"},y={"slide-down":"slide-up","push-down":"push-up"},g={appear:"appear",exit:"exit"},m=function(){return(0,u.delay)(20)},b=function(t,e){return"k-"+t+"-"+e},w=function(t){var e=Object.keys(g);return e.reduce(function(e,n){return c({},e,s({},n,{base:b(t,n),active:b(t,n+"-active")}))},{})};e.AnimationGroup=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,animationName:"slide-down",duration:300,showDelay:10,hideDelay:10,jsinterop:{showStart:null,hideStart:null}},i.extendOptions(n),i.element.parentElement.style.display=h,i.animationClasses=w(i.options.animationName),i}return i(e,t),a(e,[{key:"setOptions",value:function(t){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setOptions",this).call(this,t),this.animationClasses=w(this.options.animationName)}},{key:"destroy",value:function(){this.cancelCallback(),this.parentComponent=null,l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"showAsync",value:function(){var t=this;return this.cancelCallback(),this.onAppearStart().then(function(){return t.onAppearing()}).then(function(){return t.onTransitionEnd(t.onAppearEnd.bind(t))})}},{key:"hideAsync",value:function(){var t=this;return this.cancelCallback(),this.onExitStart().then(this.onExiting()).then(function(){return t.onTransitionEnd(t.onExitEnd.bind(t))})}},{key:"show",value:function(){this.cancelCallback(),this.removeClasses(g.exit),this.removeClasses(g.appear),this.element.style.display=null,this.element.parentElement.style.display=null,this.triggerOpen()}},{key:"hide",value:function(){this.cancelCallback(),this.removeClasses(g.exit),this.removeClasses(g.appear),this.element.style.display=h,this.element.parentElement.style.display=h,this.triggerClose()}},{key:"onAppearStart",value:function(){var t=this;return this.updateAppearStartState().then(function(){var e=t.getParentPosition(),n=t.options.animationName;return t.maxDimensions(),e&&e.flipped&&y[n]?(t.element.style.display=h,t.element.parentElement.style.display=h,m().then(function(){return t.removeClasses(g.appear),t.animationClasses=w(y[n]),t.updateAppearStartState()})):Promise.resolve()})}},{key:"updateAppearStartState",value:function(){var t=this;return this.removeClasses(g.exit),this.addClasses(this.animationClasses[g.appear].base),this.addClasses(this.options.class),m().then(function(){t.element&&(t.element.style.display=null,t.element.parentElement.style.display=null)})}},{key:"onAppearing",value:function(){var t=this;return this.triggerOpen(),m().then(function(){t.addClasses(t.animationClasses[g.appear].active)})}},{key:"onAppearEnd",value:function(){var t=this,e=g.appear;m().then(function(){t.removeClasses(e),t.removeMaxDimensions(),t.isPopup()&&(0,p.addClass)(d,t.element.parentElement)})}},{key:"onExitStart",value:function(){var t=this;return m().then(function(){var e=t.getParentPosition(),n=t.options.animationName;e&&e.flipped&&y[n]&&(t.animationClasses=w(y[n])),t.removeClasses(g.appear),t.addClasses(t.animationClasses[g.exit].base)})}},{key:"onExiting",value:function(){var t=this;return this.triggerClose(),this.maxDimensions(),m().then(function(){t.addClasses(t.animationClasses[g.exit].active),t.isPopup()&&(0,p.removeClass)(d,t.element.parentElement)})}},{key:"onExitEnd",value:function(){this.removeClasses(g.exit),this.removeMaxDimensions(),this.element.style.display=h,this.element.parentElement.style.display=h}},{key:"onTransitionEnd",value:function(t){var e=this.options,n=e.duration+e.showDelay;return this.timer=(0,u.createCancellableTimerPromise)(n),this.timer.promise.then(t)}},{key:"cancelCallback",value:function(){this.timer&&this.timer.cancel(),this.timer=null}},{key:"getParentComponent",value:function(){if(this.parentComponent)return this.parentComponent;if(!this.element)return null;var t=this.element.closest(".k-animation-container");if(!t)return null;var e=t.getAttribute("data-id");return this.parentComponent=(0,u.getComponentInstance)(e),this.parentComponent}},{key:"callParentMethod",value:function(t,e){var n=this.getParentComponent();if(n&&(0,u.isFunction)(n[t]))return n[t](e)}},{key:"getParentPosition",value:function(){return this.callParentMethod("getElementPosition")}},{key:"triggerOpen",value:function(){this.invokeMethodAsync(this.options.jsinterop.showStart),this.callParentMethod("onOpen")}},{key:"triggerClose",value:function(){this.invokeMethodAsync(this.options.jsinterop.hideStart),this.callParentMethod("onClose")}},{key:"removeClasses",value:function(t){var e=this.animationClasses[t];this.element&&(this.element.classList.remove(e.base),this.element.classList.remove(e.active))}},{key:"addClasses",value:function(t){var e=this;t&&t.split(/\s+/).forEach(function(t){e.element&&e.element.classList.add(t)})}},{key:"maxDimensions",value:function(){var t=this.options,e=this.element,n=e.scrollHeight+"px",r=e.scrollWidth+"px";return t.animationName.includes(v.vertical)?(e.style.maxHeight=n,"max-height: "+n):t.animationName.includes(v.horizontal)?(e.style.maxWidth=r,"max-width: "+r):""}},{key:"removeMaxDimensions",value:function(){var t=this.options.animationName.includes(v.vertical)||this.options.animationName.includes(v.horizontal);this.element&&t&&(this.element.style.maxHeight=null,this.element.style.maxWidth=null)}},{key:"isPopup",value:function t(){var t=this.element&&this.element.classList.contains(f);return t&&this.element.parentElement}}]),e}(u.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(8);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(9);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(6);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=n(10);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var l=n(11);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})});var c=n(17);Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});var u=n(18);Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var p=n(27);Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})});var h=n(29);Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Component=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(6);e.Component=function(){function t(e,n){r(this,t),this.options={dotNetInstance:null,events:{}},this.element=e,this.dotNetInstance=n.dotNetInstance}return o(t,[{key:"destroy",value:function(){this.element=null,this.dotNetInstance=null}},{key:"extendOptions",value:function(t){this.options=(0,i.deepExtend)(this.options,t)}},{key:"setOptions",value:function(t){this.options=t}},{key:"invokeMethodAsync",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.dotNetInstance;if(n&&n.invokeMethodAsync&&t)return n.invokeMethodAsync(t,e)}},{key:"trigger",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={defaultPrevented:!1,preventDefault:function(){n.defaultPrevented=!0}};if((0,i.isFunction)(this.options.events[t]))return this.options.events[t]((0,i.extend)(n,e,{sender:this})),n.defaultPrevented}}]),t}()},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.groupBy=e.convertToHtml=e.parseStyleAttrToInt=e.parseAttrToInt=e.toClassSelector=e.toAttrValueQuerySelector=e.toAttrQuerySelector=e.toDataAttr=e.convertToMouseEventArgs=e.converToKeyboardEventArgs=e.stringifyToStyle=e.saveFile=e.noop=e.htmlEncode=e.createCancellableTimerPromise=e.delay=e.hasValue=e.isNotNull=e.isDefined=e.isFunction=e.guid=e.deepExtend=e.isDomElement=e.isHtmlElement=e.isObject=e.extend=e.getLocationHost=e.supportsTouchEvents=e.debounce=e.throttle=void 0;var o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(7),a=(e.throttle=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0,r=0;return!e||e<=0?t:function(){for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];var a=this,l=0,c=function(){t.call.apply(t,[a].concat(i)),r=performance.now()};return r||(r=performance.now(),n=setTimeout(c,e)),l=performance.now()-r,l>3*e?(clearTimeout(n),void(r=0)):(clearTimeout(n),void(l>e?c():n=setTimeout(c,e-l)))}},e.debounce=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];var s=this;clearTimeout(n),n=setTimeout(function(){clearTimeout(n),t.call.apply(t,[s].concat(o))},e)}},e.supportsTouchEvents=function(){var t="ontouchstart"in window;return Boolean(t)},e.getLocationHost=function(){return window.location.host},e.extend=function(){return Object.assign.apply(Object,arguments)}),l=e.isObject=function(t){return t&&"object"===("undefined"==typeof t?"undefined":i(t))&&!Array.isArray(t)},c=e.isHtmlElement=function(t){return t instanceof HTMLElement},u=(e.isDomElement=function(t){return t instanceof Element},e.deepExtend=function t(e){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];if(!o.length)return e;var s=o.shift();if(l(e)&&l(s))for(var u in s)c(s[u])?e[u]=s[u]:l(s[u])?(e[u]||a(e,r({},u,{})),t(e[u],s[u])):a(e,r({},u,s[u]));return t.apply(void 0,[e].concat(o))},e.guid=function(){var t="",e=void 0,n=void 0;for(e=0;e<32;e++)n=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(t+="-"),t+=(12===e?4:16===e?3&n|8:n).toString(16);return t},e.isFunction=function(t){return"function"==typeof t},e.isDefined=function(t){return"undefined"!=typeof t}),p=e.isNotNull=function(t){return null!==t},h=(e.hasValue=function(t){return u(t)&&p(t)},e.delay=function(t){return new Promise(function(e){return setTimeout(e,t)})},e.createCancellableTimerPromise=function(t){var e=void 0,n=void 0,r=void 0;return n=new Promise(function(n,o){r=o,e=setTimeout(function(){n("timer done")},t)}),{promise:n,cancel:function(){clearTimeout(e),r()}}},e.htmlEncode=function(t){var e=String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");return e},e.noop=function(){},e.saveFile=function(t,e){(0,s.saveAs)(e,t)},e.stringifyToStyle=function(t){var e=[],n=Object.entries(t),r=!0,i=!1,s=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var c=o(a.value,2),p=c[0],f=c[1];if(u(f)){var d=h(p)+": "+f;e.push(d.toLowerCase())}}}catch(t){i=!0,s=t}finally{try{!r&&l.return&&l.return()}finally{if(i)throw s}}return e.join("; ")},function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2")});e.converToKeyboardEventArgs=function(t){var e={type:t.type,key:t.key,code:(t.keyCode||"").toString(),ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey};return e},e.convertToMouseEventArgs=function(t){var e={type:t.type,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY,button:t.button,buttons:t.buttons,detail:t.detail,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey};return e},e.toDataAttr=function(t){return"data-"+t},e.toAttrQuerySelector=function(t){return"["+t+"]"},e.toAttrValueQuerySelector=function(t,e){return"["+t+'="'+e+'"]'},e.toClassSelector=function(t){return"."+t},e.parseAttrToInt=function(t,e){var n=-1;if(!e)return n;var r=e.getAttribute(t),o=parseInt(r,10);return Number.isNaN(o)?n:o},e.parseStyleAttrToInt=function(t,e){var n=0;if(!e)return n;var r=e.style[t],o=parseInt(r,10);return Number.isNaN(o)?n:o},e.convertToHtml=function(t){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild},e.groupBy=function(t,e){return t.reduce(function(t,n){var r=e instanceof Function?e(n):n[e];return(t[r]=t[r]||[]).push(n),t},{})}},function(t,e){"use strict";function n(t,e,n){void 0===n&&(n={});var s=i;if(n.forceProxy&&!n.proxyURL)throw new Error("No proxyURL is set, but forceProxy is true");n.forceProxy||(c()&&(s=o),navigator.msSaveBlob&&(s=r)),s(t,e,n)}function r(t,e){var n=t;if("string"==typeof t){for(var r=t.split(";base64,"),o=r[0],i=atob(r[1]),s=new Uint8Array(i.length),a=0;a<i.length;a++)s[a]=i.charCodeAt(a);n=new Blob([s.buffer],{type:o})}navigator.msSaveBlob(n,e)}function o(t,e){var n=t;window.Blob&&t instanceof Blob&&(n=URL.createObjectURL(t));var r=l();r.download=e,r.href=n;var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(o),setTimeout(function(){return URL.revokeObjectURL(n)})}function i(t,e,n){if(n.proxyURL){var r=document.createElement("form");r.setAttribute("action",n.proxyURL),r.setAttribute("method","POST"),r.setAttribute("target",n.proxyTarget||"_self");var o=n.proxyData||{};o.fileName=e;var i=t.split(";base64,");o.contentType=i[0].replace("data:",""),o.base64=i[1];for(var s in o)if(o.hasOwnProperty(s)){var a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name",s),a.setAttribute("value",o[s]),r.appendChild(a)}document.body.appendChild(r),r.submit(),document.body.removeChild(r)}}function s(t){for(var e,n,r,o,i,s,l,c=a(t),p="",h=0;h<c.length;)e=c.charCodeAt(h++),n=c.charCodeAt(h++),r=c.charCodeAt(h++),o=e>>2,i=(3&e)<<4|n>>4,s=(15&n)<<2|r>>6,l=63&r,isNaN(n)?s=l=64:isNaN(r)&&(l=64),p=p+u.charAt(o)+u.charAt(i)+u.charAt(s)+u.charAt(l);return p}function a(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=p(r):r<2048?(e+=p(192|r>>>6),e+=p(128|63&r)):r<65536&&(e+=p(224|r>>>12),e+=p(128|r>>>6&63),e+=p(128|63&r))}return e}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){return document.createElement("a")},c=function(){return"download"in l()},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=String.fromCharCode;e.saveAs=n,e.encodeBase64=s},function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=y(e),o=(0,h.getElementByDataId)(r),i=a(e);if(!i){var s=new t(o,n);l(e,s)}}function o(t){var e=a(t);e&&e.destroy&&(e.destroy(),e=null),c(t)}function i(t,e){t&&t.setOptions&&t.setOptions(e)}function s(t,e){var n=v()[t];i(n,e)}function a(t){var e=v();return e[t]}function l(t,e){var n=v();n[t]=e}function c(t){var e=window.TelerikBlazor._instances||{};delete e[t]}function u(t,e,n){var r=a(e);if(r&&(0,p.isFunction)(r[t]))return r[t](n)}Object.defineProperty(e,"__esModule",{value:!0}),e.removeComponentSuffix=e.addComponentSuffix=void 0,e.initComponent=r,e.destroyComponent=o,e.setComponentOptions=i,e.setOptions=s,e.getComponentInstance=a,e.setComponentInstance=l,e.removeComponentInstance=c,e.invokeComponentMethod=u;var p=n(6),h=n(9),f="telerik",d=new RegExp("-"+f+"-.*$","ig"),v=function(){if("undefined"==typeof window.TelerikBlazor)throw new Error("The telerik-blazor.js script is not loaded");return window.TelerikBlazor._instances=window.TelerikBlazor._instances||{},window.TelerikBlazor._instances},y=(e.addComponentSuffix=function(t,e){return t+"-"+f+"-"+e},e.removeComponentSuffix=function(t){return t.replace(d,"")})},function(t,e,n){"use strict";function r(t,e){if(!e)return!1;for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1}function o(t,e){return t===e||r(t,e)}function i(t){var e=s(t)||document.getElementById(t);return e.scrollHeight.toString()}function s(t){return document.querySelector('[data-id="'+t+'"]')}Object.defineProperty(e,"__esModule",{value:!0}),e.setScrollbarSizeCssVariables=e.getElementIndex=e.haveSameParent=e.isTargetAfterElement=e.getIntersectionRect=e.areElementsOverlapping=e.firstVisibleItem=e.getMaxScrollLeft=e.isWholeElementInView=e.getScrollBarHeight=e.getScrollBarWidth=e.scrollListToItem=e.setPosition=e.setIndeterminate=e.getSiblings=e.findNextSiblings=e.findPreviousSiblings=e.focusFirstFocusableChild=e.findEditable=e.findFocusable=e.isFocusable=e.hasAncestor=e.setElementValue=e.focusElement=e.focusElementInNextFrame=e.focusInNextFrameAsync=e.runInNextFrameAsync=e.isChild=e.hasAnyClass=e.hasClass=e.removeClass=e.addClass=e.hideElement=e.showElement=void 0,e.ownsElement=r,e.ownsElementOrSelf=o,e.getElementScrollHeight=i,e.getElementByDataId=s;var a=n(6),l=(e.showElement=function(t){t instanceof HTMLElement&&(t.style.display="")},e.hideElement=function(t){t instanceof HTMLElement&&(t.style.display="none")},e.addClass=function(t,e){e.classList.add(t)},e.removeClass=function(t,e){e.classList.remove(t)},e.hasClass=function(t,e){if(e instanceof HTMLElement)return e.classList.contains(t)}),c=(e.hasAnyClass=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=0;n<t.length;n++)if(l(t[n],e))return!0},e.isChild=function(t,e){for(var n=t;n&&n!==document;){if(e.indexOf(n)>=0)return!0;n=n.parentElement}return!1},e.runInNextFrameAsync=function(t){return(0,a.delay)(33).then(function(){return t()})}),u=e.focusInNextFrameAsync=function(t){return c(function(){t&&t.focus&&t.focus()})},p=(e.focusElementInNextFrame=function(t){var e=s(t);e&&u(e)},e.focusElement=function(t,e){var n=s(t);n instanceof HTMLElement&&n.focus({preventScroll:e})},e.setElementValue=function(t,e){var n=s(t);n instanceof HTMLElement&&(n.value=e)},e.hasAncestor=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t instanceof HTMLElement&&t.closest(e);return n?Boolean(r):r&&!t.matches(e)},e.isFocusable=function(t){var e=t.nodeName.toLowerCase(),n=/input|^a$|area|iframe|select|textarea|button|object/.test(e),r=t.tabIndex>-1,o="none"!==window.getComputedStyle(t).display;return(n||r)&&o&&!t.disabled}),h=e.findFocusable=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=d(t,p,e);return n},f=(e.findEditable=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=d(t,f,e);return n},e.focusFirstFocusableChild=function(t,e){var n=s(t)||document.getElementById(t);if(n){var r=h(n,!1);r instanceof HTMLElement&&setTimeout(function(){r.focus({preventScroll:e})},33)}},function(t){var e=p(t),n=(t.tagName||"").toLowerCase();return e&&n&&/input|^a$|area|select|textarea/.test(n)}),d=function t(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return null;if(r&&n(e))return e;for(e=e.firstElementChild;e;){var o=t(e,n,!0);if(o)return o;e=e.nextElementSibling}},v=(e.findPreviousSiblings=function(t,e){var n=v(t,e,"previousElementSibling");return n},e.findNextSiblings=function(t,e){var n=v(t,e,"nextElementSibling");return n},function(t,e,n){if(!t)return null;for(var r=[],o=t[n];o;)(!e||(0,a.isFunction)(e)&&e(o))&&r.push(o),o=o[n];return r}),y=(e.getSiblings=function(t){return t&&t.parentNode?Array.from(t.parentNode.children):[]},e.setIndeterminate=function(t,e){var n=s(t)||document.getElementById(t);n&&(n.indeterminate=e)},e.setPosition=function(t,e,n){var r=s(t)||document.getElementById(t);r&&(r.style.top=e,r.style.left=n)},e.scrollListToItem=function(t,e){var n=s(t)||document.getElementById(t),r="UL"===n.tagName?n:n.getElementsByTagName("ul")[0],o=r.getElementsByTagName("li")[e],i=r.offsetParent;if(o&&i){var a=i.scrollTop,l=a+i.offsetHeight,c=o.offsetTop,u=c+o.offsetHeight;u>l?i.scrollTop+=u-l:c<a&&(i.scrollTop=c)}},e.getScrollBarWidth=function(t){var e=!t||t&&m(t)?y().width:0;return e},e.getScrollBarHeight=function(t){var e=!t||t&&g(t)?y().height:0;return e},function(){var t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);var e=document.createElement("div");t.appendChild(e);var n=t.offsetWidth-e.offsetWidth,r=t.offsetHeight-e.offsetHeight;return t.parentNode.removeChild(t),{width:n,height:r}}),g=function(t){var e=b(t)&&t.clientWidth<t.scrollWidth;return e},m=function(t){var e=w(t)&&t.clientHeight<t.scrollHeight;return e},b=function(t){var e=_(t,"overflow-x");return e},w=function(t){var e=_(t,"overflow-y");return e},_=function(t,e){var n=window.getComputedStyle(t)[e];return n.indexOf("auto")>-1||n.indexOf("scroll")>-1},x=(e.isWholeElementInView=function(t,e){if(!t||!e)return!1;var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=n.top+n.height>=r.top&&n.bottom<=r.bottom&&n.left+n.width>=r.left&&n.right<=r.right;return o},e.getMaxScrollLeft=function(t){return(0,a.isHtmlElement)(t)?t.scrollWidth-t.clientWidth:0},e.firstVisibleItem=function(t,e){for(var n=t.scrollTop,r=t.querySelectorAll(e),o=void 0,i=0;i<r.length;i++)if(r[i].offsetTop+r[i].clientHeight>n){o=r[i];break}return o},e.areElementsOverlapping=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!t||!e||t===e)return!1;var r=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=r.top+n<=o.bottom&&r.bottom-n>=o.top&&r.left+n<=o.right&&r.right-n>=o.left;return i}),k=(e.getIntersectionRect=function(t,e){var n={width:0,height:0},r=x(t,e);if(!t||!e||t===e||!r)return n;var o=t.getBoundingClientRect(),i=e.getBoundingClientRect(),s=Math.max(o.left,i.left),a=Math.max(o.top,i.top),l=Math.min(o.right,i.right),c=Math.min(o.bottom,i.bottom);return{x:s,y:a,top:a,left:s,right:l,bottom:c,width:l-s,height:c-a}},e.isTargetAfterElement=function(t,e){if(!t||!e)return!1;var n=k(t,e);return n&&S(t)>S(e)},e.haveSameParent=function(t,e){return!(!(0,a.isHtmlElement)(t)||!(0,a.isHtmlElement)(e))&&t.parentNode===e.parentNode}),S=e.getElementIndex=function(t,e){if(!t)return[].indexOf(t);var n=Array.from(t.parentElement.children);return e&&(n=n.filter(function(t){return t.matches(e)})),Array.from(n).indexOf(t)},C=(e.setScrollbarSizeCssVariables=function(){var t=y();C("--kendo-scrollbar-width",t.width+"px"),C("--kendo-scrollbar-height",t.height+"px")},function(t,e){var n=document.documentElement;n&&n.style.setProperty(t,e)})},function(t,e){"use strict";function n(t,e){var n=t%e,r=t-n,o=t+e-n;return r+o<2*t?o:r}Object.defineProperty(e,"__esModule",{value:!0}),e.closestDivisibleTo=n;e.clamp=function(t,e,n){return Math.min(n,Math.max(e,t))}},function(t,e,n){
"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(13);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(14);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(15);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=n(16);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.NavigationService=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(13),s="keydown",a="printableKey";e.NavigationService=function(){function t(e){var n=this;r(this,t),this.onNavigate=function(t){var e=new i.Shortcut(t),r=1===e.name.length,o=n.shortcuts.find(function(t){return i.Shortcut.equals(t,e)})||r&&n.shortcuts.find(function(t){return t.name===a});o&&n.callbacks[o.name].forEach(function(n){n(e,t)||(t.preventDefault(),t.stopPropagation())})},this.element=e,this.callbacks={},this.shortcuts=[],this.bindEvents()}return o(t,[{key:"destroy",value:function(){this.unbindEvents(),this.element=this.callbacks=this.shortcuts=null}},{key:"bindEvents",value:function(){this.element.addEventListener(s,this.onNavigate)}},{key:"unbindEvents",value:function(){this.element.removeEventListener(s,this.onNavigate)}},{key:"bind",value:function(t,e){var n=Array.isArray(t)?t:[t],r=!0,o=!1,s=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var c=a.value,u=new i.Shortcut(c);this.callbacks[u.name]=this.callbacks[u.name]||[],this.shortcuts.push(u),this.callbacks[u.name].push(e)}}catch(t){o=!0,s=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw s}}}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Shortcut=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(14);e.Shortcut=function(){function t(e){r(this,t),"string"==typeof e?this._initFromString(e):e instanceof KeyboardEvent&&this._initFromEvent(e)}return o(t,null,[{key:"equals",value:function(t,e){return t.ctrl===e.ctrl&&t.alt===e.alt&&t.shift===e.shift&&t.code===e.code}}]),o(t,[{key:"_initFromString",value:function(t){var e=t.toUpperCase().split(/[\t-\r \+\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]/),n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;switch(l){case i.KeyModifiers.CTRL:this.ctrl=!0;break;case i.KeyModifiers.ALT:this.alt=!0;break;case i.KeyModifiers.SHIFT:this.shift=!0;break;default:this.code=this._toNormalizedCode(l)}}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}this.name=t}},{key:"_initFromEvent",value:function(t){this.name="",t.ctrlKey&&(this.ctrl=t.ctrlKey,this.name+=i.KeyModifiers.CTRL+" "),t.shiftKey&&(this.shift=t.shiftKey,this.name+=i.KeyModifiers.SHIFT+" "),t.altKey&&(this.alt=t.altKey,this.name+=i.KeyModifiers.ALT+" "),this.code=t.keyCode,this.name+=t.key}},{key:"_toNormalizedCode",value:function(t){return i.KeyCode[t.toUpperCase()]}}]),t}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.KeyCode={DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,ARROWLEFT:37,ARROWUP:38,ARROWRIGHT:39,ARROWDOWN:40,SPACE:32,END:35,HOME:36,PAGE_UP:33,PAGE_DOWN:34,PAGEUP:33,PAGEDOWN:34},e.Key={DELETE:"Delete",BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESC:"Escape",ARROWLEFT:"ArrowLeft",ARROWUP:"ArrowUp",ARROWRIGHT:"ArrowRight",ARROWDOWN:"ArrowDown",SPACE:"Space",END:"End",HOME:"Home",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown"},e.KeyModifiers={CTRL:"CTRL",ALT:"ALT",SHIFT:"SHIFT"}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.TabKeyTrap=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(14),s="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]";e.TabKeyTrap=function(){function t(e){var n=this;r(this,t),this.disableTabKeyTrap=function(){n.element&&n.element.removeEventListener("keydown",n.onKeyDown)},this.onKeyDown=function(t){return n.tryFindEdgeElements()?void(t.keyCode===i.KeyCode.TAB&&(t.shiftKey?document.activeElement===n.firstElement&&(n.lastElement.focus(),t.preventDefault()):document.activeElement===n.lastElement&&(n.firstElement.focus(),t.preventDefault()))):void n.element.removeEventListener("keydown",n.onKeyDown)},this.element=e}return o(t,[{key:"destroy",value:function(){this.disableTabKeyTrap(),this.element=null,this.firstElement=null,this.lastElement=null}},{key:"enableKeyTrap",value:function(){this.element&&this.element.addEventListener("keydown",this.onKeyDown)}},{key:"tryFindEdgeElements",value:function(){return this.findEdgeElements(),this.firstElement&&this.lastElement}},{key:"findEdgeElements",value:function(){var t=this.element.querySelectorAll(s);this.firstElement=t[0],this.lastElement=t[t.length-1]}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.FormKeyTrap=e.disableFormTabKeyTrap=e.enableFormTabKeyTrap=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(14),s=n(9),a=function(t){if(t.length)return t[t.length-1]},l=(e.enableFormTabKeyTrap=function(t){l&&l.instanceMap&&(0,s.runInNextFrameAsync)(function(){var e=(0,s.getElementByDataId)(t);if(e&&!l.instanceMap[t]){var n=new l(e);l.instanceMap[t]=n,n.enableKeyTrap()}})},e.disableFormTabKeyTrap=function(t){if(l&&l.instanceMap){var e=l.instanceMap[t];e&&e.disableTabKeyTrap()}},e.FormKeyTrap=function(){function t(e){var n=this;r(this,t),this.disableTabKeyTrap=function(){n.firstElement&&n.firstElement.removeEventListener("keydown",n.onFirstElementKeyDown),n.lastElement&&n.lastElement.removeEventListener("keydown",n.onLastElementKeyDown)},this.onFirstElementKeyDown=function(t){t.keyCode===i.KeyCode.TAB&&t.shiftKey&&(t.preventDefault(),n.lastElement&&n.lastElement.focus())},this.onLastElementKeyDown=function(t){t.keyCode!==i.KeyCode.TAB||t.shiftKey||(t.preventDefault(),n.firstElement&&n.firstElement.focus())},e&&(this.element=e,this.firstElement=(0,s.findFocusable)(e,!1),this.lastElement=a(e.querySelectorAll("button, .k-button")))}return o(t,[{key:"destroy",value:function(){this.disableTabKeyTrap(),this.element=null,this.firstElement=null,this.lastElement=null}},{key:"enableKeyTrap",value:function(){this.element&&this.firstElement&&this.lastElement&&(this.firstElement.addEventListener("keydown",this.onFirstElementKeyDown),this.lastElement.addEventListener("keydown",this.onLastElementKeyDown))}}]),t}());l.instanceMap={}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.Platform=function(){function t(){n(this,t)}return r(t,null,[{key:"webAssembly",get:function(){return Boolean(window.Blazor&&window.Blazor.platform)}},{key:"serverSideBlazor",get:function(){return Boolean(window.Blazor&&window.Blazor.reconnect)}},{key:"firefox",get:function(){return Boolean(/Firefox/i.test(navigator.userAgent))}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.GridBase=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(19),u=n(21),p=n(22),h=n(9),f={header:"k-grid-header-wrap",footer:"k-grid-footer-wrap",content:"k-grid-content"},d="mousedown",v="data-render-row-index",y=1e3/60,g=(e.GridBase=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return g.call(i),i.extendOptions(n),i.content=i.getChildElement(f.content),i.header=i.getChildElement(f.header),i.adjustScrollbarPadding(),i.bindEvents(),i.createNavigationService(),i.setSearchBoxValue(n.searchString),i}return i(e,t),s(e,[{key:"getChildElement",value:function(t){return this.element.getElementsByClassName(t)[0]}},{key:"destroy",value:function(){this.rowDraggable&&this.rowDraggable.destroy(),this.unbindEvents(),this.destroyNavigationService(),this.content=null,this.header=null,a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"adjustScrollbarPadding",value:function(){(0,h.setScrollbarSizeCssVariables)()}},{key:"bindEvents",value:function(){this.createContentScrollSync(),this.content.addEventListener(d,this.onMouseDown)}},{key:"unbindEvents",value:function(){this.destroyContentScrollSync(),this.content.removeEventListener(d,this.onMouseDown)}},{key:"createContentScrollSync",value:function(){this.contentScrollSync&&this.destroyContentScrollSync();var t=this.element.querySelector((0,p.toClassSelector)(f.footer));this.contentScrollSync=new l.ScrollSync(this.content,{horizontal:!0,vertical:!1,syncFromConnections:this.hasNavigableVirtualColumns(),connections:[this.header,t]})}},{key:"destroyContentScrollSync",value:function(){this.contentScrollSync&&(this.contentScrollSync.destroy(),this.contentScrollSync=null)}},{key:"createNavigationService",value:function(){this.navigationService=new c.NavigationService(this.element,{navigable:this.options.navigable,incellEdit:this.options.incellEdit,columnVirtualization:this.options.columnVirtualization,virtualScrollDelay:this.options.virtualScrollDelay,events:{removeFocus:this.onNavigationRemoveFocus,blur:this.onNavigationBlur,incellEditBlur:this.onIncellEditBlur}})}},{key:"destroyNavigationService",value:function(){this.navigationService&&(this.navigationService.destroy(),this.navigationService=null)}},{key:"hasNavigableVirtualColumns",value:function(){return this.options.navigable&&this.options.columnVirtualization}},{key:"focusCell",value:function(t){this.navigationService.focusCell(t)}},{key:"focusEditable",value:function(t){this.navigationService.focusEditable(t)}},{key:"focusFirstFocusable",value:function(t){this.navigationService.focusFirstFocusable(t)}},{key:"scrollAndFocusFirstCell",value:function(t){this.navigationService.scrollAndFocusFirstCell(t)}},{key:"scrollAndFocusLastCell",value:function(t){this.navigationService.scrollAndFocusLastCell(t)}},{key:"scrollContent",value:function(t){this.content.scrollLeft=t}},{key:"removeFocus",value:function(){this.invokeMethodAsync(this.options.jsinterop.removeFocus)}},{key:"blur",value:function(t){this.invokeDefferedMethodAsync(this.options.jsinterop.blur,t)}},{key:"incellEditBlur",value:function(t){this.invokeDefferedMethodAsync(this.options.jsinterop.incellEditBlur,t)}},{key:"invokeDefferedMethodAsync",value:function(t,e){var n=this;l.Platform.webAssembly?setTimeout(function(){e.deferred=!0,document.body.contains(e.originalEvent.target)&&n.invokeMethodAsync(t,e)},1):this.invokeMethodAsync(t,e)}},{key:"createRowDraggable",value:function(){this.element&&(this.rowDraggable=new u.RowDraggable(this.element,(0,l.deepExtend)(this.options.rowDraggableOptions,{componentSelector:".k-grid",group:".k-grid-table",filter:".k-i-reorder",dropClueTargetSelector:".k-grid-content tr.k-master-row",dropClueEmptySelector:".k-grid-norecords",itemSelector:"tr.k-master-row",offsetDropClue:!1,hint:this.createHint,events:{itemDragStart:this.onItemDragStart,itemDrop:this.onItemDrop}})))}},{key:"getItemIndex",value:function(t){return t?parseInt(t.getAttribute(v)):-1}},{key:"getDestinationComponent",value:function(t){var e=this.element,n=t.closest(this.options.componentSelector);if(n&&e!==n){var r=n.getAttribute("data-id"),o=(0,l.getComponentInstance)(r);return o&&o.dotNetInstance}return this.dotNetInstance}}]),e}(l.Component),function(){var t=this;this.options={dotNetInstance:null,incellEdit:!1,columnVirtualization:!1,virtualScrollDelay:4*y,rowDraggable:!1,draggedItemsHint:"",rowDraggableOptions:{allowDropOver:!1},componentSelector:"",jsinterop:{removeFocus:"",blur:"",incellEditBlur:"",rowDragStart:"",rowDrop:""}},this.onMouseDown=function(t){t.shiftKey&&t.preventDefault()},this.onNavigationRemoveFocus=function(){t.removeFocus()},this.onNavigationBlur=function(e){t.blur(e)},this.onIncellEditBlur=function(e){t.incellEditBlur(e)},this.createHint=function(e){var n=t.getDragHintText(e);return(0,l.convertToHtml)('<div class="k-header k-drag-clue">\n                <span class="k-icon k-drag-status k-icon-with-modifier">\n                    <span class="k-icon k-icon-modifier"></span>\n                </span>\n                '+n+"\n            </div>")},this.getDragHintText=function(e){if((0,l.hasClass)("k-state-selected",e.closest("tr"))){var n=t.element.querySelectorAll("tr.k-master-row.k-state-selected").length;if(n>1)return n+" "+t.options.draggedItemsHint}return e.closest("td").getAttribute("data-drag-clue-text")},this.onItemDragStart=function(e){t.invokeMethodAsync(t.options.jsinterop.rowDragStart,{sourceIndex:t.getItemIndex(e.sourceItem)})},this.onItemDrop=function(e){t.invokeMethodAsync(t.options.jsinterop.rowDrop,{destinationIndex:t.getItemIndex(e.destinationItem),dotNetInstance:t.getDestinationComponent(e.destinationElement),dropPosition:e.dropPosition})},this.setSearchBoxValue=function(t){var e=document.querySelector(".k-grid-search input");e&&(e.value=t)}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.NavigationService=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(6),u=n(9),p=n(20),h="data-col-index",f="data-render-row-index",d="data-cell-navigation-id",v="tr",y="nearest",g=1e3/60,m=Array.from,b="right",w="left";e.NavigationService=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={navigable:!1,incellEdit:!1,columnVirtualization:!1,virtualScrollDelay:4*g,events:{removeFocus:null,blur:null,incellEditBlur:null},rowSelector:function(t){return"tr[data-render-row-index='"+t+"']"},columnSelector:function(t){return"["+h+"='"+t+"']"},cellNavigationSelector:function(t){return"["+d+"='"+t+"']"},groupRowClass:"k-grouping-row",headerClass:"k-grid-header",contentClass:"k-grid-content",editRowClass:"k-grid-edit-row",filterRowClass:"k-filter-row",lockedHeaderClass:"k-grid-header-sticky"},i.onClick=function(t){"input"===t.target.tagName.toLowerCase()&&t.stopPropagation()},i.onKeyDown=function(t){var e=i.options.navigable&&[l.KeyCode.ARROWRIGHT,l.KeyCode.ARROWLEFT,l.KeyCode.ARROWUP,l.KeyCode.ARROWDOWN,l.KeyCode.PAGE_DOWN,l.KeyCode.PAGE_UP,l.KeyCode.HOME,l.KeyCode.END,l.KeyCode.SPACE].includes(t.keyCode),n=t.keyCode===l.KeyCode.SPACE&&(0,l.hasClass)("k-checkbox",t.target),r=e&&!n&&(t.target.matches("td")||t.target.matches("th")),o=t.keyCode===l.KeyCode.TAB&&i.options.incellEdit&&t.target.closest(".k-grid-edit-row");(r||o)&&t.preventDefault()},i.onFocusOut=function(t){var e=t.target.closest("["+h+"]"),n=e?e.closest(v):null,r=n&&n.hasAttribute(f)?parseInt(n.getAttribute(f)):null,o=e&&e.hasAttribute(h)?parseInt(e.getAttribute(h)):null,s={originalEvent:t};null!==r&&null!==o&&(s.rowIndex=r,s.columnIndex=o,s.isChildFocused=e&&!t.target.hasAttribute(h)),i.options.incellEdit&&t.target&&t.target.closest(".k-grid-edit-cell")&&(!t.relatedTarget&&document.activeElement===document.body||t.relatedTarget&&!i.element.contains(t.relatedTarget)&&!t.relatedTarget.closest(".k-popup")||t.relatedTarget&&t.relatedTarget.closest(".k-detail-row,.k-grid-search,.k-filter-row"))&&i.triggerIncellEditBlur(s),i.options.navigable&&(!t.relatedTarget||i.element.contains(t.relatedTarget)&&!t.relatedTarget.closest(".k-detail-row")||t.relatedTarget.closest(".k-window")||t.relatedTarget.closest(".k-grid-filter-popup")?i.triggerBlur(s):i.triggerRemoveFocus())},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener("keydown",this.onKeyDown),this.element.addEventListener("focusout",this.onFocusOut),this.options.navigable&&this.element.addEventListener("click",this.onClick)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("keydown",this.onKeyDown),this.element.removeEventListener("focusout",this.onFocusOut),this.options.navigable&&this.element.removeEventListener("click",this.onClick)}},{key:"focusCell",value:function(t){var e=t.rowIndex,n=t.columnIndex,r=t.isChildFocused,o=t.cellNavigationId,i=t.keyboardEventArgs,s=this.getRow(e),a=o>=0?this.element.querySelector(this.options.cellNavigationSelector(o)):null;if(a)return void this.focusElement(a);if(s){if((0,l.hasClass)("k-grouping-row",s))a=s.querySelector("td[role='gridcell']");else if(a=s.querySelector(this.options.columnSelector(n)),!a){if(this.hasNavigableVirtualColumns())return;var c=s.querySelector("["+h+"]");parseInt(c.attributes[""+h].value)>n&&(a=c)}if(a)if(this.hasNavigableVirtualColumns()){var u=this.hasEditRow(),p=this.isCellInFilterRow(e,n);if(r&&(u||p))this.focusEditable({rowIndex:e,columnIndex:n});else{var f=this.getKeyboardDirection(i);this.scrollIntoView(a,f),this.focusElement(a)}}else this.focusElement(a)}}},{key:"focusElement",value:function(t){t instanceof HTMLElement&&t!==document.activeElement&&t.focus()}},{key:"selectElement",value:function(t){t instanceof HTMLElement&&(0,c.isFunction)(t.select)&&t.select()}},{key:"selectAndFocusElement",value:function(t){t!==document.activeElement&&(this.selectElement(t),this.focusElement(t))}},{key:"focusEditable",value:function(t){var e=this,n=t.rowIndex,r=t.columnIndex;clearTimeout(this.selectAndFocusTimeout),setTimeout(function(){var t=e.getCell(n,r),o=(0,l.findEditable)(t,!1);if((0,c.isHtmlElement)(o)&&o.tabIndex<0){var i=(0,l.findFocusable)(t,!1);o=i||t}e.scrollIntoView(t),e.options.columnVirtualization?e.selectAndFocusTimeout=setTimeout(function(){e.selectAndFocusElement(o)},2*e.options.virtualScrollDelay):e.selectAndFocusElement(o)},1)}},{key:"focusFirstFocusable",value:function(t){var e=this,n=t.rowIndex,r=t.columnIndex;setTimeout(function(){e.focusCellChild(n,r,l.findFocusable)},1)}},{key:"focusCellChild",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.findFocusable,r=this.getCell(t,e),o=r?n(r,!1):null;this.focusElement(o)}},{key:"getRow",value:function(t){var e=this.element.parentElement.closest(".k-grid");if(e&&e!==this.element){var n=this.element.querySelector(this.options.rowSelector(t));return n}var r=Array.from(this.element.querySelectorAll(this.options.rowSelector(t))).filter(function(t){return null===t.closest(".k-detail-row")});return r[0]}},{key:"getCell",value:function(t,e){var n=this.getRow(t);if(n){var r=n.querySelector(this.options.columnSelector(e));return r}}},{key:"triggerRemoveFocus",value:function(){this.trigger("removeFocus")}},{key:"triggerBlur",value:function(t){this.trigger("blur",t)}},{key:"triggerIncellEditBlur",value:function(t){this.trigger("incellEditBlur",t)}},{key:"scrollIntoView",value:function(t,e){if(this.preventScrollIntoView)return void(this.preventScrollIntoView=!1);var n=t.closest((0,c.toAttrQuerySelector)(h)),r=n?n.closest(v):null;if(t&&n&&!(0,p.isLockedElement)(n)&&r){var o=this.getClosestOverlappingLockedCell(n),i=this.hasSpaceToScrollIntoView(n),s=(0,u.isWholeElementInView)(n,this.getContentElement());o&&i?(s||this.scrollElementIntoView(n),this.scrollToLockedCell(o,n,e)):!this.hasLockedColumns()||s||i?o||!i?this.scrollToCell(n):this.scrollElementIntoView(t):this.scrollToCell(n)}}},{key:"scrollToCell",value:function(t){var e=this.getContentElement(),n=(0,u.findPreviousSiblings)(t,function(t){return!(0,p.isLockedElement)(t)}),r=this.getTotalCellsWidth(n);r!==e.scrollLeft&&(this.preventScrollIntoView=!0,e.scrollLeft=r)}},{key:"scrollToLockedCell",value:function(t,e,n){var r=this.getContentElement(),o=this.getIntersectionOffset(e,t,n);0!==o&&(this.preventScrollIntoView=!0,r.scrollLeft+=o)}},{key:"scrollElementIntoView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{horizontalAlign:y,verticalAlign:y};t&&t.scrollIntoView&&t.scrollIntoView({inline:e.horizontalAlign||y,block:e.verticalAlign||y})}},{key:"scrollAndFocusFirstCell",value:function(t){this.scrollAndFocusCell({scrollLeft:0,rowIndex:t.rowIndex,columnIndex:t.columnIndex})}},{key:"scrollAndFocusLastCell",value:function(t){var e=this.getContentElement(),n=(0,u.getMaxScrollLeft)(e);this.scrollAndFocusCell({scrollLeft:n,rowIndex:t.rowIndex,columnIndex:t.columnIndex})}},{key:"scrollAndFocusCell",value:function(t){var e=this,n=t.scrollLeft,r=t.rowIndex,o=t.columnIndex,i=this.getContentElement();i.scrollLeft=n,setTimeout(function(){e.focusCell({rowIndex:r,columnIndex:o})},2*this.options.virtualScrollDelay)}},{key:"getHeaderElement",value:function(){return this.element.querySelector((0,l.toClassSelector)(this.options.headerClass))}},{key:"getContentElement",value:function(){return this.element.querySelector((0,l.toClassSelector)(this.options.contentClass))}},{key:"hasEditRow",value:function t(){var e=this.getContentElement(),t=e&&e.querySelector((0,l.toClassSelector)(this.options.editRowClass));return t}},{key:"isCellInFilterRow",value:function(t,e){var n=this.getHeaderElement(),r=n?n.querySelector((0,l.toClassSelector)(this.options.filterRowClass)):null;if(!(0,c.hasValue)(r))return!1;var o=(0,c.parseAttrToInt)(f,r);if(o===t){var i=m(r.querySelectorAll("th["+h+"]"));return(0,c.hasValue)(i[e])}return!1}},{key:"hasLockedColumns",value:function(){var t=this.getHeaderElement();return t&&t.querySelector((0,l.toClassSelector)(this.options.lockedHeaderClass))}},{key:"hasNavigableVirtualColumns",value:function(){return this.options.navigable&&this.options.columnVirtualization}},{key:"hasSpaceToScrollIntoView",value:function(t){var e=(0,u.getSiblings)(t),n=e.filter(p.isLockedElement),r=this.getContentElement(),o=this.getTotalCellsWidth(n),i=t.getBoundingClientRect().width,s=o+i<r.clientWidth;return s}},{key:"getTotalCellsWidth",value:function(t){var e=t.reduce(function(t,e){var n=e.getBoundingClientRect().width;return t+n},0);return e}},{key:"getClosestOverlappingLockedCell",value:function(t){if(!this.hasLockedColumns())return null;var e=(0,u.findPreviousSiblings)(t),n=(0,u.findNextSiblings)(t),r=e.concat(n),o=r.filter(p.isLockedElement),i=null,s=!0,a=!1,c=void 0;try{for(var h,f=o[Symbol.iterator]();!(s=(h=f.next()).done);s=!0){var d=h.value;if((0,l.areElementsOverlapping)(t,d)){i=d;break}}}catch(t){a=!0,c=t}finally{try{!s&&f.return&&f.return()}finally{if(a)throw c}}return i}},{key:"getKeyboardDirection",value:function(t){if(!t)return null;var e=t.key;return e===l.Key.ARROWRIGHT||e===l.Key.END?b:e===l.Key.ARROWLEFT||e===l.Key.HOME?w:null}},{key:"getIntersectionOffset",value:function(t,e,n){if(!(0,u.haveSameParent)(t,e))return 0;var r=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.left<=r.left&&o.right<=r.right,s=r.left<=o.left&&r.right<=o.right,a=o.left<r.left&&o.right>r.right,l=r.left<o.left&&r.right>o.right,c=r.left===o.left&&r.right===o.right,p=(0,u.getIntersectionRect)(t,e),h=p.width,f=r.width,d=o.width,v=0;return c?n===w?v=-1*h:n===b&&(v=h):i?v=-1*h:s?v=-1*(f-h+d):a?v=o.right-r.right+f:l&&(v=-1*(o.right-r.left)),v}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isLockedElement=void 0;var r=n(9);e.isLockedElement=function(t){var e=(0,r.hasAnyClass)(["k-grid-content-sticky","k-grid-header-sticky","k-grid-footer-sticky"],t);return e}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.RowDraggable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(6),u=n(22),p=n(23),h=n(26),f={forbidden:"k-i-cancel",before:"k-i-insert-middle",after:"k-i-insert-middle",over:"k-i-plus"},d={forbidden:"forbidden",before:"before",after:"after",over:"over"};e.RowDraggable=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={componentSelector:"",group:"",filter:"",dropClueTargetSelector:"",dropClueEmptySelector:"",itemSelector:"",dropClueTemplate:'<div class="k-drop-hint k-drop-hint-h" style="position: absolute; z-index: 10000;">\n                               <div class="k-drop-hint-start"></div>\n                               <div class="k-drop-hint-line"></div>\n                           </div>',hint:null,allowDropOver:!0,offsetDropClue:!1,events:{itemDragStart:null,itemDrop:null}},i.onDragStart=function(t){var e=i.getItem(t.originalCurrentTarget);return e.closest(i.options.componentSelector)!==i.element?void(i.dragging=!1):(i.dragging=!0,i.trigger("itemDragStart",(0,c.extend)(t,{sourceItem:e})),void i.createDropClue())},i.onDrag=function(t){if(i.dragging){i.lastDropPosition=i.getDropPosition(t),i.updateDragClueState(i.draggable.hint);var e=i.getElementUnderCursor(t),n=e&&e.closest(i.options.dropClueTargetSelector);i.updateDropClueState(n)}},i.onDragEnd=function(t){if(i.dragging&&(i.destroyDropClue(),i.lastDropPosition!==d.forbidden)){var e=i.getItem(t.originalCurrentTarget),n=i.getElementUnderCursor(t),r=i.getItem(n);e&&e!==r&&i.trigger("itemDrop",(0,c.extend)(t,{sourceItem:e,destinationItem:r,destinationElement:n,dropPosition:i.lastDropPosition}))}},i.extendOptions(n),i.createDraggable(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.draggable&&this.draggable.destroy(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"createDraggable",value:function(){var t=this;if(this.element){var e=this.options.hint;this.draggable=new p.Draggable(this.element,(0,c.deepExtend)(this.options,{offset:function(t){var e=t.getBoundingClientRect();return{x:e.width/2+10,y:e.height/2+10}},hint:function n(r){var n=e(r);return t.updateDragClueState(n),n},events:{dragStart:this.onDragStart,drag:this.onDrag,dragEnd:this.onDragEnd}}))}}},{key:"getItem",value:function(t){return t.closest(this.options.itemSelector)}},{key:"createDropClue",value:function(){this.dropClue||(this.dropClue=new h.DropClue({template:this.options.dropClueTemplate}))}},{key:"destroyDropClue",value:function(){this.dropClue&&(this.dropClue.destroy(),this.dropClue=null)}},{key:"getDropPosition",value:function(t){var e=this.getElementUnderCursor(t),n=e&&e.closest(this.options.dropClueTargetSelector);if(this.options.dropClueEmptySelector&&e&&e.closest(this.options.dropClueEmptySelector))return d.over;if(!n||n===t.originalCurrentTarget.closest(this.options.dropClueTargetSelector))return d.forbidden;var r=n.getBoundingClientRect(),o=this.options.allowDropOver?4:2,i=r.height/o,s=t.clientY,a=r.top;return s<a+i?d.before:s>=a+r.height-i?d.after:d.over}},{key:"updateDragClueState",value:function(t){if(t){var e=t.querySelector(".k-icon");(0,l.removeClass)(this.dropStatusClass,e),this.dropStatusClass=f[this.lastDropPosition],(0,l.addClass)(this.dropStatusClass,e)}}},{key:"updateDropClueState",value:function(t){if(this.shouldHideDropClue()||!t)return void this.dropClue.hide();this.dropClue.show();var e=(0,u.getOffset)(t),n=e.top,r=e.left;this.lastDropPosition===d.after&&(n+=t.offsetHeight),this.options.offsetDropClue||(r+=this.dropClue.element.offsetWidth/2),this.dropClue.setPosition({top:n,left:r})}},{key:"shouldHideDropClue",value:function(){return this.lastDropPosition===d.over||this.lastDropPosition===d.forbidden}},{key:"getElementUnderCursor",value:function(t){
var e=void 0;return this.dropClue&&this.dropClue.hide(),e=document.elementFromPoint(t.clientX,t.clientY),this.dropClue&&this.dropClue.show(),e}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toClassSelector=e.getOffset=e.preventDefault=e.sortByInitializationIndex=e.sortByNavigationId=e.getLeafElements=e.getLeafChildColumns=e.getChildColumns=e.getParentColumnInitializationIndex=e.getColumnInitializationIndex=e.getColumnHasChildren=e.getColumnLevel=e.getElementFromPoint=e.last=e.byColumnInitializationIndex=void 0;var r=n(4),o="col-initialization-index",i="parent-col-initialization-index",s="cell-navigation-id",a=(e.byColumnInitializationIndex=function(t){var e=(0,r.toAttrValueQuerySelector)((0,r.toDataAttr)(o),t);return e},e.last=function(t){if(t.length)return t[t.length-1]},e.getElementFromPoint=function(t){var e=t.clientX,n=t.clientY;if((0,r.isDefined)(e)&&(0,r.isDefined)(n))return document.elementFromPoint(e,n)},e.getColumnLevel=function(t){var e=(0,r.parseAttrToInt)((0,r.toDataAttr)("level"),t);return e>=0?e:1},e.getColumnHasChildren=function(t){var e=(t.getAttribute((0,r.toDataAttr)("has-children"))||"").toLowerCase();return e===(!0).toString()},e.getColumnInitializationIndex=function(t){var e=c(t,(0,r.toDataAttr)(o));return e}),l=e.getParentColumnInitializationIndex=function(t){var e=c(t,(0,r.toDataAttr)(i));return e},c=function(t,e){if(!t)return[].indexOf(t);var n=(0,r.parseAttrToInt)(e,t);return n},u=e.getChildColumns=function t(e,n){for(var r=a(e),o=p(n),i=[],s=0;s<n.length;s++){var c=n[s],u=l(c),h=a(c),f=o.indexOf(c);if(u===r){i.push({parentIndex:u,index:h,leafIndex:f,element:c});var d=t(c,n);i=i.concat(d)}}return i},p=(e.getLeafChildColumns=function(t,e){var n=u(t,e),r=n.filter(function(t){return n.every(function(e){return!h(t.element,e.element)})});return r},e.getLeafElements=function(t){var e=t.filter(function(e){return t.every(function(t){return!h(e,t)})});return e}),h=(e.sortByNavigationId=function(t,e){var n=(0,r.parseAttrToInt)((0,r.toDataAttr)(s),t),o=(0,r.parseAttrToInt)((0,r.toDataAttr)(s),e);return n>o?1:n<o?-1:0},e.sortByInitializationIndex=function(t,e){var n=a(t),r=a(e);return n>r?1:n<r?-1:0},function(t,e){var n=a(t),r=l(e);return n===r}),f=(e.preventDefault=function(t){t.preventDefault&&t.preventDefault(),t.originalEvent&&t.originalEvent.preventDefault()},function(t){return t.ownerDocument.documentElement}),d=function(t){return t.ownerDocument.defaultView};e.getOffset=function(t){var e=f(t),n=e.clientTop,r=e.clientLeft,o=d(t),i=o.pageYOffset,s=o.pageXOffset,a=t.getBoundingClientRect(),l=a.top,c=a.left;return{top:l+i-n,left:c+s-r}},e.toClassSelector=function(t){return"."+t}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Draggable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(24),c=n(25),u=n(22),p=n(4),h=function(t,e){return!!(e&&t&&t.closest(e))};e.Draggable=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={events:{dragStart:null,drag:null,dragEnd:null,dropTargetEnter:null},offset:{x:0,y:0},filter:null,ignore:"",hint:null,group:null,ignoreElementUnderCursor:function(){return!1}},i.onPress=function(t){return i.dragStarted=!1,h(t.originalEvent.target,i.options.ignore)?void(i.originalCurrentTarget=null):void(h(t.originalEvent.target,i.options.filter)?((0,u.preventDefault)(t),i.originalCurrentTarget=t.originalEvent.target.closest(i.options.filter),i.dragStarted=!0,i.triggerDragStart(t)):i.originalCurrentTarget=null)},i.onDrag=function(t){var e=(0,p.extend)(t,{originalCurrentTarget:i.originalCurrentTarget});if(i.originalCurrentTarget&&((0,u.preventDefault)(e),i.dragStarted)){i.processDropTargetIntersection(e);var n=i.triggerDrag((0,p.extend)(e,{dropTarget:i.getLastDropTarget()}));if(!n){!i.hint&&i.options.hint&&(i.createHint(i.originalCurrentTarget),i.appendHint());var r=i.getOffset();i.dragHint({top:e.pageY+r.y,left:e.pageX+r.x}),i.triggerDropTargetDragOver(e)}}},i.onRelease=function(t){i.originalCurrentTarget&&((0,u.preventDefault)(t),i.processDropTargetDrop(t),i.destroyHint(),i.triggerDragEnd(t))},i.extendOptions(n),i.initDraggableEvents(t),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyDraggableEvents(),this.destroyHint(),this.lastDropTargetId=null,this.originalCurrentTarget=null,a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"initDraggableEvents",value:function(){this.destroyDraggableEvents(),this.draggableEvents=new l.Draggable({press:this.onPress,drag:this.onDrag,release:this.onRelease}),this.draggableEvents.bindTo(this.element)}},{key:"destroyDraggableEvents",value:function(){this.draggableEvents&&this.draggableEvents.destroy&&this.draggableEvents.destroy()}},{key:"triggerDragStart",value:function(t){this.trigger("dragStart",t)}},{key:"triggerDrag",value:function(t){return this.trigger("drag",t)}},{key:"triggerDragEnd",value:function(t){this.trigger("dragEnd",t)}},{key:"trigger",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"trigger",this).call(this,t,(0,p.extend)(n,{originalCurrentTarget:this.originalCurrentTarget,elementUnderCursor:this.getElementUnderCursor(n)}))}},{key:"triggerDropTargetDragEnter",value:function(t,e){t&&(t.triggerDragEnter((0,p.extend)(e,{draggable:this})),this.triggerDropTargetEnter((0,p.extend)(e,{dropTarget:t})))}},{key:"triggerDropTargetEnter",value:function(t){this.trigger("dropTargetEnter",t)}},{key:"triggerDropTargetDragLeave",value:function(t,e){t&&(t.triggerDragLeave((0,p.extend)(e,{draggable:this})),this.triggerDropTargetLeave((0,p.extend)(e,{dropTarget:t})))}},{key:"triggerDropTargetLeave",value:function(t){this.trigger("dropTargetLeave",(0,p.extend)(t,{dropTarget:this.dropTarget}))}},{key:"triggerDropTargetDragOver",value:function(t){if(this.lastDropTargetId){var e=(0,p.getComponentInstance)(this.lastDropTargetId);if(!e)return;e.triggerDragOver((0,p.extend)(t,{draggable:this})),this.triggerDropTargetOver((0,p.extend)(t,{dropTarget:e}))}}},{key:"triggerDropTargetOver",value:function(t){this.trigger("dropTargetOver",t)}},{key:"triggerDropTargetDrop",value:function(t,e){var n=(0,p.extend)(e,{elementUnderCursor:this.getElementUnderCursor(e)});t&&(t.allowsDropFrom(this,n)&&t.triggerDrop((0,p.extend)(n,{draggable:this})),this.triggerDrop((0,p.extend)(n,{dropTarget:t})))}},{key:"triggerDrop",value:function(t){this.trigger("drop",t)}},{key:"processDropTargetIntersection",value:function(t){var e=this,n=this.getElementUnderCursor(t),r=!1;this.forEachDropTarget(function(o){var i=o.element.contains(n),s=(0,p.getComponentInstance)(e.lastDropTargetId);r=r||i,i&&e.lastDropTargetId!==o.options.id&&(e.triggerDropTargetDragLeave(s,t),e.lastDropTargetId=o.options.id,e.triggerDropTargetDragEnter(o,t))}),r||(this.triggerDropTargetDragLeave(this.getLastDropTarget(),t),this.lastDropTargetId=null)}},{key:"processDropTargetDrop",value:function(t){var e=this;this.forEachDropTarget(function(n){var r=e.getElementUnderCursor(t);n.element.contains(r)&&(e.lastDropTargetId=null,e.triggerDropTargetDrop(n,t))})}},{key:"getOffset",value:function(){return(0,p.isFunction)(this.options.offset)?this.options.offset(this.hint):this.options.offset}},{key:"createHint",value:function(t){this.hint=(0,p.isFunction)(this.options.hint)?this.options.hint(t):this.options.hint}},{key:"destroyHint",value:function(){this.hint&&(this.removeHint(),this.hint=null)}},{key:"showHint",value:function(){(0,p.showElement)(this.hint)}},{key:"hideHint",value:function(){(0,p.hideElement)(this.hint)}},{key:"appendHint",value:function(){document.body.appendChild(this.hint)}},{key:"removeHint",value:function(){document.body.removeChild(this.hint)}},{key:"dragHint",value:function(t){var e=t.top,n=t.left;this.setHintState({top:e,left:n})}},{key:"setHintState",value:function(t){var e=t.top,n=t.left;this.hint&&this.setHintPosition({top:e,left:n})}},{key:"setHintPosition",value:function(t){var e=t.top,n=void 0===e?0:e,r=t.left,o=void 0===r?0:r,i=this.hint.getBoundingClientRect(),s=i.width,a=i.height,l=n-a/2,c=o-s/2;this.hint.style.top=l+"px",this.hint.style.left=c+"px"}},{key:"getElementUnderCursor",value:function(t){var e=(0,u.getElementFromPoint)(t);if(this.hint&&this.hint.contains(e)){if(this.hideHint(),e=(0,u.getElementFromPoint)(t),this.options.ignoreElementUnderCursor(e)){var n=e;(0,p.hideElement)(n);var r=(0,u.getElementFromPoint)(t);r&&(e=r),(0,p.showElement)(n)}this.showHint()}return e}},{key:"forEachDropTarget",value:function(t){c.DropTarget.forEachInstanceInGroup(this.options.group,t)}},{key:"getLastDropTarget",value:function(){return(0,p.getComponentInstance)(this.lastDropTargetId)}}]),e}(p.Component)},function(t,e){"use strict";function n(t){return t.type.match(l)?{pageX:t.changedTouches[0].pageX,pageY:t.changedTouches[0].pageY,clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,type:t.type,originalEvent:t,isTouch:!0}:{pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY,offsetX:t.offsetX,offsetY:t.offsetY,type:t.type,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,originalEvent:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){return function(n){return e(t(n))}},o=function(t,e,n){return t.addEventListener&&t.addEventListener(e,n)},i=function(t,e,n){return t&&t.removeEventListener&&t.removeEventListener(e,n)},s=function(){},a=function(t){return t.preventDefault()},l=/touch/,c=2e3,u=function(t){var e=this,l=t.press;void 0===l&&(l=s);var u=t.drag;void 0===u&&(u=s);var p=t.release;void 0===p&&(p=s);var h=t.mouseOnly;void 0===h&&(h=!1),this._pressHandler=r(n,l),this._dragHandler=r(n,u),this._releaseHandler=r(n,p),this._ignoreMouse=!1,this._mouseOnly=h,this._touchstart=function(t){1===t.touches.length&&e._pressHandler(t)},this._touchmove=function(t){1===t.touches.length&&e._dragHandler(t)},this._touchend=function(t){0===t.touches.length&&1===t.changedTouches.length&&(e._releaseHandler(t),e._ignoreMouse=!0,setTimeout(e._restoreMouse,c))},this._restoreMouse=function(){e._ignoreMouse=!1},this._mousedown=function(t){var n=t.which;n&&n>1||e._ignoreMouse||(o(document,"mousemove",e._mousemove),o(document,"mouseup",e._mouseup),e._pressHandler(t))},this._mousemove=function(t){e._dragHandler(t)},this._mouseup=function(t){i(document,"mousemove",e._mousemove),i(document,"mouseup",e._mouseup),e._releaseHandler(t)},this._pointerdown=function(t){t.isPrimary&&0===t.button&&(o(document,"pointermove",e._pointermove),o(document,"pointerup",e._pointerup),o(document,"pointercancel",e._pointerup),o(document,"contextmenu",a),e._pressHandler(t))},this._pointermove=function(t){t.isPrimary&&e._dragHandler(t)},this._pointerup=function(t){t.isPrimary&&(i(document,"pointermove",e._pointermove),i(document,"pointerup",e._pointerup),i(document,"pointercancel",e._pointerup),i(document,"contextmenu",a),e._releaseHandler(t))}};u.supportPointerEvent=function(){return"undefined"!=typeof window&&window.PointerEvent},u.prototype.bindTo=function(t){t!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=t,this._bindToCurrent())},u.prototype._bindToCurrent=function(){var t=this._element;return this._usePointers()?void o(t,"pointerdown",this._pointerdown):(o(t,"mousedown",this._mousedown),void(this._mouseOnly||(o(t,"touchstart",this._touchstart),o(t,"touchmove",this._touchmove),o(t,"touchend",this._touchend))))},u.prototype._unbindFromCurrent=function(){var t=this._element;return this._usePointers()?(i(t,"pointerdown",this._pointerdown),i(document,"pointermove",this._pointermove),i(document,"pointerup",this._pointerup),i(document,"contextmenu",a),void i(document,"pointercancel",this._pointerup)):(i(t,"mousedown",this._mousedown),void(this._mouseOnly||(i(t,"touchstart",this._touchstart),i(t,"touchmove",this._touchmove),i(t,"touchend",this._touchend))))},u.prototype._usePointers=function(){return!this._mouseOnly&&u.supportPointerEvent()},u.prototype.destroy=function(){this._unbindFromCurrent(),this._element=null},u.default=u,e.Draggable=u,e.default=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DropTarget=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=e.DropTarget=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={id:(0,l.guid)(),group:null,itemSelector:"",allowsDragFrom:function(){return!0},allowsDropFrom:function(){return!0},events:{dragEnter:null,dragLeave:null,dragOver:null,drop:null}},i.extendOptions(n),(0,l.setComponentInstance)(i.options.id,i),e.InstancesByGroup[i.options.group]||(e.InstancesByGroup[i.options.group]=new Set),e.InstancesByGroup[i.options.group].add(i),i}return i(e,t),s(e,[{key:"destroy",value:function(){e.InstancesByGroup[this.options.group]&&e.InstancesByGroup[this.options.group].delete(this),(0,l.removeComponentInstance)(this.options.id),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"triggerDragEnter",value:function(t){this.trigger("dragEnter",t)}},{key:"triggerDragLeave",value:function(t){this.trigger("dragLeave",t)}},{key:"triggerDragOver",value:function(t){this.trigger("dragOver",t)}},{key:"triggerDrop",value:function(t){this.trigger("drop",t)}},{key:"allowsDragFrom",value:function t(e,n){var t=e&&e.options.group===this.options.group&&this.options.allowsDragFrom(e,n);return t}},{key:"allowsDropFrom",value:function t(e,n){var t=e&&e.options.group===this.options.group&&this.options.allowsDropFrom(e,n);return t}}]),e}(l.Component);c.InstancesByGroup={},c.forEachInstanceInGroup=function(t,e){var n=c.InstancesByGroup[t]||new Set,r=!0,o=!1,i=void 0;try{for(var s,a=n[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var l=s.value;l&&l instanceof c&&e(l)}}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.DropClue=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(22),s=n(4);e.DropClue=function(){function t(e){r(this,t),this.options={appendTo:document.body,template:function(){var t=(0,s.stringifyToStyle)({position:"absolute","z-index":1e4});return'<div class="k-grouping-dropclue" style="'+t+'" />'}()},this.extendOptions(e),this.initElement(),this.append()}return o(t,[{key:"destroy",value:function(){this.remove()}},{key:"extendOptions",value:function(t){this.options=(0,s.extend)(this.options,t)}},{key:"initElement",value:function(){this.element=(0,s.convertToHtml)(this.options.template)}},{key:"append",value:function(){this.hide(),this.options.appendTo.appendChild(this.element)}},{key:"remove",value:function(){this.options.appendTo.removeChild(this.element),this.element=null}},{key:"show",value:function(){(0,s.showElement)(this.element)}},{key:"hide",value:function(){(0,s.hideElement)(this.element)}},{key:"setState",value:function(t){var e=t.top,n=t.left,r=t.height,o=t.visible;this.setPosition({top:e,left:n}),this.setVisibility(o),this.setSize({height:r})}},{key:"setSize",value:function(t){var e=t.height;this.element.style.height=e+"px"}},{key:"getSize",value:function(){var t=this.element.style.display,e=this.element.style.visibility;this.element.style.visibility="hidden",this.element.style.display="block";var n=this.element.offsetWidth,r=this.element.offsetHeight;return this.element.style.display=t,this.element.style.visibility=e,{width:n,height:r}}},{key:"setVisibility",value:function(t){t?this.show():this.hide()}},{key:"setPosition",value:function(t){var e=t.top,n=void 0===e?0:e,r=t.left,o=void 0===r?0:r;this.element.style.top=n+"px",this.element.style.left=o+"px"}},{key:"getOffsetState",value:function(t,e){var n=(0,i.getOffset)(t),r=t.offsetWidth,o=t.offsetHeight;return{top:n.top,left:n.left+(e?r:0),height:o}}}]),t}()},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.ComponentLoaderContainer,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initComponentLoaderContainer=r;var o=n(28),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentLoaderContainer=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(4),l=n(9);e.ComponentLoaderContainer=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i._loaderIntervals=[],i}return i(e,t),s(e,[{key:"startLoaderShowTimer",value:function(){var t=this;this._loaderIntervals.push(setTimeout(function(){return t.showLoader()},600))}},{key:"showLoader",value:function(){(0,l.showElement)(this.element)}},{key:"hideLoader",value:function(){clearTimeout(this._loaderIntervals.shift()),this._loaderIntervals.length||(0,l.hideElement)(this.element)}}]),e}(a.Component)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollSync=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},c=n(5),u=n(6),p=n(30),h=n(9),f="scroll",d="scrollLeft",v="scrollTop",y="horizontal",g="vertical";e.ScrollSync=function(t){function e(t,n){o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.options={horizontal:!0,vertical:!0,minScrollDelta:1,syncFromConnections:!1,connections:[]},r.onScroll=function(t){var e=t.currentTarget,n=r.options.syncFromConnections?r.scrollableElements:r.connections;n.filter(function(t){return t!==e}).forEach(function(t){r.syncScroll(e,t,{orientation:y}),r.syncScroll(e,t,{orientation:g})})},r.extendOptions(n),r.connections=r.options.connections.filter(u.isHtmlElement),r.scrollableElements=r.getScrollableElements(),r.bindEvents(),r}return s(e,t),a(e,[{key:"destroy",value:function(){this.unbindEvents(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){var t=this;this.forEachScrollableElement(function(e){e.addEventListener(f,t.onScroll)})}},{key:"unbindEvents",value:function(){var t=this;this.forEachScrollableElement(function(e){e.removeEventListener(f,t.onScroll)})}},{key:"syncScroll",value:function(t,e,n){var r=n.orientation,o=void 0===r?y:r,i=o===y?d:v,s=i===d?"dataScrollLeft":"dataScrollTop",a=t[i],l=t[s]||0,c=e[i],u=e[s],p=l!==a||u!==a,f=(0,h.getMaxScrollLeft)(this.element)>0;if(this.options[o]&&p&&f){var g=Math.abs(l-a),m=Math.abs(c-a),b=this.options.minScrollDelta,w=10*b;(g>=b||m>=w)&&(e[s]=a,e[i]=a)}}},{key:"getScrollableElements",value:function(){var t=[];return this.options.syncFromConnections&&(t=this.connections),[this.element].concat(r(t))}},{key:"forEachScrollableElement",value:function(t){this.forEachElement(this.scrollableElements,t)}},{key:"forEachConnection",value:function(t){this.forEachElement(this.connections,t)}},{key:"forEachElement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];t.forEach(function(t){(0,u.isHtmlElement)(t)&&(0,p.isFunction)(e)&&e(t)})}}]),e}(c.Component)},function(t,e,n){(function(t,r){function o(t,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&e._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),l(r,t,r.depth)}function i(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function l(t,n,r){if(t.customInspect&&n&&O(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return b(o)||(o=l(t,o,r)),o}var i=c(t,n);if(i)return i;var s=Object.keys(n),v=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),C(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(n);if(0===s.length){if(O(n)){var y=n.name?": "+n.name:"";return t.stylize("[Function"+y+"]","special")}if(x(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return t.stylize(Date.prototype.toString.call(n),"date");if(C(n))return u(n)}var g="",m=!1,w=["{","}"];if(d(n)&&(m=!0,w=["[","]"]),O(n)){var _=n.name?": "+n.name:"";g=" [Function"+_+"]"}if(x(n)&&(g=" "+RegExp.prototype.toString.call(n)),S(n)&&(g=" "+Date.prototype.toUTCString.call(n)),C(n)&&(g=" "+u(n)),0===s.length&&(!m||0==n.length))return w[0]+g+w[1];if(r<0)return x(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var k;return k=m?p(t,n,r,v,s):s.map(function(e){return h(t,n,r,v,e,m)}),t.seen.pop(),f(k,g,w)}function c(t,e){if(_(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function u(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,o){for(var i=[],s=0,a=e.length;s<a;++s)A(e,String(s))?i.push(h(t,e,n,r,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(h(t,e,n,r,o,!0))}),i}function h(t,e,n,r,o,i){var s,a,c;if(c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},c.get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),A(r,o)||(s="["+o+"]"),a||(t.seen.indexOf(c.value)<0?(a=y(n)?l(t,c.value,null):l(t,c.value,n-1),a.indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),_(s)){if(i&&o.match(/^\d+$/))return a;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function f(t,e,n){var r=0,o=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function y(t){return null===t}function g(t){return null==t}function m(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function _(t){return void 0===t}function x(t){return k(t)&&"[object RegExp]"===T(t)}function k(t){return"object"==typeof t&&null!==t}function S(t){return k(t)&&"[object Date]"===T(t)}function C(t){return k(t)&&("[object Error]"===T(t)||t instanceof Error)}function O(t){return"function"==typeof t}function E(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function T(t){return Object.prototype.toString.call(t)}function M(t){return t<10?"0"+t.toString(10):t.toString(10)}function P(){var t=new Date,e=[M(t.getHours()),M(t.getMinutes()),M(t.getSeconds())].join(":");return[t.getDate(),I[t.getMonth()],e].join(" ")}function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var D=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,i=r.length,s=String(t).replace(D,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),a=r[n];n<i;a=r[++n])s+=y(a)||!k(a)?" "+a:" "+o(a);return s},e.deprecate=function(n,o){function i(){if(!s){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),s=!0}return n.apply(this,arguments)}if(_(t.process))return function(){return e.deprecate(n,o).apply(this,arguments)};if(r.noDeprecation===!0)return n;var s=!1;return i};var j,R={};e.debuglog=function(t){if(_(j)&&(j=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!R[t])if(new RegExp("\\b"+t+"\\b","i").test(j)){var n=r.pid;R[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else R[t]=function(){};return R[t]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=v,e.isNull=y,e.isNullOrUndefined=g,e.isNumber=m,e.isString=b,e.isSymbol=w,e.isUndefined=_,e.isRegExp=x,e.isObject=k,e.isDate=S,e.isError=C,e.isFunction=O,e.isPrimitive=E,e.isBuffer=n(32);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",P(),e.format.apply(e,arguments))},e.inherits=n(33),e._extend=function(t,e){if(!e||!k(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(31))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function i(t){if(p===clearTimeout)return clearTimeout(t);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function s(){v&&f&&(v=!1,f.length?d=f.concat(d):y=-1,d.length&&a())}function a(){if(!v){var t=o(s);v=!0;for(var e=d.length;e;){for(f=d,d=[];++y<e;)f&&f[y].run();y=-1,e=d.length}f=null,v=!1,i(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var u,p,h=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(t){p=r}}();var f,d=[],v=!1,y=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new l(t,e)),1!==d.length||v||o(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(35);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(52);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{
value:!0});var r=n(36);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e,n){(0,i.initOrUpdateDataVizComponent)({id:t,widgetOptions:e,componentOptions:n,services:{themeService:new o.ThemeService,intlService:o.IntlService},componentConstructor:s.Barcode})}Object.defineProperty(e,"__esModule",{value:!0}),e.initOrUpdateBarcode=r;var o=n(37),i=n(48),s=n(51)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(38);Object.defineProperty(e,"IntlService",{enumerable:!0,get:function(){return r.IntlService}});var o=n(40);Object.defineProperty(e,"TemplateService",{enumerable:!0,get:function(){return o.TemplateService}});var i=n(42);Object.defineProperty(e,"ThemeService",{enumerable:!0,get:function(){return i.ThemeService}})},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.IntlService=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(39),a=r(s),l=n(4),c=function(){function t(){o(this,t)}return i(t,null,[{key:"setLocale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,l.deepExtend)({},a.localeInfo("en"),t);a.setData(e),this.localeId=t.name}},{key:"format",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return a.format(t,n,this.localeId)}},{key:"toString",value:function(t,e,n){var r=new RegExp("^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$"),o=t;return r.test(t)&&(o=new Date(t)),a.toString(o,e,this.localeId||n)}},{key:"parseDate",value:function(t,e,n){return a.parseDate(t,e,this.localeId||n)}}]),t}();e.IntlService=c},function(t,e){"use strict";function n(t){return"string"==typeof t}function r(t,e){var n=t.split("-"),r=n[0],o=n[1],i=n[2];return pe[t]||e.indexOf(i)!==-1&&pe[r+"-"+i]||e.indexOf(o)!==-1&&pe[r+"-"+o]||pe[r]}function o(t,e){for(var n=pe.supplemental.likelySubtags,r=0;r<e.length;r++){var o=n[t+"-"+e[r]];if(o)return o}if(n[t])return n[t]}function i(t){var e;return e=n(t)?s(t):t}function s(t){if(pe[t])return pe[t];var e=pe.supplemental.likelySubtags;if(e){var n=t.split("-"),i=n[0],s=n.slice(1),a=o(i,s),l=a?r(a,s):null;if(l)return l}throw ue.NoLocale.error(t)}function a(t){return Ee.lastIndex=0,t.replace(Te,ge).replace(Ee,be).split(we)}function l(t){Ee.lastIndex=0;var e=Ee.exec(t.split(we)[0])[0].split(xe),n=e[0],r=n.split(_e).slice(1).map(function(t){return t.length}).reverse();return r}function c(t,e){for(var n in e)n.startsWith("unitPattern")&&(t[n]=e[n].replace("{0}",be).replace("{1}",ge))}function u(t,e){var n=pe[t],r=n.numbers=n.numbers||{};r.symbols=r.symbols||{};for(var o in e)if(o===Oe)Object.assign(r.symbols,e[o]);else if(o.includes(Ce)){var i=o.substr(0,o.indexOf(Ce)),s=e[o].standard;r[i]={patterns:a(s)},i===fe?(r[i].groupSize=l((e[he+Ce]||e[o]).standard),c(r[i],e[o]),r[de]={patterns:a(e[o][de]),groupSize:r[i].groupSize}):r[i].groupSize=l(s)}else"currencies"===o&&(r.currencies=e[o])}function p(t){for(var e=[],n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=t[n[r]];e.push(o)}return e}function h(t,e){var n={};for(var r in t){var o=n[r]={};for(var i in t[r]){var s=t[r][i];o[i]=e?s:p(s)}}return n}function f(t){var e={},n=e.format={},r={eraAbbr:"abbreviated",eraNames:"wide",eraNarrow:"narrow"};for(var o in t){var i=r[o];n[i]=t[o]}return e}function d(t,e){var n=pe[t].calendar;n.days=h(e.days),n.months=h(e.months),n.quarters=h(e.quarters),n.dayPeriods=h(e.dayPeriods,!0),n.eras=f(e.eras)}function v(t,e){var n=pe[t].calendar,r={};for(var o in e){var i=o.split("-"),s=i[0],a=i[1];void 0===a&&(a="wide");var l=r[s]||{},c=e[o].displayName;c&&(l[a]=c,r[s]=l)}n.dateFields=r}function y(t,e){for(var n=[],r=0;r<t.length;r++){for(var o=t[r],i=e,s=0;s<o.length;s++)i=i[o[s]];n.push(i)}return n.join(" ")}function g(t,e){var n=pe[t].calendar,r=n.patterns={};r.d=y(Ae,e).replace(Pe,"y");for(var o in De)r[o]=y(De[o],e);for(var i in Me)r[i]=Me[i];var s=e.dateTimeFormats;n.dateTimeFormats={full:s.full,long:s.long,medium:s.medium,short:s.short,availableFormats:s.availableFormats},n.timeFormats=e.timeFormats,n.dateFormats=e.dateFormats}function m(t,e){var n=pe[t].calendar=pe[t].calendar||{};for(var r in e)"timeZoneNames"===r?(n.gmtFormat=e[r].gmtFormat,n.gmtZeroFormat=e[r].gmtZeroFormat):"calendars"===r&&e[r].gregorian?(g(t,e[r].gregorian),d(t,e[r].gregorian)):"fields"===r&&v(t,e.fields)}function b(t,e){var n=pe.supplemental.likelySubtags,r=t.split("-");if(n){var o=n[t]||n[r[0]];o&&(r=o.split("-"))}if(e)for(var i=r.length-1;i>=1;i--){var s=r[i];s!==e.variant&&s!==e.script||r.splice(i,1)}var a=r.length;if(a>1){var l=r[a-1];return l.toUpperCase()}}function w(t){if(t.territory)return t.territory;var e,n=t.name,r=t.identity;return e=r&&r.territory?r.territory:b(n,r),t.territory=e,e}function _(t,e){for(var n in e)"numbers"===n?u(t,e[n]):"dates"===n&&m(t,e[n])}function x(){for(var t=arguments,e=arguments.length,n=0;n<e;n++){var r=t[n];if(r.main){var o=Object.keys(r.main)[0],i=r.main[o],s=pe[o]=pe[o]||{};s.name=s.name||o,s.identity=s.identity||i.identity,w(s),_(o,i)}else r.supplemental&&(r.supplemental.weekData?pe.supplemental.weekData={firstDay:r.supplemental.weekData.firstDay,weekendStart:r.supplemental.weekData.weekendStart,weekendEnd:r.supplemental.weekData.weekendEnd}:Object.assign(pe.supplemental,r.supplemental))}}function k(t){var e=t.name,n=pe[e]=pe[e]||{};if(t.likelySubtags){var r=pe.supplemental=pe.supplemental||{};r.likelySubtags=Object.assign(r.likelySubtags||{},t.likelySubtags)}var o=n.numbers;Object.assign(n,t),o&&t.numbers&&(n.numbers=Object.assign({},o,t.numbers))}function S(t,e){void 0===e&&(e=Se);var n=s(e),r=n.calendar.dateFields;if(!r)throw ue.NoDateFieldNames.error();var o=r[t.type]||{};return o[t.nameType]||o.wide}function C(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toLowerCase());return e}function O(t){var e={};for(var n in t)e[n]=t[n].toLowerCase();return e}function E(t){var e=Array.isArray(t)?C(t):O(t);return e}function T(t,e){var n=e.type,r=e.nameType,o=e.standAlone,s=e.lower,a=i(t),l=o?"stand-alone":"format",c=(s?"lower-":ke)+r,u=a.calendar[n][l],p=u[c];return!p&&s&&(p=u[c]=E(u[r])),p}function M(t){var e=t.split("-"),n=parseInt(e[0],10),r=parseInt(e[1],10)-1,o=parseInt(e[2],10);return new Date(n,r,o)}function P(t,e,n){var r=i(t),o=r.numbers.currencies;if(o){var s=o[e];if(s)return s;if(n)throw Re.error()}else if(n)throw je.error()}function A(t,e){return e.length-t.length}function D(t){for(var e,n,r,o,i=0;i<t.length;i++){var s=t[i],a=Object.keys(s)[0],l=s[a];if(a!==Ne&&"false"!==l._tender&&l._from)if(l._to){if(!r){var c=M(l._from),u=M(l._to);(!n||n.to<u||n.from<c)&&(e=a,n={from:c,to:u})}}else{var p=M(l._from);(!o||o<p)&&(r=a,o=p)}}return r||e}function j(t,e,n){void 0===n&&(n=!0);var r=P(t,e,n);if(r){if(!r.displays){var o=[e];for(var i in r)o.push(r[i]);o.sort(A),r.displays=o}return r.displays}}function R(t,e){var n=e.value,r=e.currency,o=e.currencyDisplay;if(void 0===o&&(o=Be),"code"===o)return r;var i,s=P(t,r,!0);return i=o===Be?s["symbol-alt-narrow"]||s[Be]:void 0===typeof n||1!==n?s["displayName-count-other"]:s["displayName-count-one"]}function I(t){var e=Fe,n=Fe,r=((pe.supplemental.currencyData||{}).fractions||{})[t];return r&&r._digits&&(n=e=parseInt(r._digits,10)),{minimumFractionDigits:e,maximumFractionDigits:n}}function L(t,e){if(void 0===e&&(e=!0),Ve[t])return Ve[t];var n=pe.supplemental.currencyData;if(n){var r=n.region[t];if(r){var o=D(r);return o}if(e)throw Le.error(t)}else if(e)throw Ie.error()}function z(t,e){var n=i(t),r=n.numbers;if(!r.localeCurrency){var o=L(w(n),e);if(!o&&e)throw ze.error(n.name);r.localeCurrency=o}return r.localeCurrency}function F(t){var e=i(t);if(!isNaN(e.firstDay))return e.firstDay;var n=pe.supplemental.weekData;if(!n)throw Ue.error();var r=n.firstDay[w(e)]||n.firstDay[We];if(!r)throw Ke.error();return e.firstDay=He.indexOf(r),e.firstDay}function B(t){var e=i(t);if(e.weekendRange)return e.weekendRange;var n=pe.supplemental.weekData;if(!n)throw qe.error();var r=w(e),o=n.weekendStart[r]||n.weekendStart[We],s=n.weekendEnd[r]||n.weekendEnd[We];return e.weekendRange={start:He.indexOf(o),end:He.indexOf(s)},e.weekendRange}function N(t){var e=i(t);return e.numbers.symbols}function V(t,e){void 0===e&&(e={}),e.currency||(e.currency=z(t,!0));var n=R(t,e);return n}function H(t,e,n,r,o){var i=o.numbers.symbols,s=t.indexOf(i.decimal),a=r.groupSize.slice(),l=a.shift(),c=s!==-1?s:n+1,u=t.substring(e,c),p=t,h=u.length;if(h>=l){for(var f=h,d=[];f>-1;){var v=u.substring(f-l,f);v&&d.push(v),f-=l;var y=a.shift();if(l=void 0!==y?y:l,0===l){v=u.substring(0,f),v&&d.push(v);break}}u=d.reverse().join(i.group),p=t.substring(0,e)+u+t.substring(c)}return p}function W(t){return t===fe||t===de}function U(t,e,n){void 0===e&&(e=2),void 0===n&&(n=!1);var r=e-String(t).length,o=t;if(r>0){var i=new Array(r+1).join("0");o=n?t+i:i+t}return o}function K(t,e){var n=t,r=e||0;return n=n.toString().split("e"),n=Math.round(Number(n[0]+"e"+(n[1]?Number(n[1])+r:r))),n=n.toString().split("e"),n=Number(n[0]+"e"+(n[1]?Number(n[1])-r:-r)),n.toFixed(Math.min(r,Ge))}function q(t){var e,n=t.minimumFractionDigits,r=t.maximumFractionDigits,o=t.style,i=W(o);return i&&(e=I(t.currency)),void 0===n&&(n=i?e.minimumFractionDigits:0),void 0===r&&(r=o===ve?Math.max(n,Ye):i?Math.max(n,e.maximumFractionDigits):Math.max(n,$e)),{minimumFractionDigits:n,maximumFractionDigits:r}}function G(t,e,n){for(var r=ke,o=0,i=e.length;o<i;o++){var s=e.charAt(o);r+=s===be?t:s===ge||s===me?n:s}return r}function $(t,e){var n=t.numbers.currency,r=1!==e?n["unitPattern-count-other"]:n["unitPattern-count-one"];return e<0&&(r=r.replace(be,"-"+be)),r}function Y(t,e,n){var r=n.numbers.symbols,o=e.style,i=W(o);if(o===ye){var s=void 0!==e.minimumFractionDigits?t.toExponential(e.minimumFractionDigits):t.toExponential();return s.replace(xe,r.decimal)}var a,l=t;i&&(e.value=l,a=V(n,e)),o===ve&&(l*=100,a=r.percentSign);var c=q(e),u=c.minimumFractionDigits,p=c.maximumFractionDigits;l=K(l,p);var h=l<0,f=l.split(xe),d=f[0],v=U(f[1]?f[1].replace(Xe,ke):ke,u,!0);h&&(d=d.substring(1)),e.minimumIntegerDigits&&(d=U(d,e.minimumIntegerDigits));var y=e.useGrouping!==!1?H(d,0,d.length,e,n):d;v&&(y+=r.decimal+v);var g;if(i&&"name"===e.currencyDisplay)g=$(n,t);else{var m=e.patterns;g=h?m[1]||"-"+m[0]:m[0]}if(g===be&&!h)return y;var b=G(y,g,a);return b}function X(t){var e=t.format;if(e.indexOf("'")>-1||e.indexOf('"')>-1||e.indexOf("\\")>-1){var n=t.literals=[];t.format=e.replace(tn,function(t){var e=t.charAt(0).replace("\\",ke),r=t.slice(1).replace(e,ke);return n.push(r),Ze})}}function Z(t,e){var n;return n=0===e?en:new RegExp("(\\.[0-9]{"+e+"}[1-9]*)0+$","g"),t.replace(n,"$1").replace(nn,ke)}function J(t){var e=t.number,n=t.format,r=n.indexOf(xe);if(r!==-1){var o=n.lastIndexOf(Qe)-r,i=n.lastIndexOf(Je)-r,s=o>-1,a=i>-1,l=e.toString().split("e");l=l[1]?K(e,Math.abs(l[1])):l[0],l=l.split(xe)[1]||ke;var c=l.length,u=-1;s||a?s&&o>i?c=o:i>o&&(a&&c>i?c=i:s&&c<o&&(c=o),u=s?o:0):(t.format=n.substring(0,r)+n.substring(r+1),r=-1,c=0),c>-1&&(e=K(e,c),u>-1&&(e=Z(e,u)))}else e=K(e);t.negative&&e*-1>=0&&(t.negative=!1),t.number=e,t.decimalIndex=r}function Q(t){return t.indexOf(Je)===-1&&t.indexOf(Qe)===-1}function tt(t){var e=t.number,n=t.format;if(n=n.split(we),t.negative&&n[1])n=n[1],t.hasNegativeFormat=!0;else if(0===e){var r=n[2];n=r||n[0],r&&Q(r)&&(t.constant=r)}else n=n[0];t.format=n}function et(t,e){var n=t.format;n.indexOf(me)!==-1&&(t.style=ve,t.symbol=e.numbers.symbols.percentSign,t.number*=100),n.indexOf(ge)!==-1&&(t.style=fe,t.symbol=V(e))}function nt(t){t.hasGroup=t.format.indexOf(_e)>-1,t.hasGroup&&(t.format=t.format.replace(rn,ke))}function rt(t,e,n){var r;return r=t===-1&&e!==-1?e:t!==-1&&e===-1?t:n?Math.min(t,e):Math.max(t,e)}function ot(t){var e=t.format,n=e.indexOf(Je),r=e.indexOf(Qe),o=rt(n,r,!0);n=e.lastIndexOf(Je),r=e.lastIndexOf(Qe);var i=rt(n,r);o===e.length&&(i=o),t.start=o,t.end=i,t.lastZeroIndex=r}function it(t,e,n){var r=t;if(e===fe||e===ve){r=ke;for(var o=0,i=t.length;o<i;o++){var s=t.charAt(o);r+=s===ge||s===me?n:s}}return r}function st(t,e){var n=t;if(e)for(var r=e.length,o=0;o<r;o++)n=n.replace(Ze,e[o]);return n}function at(t,e){var n=t.start,r=t.end,o=t.negative,i=t.format,s=t.decimalIndex,a=t.lastZeroIndex,l=t.hasNegativeFormat,c=t.hasGroup,u=t.number,p=u.toString().split(xe),h=i.length,f=p[0],d=p[1]||ke,v=f.length,y=ke;u=i.substring(0,n),o&&!l&&(u+="-");for(var g=n;g<h;g++){var m=i.charAt(g);if(s===-1){if(r-g<v){u+=f;break}}else if(a!==-1&&a<g&&(y=ke),s-g<=v&&s-g>-1&&(u+=f,g=s),s===g){u+=(d?e.numbers.symbols.decimal:ke)+d,g+=r-s+1;continue}m===Qe?(u+=m,y=m):m===Je&&(u+=y)}return c&&(u=H(u,n+(o&&!l?1:0),Math.max(r,v+n),e.numbers.decimal,e)),r>=n&&(u+=i.substring(r+1)),u}function lt(t,e){var n=t.number;return t.start!==-1&&(n=at(t,e),n=it(n,t.style,t.symbol),n=st(n,t.literals)),n}function ct(t,e,n){var r={negative:t<0,number:Math.abs(t),format:e};return tt(r),r.constant?r.constant:(X(r),et(r,n),nt(r),J(r),ot(r),lt(r,n))}function ut(t){var e=on.exec(t);if(e){var n={style:he},r=e[1].toLowerCase();return"c"===r?n.style=fe:"a"===r?n.style=de:"p"===r?n.style=ve:"e"===r&&(n.style=ye),e[2]&&(n.minimumFractionDigits=n.maximumFractionDigits=parseInt(e[2],10)),n}}function pt(t){var e;return e=n(t)?ut(t):t}function ht(t,e,n){if(void 0===e&&(e=be),void 0===n&&(n=Se),void 0===t||null===t)return ke;if(!isFinite(t))return String(t);var r,o=s(n),i=pt(e);if(i){var a=i.style||he;r=Y(t,Object.assign({},o.numbers[a],i),o)}else r=ct(t,e,o);return r}function ft(t){return"number"==typeof t}function dt(t,e){if(e.length>1){var n=(e[1]||ke).replace(ge,ke).split(be);if(t.indexOf(n[0])>-1&&t.indexOf(n[1])>-1)return t.replace(n[0],ke).replace(n[1],ke)}}function vt(t,e,n){var r,o=pt(n)||{},i=W(o.style),s=t,a=o.currency||z(e,i);if(a){var l=j(e,a,i);if(l)for(var c=0;c<l.length;c++){var u=l[c];if(s.includes(u)){s=s.replace(u,ke),i=!0;break}}if(i){var p=dt(s,e.numbers.currency.patterns)||dt(s,e.numbers.accounting.patterns);p&&(r=!0,s=p)}}return{number:s,negative:r}}function yt(t,e,n){if(void 0===e&&(e=Se),void 0===n&&(n={}),!t&&0!==t)return null;if(ft(t))return t;var r,o=s(e),i=o.numbers.symbols,a=t.toString();if(sn.test(a))return a=parseFloat(a.replace(i.decimal,xe)),isNaN(a)?null:a;var l=a.indexOf("-");if(l>0)return null;var c=l>-1,u=vt(a,o,n),p=u.negative,h=u.number;return a=h,c=void 0!==p?p:c,(n.style===ve||a.indexOf(i.percentSign)>-1)&&(a=a.replace(i.percentSign,ke),r=!0),a=a.replace("-",ke).replace(an," ").split(i.group.replace(an," ")).join(ke).replace(i.decimal,xe),a=parseFloat(a),isNaN(a)?a=null:c&&(a*=-1),a&&r&&(a/=100),a}function gt(t){var e=arguments;return t.replace(ln,function(t,n){var r=e[parseInt(n,10)+1];return r})}function mt(t){return t.hour12?"h":"H"}function bt(t){return _n[t]||(_n[t]=new RegExp(t+"+")),_n[t]}function wt(t){for(var e=[],n=t.charAt(0),r=n,o=1;o<t.length;o++){var i=t.charAt(o);i===r?n+=i:(e.push(n),n=r=i)}return e.push(n),e}function _t(t,e){var n,r,o=t.length,i=-Number.MAX_VALUE;for(var s in e){for(var a=[],l=s.replace("v","z"),c=0,u=0;u<o;u++){var p=t[u],h=bt(p[0]),f=(h.exec(l)||[])[0];if(f){if(l=l.replace(f,ke),f.length!==p.length){var d=Math.max(Math.min(pn[f.length]-pn[p.length],2),-2);c-=yn[d]}}else c-=cn;if(a.push(f),c<i)break}l.length&&(c-=wt(l).length*un),c>i&&(i=c,n=a,r=e[s])}r=r.replace("v","z");for(var v=0;v<o;v++){var y=n[v];if(y&&y!==t[v]){var g=n[v][0];r=r.replace(bt(g),t[v]),wn[g]&&(r=r.replace(bt(wn[g]),t[v]))}}return r}function xt(t,e,n){xn[n]||(xn[n]={}),xn[n][t]=e}function kt(t,e){var n=e.calendar.dateTimeFormats.availableFormats;if(n[t])return n[t];if(xn[e.name]&&xn[e.name][t])return xn[e.name][t];var r,o=t.search(mn);if(o>0){var i=t.substr(0,o),s=t.substr(o);r=gt(e.calendar.dateTimeFormats.short,n[s]||_t(wt(s),n),n[i]||_t(wt(i),n))}else r=_t(wt(t),n);return xt(t,r,e.name),r}function St(t){for(var e=[],n=0;n<bn.length;n++){var r=bn[n],o=r.key,i=t[o];if(i){var s=r.specifier||r.getSpecifier(t);e.push(s.repeat(gn[i]))}}return e.join(ke)}function Ct(t,e){var r,o=e.calendar;if(n(t))r=o.patterns[t]?o.patterns[t]:t;else if(t){if(t.pattern)return t.pattern;var i=t.skeleton;i||(t.datetime?r=gt(o.dateTimeFormats[t.datetime],o.timeFormats[t.datetime],o.dateFormats[t.datetime]):t.date?r=o.dateFormats[t.date]:t.time?r=o.timeFormats[t.time]:i=St(t)),i&&(r=kt(i,e))}return r||(r=o.patterns.d),r}function Ot(t){var e;return t<=3?e="abbreviated":4===t?e="wide":5===t?e="narrow":6===t&&(e="short"),e}function Et(t,e,n,r,o){return T(t,{type:e,nameType:Ot(n),standAlone:r,lower:o})}function Tt(t){return"function"==typeof t}function Mt(t){return Boolean(t)&&Tt(t.getTime)&&Tt(t.getMonth)}function Pt(t,e,n){var r,o=F(n);return r=t<o?7-o+t:t-o,r+1}function At(t,e,n,r){return e<=2?U(t+1,e):Et(n,"months",e,r)[t]}function Dt(t,e,n,r){var o=Math.floor(t.getMonth()/3);return e<3?o+1:Et(n,"quarters",e,r)[o]}function jt(t,e,n){var r=n.shortHours,o=n.optionalMinutes,i=n.separator,s=n.localizedName,a=n.zZeroOffset,l=t.getTimezoneOffset()/60;if(0===l&&a)return"Z";var c=l<=0?"+":"-",u=Math.abs(l).toString().split("."),p=u[1]||0,h=c+(r?u[0]:U(u[0],2));if(!p&&o||(h+=(i?":":ke)+U(p,2)),s){var f=0===l?e.calendar.gmtZeroFormat:e.calendar.gmtFormat;h=gt(f,h)}return h}function Rt(t,e,n,r){var o;return o=e<3?Pt(t.getDay(),e,n):Et(n,"days",e,r)[t.getDay()]}function It(t,e,n){if(void 0===n&&(n=Se),!Mt(t))return void 0===t||null===t?ke:t;var r=s(n),o=Ct(e,r);return o.replace(Mn,function(e){var n,o=e.length;return n=e.includes("'")||e.includes('"')?e.slice(1,o-1):Pn[e[0]](t,o,r)})}function Lt(t,e,n){var r=t.getTimezoneOffset(),o=new Date(t.getTime()+6e4*(e-n)),i=o.getTimezoneOffset();return new Date(o.getTime()+6e4*(i-r))}function zt(t,e){e||23!==t.getHours()||t.setHours(t.getHours()+2)}function Ft(t,e,n){return!(t>=e&&t<=n)}function Bt(t,e){for(var n=e.format,r=e.idx,o=0;n[r]===t;)o++,r++;return o>0&&(r-=1),e.idx=r,o}function Nt(t,e){var n=t?Rn[t]||new RegExp("^\\d{1,"+t+"}"):In,r=e.value.substr(e.valueIdx,t).match(n);return r?(r=r[0],e.valueIdx+=r.length,parseInt(r,10)):null}function Vt(t,e,n){for(var r,o,i,s=0,a=t.length,l=0,c=0;s<a;s++)r=t[s],o=r.length,i=e.value.substr(e.valueIdx,o),n&&(i=i.toLowerCase()),i===r&&o>l&&(l=o,c=s);return l?(e.valueIdx+=l,c+1):null}function Ht(t){var e=!1;return t.value.charAt(t.valueIdx)===t.format[t.idx]&&(t.valueIdx++,e=!0),e}function Wt(t){var e=t.gmtFormat,n=t.gmtZeroFormat;if(!e)throw ue.NoGMTInfo.error();return[e.replace(Ln,ke).toLowerCase(),n.replace(Ln,ke).toLowerCase()]}function Ut(t,e,n){var r=n.shortHours,o=n.noSeparator,i=n.optionalMinutes,s=n.localizedName,a=n.zLiteral;if(t.UTC=!0,a&&"Z"===t.value.charAt(t.valueIdx))return t.valueIdx++,!1;if(s&&!Vt(Wt(e.calendar),t,!0))return!0;var l=An.exec(t.value.substr(t.valueIdx,6));if(!l)return!s;var c=l[1],u=l[3],p=parseInt(c,10),h=l[2],f=parseInt(u,10);return!!(isNaN(p)||!r&&3!==c.length||!i&&isNaN(f)||o&&h)||(isNaN(f)&&(f=null),!!(Ft(p,-12,13)||f&&Ft(f,0,59))||(t.valueIdx+=l[0].length,t.hoursOffset=p,void(t.minutesOffset=f)))}function Kt(t,e,n){var r=Bt(t,e),o=Et(n,"months",r,"L"===t,!0),i=r<3?Nt(2,e):Vt(o,e,!0);return!(null!==i&&!Ft(i,1,12))||void(e.month=i-1)}function qt(t,e,n){var r=Bt(t,e),o=Et(n,"days",r,"c"===t,!0),i=r<3?Nt(1,e):Vt(o,e,!0);if(!i&&0!==i||Ft(i,1,7))return!0}function Gt(t){var e,n=t.year,r=t.month,o=t.day,i=t.hours,s=t.minutes,a=t.seconds,l=t.milliseconds,c=t.pmHour,u=t.UTC,p=t.hoursOffset,h=t.minutesOffset,f=null!==i||null!==s||a||null,d=new Date;return null===n&&null===r&&null===o&&f?(n=d.getFullYear(),r=d.getMonth(),o=d.getDate()):(null===n&&(n=d.getFullYear()),null===o&&(o=1)),c&&i<12&&(i+=12),u?(p&&(i+=-p),h&&(s+=-h*(p<0?-1:1)),e=new Date(Date.UTC(n,r,o,i,s,a,l))):(e=new Date(n,r,o,i,s,a,l),zt(e,i)),n<100&&e.setFullYear(n),e.getDate()!==o&&void 0===u?null:e}function $t(t,e,n){for(var r=Ct(e,n).split(ke),o={format:r,idx:0,value:t,valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},i=r.length,s=!1;o.idx<i;o.idx++){var a=r[o.idx];if(s)"'"===a&&(s=!1),Ht(o);else if(Nn[a]){var l=Nn[a](o,n);if(l)return null}else if("'"===a)s=!0,Ht(o);else if(!Ht(o))return null}return o.valueIdx<t.length?null:Gt(o)||null}function Yt(t){var e="-"===t.substr(0,1)?-1:1,n=t.substring(1);return n=60*parseInt(n.substr(0,2),10)+parseInt(n.substring(2),10),e*n}function Xt(t){if(t&&0===t.indexOf("/D")){var e=Dn.exec(t);if(e){e=e[1];var n=jn.exec(e.substring(1));return e=new Date(parseInt(e,10)),n&&(n=Yt(n[0]),e=Lt(e,e.getTimezoneOffset(),0),e=Lt(e,0,-1*n)),e}}}function Zt(t){for(var e=[],n=t.patterns,r=Fn.length,o=0;o<r;o++)e.push(n[Fn[o]]);return e.concat(zn)}function Jt(t,e,n){if(void 0===n&&(n=Se),!t)return null;if(Mt(t))return t;var r=String(t).trim(),o=Xt(r);if(o)return o;var i=s(n),a=e||Zt(i.calendar);a=Array.isArray(a)?a:[a];for(var l=a.length,c=0;c<l;c++)if(o=$t(r,a[c],i))return o;return o}function Qt(t,e){var n=t[t.length-1];n&&n.type===Hn?n.pattern+=e:t.push({type:Hn,pattern:e})}function te(t){return"h"===t||"K"===t}function ee(t,e){void 0===e&&(e=Se);for(var n=s(e),r=Ct(t,n),o=[],i=Mn.lastIndex=0,a=Mn.exec(r);a;){var l=a[0];if(i<a.index&&Qt(o,r.substring(i,a.index)),l.startsWith('"')||l.startsWith("'"))Qt(o,l);else{var c=l[0],u=Tn[c],p={type:u,pattern:l};"hour"===u&&(p.hour12=te(l));var h=Vn[u];if(h){var f=ft(h.minLength)?h.minLength:h.minLength[c],d=l.length;d>=f&&(p.names={type:h.type,nameType:Ot(d),standAlone:h.standAlone===c})}o.push(p)}i=Mn.lastIndex,a=Mn.exec(r)}return i<r.length&&Qt(o,r.substring(i)),o}function ne(t,e,n){if(e){if(Mt(t))return It(t,e,n);if(ft(t))return ht(t,e,n)}return void 0!==t&&null!==t?t:ke}function re(t,e,n){return t.replace(Wn,function(t,r,o){var i=e[parseInt(r,10)];return ne(i,o?o.substring(1):ke,n)})}Object.defineProperty(e,"__esModule",{value:!0});var oe={en:{name:"en",identity:{version:{_number:"$Revision: 12418 $",_cldrVersion:"29"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"",perMille:"",infinity:"",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"","symbol-alt-narrow":""},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},day:{wide:"day",short:"day",narrow:"day"},weekday:{wide:"day of the week"},dayperiod:{wide:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}},ie={NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."},se=/\{(\d+)}?\}/g,ae=function(t){var e=t.name,n=t.message;if(!e||!n)throw new Error("{ name: string, message: string } object is required!");this.name=e,this.message=n};ae.prototype.formatMessage=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=le(t),r=this.message.replace(se,function(t,e){return n[parseInt(e,10)]});return this.name+": "+r},ae.prototype.error=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new Error(this.formatMessage(t))};var le=function(t){return t.reduce(function(t,e){return t.concat(e)},[])},ce=function(t){var e=function(e,n){return e[n]=new ae({name:n,message:t[n]}),e};return Object.keys(t).reduce(e,{})},ue=ce(ie),pe=oe,he="decimal",fe="currency",de="accounting",ve="percent",ye="scientific",ge="$",me="%",be="n",we=";",_e=",",xe=".",ke="",Se="en",Ce="Formats-numberSystem-latn",Oe="symbols-numberSystem-latn",Ee=/([#,0.]+)/g,Te=//g,Me={s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},Pe=/y+/g,Ae=[["dateFormats","short"]],De={D:[["dateFormats","full"]],m:[["dateTimeFormats","availableFormats","MMMd"]],M:[["dateTimeFormats","availableFormats","MMMMd"]],y:[["dateTimeFormats","availableFormats","yMMM"]],Y:[["dateTimeFormats","availableFormats","yMMMM"]],F:[["dateFormats","full"],["timeFormats","medium"]],g:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","short"]],G:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","medium"]],t:[["timeFormats","short"]],T:[["timeFormats","medium"]]},je=ue.NoCurrency,Re=ue.NoCurrencyDisplay,Ie=ue.NoSupplementalCurrency,Le=ue.NoCurrencyRegion,ze=ue.NoValidCurrency,Fe=2,Be="symbol",Ne="XXX",Ve={"001":"USD",150:"EUR"},He=["sun","mon","tue","wed","thu","fri","sat"],We="001",Ue=ue.NoWeekData,Ke=ue.NoFirstDay,qe=ue.NoWeekData,Ge=20,$e=3,Ye=0,Xe=/0+$/,Ze="__??__",Je="#",Qe="0",tn=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,en=/(\.(?:[0-9]*[1-9])?)0+$/g,nn=/\.$/,rn=/\,/g,on=/^(n|c|p|e|a)(\d*)$/i,sn=/[eE][\-+]?[0-9]+/,an=/\u00A0/g,ln=/\{(\d+)}/g,cn=120,un=20,pn=[2,1,5,3,4],hn=-2,fn=-1,dn=1,vn=2,yn={};yn[hn.toString()]=8,yn[fn.toString()]=6,yn[vn.toString()]=6,yn[dn.toString()]=3;var gn={numeric:1,"2-digit":2,short:3,long:4,narrow:5},mn=/[hHmsSzZoOvVxX]/,bn=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:mt},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],wn={e:"c",E:"c",M:"L",Q:"q"},_n={},xn={},kn="month",Sn="hour",Cn="zone",On="weekday",En="quarter",Tn={G:"era",y:"year",q:En,Q:En,M:kn,L:kn,d:"day",E:On,c:On,e:On,h:Sn,H:Sn,k:Sn,K:Sn,m:"minute",s:"second",a:"dayperiod",x:Cn,X:Cn,z:Cn,Z:Cn},Mn=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g,Pn={};Pn.d=function(t,e){return U(t.getDate(),e);
},Pn.E=function(t,e,n){return Et(n,"days",e)[t.getDay()]},Pn.M=function(t,e,n){return At(t.getMonth(),e,n,!1)},Pn.L=function(t,e,n){return At(t.getMonth(),e,n,!0)},Pn.y=function(t,e){var n=t.getFullYear();return 2===e&&(n%=100),U(n,e)},Pn.h=function(t,e){var n=t.getHours()%12||12;return U(n,e)},Pn.H=function(t,e){return U(t.getHours(),e)},Pn.k=function(t,e){return U(t.getHours()||24,e)},Pn.K=function(t,e){return U(t.getHours()%12,e)},Pn.m=function(t,e){return U(t.getMinutes(),e)},Pn.s=function(t,e){return U(t.getSeconds(),e)},Pn.S=function(t,e){var n,r=t.getMilliseconds();return n=0!==r?String(t.getMilliseconds()/1e3).split(".")[1].substr(0,e):U(ke,e)},Pn.a=function(t,e,n){return Et(n,"dayPeriods",e)[t.getHours()<12?"am":"pm"]},Pn.z=function(t,e,n){return jt(t,n,{shortHours:e<4,optionalMinutes:e<4,separator:!0,localizedName:!0})},Pn.Z=function(t,e,n){return jt(t,n,{separator:e>3,localizedName:4===e,zZeroOffset:5===e})},Pn.x=function(t,e,n){return jt(t,n,{optionalMinutes:1===e,separator:3===e||5===e})},Pn.X=function(t,e,n){return jt(t,n,{optionalMinutes:1===e,separator:3===e||5===e,zZeroOffset:!0})},Pn.G=function(t,e,n){var r=t.getFullYear()>=0?1:0;return Et(n,"eras",e)[r]},Pn.e=Rt,Pn.c=function(t,e,n){return Rt(t,e,n,!0)},Pn.q=function(t,e,n){return Dt(t,e,n,!0)},Pn.Q=Dt;var An=/([+|\-]\d{1,2})(:?)(\d{2})?/,Dn=/^\/Date\((.*?)\)\/$/,jn=/[+-]\d*/,Rn={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},In=/\d+/,Ln="{0}",zn=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],Fn=["G","g","F","Y","y","M","m","D","d","y","T","t"],Bn=2029,Nn={};Nn.d=function(t){Bt("d",t);var e=Nt(2,t);return!(null!==e&&!Ft(e,1,31))||void(null===t.day&&(t.day=e))},Nn.E=function(t,e){var n=Bt("E",t),r=Vt(Et(e,"days",n,!1,!0),t,!0);if(null===r)return!0},Nn.M=function(t,e){return Kt("M",t,e)},Nn.L=function(t,e){return Kt("L",t,e)},Nn.y=function(t){var e=Bt("y",t),n=Nt(1===e?void 0:e,t);if(null===n)return!0;if(2===e){var r=(new Date).getFullYear();n=r-r%100+n,n>Bn&&(n-=100)}t.year=n},Nn.h=function(t){Bt("h",t);var e=Nt(2,t);return 12===e&&(e=0),!(null!==e&&!Ft(e,0,11))||void(t.hours=e)},Nn.K=function(t){Bt("K",t);var e=Nt(2,t);return!(null!==e&&!Ft(e,0,11))||void(t.hours=e)},Nn.a=function(t,e){var n=Bt("a",t),r=Et(e,"dayPeriods",n,!1,!0),o=Vt([r.pm],t,!0);return!o&&!Vt([r.am],t,!0)||void(t.pmHour=o)},Nn.H=function(t){Bt("H",t);var e=Nt(2,t);return!(null!==e&&!Ft(e,0,23))||void(t.hours=e)},Nn.k=function(t){Bt("k",t);var e=Nt(2,t);return!(null!==e&&!Ft(e,1,24))||void(t.hours=24===e?0:e)},Nn.m=function(t){Bt("m",t);var e=Nt(2,t);return!(null!==e&&!Ft(e,0,59))||void(t.minutes=e)},Nn.s=function(t){Bt("s",t);var e=Nt(2,t);return!(null!==e&&!Ft(e,0,59))||void(t.seconds=e)},Nn.S=function(t){var e=Bt("S",t),n=t.value.substr(t.valueIdx,e),r=null;return isNaN(parseInt(n,10))||(r=parseFloat("0."+n,10),r=K(r,3),r*=1e3,t.valueIdx+=e),!(null!==r&&!Ft(r,0,999))||void(t.milliseconds=r)},Nn.z=function(t,e){var n=Bt("z",t),r=n<4,o=Ut(t,e,{shortHours:r,optionalMinutes:r,localizedName:!0});if(o)return o},Nn.Z=function(t,e){var n=Bt("Z",t),r=Ut(t,e,{noSeparator:n<4,zLiteral:5===n,localizedName:4===n});if(r)return r},Nn.x=function(t,e){var n=Bt("x",t),r=Ut(t,e,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n});if(r)return r},Nn.X=function(t,e){var n=Bt("X",t),r=Ut(t,e,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n,zLiteral:!0});if(r)return r},Nn.G=function(t,e){var n=Bt("G",t),r=Et(e,"eras",n,!1,!0),o=Vt([r[0],r[1]],t,!0);if(null===o)return!0},Nn.e=function(t,e){return qt("e",t,e)},Nn.c=function(t,e){return qt("c",t,e)};var Vn={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},Hn="literal",Wn=/\{(\d+)(:[^\}]+)?\}/g;e.formatNumber=ht,e.parseNumber=yt,e.formatDate=It,e.parseDate=Jt,e.splitDateFormat=ee,e.load=x,e.setData=k,e.dateFieldName=S,e.dateFormatNames=T,e.cldr=pe,e.localeInfo=s,e.currencyDisplays=j,e.currencyDisplay=R,e.currencyFractionOptions=I,e.territoryCurrencyCode=L,e.localeCurrency=z,e.firstDay=F,e.weekendRange=B,e.numberSymbols=N,e.toString=ne,e.format=re,e.errors=ue,e.IntlError=ae,e.toIntlErrors=ce},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateService=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(41);e.TemplateService=function(){function t(){r(this,t)}return o(t,null,[{key:"compile",value:function(t){return i.Template.compile(t)}}]),t}()},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=/\$\{([^}]*)\}/g,i=/\\\}/g,s=/__CURLY__/g,a=/\\#/g,l=/__SHARP__/g,c=e.Template=function(){function t(){n(this,t)}return r(t,null,[{key:"htmlEncode",value:function(t){var e=/&/g,n=/</g,r=/"/g,o=/'/g,i=/>/g,s=String(t).replace(e,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(r,"&quot;").replace(o,"&#39;");return s}},{key:"render",value:function(t,e){var n=void 0,r=void 0,o="";for(n=0,r=e.length;n<r;n++)o+=t(e[n]);return o}},{key:"compile",value:function(e){var n="var $kendoOutput, $kendoHtmlEncode = htmlEncode;",r=void 0,c=void 0,u=t.options.paramName,p=t.options.useWithBlock;if("function"==typeof e)return e;for(n+=p?"with("+u+"){":"",n+="$kendoOutput=",r=e.replace(i,"__CURLY__").replace(o,"#=$kendoHtmlEncode($1)#").replace(s,"}").replace(a,"__SHARP__").split("#"),c=0;c<r.length;c++)n+=t.compilePart(r[c],c%2===0);n+=p?";}":";",n+="return $kendoOutput;",n=n.replace(l,"#");try{var h=new Function(u,"htmlEncode",n);return function(e){return h(e,t.htmlEncode)}}catch(t){throw new Error("Invalid template:'"+e+"' Generated code:'"+n+"'")}}},{key:"compilePart",value:function(t,e){if(e)return"'"+t.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var n=t.charAt(0),r=t.substring(1);return"="===n?"+("+r+")+":":"===n?"+$kendoHtmlEncode("+r+")+":";"+t+";$kendoOutput+="}}]),t}();c.options={useWithBlock:!0,paramName:"dataItem"}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeService=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(43),l=n(46),c=n(47),u=function(t){return t.fontSize+" "+t.fontFamily},p=function(t){return t.toLowerCase().charCodeAt(0)-"a".charCodeAt(0)},h=function(t){return p(t.match(/series-([a-z])$/)[1])},f='\n    <div class="k-var--accent"></div>\n    <div class="k-var--accent-contrast"></div>\n    <div class="k-var--base"></div>\n    <div class="k-var--background"></div>\n\n    <div class="k-var--normal-background"></div>\n    <div class="k-var--normal-text-color"></div>\n    <div class="k-var--hover-background"></div>\n    <div class="k-var--hover-text-color"></div>\n    <div class="k-var--selected-background"></div>\n    <div class="k-var--selected-text-color"></div>\n    <div class="k-var--chart-error-bars-background"></div>\n    <div class="k-var--chart-notes-background"></div>\n    <div class="k-var--chart-notes-border"></div>\n    <div class="k-var--chart-notes-lines"></div>\n    <div class="k-var--chart-crosshair-background"></div>\n\n    <div class="k-var--chart-inactive"></div>\n    <div class="k-var--chart-major-lines"></div>\n    <div class="k-var--chart-minor-lines"></div>\n    <div class="k-var--chart-area-opacity"></div>\n\n    <div>\n        <div class="k-var--chart-font"></div>\n        <div class="k-var--chart-title-font"></div>\n        <div class="k-var--chart-label-font"></div>\n    </div>\n\n    <div class="k-var--series">\n      <div class="k-var--series-a"></div>\n      <div class="k-var--series-b"></div>\n      <div class="k-var--series-c"></div>\n      <div class="k-var--series-d"></div>\n      <div class="k-var--series-e"></div>\n      <div class="k-var--series-f"></div>\n    </div>\n';e.ThemeService=function(t){function e(){var t,n,i,s;r(this,e);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=i=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),i.loaded=!1,i.element=null,s=n,o(i,s)}return i(e,t),s(e,[{key:"reset",value:function(){this.loaded=!1}},{key:"getThemeOptions",value:function(){return this.store}},{key:"loadTheme",value:function(){this.readTheme()||this.readDefaultTheme(),this.loaded=!0}},{key:"readTheme",value:function(){this.createElement();var t=this.queryColor("accent"),e=this.queryColor("accent-contrast");if(this.loaded&&this.currentAccentColor&&this.currentAccentColor===t)return!0;var n=t!==e;try{n&&(this.currentAccentColor=t,this.push((0,a.chartBaseTheme)()),this.setColors(),this.setFonts(),this.setSeriesColors())}finally{this.destroyElement()}return n}},{key:"readDefaultTheme",value:function(){this.push((0,l.chartDefaultTheme)())}},{key:"createElement",value:function(){var t=this.element=document.createElement("div");t.style.display="none",t.innerHTML=f,document.body.appendChild(t)}},{key:"destroyElement",value:function(){this.element&&(document.body.removeChild(this.element),this.element=void 0)}},{key:"setStyle",value:function(t,e){this.set(t,e)}},{key:"setColors",value:function(){this.mapColor("axisDefaults.crosshair.color","chart-crosshair-background"),this.mapColor("axisDefaults.labels.color","normal-text-color"),this.mapColor("axisDefaults.line.color","chart-major-lines"),this.mapColor("axisDefaults.majorGridLines.color","chart-major-lines"),this.mapColor("axisDefaults.minorGridLines.color","chart-minor-lines"),this.mapColor("axisDefaults.notes.icon.background","chart-notes-background"),this.mapColor("axisDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("axisDefaults.notes.line.color","chart-notes-lines"),this.mapColor("axisDefaults.title.color","normal-text-color"),this.mapColor("chartArea.background","background"),this.mapColor("legend.inactiveItems.labels.color","chart-inactive"),this.mapColor("legend.inactiveItems.markers.color","chart-inactive"),this.mapColor("legend.labels.color","normal-text-color"),this.mapColor("seriesDefaults.boxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.boxPlot.mean.color","base"),this.mapColor("seriesDefaults.boxPlot.median.color","base"),this.mapColor("seriesDefaults.boxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.bullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.candlestick.downColor","normal-text-color"),this.mapColor("seriesDefaults.candlestick.line.color","normal-text-color"),this.mapColor("seriesDefaults.errorBars.color","chart-error-bars-background"),this.mapColor("seriesDefaults.horizontalWaterfall.line.color","chart-major-lines"),this.mapColor("seriesDefaults.icon.border.color","chart-major-lines"),this.mapColor("seriesDefaults.labels.background","background"),this.mapColor("seriesDefaults.labels.color","normal-text-color"),this.mapColor("seriesDefaults.notes.icon.background","chart-notes-background"),this.mapColor("seriesDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("seriesDefaults.notes.line.color","chart-notes-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.mean.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.median.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.verticalBullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.waterfall.line.color","chart-major-lines"),this.mapColor("title.color","normal-text-color");var t=parseFloat(this.queryStyle("chart-area-opacity").opacity);isNaN(t)||(this.setStyle("seriesDefaults.area.opacity",t),this.setStyle("seriesDefaults.labels.opacity",t))}},{key:"setFonts",value:function(){var t=u(this.queryStyle("chart-font")),e=u(this.queryStyle("chart-title-font")),n=u(this.queryStyle("chart-label-font"));this.setStyle("axisDefaults.labels.font",n),this.setStyle("axisDefaults.notes.label.font",t),this.setStyle("axisDefaults.title.font",t),this.setStyle("legend.labels.font",t),this.setStyle("seriesDefaults.labels.font",n),this.setStyle("seriesDefaults.notes.label.font",t),this.setStyle("title.font",e)}},{key:"setSeriesColors",value:function(){var t=this.element,e=[].slice.call(t.querySelectorAll(".k-var--series div")),n=e.reduce(function(t,e){var n=h(e.className);return t[n]=window.getComputedStyle(e).backgroundColor,t},[]);this.setStyle("seriesColors",n)}},{key:"mapColor",value:function(t,e){this.setStyle(t,this.queryColor(e))}},{key:"queryColor",value:function(t){return this.queryStyle(t).backgroundColor}},{key:"queryStyle",value:function(t){var e=this.element;return window.getComputedStyle(e.querySelector(".k-var--"+t))}}]),e}(c.ConfigurationService)},function(t,e,n){"use strict";function r(t){return Array.isArray(t)}function o(t,e){for(var n=r(e)?e:[e],o=0;o<n.length;o++){var i=n[o];t.className.indexOf(i)===-1&&(t.className+=" "+i)}}function i(t,e){t&&t.className&&(t.className=t.className.replace(e,"").replace(Ir," "))}function s(t){var e=.5;t.options.stroke&&Yn.drawing.util.defined(t.options.stroke.width)&&t.options.stroke.width%2===0&&(e=0);for(var n=0;n<t.segments.length;n++)t.segments[n].anchor().round(0).translate(e,e);return t}function a(t,e){return-t.x*e.y+t.y*e.x<0}function l(t){return"number"==typeof t&&!isNaN(t)}function c(t){return typeof t===Or}function u(t){return l(t)||c(t)&&isFinite(t)}function p(t){return"function"==typeof t}function h(t,e){for(var n in e){var r=e[n],o=typeof r,i=void 0;if(i=o===Lr&&null!==r?r.constructor:null,i&&i!==Array)if(r instanceof Date)t[n]=new Date(r.getTime());else if(p(r.clone))t[n]=r.clone();else{var s=t[n];typeof s===Lr?t[n]=s||{}:t[n]={},h(t[n],r)}else o!==zr&&(t[n]=r)}return t}function f(t){for(var e=arguments,n=arguments.length,r=1;r<n;r++)h(t,e[r]);return t}function d(t){return"object"==typeof t}function v(t){return l(t)?t+"px":t}function y(t){return Fr.test(t)}function g(t,e){var n=c(e)?[e]:e;if(r(n)){for(var o={},i=window.getComputedStyle(t),s=0;s<n.length;s++){var a=n[s];o[a]=y(a)?parseFloat(i[a]):i[a]}return o}if(d(e))for(var l in e)t.style[l]=v(e[l])}function m(t,e){void 0===e&&(e=0);var n={top:0,right:0,bottom:0,left:0};return"number"==typeof t?n[Er]=n[kr]=n[Qn]=n[dr]=t:(n[Er]=t[Er]||e,n[kr]=t[kr]||e,n[Qn]=t[Qn]||e,n[dr]=t[dr]||e),n}function b(t){void 0===t&&(t={});var e;return t.template?t.template=e=Nr.compile(t.template):p(t.content)&&(e=t.content),e}function w(t){if(Hr[t])return Hr[t];var e=[];return t.replace(Vr,function(t,n,r,o){e.push(Yn.drawing.util.defined(n)?n:r||o)}),Hr[t]=function(t){for(var n=t,r=0;r<e.length&&n;r++)n=n[e[r]];return n},Hr[t]}function _(t,e){for(var n=t.length,r=[],o=0;o<n;o++)e(t[o])&&r.push(t[o]);return r}function x(t,e){if(t.className)for(var n=e.split(" "),r=0;r<n.length;r++)if(t.className.indexOf(n[r])!==-1)return!0}function k(t,e){if(e)return e.indexOf(t)!==-1}function S(t,e,n){return Yn.drawing.util.round(t+(e-t)*n,nr)}function C(t,e){for(var n=t.length,r=[],o=0;o<n;o++){var i=e(t[o]);Yn.drawing.util.defined(i)&&r.push(i)}return r}function O(t){var e=0;return t.wheelDelta?(e=-t.wheelDelta/120,qr.webkit&&(e/=2*Math.max(window.devicePixelRatio,.625))):t.detail&&(e=t.detail/3),e=e>0?Math.ceil(e):Math.floor(e)}function E(t,e){var n=t.prototype;n.options?n.options=f({},n.options,e):n.options=e}function T(t){for(var e=vr,n=yr,r=0,o=t.length;r<o;r++){var i=t[r];null!==i&&isFinite(i)&&(e=Math.min(e,i),n=Math.max(n,i))}return{min:e===vr?void 0:e,max:n===yr?void 0:n}}function M(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(e(r,n,t))return r}}function P(t){var e=t.match(ho);if(null===e||2!==e.length)return po.unit();var n=e[1].split(",").map(function(t){return parseFloat(t)});return new(Function.prototype.bind.apply(po,[null].concat(n)))}function A(t){var e=getComputedStyle(t).transform;return"none"===e?po.unit():P(e)}function D(t){if(!t)return po.unit();for(var e=A(t),n=t.parentElement;n;){var r=A(n);e=e.multiplyCopy(r),n=n.parentElement}return e.b=e.c=e.e=e.f=0,e}function j(t){var e=new Yn.Color(t).isDark();return e?Pr:Jn}function R(t){return bo()?new go(t):new vo(t)}function I(t){throw t}function L(t,e){var n=ao(e-t,ar-1);if(0===n){if(0===e)return.1;n=Math.abs(e)}var r=Math.pow(10,Math.floor(Math.log(n)/Math.log(10))),o=ao(n/r,ar),i=1;return i=o<1.904762?.2:o<4.761904?.5:o<9.523809?1:2,ao(r*i,ar)}function z(t,e,n,r,o){var i=so(o);return new _o(n+(t-n)*Math.cos(i)+(e-r)*Math.sin(i),r-(t-n)*Math.sin(i)+(e-r)*Math.cos(i))}function F(t,e){return t-e}function B(t,e){if(t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2)return e;var n=Math.min(t.x1,e.x1),r=Math.max(t.x1,e.x1),o=Math.min(t.x2,e.x2),i=Math.max(t.x2,e.x2),s=Math.min(t.y1,e.y1),a=Math.max(t.y1,e.y1),l=Math.min(t.y2,e.y2),c=Math.max(t.y2,e.y2),u=[];return u[0]=new xo(r,s,o,a),u[1]=new xo(n,a,r,l),u[2]=new xo(o,a,i,l),u[3]=new xo(r,l,o,c),t.x1===n&&t.y1===s||e.x1===n&&e.y1===s?(u[4]=new xo(n,s,r,a),u[5]=new xo(o,l,i,c)):(u[4]=new xo(o,s,i,a),u[5]=new xo(n,l,r,c)),_(u,function(t){return t.height()>0&&t.width()>0})[0]}function N(t){for(var e=t.stops,n=t.innerRadius/t.radius*100,r=e.length,o=[],i=0;i<r;i++){var s=Object.assign({},e[i]);s.offset=(s.offset*(100-n)+n)/100,o.push(s)}return o}function V(t){var e=t.origin,n=t.bottomRight();return new xo(e.x,e.y,n.x,n.y)}function H(t,e){var n=t.tickX,r=t.tickY,o=t.position,i=new Yn.drawing.Path({stroke:{width:e.width,color:e.color}});return t.vertical?i.moveTo(n,o).lineTo(n+e.size,o):i.moveTo(o,r).lineTo(o,r+e.size),s(i),i}function W(t,e){var n=t.lineStart,r=t.lineEnd,o=t.position,i=new Yn.drawing.Path({stroke:{width:e.width,color:e.color,dashType:e.dashType}});return t.vertical?i.moveTo(n,o).lineTo(r,o):i.moveTo(o,n).lineTo(o,r),s(i),i}function U(t,e){var n=t.getTime()-e,r=t.getTimezoneOffset()-e.getTimezoneOffset();return n-r*hi}function K(t,e){return new Date(t.getTime()+e)}function q(t){var e;return t instanceof Date?e=t:t&&(e=new Date(t)),e}function G(t,e){void 0===e&&(e=0);var n=0,r=t.getDay();if(!isNaN(r))for(;r!==e;)0===r?r=6:r--,n++;return K(t,-n*di)}function $(t,e){return 0===e&&23===t.getHours()&&(t.setHours(t.getHours()+2),!0)}function Y(t,e){var n=new Date(t);n.setMinutes(0,0,0);var r=(t.getTimezoneOffset()-n.getTimezoneOffset())*hi;return K(n,r+e*fi)}function X(t,e,n,r){var o=t;if(t){var i=q(t),s=i.getHours();n===ci?(o=new Date(i.getFullYear()+e,0,1),$(o,0)):n===li?(o=new Date(i.getFullYear(),i.getMonth()+e,1),$(o,s)):n===ai?(o=X(G(i,r),7*e,si),$(o,s)):n===si?(o=new Date(i.getFullYear(),i.getMonth(),i.getDate()+e),$(o,s)):n===ii?o=Y(i,e):n===oi?(o=K(i,e*hi),o.getSeconds()>0&&o.setSeconds(0)):n===ri?o=K(i,e*pi):n===ni&&(o=K(i,e)),n!==ni&&o.getMilliseconds()>0&&o.setMilliseconds(0)}return o}function Z(t,e,n){return X(q(t),0,e,n)}function J(t,e,n){var r=q(t);return r&&Z(r,e,n).getTime()===r.getTime()?r:X(r,1,e,n)}function Q(t,e){return t&&e?t.getTime()-e.getTime():-1}function tt(t,e){return t.getTime()-e}function et(t){if(r(t)){for(var e=[],n=0;n<t.length;n++)e.push(et(t[n]));return e}if(t)return q(t).getTime()}function nt(t,e){return t&&e?et(t)===et(e):t===e}function rt(t,e,n){return U(t,e)/mi[n]}function ot(t,e,n,r){var o,i=q(t),s=q(e);return o=n===li?i.getMonth()-s.getMonth()+12*(i.getFullYear()-s.getFullYear())+rt(i,new Date(i.getFullYear(),i.getMonth()),si)/new Date(i.getFullYear(),i.getMonth()+1,0).getDate():n===ci?i.getFullYear()-s.getFullYear()+ot(i,new Date(i.getFullYear(),0),li,1)/12:n===si||n===ai?rt(i,s,n):tt(i,e)/mi[n],o/r}function it(t,e,n){var r;return r=n===ci?e.getFullYear()-t.getFullYear():n===li?12*it(t,e,ci)+e.getMonth()-t.getMonth():n===si?Math.floor(tt(e,t)/di):Math.floor(tt(e,t)/mi[n])}function st(t,e){var n;return n=c(e)?t.parseDate(e)||q(e):q(e)}function at(t,e){if(r(e)){for(var n=[],o=0;o<e.length;o++)n.push(st(t,e[o]));return n}return st(t,e)}function lt(t,e){return l(t.weekStartDay)?t.weekStartDay:e&&e.firstDay?e.firstDay():0}function ct(t,e){if(t instanceof Date){for(var n=e.length,r=0;r<n;r++)if(nt(e[r],t))return r;return-1}return e.indexOf(t)}function ut(t){var e=t._range;return e||(e=t._range=T(t),e.min=q(e.min),e.max=q(e.max)),e}function pt(t,e,n){for(var r,o,i,s=ut(t.categories),a=(t.max||s.max)-(t.min||s.min),l=t.autoBaseUnitSteps,c=t.maxDateGroups,u=t.baseUnit===Ei,p=e?Oi.indexOf(e):0,h=u?Oi[p++]:t.baseUnit,f=a/mi[h],d=f;!o||f>=c;){r=r||l[h].slice(0);do i=r.shift();while(i&&e===h&&i<n);if(i)o=i,f=d/o;else{if(h===ro(Oi)){o=Math.ceil(d/c);break}if(!u){f>c&&(o=Math.ceil(d/c));break}h=Oi[p++]||ro(Oi),d=a/mi[h],r=null}}t.baseUnitStep=o,t.baseUnit=h}function ht(t){for(var e,n,r=t.categories,o=Xr(r)?r.length:0,i=vr,s=0;s<o;s++){var a=r[s];if(a&&e){var l=U(a,e);l>0&&(i=Math.min(i,l),n=i>=gi?ci:i>=yi-3*di?li:i>=vi?ai:i>=di?si:i>=fi?ii:i>=hi?oi:ri)}e=a}t.baseUnit=n||si}function ft(t){var e=(t.baseUnit||"").toLowerCase(),n=e!==Ei&&!k(e,Oi);return n&&ht(t),e!==Ei&&t.baseUnitStep!==Ci||pt(t),t}function dt(t,e,n){if(!t&&!e)return 0;var r;if(t>=0&&e>=0){var o=t===e?0:t,i=(e-o)/e;if(n===!1||!n&&i>Si)return 0;r=Math.max(0,o-(e-o)/2)}else r=t;return r}function vt(t,e,n){if(!t&&!e)return 1;var r;if(t<=0&&e<=0){var o=t===e?0:e,i=Math.abs((o-t)/o);if(n===!1||!n&&i>Si)return 0;r=Math.min(0,o-(t-o)/2)}else r=e;return r}function yt(t,e){return ao(Math.floor(t/e)*e,ar)}function gt(t,e){return ao(Math.ceil(t/e)*e,ar)}function mt(t){return Math.max(Math.min(t,xi),-xi)}function bt(t,e,n){var r=n.narrowRange,o=dt(t,e,r),i=vt(t,e,r),s=L(o,i),a={majorUnit:s};return n.roundToMajorUnit!==!1&&(o<0&&kt(o,s,1/3)&&(o-=s),i>0&&kt(i,s,1/3)&&(i+=s)),a.min=yt(o,s),a.max=gt(i,s),a}function wt(t,e){return{min:Xr(e.min)?Math.min(t.min,e.min):t.min,max:Xr(e.max)?Math.max(t.max,e.max):t.max,majorUnit:t.majorUnit}}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];null===t[r]&&(t[r]=void 0)}}function xt(t,e){var n,r,o=e;if(e){_t(e,["min","max"]),n=Xr(e.min),r=Xr(e.max);var i=n||r;i&&e.min===e.max&&(e.min>0?e.min=0:e.max=1),e.majorUnit?(t.min=yt(t.min,e.majorUnit),t.max=gt(t.max,e.majorUnit)):i&&(o=f(t,e),t.majorUnit=L(o.min,o.max))}t.minorUnit=(o.majorUnit||t.majorUnit)/5;var s=f(t,o);return s.min>=s.max&&(n&&!r?s.max=s.min+s.majorUnit:!n&&r&&(s.min=s.max-s.majorUnit)),s}function kt(t,e,n){var r=ao(Math.abs(t%e),ar),o=e*(1-n);return 0===r||r>o}function St(t){var e=ii;return t>=gi?e=ci:t>=yi?e=li:t>=vi?e=ai:t>=di&&(e=si),e}function Ct(t,e,n){var r=n.min||t,o=n.max||e,i=n.baseUnit||(o&&r?St(U(o,r)):ii),s=mi[i],a=n.weekStartDay||0,l=Z(et(r)-1,i,a)||q(o),c=J(et(o)+1,i,a),u=n.majorUnit?n.majorUnit:void 0,p=u||gt(L(l.getTime(),c.getTime()),s)/s,h=it(l,c,i),f=gt(h,p),d=f-h,v=Math.floor(d/2),y=d-v;return n.baseUnit||delete n.baseUnit,n.baseUnit=n.baseUnit||i,n.min=n.min||X(l,-v,i,a),n.max=n.max||X(c,y,i,a),n.minorUnit=n.minorUnit||p/5,n.majorUnit=p,n}function Ot(t,e,n,r){var o=n.min,i=n.max;return Xr(n.axisCrossingValue)&&n.axisCrossingValue<=0&&Mt(),Xr(r.max)?r.max<=0&&Mt():i=e,Xr(r.min)?r.min<=0&&Mt():o=t,{min:o,max:i}}function Et(t,e,n){var r=n.majorUnit,o=t;return t<=0?o=e<=1?Math.pow(r,-2):1:n.narrowRange||(o=Math.pow(r,Math.floor(Pt(t,r)))),o}function Tt(t,e){var n,r=ao(Pt(t,e),ar)%1;return n=t<=0?e:0!==r&&(r<.3||r>.9)?Math.pow(e,Pt(t,e)+.2):Math.pow(e,Math.ceil(Pt(t,e)))}function Mt(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function Pt(t,e){return Math.log(t)/Math.log(e)}function At(t,e){return 180-Math.abs(Math.abs(t-e)-180)}function Dt(t){return t<=0?-1:1}function jt(t,e){for(var n=0;n<e.length;n++)if(e[n].options.name===t)return e[n].prepareUserOptions(),new Gi(e[n])}function Rt(t){for(var e=t.length,n=0,r=0;r<e;r++){var o=t[r];l(o)&&n++}return n}function It(t,e){if(null===e)return e;var n=w(t,!0);return n(e)}function Lt(t,e,n,r){void 0===n&&(n={}),void 0===r&&(r=!1);var o=n.defaults=n.defaults||{},i=n.depth=n.depth||0,s=!1;if(n.excluded=n.excluded||[],i>Ia)return null;for(var a in t)if(!k(a,n.excluded)&&t.hasOwnProperty(a)){var l=t[a];p(l)?(s=!0,r||(t[a]=co(l(e),o[a]))):d(l)&&(r||(n.defaults=o[a]),n.depth++,s=Lt(l,e,n,r)||s,n.depth--)}return s}function zt(t){for(var e=t.length,n=0,r=0;r<e;r++)n=Math.max(n,t[r].data.length);return n}function Ft(t,e,n,r,o){var i=t.box,s=new Yn.geometry.Point;return s[e]=i[e+n],s[r]=i[r+o],s}function Bt(t){for(var e=0;e<t.length;e++)if(Xr(t[e].zIndex))return!0}function Nt(t){var e=t.overlay;return e&&e.gradient&&"none"!==e.gradient}function Vt(t,e){t.forEach(e)}function Ht(t,e){for(var n=t.length,r=n-1;r>=0;r--)e(t[r],r-n-1)}function Wt(t){return Rt(t)===t.length}function Ut(t){return Xr(t)&&null!==t}function Kt(t){for(var e=t.series,n=0;n<e.length;n++){var o=e[n],i=o.data;!i||r(i[0])||d(i[0])||(o.data=[i])}}function qt(){return"pane"+xl++}function Gt(t,e){null!==e&&t.push(e)}function $t(t,e,n){var r=e.visible;if(Xr(r))return r;var o=t.pointVisibility;return o?o[n]:void 0}function Yt(t){for(var e=t.data,n=[],r=0,o=0,i=0;i<e.length;i++){var s=Zi.current.bindPoint(t,i),a=s.valueFields.value;c(a)&&(a=parseFloat(a)),l(a)?(s.visible=$t(t,s.fields,i)!==!1,s.value=Math.abs(a),n.push(s),s.visible&&(r+=s.value),0!==a&&o++):n.push(null)}return{total:r,points:n,count:o}}function Xt(t,e){return t&&e?t.toLowerCase()===e.toLowerCase():t===e}function Zt(t,e){for(var n=[],r=[].concat(e),o=0;o<t.length;o++){var i=t[o];k(i.type,r)&&n.push(i)}return n}function Jt(t,e,n){if(null===e)return e;var r="_date_"+t,o=e[r];return o||(o=st(n,w(t,!0)(e)),e[r]=o),o}function Qt(t,e){var n=t.type,r=e instanceof Date;return!n&&r||Xt(n,or)}function te(t){return 1===t.length?t[0]:t}function ee(t){return t.missingValues?t.missingValues:kl.test(t.type)||t.stack?ys:gs}function ne(t,e){var n=Zi.current.bindPoint(t,null,e),r=n.valueFields;for(var o in r)if(u(r[o]))return!0}function re(t){var e,n,r=t.start,o=t.dir,i=t.min,s=t.max,a=t.getter,l=t.hasItem,c=t.series,u=r;do u+=o,l(u)&&(n=a(u),e=ne(c,n.item));while(i<=u&&u<=s&&!e);if(e)return n}function oe(t,e,n,r,o){var i=e.min,s=e.max,a=i>0&&i<n,l=s+1<n;if(a||l){var c,u,p=ee(t);if(p!==gs)a&&(c=r(i-1)),l&&(u=r(s+1));else{var h,f;a&&(h=r(i-1),f=ne(t,h.item),c=f?h:re({start:i,dir:-1,min:0,max:n-1,getter:r,hasItem:o,series:t})),l&&(h=r(s+1),f=ne(t,h.item),u=f?h:re({start:s,dir:1,min:0,max:n-1,getter:r,hasItem:o,series:t}))}c&&(t._outOfRangeMinPoint=c),u&&(t._outOfRangeMaxPoint=u)}}function ie(t){return!t.pane.axes.some(function(e){return e.options.vertical===t.options.vertical&&e!==t&&e.options.visible!==!1})}function se(t){for(var e,n=t.length,r=0;r<n;r++){var o=t[r],i=o.options.visible!==!1;if(i||ie(o)){var s=i?o.contentBox():o.lineBox();e?e.wrap(s):e=s.clone()}}return e||new xo}function ae(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r&&r.pane===e)return r}}function le(t){return""===t||null===t||"none"===t||"transparent"===t||!Xr(t)}function ce(t,e,n){var r=e,o=t;if(t.indexOf(".")>-1){for(var i=t.split(".");i.length>1;)o=i.shift(),Xr(r[o])||(r[o]={}),r=r[o];o=i.shift()}r[o]=n}function ue(t,e,n){var r=e instanceof _i?[].concat(t.categoryAxis):[].concat(t.valueAxis);f(r[e.axisIndex],n)}function pe(t,e,n){return _(t,function(t){return 0===n&&!t.categoryAxis||t.categoryAxis===e})}function he(){this._defaultPrevented=!0}function fe(t,e){var n=(e||"").toLowerCase(),r=t.event,o="none"===n&&!(r.ctrlKey||r.shiftKey||r.altKey)||r[n+"Key"];return o}function de(t){for(var e={},n=0;n<t.length;n++){var r=t[n];r.axis.options.name&&(e[r.axis.options.name]={min:r.range.min,max:r.range.max})}return e}function ve(t){var e=document.createElement("div");return t&&(e.className=t),e}function ye(t){for(var e=t;e&&!x(e,"k-handle");)e=e.parentNode;return e}function ge(t,e,n,r){var o=[].concat(n?t.yAxis:t.xAxis)[e];f(o,r)}function me(t){var e,n=so(t),r=ao(Math.sin(n),ar),o=ao(Math.cos(n),ar);e=Math.abs(r)>wc?tr:o<0?kr:dr;var i;return i=Math.abs(r)<bc?tr:r<0?Qn:Er,{horizontal:e,vertical:i}}function be(t,e,n,r){var o,i=(r.x-n.x)*(t.y-n.y)-(r.y-n.y)*(t.x-n.x),s=(r.y-n.y)*(e.x-t.x)-(r.x-n.x)*(e.y-t.y);if(0!==s){var a=i/s;o=new _o(t.x+a*(e.x-t.x),t.y+a*(e.y-t.y))}return o}function we(t,e){return t.value.x-e.value.x}function _e(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e[r.seriesIx]=e[r.seriesIx]||[],e[r.seriesIx].push(r)}return e}function xe(t,e,n,r){var o=[].concat(n?t.yAxis:t.xAxis)[e];f(o,r)}function ke(t){for(var e=au,n=0;n<e.length;n++){var r=e[n]+"Axes";t[r]&&(t[e[n]+"Axis"]=t[r],delete t[r])}}function Se(t,e){if(t)for(var n=0;n<t.length;n++)if(t[n].category===e)return[t[n]]}function Ce(t,e){function n(t){var e=(t||{}).color||o.color,n=f({},s,s[r],o,o[r],{line:{color:e},labels:{color:e},title:{color:e}},t);return delete n[r],n}for(var r,o,i,s=(e||{}).axisDefaults||{},a=0;a<au.length;a++)r=au[a]+"Axis",o=t.axisDefaults||{},i=[].concat(t[r]),i=i.map(n),t[r]=i.length>1?i:i[0]}function Oe(t,e){var n=t.series,r=n.length,o=t.seriesDefaults,i=f({},t.seriesDefaults),s=e?f({},e.seriesDefaults):{},a=f({},s);Ee(i),Ee(a);for(var l=0;l<r;l++){var c=n[l].type||t.seriesDefaults.type,u=f({data:[]},a,s[c],{tooltip:t.tooltip},i,o[c]);n[l]._defaults=u,n[l]=f({},u,n[l]),n[l].data=n[l].data||[]}}function Ee(t){delete t.bar,delete t.column,delete t.rangeColumn,delete t.line,delete t.verticalLine,delete t.pie,delete t.donut,delete t.area,delete t.verticalArea,delete t.scatter,delete t.scatterLine,delete t.bubble,delete t.candlestick,delete t.ohlc,delete t.boxPlot,delete t.bullet,delete t.verticalBullet,delete t.polarArea,delete t.polarLine,delete t.radarArea,delete t.radarLine,delete t.waterfall}function Te(t){for(var e={},n=0;n<t.length;n++){var r=t[n],o=r.options.name;o&&(e[o]=r.range())}return e}function Me(t,e){void 0===e&&(e=Q);for(var n=1,r=t.length;n<r;n++)if(e(t[n],t[n-1])<0){t.sort(e);break}return t}function Pe(t,e){void 0===e&&(e=Q);for(var n=Me(t,e),r=n.length,o=r>0?[n[0]]:[],i=1;i<r;i++)0!==e(n[i],ro(o))&&o.push(n[i]);return o}function Ae(t){for(var e=t.length,n=[],r=0;r<e;r++)for(var o=t[r],i=o.length,s=0;s<i;s++)n[s]=n[s]||[],n[s].push(o[s]);return n}function De(t,e){for(var n in e)if(!k(n,fu)&&e.hasOwnProperty(n)){var r=e[n],o=t[n];if(Xr(o)){var i=null===r;i||!Xr(r)?(delete t[n],i&&delete e[n]):o&&d(r)&&d(o)&&De(o,r)}}}function je(t){for(var e=0;e<t.length;e++)t[e].notifyRender()}function Re(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e[n]=r.style.display,r.style.display="none"}return e}function Ie(t,e){for(var n=0;n<t.length;n++)t[n].style.display=e[n]}function Le(t){return l(t)?[t]:t}function ze(t,e){var n=document.createElement("div");
return n.className=t,e&&(n.style.cssText=e),n}function Fe(){}function Be(t){return Fe.prototype=t,new Fe}function Ne(t,e){var n=t.getOrigin(),r=t.getSize(),o=m(e);return t.setOrigin([n.x-o.left,n.y-o.top]),t.setSize([r.width+(o.left+o.right),r.height+(o.top+o.bottom)]),t}function Ve(t,e){var n=t.box,r=t.children[0].box,o=e.border||{},i=e.background||"",s=Uu.fromRect(new Yn.geometry.Rect([n.x1,n.y1],[n.width(),n.height()]),{stroke:{}}),a=new Ku(t.text,new Yn.geometry.Point(r.x1,r.y1),{font:e.font,fill:{color:e.color}}),l=Ne(a.bbox().clone(),e.padding),c=Uu.fromRect(l,{stroke:{color:o.width?o.color:"",width:o.width,opacity:o.opacity,dashType:o.dashType,lineJoin:"round",lineCap:"round"},fill:{color:i}}),u=new Wu;return u.append(s),u.append(c),u.append(a),u}function He(t,e,n){var r=Xr(t.from)?t.from:yr,o=Xr(t.to)?t.to:vr;return t.from=Math.max(Math.min(o,r),e),t.to=Math.min(Math.max(o,r),n),t}function We(t,e){var n=m(e);return n.left=-n.left,n.top=-n.top,n.right=-n.right,n.bottom=-n.bottom,Ne(t,n)}function Ue(t,e){var n,r,o=t.position,i=t.tickX,s=t.tickY;t.vertical?(n=new Ju(i,o),r=new Ju(i+e.size,o)):(n=new Ju(o,s),r=new Ju(o,s+e.size));var a=new Xu({stroke:{color:e.color,width:e.width}}).moveTo(n).lineTo(r);return a}function Ke(t,e,n,r){var o=e.length;if(r.visible)for(var i=n.mirror,s=n.lineBox,a=r.skip;a<o;a+=r.step)a%r.skipUnit!==0&&(n.tickX=i?s.x2:s.x2-r.size,n.tickY=i?s.y1-r.size:s.y1,n.position=e[a],t.append(Ue(n,r)))}function qe(t,e,n,r){var o=new gp,i=t.center,s=t.getRadiusX();if(r.visible)for(var a=0;a<e.length;a++){var l=t.pointAt(e[a]),c=new Yn.geometry.Point(i.x+s-r.size,i.y).rotate(e[a],i);o.append(new yp({stroke:{color:r.color,width:r.width}}).moveTo(l).lineTo(c))}return o}function Ge(t,e,n,r){return{from:t,to:e,color:n,opacity:r}}function $e(t,e,n){return t.substring(e,e+n)}function Ye(t,e){if(void 0===e&&(e=kh),!t)throw new Error("Please specify barcode type to validate.");var n=t.toLowerCase(),r="";if("upca"===n?(n="ean13",r="0"):"upce"===n&&(n="ean8",r="0"),!mh[n])throw new Error("Encoding '"+t+"' is not supported.");var o=new mh[n];return xh(o,e,r)}function Xe(t,e){for(var n=[],r=0;r<t.length;)n.push(t.substring(r,r+e)),r+=e;return n}function Ze(t,e){var n=Number(t).toString(2);return n.length<e&&(n=new Array(e-n.length+1).join(0)+n),n}function Je(t){return parseInt(t,2)}function Qe(t,e,n,r){for(var o=0;o<t.length;o++)t[o][n][r]=e}function tn(t,e,n,r){for(var o=0;o<tf.length;o++)t[o][n][r]=tf[o](n,r)?1^e:parseInt(e,10)}function en(t,e){for(var n,r,o,i=new Ch(t[0]),s=0;s<e.length;s++)for(n=e[s],r=0;n.length>0;){for(var a=0;a<n.length;a++)for(var l=0;l<8;l++)o=i.getNextCell(),tn(t,n[a][r].charAt(l),o.row,o.column);for(r++;n[0]&&r===n[0].length;)n.splice(0,1)}for(;o=i.getNextRemainderCell();)tn(t,0,o.row,o.column)}function nn(t,e){for(var n=8*e,r=0,o=0,i=t;i.length<n&&r<Bh.length;)i+=Bh.charAt(r++);for(i.length%8!==0&&(i+=new Array(9-i.length%8).join("0"));i.length<n;)i+=Jh[o],o^=1;return i}function rn(){var t,e;for(e=1;e<255;e++)t=2*Uh[e-1],t>255&&(t^=285),Uh[e]=t,Wh[t]=e;t=2*Uh[e-1]^285,Uh[e]=t,Uh[-1]=0}function on(t,e){for(var n=[],r=t.length-2,o=r;o>=0;o--)n[o]=t[o]^e[o];return n}function sn(t,e){for(var n=[],r=0;r<t.length;r++)for(var o=0;o<e.length;o++)void 0===n[r+o]?n[r+o]=(t[r]+(e[o]>=0?e[o]:0))%255:n[r+o]=Wh[Uh[n[r+o]]^Uh[(t[r]+e[o])%255]];return n}function an(){for(var t=68,e=2;e<=t;e++){var n=df[e-1],r=[e,0];df[e]=sn(n,r)}}function ln(t,e){var n=[],r=t.length-1;do n[r]=Uh[(t[r]+e)%255],r--;while(void 0!==t[r]);return n}function cn(t,e){var n,r,o=df[e-1],i=new Array(e).concat(t),s=new Array(i.length-o.length).concat(o),a=t.length,l=[];for(r=0;r<a;r++)n=ln(s,Wh[i[i.length-1]]),s.splice(0,1),i=on(n,i);for(r=i.length-1;r>=0;r--)l[e-1-r]=Ze(i[r],8);return l}function un(t,e){for(var n,r,o,i,s,a=0,l=[],c=[],u=e.groups,p=0;p<u.length;p++){o=u[p][0];for(var h=0;h<o;h++){r=u[p][1],n=[],i=[];for(var f=1;f<=r;f++)s=t.substring(a,a+8),n.push(s),i[r-f]=Je(s),a+=8;l.push(n),c.push(cn(i,e.errorCodewordsPerBlock))}}return[l,c]}function pn(t,e,n,r,o){var i,s,a=ef.exec(t),l=a?a[0]:"",c=of.exec(t),u=c?c[0]:"",p=sf.exec(t),h=p?p[0]:"";return l&&(l.length>=e||t.length===l.length||l.length>=n&&!sf.test(t.charAt(l.length)))?(i=Nh,s=l):h&&(t.length===h.length||h.length>=r||o===Vh)?(i=Vh,s=l||u):(i=Hh,s=h?h+af.exec(t.substring(h.length))[0]:af.exec(t)[0]),{mode:i,modeString:s}}function hn(t){var e,n=[],r=0,o=t;for(n.push(pn(o,lf,cf,uf,e)),e=n[0].mode,o=o.substr(n[0].modeString.length);o.length>0;){var i=pn(o,pf,hf,ff,e);i.mode!==e?(e=i.mode,n.push(i),r++):n[r].modeString+=i.modeString,o=o.substr(i.modeString.length)}return n}function fn(t){for(var e,n=0,r=0;r<t.length;r++)e=Ih[t[r].mode],n+=e.getStringBitsLength(t[r].modeString.length);return Math.ceil(n/8)}function dn(t,e){var n=0,r=Fh.length-1,o=Math.floor(Fh.length/2);do t<Fh[o][e].totalDataCodewords?r=o:n=o,o=n+Math.floor((r-n)/2);while(r-n>1);return t<=Fh[n][e].totalDataCodewords?o+1:r+1}function vn(t,e){for(var n,r="",o=0;o<t.length;o++)n=Ih[t[o].mode],r+=n.encode(t[o].modeString,e);return r}function yn(t){var e,n=Je(t),r="";if(0===n)return"101010000010010";e=gn(Je(t),Xh,15);for(var o=0;o<e.length;o++)r+=e.charAt(o)^Yh.charAt(o);return r}function gn(t,e,n){var r=Je(e),o=e.length-1,i=t<<o,s=n-o,a=Ze(t,s),l=mn(i,r);return l=a+Ze(l,o)}function mn(t,e){var n=e.toString(2).length,r=t.toString(2).length,o=t;do o^=e<<r-n,r=o.toString(2).length;while(r>=n);return o}function bn(t,e){return parseInt(t.charAt(e),10)}function wn(t){for(var e=[],n=17+4*t,r=0;r<tf.length;r++){e[r]=new Array(n);for(var o=0;o<n;o++)e[r][o]=new Array(n)}return e}function _n(t,e){var n,r,o=t[0],i=0,s=e.length;for(n=0,r=8;n<=8;n++)6!==n&&Qe(t,bn(e,s-1-i++),n,r);for(n=8,r=7;r>=0;r--)6!==r&&Qe(t,bn(e,s-1-i++),n,r);for(i=0,r=o.length-1,n=8;r>=o.length-8;r--)Qe(t,bn(e,s-1-i++),n,r);for(Qe(t,1,o.length-8,8),n=o.length-7,r=8;n<o.length;n++)Qe(t,bn(e,s-1-i++),n,r)}function xn(t){return gn(t,Zh,18)}function kn(t,e){for(var n,r,o,i=t[0],s=i.length,a=0,l=s-11,c=s-11,u=0,p=0;p<e.length;p++)n=Math.floor(p/3),r=p%3,o=bn(e,e.length-p-1),Qe(t,o,a+n,l+r),Qe(t,o,c+r,u+n)}function Sn(t,e,n,r){for(var o,i=e.length+2,s=e.length+1,a=0;a<e.length;a++)for(var l=a;l<i-a;l++)o=e[a],Qe(t,o,n+l,r+a),Qe(t,o,n+a,r+l),Qe(t,o,n+s-l,r+s-a),Qe(t,o,n+s-a,r+s-l)}function Cn(t,e,n,r){var o=n,i=r,s=t[0];do Qe(t,0,o,r),Qe(t,0,n,i),o+=e[0],i+=e[1];while(o>=0&&o<s.length)}function On(t){var e=t[0].length;Sn(t,qh,0,0),Cn(t,[-1,-1],7,7),Sn(t,qh,e-7,0),Cn(t,[1,-1],e-8,7),Sn(t,qh,0,e-7),Cn(t,[-1,1],7,e-8)}function En(t,e){if(!(e<2)){var n,r,o=t[0],i=o.length,s=Math.floor(e/7),a=[6],l=0;for((n=Kh[e])?r=(i-13-n)/s:n=r=(i-13)/(s+1),a.push(a[l++]+n);a[l]+r<i;)a.push(a[l++]+r);for(var c=0;c<a.length;c++)for(var u=0;u<a.length;u++)void 0===o[a[c]][a[u]]&&Sn(t,Gh,a[c]-2,a[u]-2)}}function Tn(t){for(var e=6,n=6,r=1,o=t[0].length,i=8;i<o-8;i++)Qe(t,r,e,i),Qe(t,r,i,n),r^=1}function Mn(t){var e,n,r=[],o=[],i=[],s=[],a=[],l=0,c=1,u=t[0].length;for(n=0;n<t.length;n++)r[n]=0,i[n]=0,a[n]=[0,0],s[n]=[0,0],o[n]=[];for(var p=0;p<u;p++)for(var h=0;h<u;h++)for(var f=0;f<t.length;f++)e=t[f],i[f]+=parseInt(e[p][h],10),o[f][l]===e[p][h]&&p+1<u&&h-1>=0&&e[p+1][h]===o[f][l]&&e[p+1][h-1]===o[f][l]&&(r[f]+=3),Pn(f,s,r,l,e[p][h]),Pn(f,s,r,c,e[h][p]),An(f,r,o,e[p][h],a,l),An(f,r,o,e[h][p],a,c);var d,v=u*u,y=Number.MAX_VALUE;for(n=0;n<r.length;n++)r[n]+=Dn(i[n],v),r[n]<y&&(y=r[n],d=n);return d}function Pn(t,e,n,r,o){e[t][r]=(e[t][r]<<1^o)%128,e[t][r]===Qh&&(n[t]+=40)}function An(t,e,n,r,o,i){n[t][i]===r?o[t][i]++:(n[t][i]=r,o[t][i]>=5&&(e[t]+=3+o[t][i]-5),o[t][i]=1)}function Dn(t,e){var n=Math.floor(t/e*100),r=n%5,o=Math.abs(n-r-50),i=Math.abs(n+5-r-50),s=10*Math.min(o/5,i/5);return s}function jn(t){return t&&t.toLowerCase().indexOf("utf_8")>=0?new zh:new Eh}function Rn(t,e,n){var r=jn(n),o=r.getEncodingResult(t,e),i=o.version,s=Fh[i-1][e],a=nn(o.dataString,s.totalDataCodewords),l=un(a,s),c=wn(i);On(c),En(c,i),Tn(c),i>=7&&kn(c,Ze(0,18)),_n(c,Ze(0,15)),en(c,l);var u=Mn(c),p=c[u];i>=7&&kn([p],xn(i));var h=$h[e]+Ze(u,3);return _n([p],yn(h)),p}function In(t){return void 0===t&&(t=wf),function(e){try{Rn(e,"L",t)}catch(t){return{valid:!1,error:t}}return{valid:!0}}}function Ln(t){return t*t}function zn(t,e,n){for(var r in e)if(e.hasOwnProperty(r)&&e[r].test(t))return r;return void 0!==n?n:t}function Fn(t){return"string"==typeof t}function Bn(t){return vd[t]||t}function Nn(t){var e='<button class="k-button k-button-square k-rounded-full k-button-flat k-button-flat-base k-icon-button '+Pd[t].className+'" aria-label="move '+t+'"><span class="k-icon '+Pd[t].iconClass+'" /></button>';return $f(e)}function Vn(t,e){var n='<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-'+t+'" title="zoom-'+t+'" aria-label="zoom-'+t+'"><span class="k-icon '+e+'"></span></button>';return $f(n)}function Hn(t){return new Kd(ao(t.x),ao(t.y))}function Wn(t){var e=t;return"string"!=typeof t&&(e+="px"),e}function Un(t){window.requestAnimationFrame(t)}function Kn(t,e){var n=t.x.location,r=t.y.location,o=e.x.location,i=e.y.location,s=n-o,a=r-i;return{center:{x:(n+o)/2,y:(r+i)/2},distance:Math.sqrt(s*s+a*a)}}function qn(t){var e,n,r,o=id(),i=[],s=t.originalEvent||t,a=t.currentTarget,l=0;if(t.api)i.push({id:2,event:t,target:t.target,currentTarget:t.target,location:t,type:"api"});else if(t.type.match(/touch/))for(n=s?s.changedTouches:[],e=n.length;l<e;l++)r=n[l],i.push({location:r,event:t,target:r.target,currentTarget:a,id:r.identifier,type:"touch"});else o.pointers||o.msPointers?i.push({location:s,event:t,target:t.target,currentTarget:a,id:s.pointerId,type:"pointer"}):i.push({id:1,event:t,target:t.target,currentTarget:a,location:t,type:"mouse"});return i}function Gn(t){for(var e=od(navigator.userAgent),n=e.up.split(" "),r=0,o=n.length;r<o;r++)t(n[r])}function $n(t){var e=[];if(t)for(var n=Qf(t).split("-"),r=0;r<n.length;r++)e.push("k-pos-"+n[r]);return e.join(" ")}Object.defineProperty(e,"__esModule",{value:!0});var Yn=n(44),Xn="arc",Zn="axisLabelClick",Jn="#000",Qn="bottom",tr="center",er="circle",nr=3,rr="cross",or="date",ir="12px sans-serif",sr=400,ar=10,lr=600,cr="end",ur=/\{\d+:?/,pr="height",hr=100,fr="inside",dr="left",vr=Number.MAX_VALUE,yr=-Number.MAX_VALUE,gr="none",mr="noteClick",br="noteHover",wr="noteLeave",_r="object",xr="outside",kr="right",Sr="roundedRect",Cr="start",Or="string",Er="top",Tr="triangle",Mr="value",Pr="#fff",Ar="width",Dr="x",jr="y",Rr=1,Ir=/\s+/g,Lr="object",zr="undefined",Fr=/width|height|top|left|bottom|right/i,Br={compile:function(t){return t}},Nr=function(){};Nr.register=function(t){Br=t},Nr.compile=function(t){return Br.compile(t)};var Vr=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,Hr={};Hr.undefined=function(t){return t};var Wr=function(){this._map={}};Wr.prototype.get=function(t){return this._map[this._key(t)]},Wr.prototype.set=function(t,e){this._map[this._key(t)]=e},Wr.prototype._key=function(t){return t instanceof Date?t.getTime():t};var Ur="trigger",Kr=function(t,e){this.observer=t,this.handlerMap=f({},this.handlerMap,e)};Kr.prototype.trigger=function(t,e){var n,r=this,o=r.observer,i=r.handlerMap;return i[t]?n=this.callObserver(i[t],e):o[Ur]&&(n=this.callObserver(Ur,t,e)),n},Kr.prototype.callObserver=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return this.observer[t].apply(this.observer,e)},Kr.prototype.requiresHandlers=function(t){var e=this;if(this.observer.requiresHandlers)return this.observer.requiresHandlers(t);for(var n=0;n<t.length;n++)if(e.handlerMap[t[n]])return!0};var qr=Yn.support.browser||{},Gr=Yn.drawing.util,$r=Gr.append,Yr=Gr.bindEvents,Xr=Gr.defined,Zr=Gr.deg,Jr=Gr.elementOffset,Qr=Gr.elementSize,to=Gr.eventCoordinates,eo=Gr.eventElement,no=Gr.hashKey,ro=Gr.last,oo=Gr.limitValue,io=Gr.objectKey,so=Gr.rad,ao=Gr.round,lo=Gr.unbindEvents,co=Gr.valueOrDefault,uo=function(){};uo.fetchFonts=function(t,e,n){void 0===n&&(n={depth:0});var r=5;!t||n.depth>r||!document.fonts||Object.keys(t).forEach(function(r){var o=t[r];"dataSource"!==r&&"$"!==r[0]&&o&&("font"===r?e.push(o):"object"==typeof o&&(n.depth++,uo.fetchFonts(o,e,n),n.depth--))})},uo.loadFonts=function(t,e){var n=[];if(t.length>0&&document.fonts){try{n=t.map(function(t){return document.fonts.load(t)})}catch(t){Yn.logToConsole(t)}Promise.all(n).then(e,e)}else e()},uo.preloadFonts=function(t,e){var n=[];uo.fetchFonts(t,n),uo.loadFonts(n,e)};var po=Yn.geometry.Matrix,ho=/matrix\((.*)\)/,fo={},vo=function(t){var e=this;this._index={},this._values=t?t.slice(0):[];for(var n=0;n<this._values.length;n++)e._index[e._values[n]]=n},yo={size:{}};vo.prototype.values=function(){return this._values.filter(function(t){return t!==fo})},vo.prototype.has=function(t){return void 0!==this._index[t]},vo.prototype.add=function(t){this.has(t)||(this._index[t]=this._values.length,this._values.push(t))},vo.prototype.delete=function(t){var e=this._index[t];void 0!==e&&(this._values[e]=fo,delete this._index[t])},vo.prototype.clear=function(){this._index={},this._values=[]},yo.size.get=function(){return this._values.length},Object.defineProperties(vo.prototype,yo);var go=function(t){this._set=new Set(t)},mo={size:{}};go.prototype.values=function(){return Array.from(this._set)},go.prototype.has=function(t){return this._set.has(t)},go.prototype.add=function(t){this._set.add(t)},go.prototype.delete=function(t){this._set.delete(t)},go.prototype.clear=function(){this._set.clear()},mo.size.get=function(){return this._set.size},Object.defineProperties(go.prototype,mo);var bo=function(){var t=!1;if("function"==typeof Set){var e=new Set([1]);t=e.has(1)}return t},wo={INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},_o=function(t){function e(e,n){t.call(this),this.x=e||0,this.y=n||0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y},e.prototype.rotate=function(t,e){var n=so(e),r=Math.cos(n),o=Math.sin(n),i=t.x,s=t.y,a=this,l=a.x,c=a.y;return this.x=ao(i+(l-i)*r+(c-s)*o,nr),this.y=ao(s+(c-s)*r-(l-i)*o,nr),this},e.prototype.multiply=function(t){return this.x*=t,this.y*=t,this},e.prototype.distanceTo=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},e.onCircle=function(t,n,r){var o=so(n);return new e(t.x-r*Math.cos(o),t.y-r*Math.sin(o))},e}(Yn.Class),xo=function(t){function e(e,n,r,o){t.call(this),this.x1=e||0,this.y1=n||0,this.x2=r||0,this.y2=o||0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.equals=function(t){return this.x1===t.x1&&this.x2===t.x2&&this.y1===t.y1&&this.y2===t.y2},e.prototype.width=function(){return this.x2-this.x1},e.prototype.height=function(){return this.y2-this.y1},e.prototype.translate=function(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},e.prototype.move=function(t,e){var n=this.height(),r=this.width();return Xr(t)&&(this.x1=t,this.x2=this.x1+r),Xr(e)&&(this.y1=e,this.y2=this.y1+n),this},e.prototype.wrap=function(t){return this.x1=Math.min(this.x1,t.x1),this.y1=Math.min(this.y1,t.y1),this.x2=Math.max(this.x2,t.x2),this.y2=Math.max(this.y2,t.y2),this},e.prototype.wrapPoint=function(t){var n=r(t),o=n?t[0]:t.x,i=n?t[1]:t.y;return this.wrap(new e(o,i,o,i)),this},e.prototype.snapTo=function(t,e){return e!==Dr&&e||(this.x1=t.x1,this.x2=t.x2),e!==jr&&e||(this.y1=t.y1,this.y2=t.y2),this},e.prototype.alignTo=function(t,e){var n=this.height(),r=this.width(),o=e===Er||e===Qn?jr:Dr,i=o===jr?n:r;if(e===tr){var s=t.center(),a=this.center();this.x1+=s.x-a.x,this.y1+=s.y-a.y}else e===Er||e===dr?this[o+1]=t[o+1]-i:this[o+1]=t[o+2];return this.x2=this.x1+r,this.y2=this.y1+n,this},e.prototype.shrink=function(t,e){return this.x2-=t,this.y2-=e,this},e.prototype.expand=function(t,e){return this.shrink(-t,-e),this},e.prototype.pad=function(t){var e=m(t);return this.x1-=e.left,this.x2+=e.right,this.y1-=e.top,this.y2+=e.bottom,this},e.prototype.unpad=function(t){var e=m(t);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,this.pad(e)},e.prototype.clone=function(){return new e(this.x1,this.y1,this.x2,this.y2)},e.prototype.center=function(){return new _o(this.x1+this.width()/2,this.y1+this.height()/2)},e.prototype.containsPoint=function(t){return t.x>=this.x1&&t.x<=this.x2&&t.y>=this.y1&&t.y<=this.y2},e.prototype.points=function(){return[new _o(this.x1,this.y1),new _o(this.x2,this.y1),new _o(this.x2,this.y2),new _o(this.x1,this.y2)]},e.prototype.getHash=function(){return[this.x1,this.y1,this.x2,this.y2].join(",")},e.prototype.overlaps=function(t){return!(t.y2<this.y1||this.y2<t.y1||t.x2<this.x1||this.x2<t.x1)},e.prototype.rotate=function(t){var e=this.width(),n=this.height(),r=this.center(),o=r.x,i=r.y,s=z(0,0,o,i,t),a=z(e,0,o,i,t),l=z(e,n,o,i,t),c=z(0,n,o,i,t);return e=Math.max(s.x,a.x,l.x,c.x)-Math.min(s.x,a.x,l.x,c.x),n=Math.max(s.y,a.y,l.y,c.y)-Math.min(s.y,a.y,l.y,c.y),this.x2=this.x1+e,this.y2=this.y1+n,this},e.prototype.toRect=function(){return new Yn.geometry.Rect([this.x1,this.y1],[this.width(),this.height()])},e.prototype.hasSize=function(){return 0!==this.width()&&0!==this.height()},e.prototype.align=function(t,e,n){var r=e+1,o=e+2,i=e===Dr?Ar:pr,s=this[i]();k(n,[dr,Er])?(this[r]=t[r],this[o]=this[r]+s):k(n,[kr,Qn])?(this[o]=t[o],this[r]=this[o]-s):n===tr&&(this[r]=t[r]+(t[i]()-s)/2,this[o]=this[r]+s)},e}(Yn.Class),ko=function(t){function e(e,n,r,o,i){t.call(this),this.center=e,this.innerRadius=n,this.radius=r,this.startAngle=o,this.angle=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)},e.prototype.middle=function(){return this.startAngle+this.angle/2},e.prototype.setRadius=function(t,e){return e?this.innerRadius=t:this.radius=t,this},e.prototype.point=function(t,e){var n=so(t),r=Math.cos(n),o=Math.sin(n),i=e?this.innerRadius:this.radius,s=ao(this.center.x-r*i,nr),a=ao(this.center.y-o*i,nr);return new _o(s,a)},e.prototype.adjacentBox=function(t,e,n){var r=this.clone().expand(t),o=r.middle(),i=r.point(o),s=e/2,a=n/2,l=Math.sin(so(o)),c=Math.cos(so(o)),u=i.x-s,p=i.y-a;return Math.abs(l)<.9&&(u+=s*-c/Math.abs(c)),Math.abs(c)<.9&&(p+=a*-l/Math.abs(l)),new xo(u,p,u+e,p+n)},e.prototype.containsPoint=function(t){var e=this.center,n=this.innerRadius,r=this.radius,o=this.startAngle,i=this.startAngle+this.angle,s=t.x-e.x,l=t.y-e.y,c=new _o(s,l),u=this.point(o),p=new _o(u.x-e.x,u.y-e.y),h=this.point(i),f=new _o(h.x-e.x,h.y-e.y),d=ao(s*s+l*l,nr);return(p.equals(c)||a(p,c))&&!a(f,c)&&d>=n*n&&d<=r*r},e.prototype.getBBox=function(){var t,e=this,n=new xo(vr,vr,yr,yr),r=ao(this.startAngle%360),o=ao((r+this.angle)%360),i=this.innerRadius,s=[0,90,180,270,r,o].sort(F),a=s.indexOf(r),l=s.indexOf(o);t=r===o?s:a<l?s.slice(a,l+1):[].concat(s.slice(0,l+1),s.slice(a,s.length));for(var c=0;c<t.length;c++){var u=e.point(t[c]);n.wrapPoint(u),n.wrapPoint(u,i)}return i||n.wrapPoint(this.center),n},e.prototype.expand=function(t){return this.radius+=t,this},e}(Yn.Class),So=function(t){function e(e,n,r,o){t.call(this,e,0,n,r,o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expand=function(e){return t.prototype.expand.call(this,e)},e.prototype.clone=function(){return new e(this.center,this.radius,this.startAngle,this.angle)},e.prototype.setRadius=function(t){return this.radius=t,this},e}(ko),Co=.001,Oo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRing=function(t,e){var n=t.startAngle+180,r=t.angle+n;t.angle>0&&n===r&&(r+=Co);var o=new Yn.geometry.Point(t.center.x,t.center.y),i=Math.max(t.radius,0),s=Math.max(t.innerRadius,0),a=new Yn.geometry.Arc(o,{startAngle:n,endAngle:r,radiusX:i,radiusY:i}),l=Yn.drawing.Path.fromArc(a,e).close();if(s){a.radiusX=a.radiusY=s;var c=a.pointAt(r);l.lineTo(c.x,c.y),l.arc(r,n,s,s,!0)}else l.lineTo(o.x,o.y);return l},e}(Yn.Class);Oo.current=new Oo;var Eo=function(t){function e(e){t.call(this),this.children=[],this.options=f({},this.options,this.initUserOptions(e))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){return t},e.prototype.reflow=function(t){for(var e,n=this.children,r=0;r<n.length;r++){var o=n[r];o.reflow(t),e=e?e.wrap(o.box):o.box.clone()}this.box=e||t},e.prototype.destroy=function(){var t=this.children;this.animation&&this.animation.destroy();for(var e=0;e<t.length;e++)t[e].destroy()},e.prototype.getRoot=function(){var t=this.parent;return t?t.getRoot():null},e.prototype.getSender=function(){var t=this.getService();if(t)return t.sender},e.prototype.getService=function(){for(var t=this;t;){if(t.chartService)return t.chartService;t=t.parent}},e.prototype.translateChildren=function(t,e){for(var n=this.children,r=n.length,o=0;o<r;o++)n[o].box.translate(t,e)},e.prototype.append=function(){for(var t=arguments,e=this,n=0;n<arguments.length;n++){var r=t[n];e.children.push(r),r.parent=e}},e.prototype.renderVisual=function(){this.options.visible!==!1&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())},e.prototype.addVisual=function(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))},e.prototype.renderChildren=function(){for(var t=this.children,e=t.length,n=0;n<e;n++)t[n].renderVisual()},e.prototype.createVisual=function(){this.visual=new Yn.drawing.Group({zIndex:this.options.zIndex,visible:co(this.options.visible,!0)})},e.prototype.createAnimation=function(){this.visual&&this.options.animation&&(this.animation=Yn.drawing.Animation.create(this.visual,this.options.animation))},e.prototype.appendVisual=function(t){t.chartElement||(t.chartElement=this),t.options.noclip?this.clipRoot().visual.append(t):Xr(t.options.zIndex)?this.stackRoot().stackVisual(t):this.isStackRoot?this.stackVisual(t):this.visual?this.visual.append(t):this.parent.appendVisual(t)},e.prototype.clipRoot=function(){return this.parent?this.parent.clipRoot():this},e.prototype.stackRoot=function(){return this.parent?this.parent.stackRoot():this},e.prototype.stackVisual=function(t){var e,n=t.options.zIndex||0,r=this.visual.children,o=r.length;for(e=0;e<o;e++){var i=r[e],s=co(i.options.zIndex,0);if(s>n)break}this.visual.insert(e,t)},e.prototype.traverse=function(t){for(var e=this.children,n=e.length,r=0;r<n;r++){var o=e[r];t(o),o.traverse&&o.traverse(t)}},e.prototype.closest=function(t){for(var e=this,n=!1;e&&!n;)n=t(e),n||(e=e.parent);if(n)return e},e.prototype.renderComplete=function(){},e.prototype.hasHighlight=function(){var t=(this.options||{}).highlight;return!(!this.createHighlight||t&&t.visible===!1)},e.prototype.toggleHighlight=function(t,e){var n=this,r=(this.options||{}).highlight||{},o=r.visual,i=this._highlight;if(!i){var s={fill:{color:Pr,opacity:e||.2},stroke:{color:Pr,width:1,opacity:e||.2}};if(o){if(i=this._highlight=o(Object.assign(this.highlightVisualArgs(),{createVisual:function(){return n.createHighlight(s)},sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total})),!i)return}else i=this._highlight=this.createHighlight(s);Xr(i.options.zIndex)||(i.options.zIndex=co(r.zIndex,this.options.zIndex)),this.appendVisual(i)}i.visible(t)},e.prototype.createGradientOverlay=function(t,e,n){var r=new Yn.drawing.Path(Object.assign({stroke:{color:"none"},fill:this.createGradient(n),closed:t.options.closed},e));return r.segments.elements(t.segments.elements()),r},e.prototype.createGradient=function(t){if(this.parent)return this.parent.createGradient(t)},e.prototype.supportsPointInactiveOpacity=function(){return!0},e}(Yn.Class);Eo.prototype.options={};var To=function(t){function e(e){t.call(this,e),this.options.margin=m(this.options.margin),this.options.padding=m(this.options.padding)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(e){var n,r=this,o=this.options,i=o.width,s=o.height,a=o.shrinkToFit,l=i&&s,c=o.margin,u=o.padding,p=o.border.width,h=function(){r.align(e,Dr,o.align),r.align(e,jr,o.vAlign),r.paddingBox=n.clone().unpad(c).unpad(p)},f=e.clone();l&&(f.x2=f.x1+i,f.y2=f.y1+s),a&&f.unpad(c).unpad(p).unpad(u),t.prototype.reflow.call(this,f),n=l?this.box=new xo(0,0,i,s):this.box,a&&l?(h(),f=this.contentBox=this.paddingBox.clone().unpad(u)):(f=this.contentBox=n.clone(),n.pad(u).pad(p).pad(c),h()),this.translateChildren(n.x1-f.x1+c.left+p+u.left,n.y1-f.y1+c.top+p+u.top);for(var d=this.children,v=0;v<d.length;v++){var y=d[v];y.reflow(y.box)}},e.prototype.align=function(t,e,n){this.box.align(t,e,n)},e.prototype.hasBox=function(){var t=this.options;return t.border.width||t.background},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.options;e.visible&&this.hasBox()&&this.visual.append(Yn.drawing.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()))},e.prototype.visualStyle=function(){var t=this.options,e=t.border||{};return{stroke:{width:e.width,color:e.color,opacity:co(e.opacity,t.opacity),dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},cursor:t.cursor}},e}(Eo);E(To,{align:dr,vAlign:Er,margin:{},padding:{},border:{color:Jn,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});var Mo=function(t){function e(e,n){t.call(this,e),this.pointData=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){var t=this,e=t.options,n=t.paddingBox,r=e.type,o=e.rotation,i=n.center(),s=n.width()/2,a=n.height()/2;if(!e.visible||!this.hasBox())return null;var l,c=this.visualStyle();if(r===er)l=new Yn.drawing.Circle(new Yn.geometry.Circle([ao(n.x1+s,nr),ao(n.y1+a,nr)],Math.min(s,a)),c);else if(r===Tr)l=Yn.drawing.Path.fromPoints([[n.x1+s,n.y1],[n.x1,n.y2],[n.x2,n.y2]],c).close();else if(r===rr)l=new Yn.drawing.MultiPath(c),l.moveTo(n.x1,n.y1).lineTo(n.x2,n.y2),l.moveTo(n.x1,n.y2).lineTo(n.x2,n.y1);else{var u=n.toRect();if(r===Sr){var p=co(e.borderRadius,u.width()/5);u.setCornerRadius(p)}l=Yn.drawing.Path.fromRect(u,c)}return o&&l.transform(Yn.geometry.transform().rotate(-o,[i.x,i.y])),l.options.zIndex=e.zIndex,l},e.prototype.createElement=function(){var t,e=this,n=this.options.visual,r=this.pointData||{};return t=n?n({value:r.value,dataItem:r.dataItem,sender:this.getSender(),series:r.series,category:r.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:function(){return e.getElement()}}):this.getElement()},e.prototype.visualOptions=function(){var t=this.options;return{background:t.background,border:t.border,margin:t.margin,padding:t.padding,type:t.type,size:t.width,visible:t.visible}},e.prototype.createVisual=function(){this.visual=this.createElement()},e}(To);E(Mo,{type:er,align:tr,vAlign:tr});var Po="linear",Ao="radial",Do={glass:{type:Po,rotation:0,stops:[{offset:0,color:Pr,opacity:0},{offset:.25,color:Pr,opacity:.3},{offset:1,color:Pr,opacity:0}]},sharpBevel:{type:Ao,stops:[{offset:0,color:Pr,opacity:.55},{offset:.65,color:Pr,opacity:0},{offset:.95,color:Pr,opacity:.25}]},roundedBevel:{type:Ao,stops:[{offset:.33,color:Pr,opacity:.06},{offset:.83,color:Pr,opacity:.2},{offset:.95,color:Pr,opacity:0}]},roundedGlass:{type:Ao,supportVML:!1,stops:[{offset:0,color:Pr,opacity:0},{offset:.5,color:Pr,opacity:.3},{offset:.99,color:Pr,opacity:0}]},sharpGlass:{type:Ao,supportVML:!1,stops:[{offset:0,color:Pr,opacity:.2},{offset:.15,color:Pr,opacity:.15},{offset:.17,color:Pr,opacity:.35},{offset:.85,color:Pr,opacity:.05},{offset:.87,color:Pr,opacity:.15},{offset:.99,color:Pr,opacity:0}]},bubbleShadow:{type:Ao,center:[.5,.5],radius:.5}},jo=function(t){function e(e){t.call(this,e);var n=this.options;n.width=parseInt(n.width,10),n.height=parseInt(n.height,10),this.gradients={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(){var t=this,e=t.options,n=t.children,r=new xo(0,0,e.width,e.height);this.box=r.unpad(e.margin);for(var o=0;o<n.length;o++)n[o].reflow(r),r=B(r,n[o].box)||new xo},e.prototype.createVisual=function(){this.visual=new Yn.drawing.Group,this.createBackground()},e.prototype.createBackground=function(){var t=this.options,e=t.border||{},n=this.box.clone().pad(t.margin).unpad(e.width),r=Yn.drawing.Path.fromRect(n.toRect(),{stroke:{color:e.width?e.color:"",width:e.width,dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},zIndex:-10});this.visual.append(r)},e.prototype.getRoot=function(){return this},e.prototype.createGradient=function(t){var e,n=this.gradients,r=io(t),o=Do[t.gradient];if(n[r])e=n[r];else{var i=Object.assign({},o,t);"linear"===o.type?e=new Yn.drawing.LinearGradient(i):(t.innerRadius&&(i.stops=N(i)),e=new Yn.drawing.RadialGradient(i),e.supportVML=o.supportVML!==!1),n[r]=e}return e},e.prototype.cleanGradients=function(){var t=this.gradients;for(var e in t)t[e]._observers=[]},e.prototype.size=function(){var t=this.options;return new xo(0,0,t.width,t.height)},e}(Eo);E(jo,{width:lr,height:sr,background:Pr,border:{color:Jn,width:0},margin:m(5),zIndex:-2});var Ro=function(t){function e(e){t.call(this,e),this._initDirection()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initDirection=function(){var t=this.options;t.vertical?(this.groupAxis=Dr,this.elementAxis=jr,this.groupSizeField=Ar,this.elementSizeField=pr,this.groupSpacing=t.spacing,this.elementSpacing=t.vSpacing):(this.groupAxis=jr,this.elementAxis=Dr,this.groupSizeField=pr,this.elementSizeField=Ar,this.groupSpacing=t.vSpacing,this.elementSpacing=t.spacing)},e.prototype.reflow=function(t){this.box=t.clone(),this.reflowChildren()},e.prototype.reflowChildren=function(){var t=this,e=this,n=e.box,r=e.elementAxis,o=e.groupAxis,i=e.elementSizeField,s=e.groupSizeField,a=this.groupOptions(),l=a.groups,c=a.groupsSize,u=a.maxGroupElementsSize,p=l.length,h=n[o+1]+this.alignStart(c,n[s]());if(p){for(var f=h,d=0;d<p;d++){for(var v=l[d],y=v.groupElements,g=n[r+1],m=y.length,b=0;b<m;b++){var w=y[b],_=t.elementSize(w),x=f+t.alignStart(_[s],v.groupSize),k=new xo;k[o+1]=x,k[o+2]=x+_[s],k[r+1]=g,k[r+2]=g+_[i],w.reflow(k),g+=_[i]+t.elementSpacing}f+=v.groupSize+t.groupSpacing}n[o+1]=h,n[o+2]=h+c,n[r+2]=n[r+1]+u}},e.prototype.alignStart=function(t,e){var n=0,r=this.options.align;return r===kr||r===Qn?n=e-t:r===tr&&(n=(e-t)/2),n},e.prototype.groupOptions=function(){for(var t=this,e=this,n=e.box,r=e.children,o=e.elementSizeField,i=e.groupSizeField,s=e.elementSpacing,a=e.groupSpacing,l=ao(n[o]()),c=r.length,u=[],p=0,h=0,f=0,d=0,v=[],y=0;y<c;y++){var g=r[y];g.box||g.reflow(n);var m=t.elementSize(g);t.options.wrap&&ao(h+s+m[o])>l&&(u.push({groupElements:v,groupSize:p,groupElementsSize:h}),d=Math.max(d,h),f+=a+p,p=0,h=0,v=[]),p=Math.max(p,m[i]),h>0&&(h+=s),h+=m[o],v.push(g)}return u.push({groupElements:v,groupSize:p,groupElementsSize:h}),d=Math.max(d,h),f+=p,{groups:u,groupsSize:f,maxGroupElementsSize:d}},e.prototype.elementSize=function(t){return{width:t.box.width(),height:t.box.height()}},e.prototype.createVisual=function(){},e}(Eo);E(Ro,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});var Io=Yn.drawing.Text,Lo=function(t){function e(e,n){t.call(this,n),this.content=e,this.reflow(new xo)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options,n=e.size=Yn.drawing.util.measureText(this.content,{font:e.font});this.baseline=n.baseline,this.box=new xo(t.x1,t.y1,t.x1+n.width,t.y1+n.height)},e.prototype.createVisual=function(){
var t=this.options,e=t.font,n=t.color,r=t.opacity,o=t.cursor;this.visual=new Io(this.content,this.box.toRect().topLeft(),{font:e,fill:{color:n,opacity:r},cursor:o})},e}(Eo);E(Lo,{font:ir,color:Jn});var zo=/\n/m,Fo=function(t){function e(e,n,r){t.call(this,n),this.content=e,this.data=r,this._initContainer(),this.options._autoReflow!==!1&&this.reflow(new xo)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initContainer=function(){var t=this.options,e=String(this.content).split(zo),n=new Ro({vertical:!0,align:t.align,wrap:!1}),r=f({},t,{opacity:1,animation:null});this.container=n,this.append(n);for(var o=0;o<e.length;o++){var i=new Lo(e[o].trim(),r);n.append(i)}},e.prototype.reflow=function(e){var n=this.options,r=n.visual;if(this.container.options.align=n.align,r&&!this._boxReflow){var o=e;o.hasSize()||(this._boxReflow=!0,this.reflow(o),this._boxReflow=!1,o=this.box);var i=this.visual=r(this.visualContext(o));i&&(o=V(i.clippedBBox()||new Yn.geometry.Rect),i.options.zIndex=n.zIndex),this.box=this.contentBox=this.paddingBox=o}else if(t.prototype.reflow.call(this,e),n.rotation){var s=m(n.margin),a=this.box.unpad(s);this.targetBox=e,this.normalBox=a.clone(),a=this.rotate(),a.translate(s.left-s.right,s.top-s.bottom),this.rotatedBox=a.clone(),a.pad(s)}},e.prototype.createVisual=function(){var t=this.options;if(this.visual=new Yn.drawing.Group({transform:this.rotationTransform(),zIndex:t.zIndex,noclip:t.noclip}),this.hasBox()){var e=Yn.drawing.Path.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(e)}},e.prototype.renderVisual=function(){if(this.options.visible)if(this.options.visual){var e=this.visual;e&&!Xr(e.options.noclip)&&(e.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else t.prototype.renderVisual.call(this)},e.prototype.visualContext=function(t){var e=this,n={text:this.content,rect:t.toRect(),sender:this.getSender(),options:this.options,createVisual:function(){return e._boxReflow=!0,e.reflow(t),e._boxReflow=!1,e.getDefaultVisual()}};return this.data&&Object.assign(n,this.data),n},e.prototype.getDefaultVisual=function(){this.createVisual(),this.renderChildren();var t=this.visual;return delete this.visual,t},e.prototype.rotate=function(){var t=this.options;return this.box.rotate(t.rotation),this.align(this.targetBox,Dr,t.align),this.align(this.targetBox,jr,t.vAlign),this.box},e.prototype.rotationTransform=function(){var t=this.options.rotation;if(!t)return null;var e=this.normalBox.center(),n=e.x,r=e.y,o=this.rotatedBox.center();return Yn.geometry.transform().translate(o.x-n,o.y-r).rotate(t,[n,r])},e}(To),Bo=function(t){function e(e){t.call(this,e),this.append(new Fo(this.options.text,Object.assign({},this.options,{vAlign:this.options.position})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(e){t.prototype.reflow.call(this,e),this.box.snapTo(e,Dr)},e.buildTitle=function(t,n,r){var o=t;"string"==typeof t&&(o={text:t}),o=Object.assign({visible:!0},r,o);var i;return o&&o.visible&&o.text&&(i=new e(o),n.append(i)),i},e}(Eo);E(Bo,{color:Jn,position:Er,align:tr,margin:m(5),padding:m(5)});var No=function(t){function e(e,n,r,o,i){t.call(this,n,i),this.text=n,this.value=e,this.index=r,this.dataItem=o,this.reflow(new xo)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.visualContext=function(e){var n=t.prototype.visualContext.call(this,e);return n.value=this.value,n.dataItem=this.dataItem,n.format=this.options.format,n.culture=this.options.culture,n},e.prototype.click=function(t,e){t.trigger(Zn,{element:eo(e),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})},e.prototype.rotate=function(){if(this.options.alignRotation!==tr){var e=this.normalBox.toRect(),n=this.rotationTransform();this.box=V(e.bbox(n.matrix()))}else t.prototype.rotate.call(this);return this.box},e.prototype.rotationTransform=function(){var e=this.options,n=e.rotation;if(!n)return null;if(e.alignRotation===tr)return t.prototype.rotationTransform.call(this);var r=Yn.geometry.transform().rotate(n).matrix(),o=this.normalBox.toRect(),i=this.targetBox.toRect(),s=e.rotationOrigin||Er,a=s===Er||s===Qn?Dr:jr,l=s===Er||s===Qn?jr:Dr,c=s===Er||s===dr?i.origin:i.bottomRight(),u=o.topLeft().transformCopy(r),p=o.topRight().transformCopy(r),h=o.bottomRight().transformCopy(r),f=o.bottomLeft().transformCopy(r),d=Yn.geometry.Rect.fromPoints(u,p,h,f),v={};v[l]=i.origin[l]-d.origin[l];var y,g,m=Math.abs(u[l]+v[l]-c[l]),b=Math.abs(p[l]+v[l]-c[l]);ao(m,ar)===ao(b,ar)?(y=u,g=p):b<m?(y=p,g=h):(y=u,g=f);var w=y[a]+(g[a]-y[a])/2;return v[a]=i.center()[a]-w,Yn.geometry.transform().translate(v.x,v.y).rotate(n)},e}(Fo);E(No,{_autoReflow:!1});var Vo=7,Ho="#fff",Wo=function(t){function e(e,n,r){t.call(this,n),this.fields=e,this.chartService=r,this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hide=function(){this.options.visible=!1},e.prototype.show=function(){this.options.visible=!0},e.prototype.render=function(){var t=this,e=this.options;if(e.visible){var n,r,o=e.label,i=e.icon,s=new xo,a=function(){return t},l=i.size,c=this.fields.text;if(Xr(o)&&o.visible){var u=b(o);u?c=u(this.fields):o.format&&(c=this.chartService.format.auto(o.format,c)),o.color||(o.color=o.position===fr?Ho:i.background),this.label=new Fo(c,f({},o)),this.label.aliasFor=a,o.position!==fr||Xr(l)||(i.type===er?l=Math.max(this.label.box.width(),this.label.box.height()):(n=this.label.box.width(),r=this.label.box.height()),s.wrap(this.label.box))}i.width=n||l||Vo,i.height=r||l||Vo;var p=new Mo(f({},i));p.aliasFor=a,this.marker=p,this.append(p),this.label&&this.append(this.label),p.reflow(new xo),this.wrapperBox=s.wrap(p.box)}},e.prototype.reflow=function(t){var e=this,n=e.options,r=e.label,o=e.marker,i=e.wrapperBox,s=t.center(),a=n.line.length,l=n.position;if(n.visible){var c,u,p;k(l,[dr,kr])?l===dr?(p=i.alignTo(t,l).translate(-a,t.center().y-i.center().y),n.line.visible&&(c=[t.x1,s.y],this.linePoints=[c,[p.x2,s.y]],u=p.clone().wrapPoint(c))):(p=i.alignTo(t,l).translate(a,t.center().y-i.center().y),n.line.visible&&(c=[t.x2,s.y],this.linePoints=[c,[p.x1,s.y]],u=p.clone().wrapPoint(c))):l===Qn?(p=i.alignTo(t,l).translate(t.center().x-i.center().x,a),n.line.visible&&(c=[s.x,t.y2],this.linePoints=[c,[s.x,p.y1]],u=p.clone().wrapPoint(c))):(p=i.alignTo(t,l).translate(t.center().x-i.center().x,-a),n.line.visible&&(c=[s.x,t.y1],this.linePoints=[c,[s.x,p.y2]],u=p.clone().wrapPoint(c))),o&&o.reflow(p),r&&(r.reflow(p),o&&(n.label.position===xr&&r.box.alignTo(o.box,l),r.reflow(r.box))),this.contentBox=p,this.targetBox=t,this.box=u||p}},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()},e.prototype.renderVisual=function(){var e=this,n=this.options,r=n.visual;n.visible&&r?(this.visual=r(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:n.background,border:n.background,icon:n.icon,label:n.label,line:n.line,position:n.position,visible:n.visible},createVisual:function(){e.createVisual(),e.renderChildren();var t=e.visual;return delete e.visual,t}})),this.addVisual()):t.prototype.renderVisual.call(this)},e.prototype.createLine=function(){var t=this.options.line;if(this.linePoints){var e=Yn.drawing.Path.fromPoints(this.linePoints,{stroke:{color:t.color,width:t.width,dashType:t.dashType}});s(e),this.visual.append(e)}},e.prototype.click=function(t,e){var n=this.eventArgs(e);t.trigger(mr,n)||e.preventDefault()},e.prototype.over=function(t,e){var n=this.eventArgs(e);t.trigger(br,n)||e.preventDefault()},e.prototype.out=function(t,e){var n=this.eventArgs(e);t.trigger(wr,n)},e.prototype.eventArgs=function(t){var e=this.options;return Object.assign(this.fields,{element:eo(t),text:Xr(e.label)?e.label.text:"",visual:this.visual})},e}(To);E(Wo,{icon:{visible:!0,type:er},label:{position:fr,visible:!0,align:tr,vAlign:tr},line:{visible:!0},visible:!0,position:Er,zIndex:2});var Uo={format:function(t,e){return e},toString:function(t){return t},parseDate:function(t){return new Date(t)},firstDay:function(){return 0}},Ko=Uo,qo=function(){},Go={implementation:{}};qo.register=function(t){Ko=t},Go.implementation.get=function(){return Ko},Object.defineProperties(qo,Go);var $o=/\{(\d+)(:[^\}]+)?\}/g,Yo=function(t){this._intlService=t},Xo={intl:{}};Xo.intl.get=function(){return this._intlService||qo.implementation},Xo.intl.set=function(t){this._intlService=t},Yo.prototype.auto=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=this.intl;return c(t)&&t.match(ur)?r.format.apply(r,[t].concat(e)):r.toString(e[0],t)},Yo.prototype.localeAuto=function(t,e,n){var r,o=this.intl;return r=c(t)&&t.match(ur)?t.replace($o,function(t,r,i){var s=e[parseInt(r,10)];return o.toString(s,i?i.substring(1):"",n)}):o.toString(e[0],t,n)},Object.defineProperties(Yo.prototype,Xo);var Zo=function(t,e){void 0===e&&(e={}),this._intlService=e.intlService,this.sender=e.sender||t,this.format=new Yo(e.intlService),this.chart=t,this.rtl=Boolean(e.rtl)},Jo={intl:{}};Jo.intl.get=function(){return this._intlService||qo.implementation},Jo.intl.set=function(t){this._intlService=t,this.format.intl=t},Zo.prototype.notify=function(t,e){this.chart&&this.chart.trigger(t,e)},Zo.prototype.isPannable=function(t){var e=((this.chart||{}).options||{}).pannable;return e&&e.lock!==t},Object.defineProperties(Zo.prototype,Jo);var Qo,ti=function(){};ti.register=function(t){Qo=t},ti.create=function(t,e){if(Qo)return Qo.create(t,e)};var ei=function(t){function e(e,n){void 0===n&&(n=new Zo),t.call(this,e),this.chartService=n,this.options.visible||(this.options=f({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=f({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.minorTickType!==gr},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=f({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.majorTickType!==gr},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){},e.prototype.labelsRange=function(){return{min:this.options.labels.skip,max:this.labelsCount()}},e.prototype.normalizeLabelRotation=function(t){var e=t.rotation;d(e)&&(t.alignRotation=e.align,t.rotation=e.angle)},e.prototype.createLabels=function(){var t=this,e=this.options,n=e.vertical?kr:tr,r=f({},e.labels,{align:n,zIndex:e.zIndex}),o=Math.max(1,r.step);if(this.clearLabels(),r.visible){this.normalizeLabelRotation(r),"auto"===r.rotation&&(r.rotation=0,e.autoRotateLabels=!0);for(var i=this.labelsRange(),s=i.min;s<i.max;s+=o){var a={index:s,count:i.max},l=t.createAxisLabel(s,r,a);l&&(t.append(l),t.labels.push(l))}}},e.prototype.clearLabels=function(){this.children=_(this.children,function(t){return!(t instanceof No)}),this.labels=[]},e.prototype.clearTitle=function(){var t=this;this.title&&(this.children=_(this.children,function(e){return e!==t.title}),this.title=void 0)},e.prototype.clear=function(){this.clearLabels(),this.clearTitle()},e.prototype.lineBox=function(){var t=this,e=t.options,n=t.box,r=e.vertical,o=e.labels.mirror,i=o?n.x1:n.x2,s=o?n.y2:n.y1,a=e.line.width||0;return r?new xo(i,n.y1,i,n.y2-a):new xo(n.x1,s,n.x2-a,s)},e.prototype.createTitle=function(){var t=this.options,e=f({rotation:t.vertical?-90:0,text:"",zIndex:1,visualSize:!0},t.title);if(e.visible&&e.text){var n=new Fo(e.text,e);this.append(n),this.title=n}},e.prototype.createNotes=function(){var t=this,e=this.options,n=e.notes,r=n.data||[];this.notes=[];for(var o=0;o<r.length;o++){var i=f({},n,r[o]);i.value=t.parseNoteValue(i.value);var s=new Wo({value:i.value,text:i.label.text,dataItem:i},i,t.chartService);s.options.visible&&(Xr(s.options.position)?e.vertical&&!k(s.options.position,[dr,kr])?s.options.position=e.reverse?dr:kr:e.vertical||k(s.options.position,[Er,Qn])||(s.options.position=e.reverse?Qn:Er):e.vertical?s.options.position=e.reverse?dr:kr:s.options.position=e.reverse?Qn:Er,t.append(s),t.notes.push(s))}},e.prototype.parseNoteValue=function(t){return t},e.prototype.renderVisual=function(){t.prototype.renderVisual.call(this),this.createPlotBands()},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this.createBackground(),this.createLine()},e.prototype.gridLinesVisual=function(){var t=this._gridLines;return t||(t=this._gridLines=new Yn.drawing.Group({zIndex:-2}),this.appendVisual(this._gridLines)),t},e.prototype.createTicks=function(t){function e(e,n,i){var a=e.length,l=Math.max(1,n.step);if(n.visible)for(var c=n.skip;c<a;c+=l)Xr(i)&&c%i===0||(s.tickX=o?r.x2:r.x2-n.size,s.tickY=o?r.y1-n.size:r.y1,s.position=e[c],t.append(H(s,n)))}var n=this.options,r=this.lineBox(),o=n.labels.mirror,i=n.majorTicks.visible?n.majorUnit:0,s={vertical:n.vertical};e(this.getMajorTickPositions(),n.majorTicks),e(this.getMinorTickPositions(),n.minorTicks,i/n.minorUnit)},e.prototype.createLine=function(){var t=this.options,e=t.line,n=this.lineBox();if(e.width>0&&e.visible){var r=new Yn.drawing.Path({stroke:{width:e.width,color:e.color,dashType:e.dashType}});r.moveTo(n.x1,n.y1).lineTo(n.x2,n.y2),t._alignLines&&s(r);var o=this._lineGroup=new Yn.drawing.Group;o.append(r),this.visual.append(o),this.createTicks(o)}},e.prototype.getActualTickSize=function(){var t=this.options,e=0;return t.majorTicks.visible&&t.minorTicks.visible?e=Math.max(t.majorTicks.size,t.minorTicks.size):t.majorTicks.visible?e=t.majorTicks.size:t.minorTicks.visible&&(e=t.minorTicks.size),e},e.prototype.createBackground=function(){var t=this,e=t.options,n=t.box,r=e.background;r&&(this._backgroundPath=Yn.drawing.Path.fromRect(n.toRect(),{fill:{color:r},stroke:null}),this.visual.append(this._backgroundPath))},e.prototype.createPlotBands=function(){var t=this,e=this.options,n=e.plotBands||[],r=e.vertical,o=this.plotArea;if(0!==n.length){for(var i=this._plotbandGroup=new Yn.drawing.Group({zIndex:-1}),s=_(this.pane.axes,function(e){return e.options.vertical!==t.options.vertical})[0],a=0;a<n.length;a++){var l=n[a],c=void 0,u=void 0,p=l.label,h=void 0;if(r?(c=(s||o.axisX).lineBox(),u=t.getSlot(l.from,l.to,!0)):(c=t.getSlot(l.from,l.to,!0),u=(s||o.axisY).lineBox()),p&&(p.vAlign=p.position||dr,h=t.createPlotBandLabel(p,l,new xo(c.x1,u.y1,c.x2,u.y2))),0!==c.width()&&0!==u.height()){var f=new Yn.geometry.Rect([c.x1,u.y1],[c.width(),u.height()]),d=Yn.drawing.Path.fromRect(f,{fill:{color:l.color,opacity:l.opacity},stroke:null});i.append(d),h&&i.append(h)}}this.appendVisual(i)}},e.prototype.createPlotBandLabel=function(t,e,n){if(t.visible===!1)return null;var r,o=t.text;if(Xr(t)&&t.visible){var i=b(t);i?o=i({text:o,item:e}):t.format&&(o=this.chartService.format.auto(t.format,o)),t.color||(t.color=this.options.labels.color)}return r=new Fo(o,t),r.reflow(n),r.renderVisual(),r.visual},e.prototype.createGridLines=function(t){function e(t,e,n){var r=t.length,o=Math.max(1,e.step);if(e.visible)for(var i=e.skip;i<r;i+=o){var s=ao(t[i]);k(s,h)||i%n===0||a&&u===s||(p.position=s,f.append(W(p,e)),h.push(s))}}var n=this.options,r=n.minorGridLines,o=n.majorGridLines,i=n.minorUnit,s=n.vertical,a=t.options.line.visible,l=o.visible?n.majorUnit:0,c=t.lineBox(),u=c[s?"y1":"x1"],p={lineStart:c[s?"x1":"y1"],lineEnd:c[s?"x2":"y2"],vertical:s},h=[],f=this.gridLinesVisual();return e(this.getMajorTickPositions(),o),e(this.getMinorTickPositions(),r,l/i),f.children},e.prototype.reflow=function(t){for(var e=this,n=e.options,r=e.labels,o=e.title,i=n.vertical,s=r.length,a=i?Ar:pr,l=o?o.box[a]():0,c=this.getActualTickSize()+n.margin+l,u=(this.getRoot()||{}).box||t,p=u[a](),h=0,f=0;f<s;f++){var d=r[f].box[a]();d+c<=p&&(h=Math.max(h,d))}i?this.box=new xo(t.x1,t.y1,t.x1+h+c,t.y2):this.box=new xo(t.x1,t.y1,t.x2,t.y1+h+c),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()},e.prototype.getLabelsTickPositions=function(){return this.getMajorTickPositions()},e.prototype.labelTickIndex=function(t){return t.index},e.prototype.arrangeLabels=function(){for(var t=this,e=this,n=e.options,r=e.labels,o=this.labelsBetweenTicks(),i=n.vertical,s=n.labels.mirror,a=this.getLabelsTickPositions(),l=0;l<r.length;l++){var c=r[l],u=t.labelTickIndex(c),p=i?c.box.height():c.box.width(),h=a[u],f=a[u+1],d=void 0,v=void 0;if(i){if(o){var y=h+(f-h)/2;d=y-p/2}else d=h-p/2;v=d}else o?(d=h,v=f):(d=h-p/2,v=d+p);t.positionLabel(c,s,d,v)}},e.prototype.positionLabel=function(t,e,n,r){void 0===r&&(r=n);var o,i=this.options,s=i.vertical,a=this.lineBox(),l=this.getActualTickSize()+i.margin;if(s){var c=a.x2;e?(c+=l,t.options.rotationOrigin=dr):(c-=l+t.box.width(),t.options.rotationOrigin=kr),o=t.box.move(c,n)}else{var u=a.y1;e?(u-=l+t.box.height(),t.options.rotationOrigin=Qn):(u+=l,t.options.rotationOrigin=Er),o=new xo(n,u,r,u+t.box.height())}t.reflow(o)},e.prototype.autoRotateLabelAngle=function(t,e){return t.width()<e?0:t.height()>e?-90:-45},e.prototype.autoRotateLabels=function(){var t=this;if(!this.options.autoRotateLabels||this.options.vertical)return!1;for(var e=this.getMajorTickPositions(),n=this.labels,r=Math.min(n.length,e.length-1),o=0,i=0;i<r;i++){var s=Math.abs(e[i+1]-e[i]),a=n[i].box,l=t.autoRotateLabelAngle(a,s);if(0!==l&&(o=l),o===-90)break}if(0!==o){for(var c=0;c<n.length;c++)n[c].options.rotation=o,n[c].reflow(new xo);return!0}},e.prototype.arrangeTitle=function(){var t=this,e=t.options,n=t.title,r=e.labels.mirror,o=e.vertical;n&&(o?(n.options.align=r?kr:dr,n.options.vAlign=n.options.position):(n.options.align=n.options.position,n.options.vAlign=r?Er:Qn),n.reflow(this.box))},e.prototype.arrangeNotes=function(){for(var t=this,e=0;e<this.notes.length;e++){var n=t.notes[e],r=n.options.value,o=void 0;Xr(r)?(t.shouldRenderNote(r)?n.show():n.hide(),o=t.noteSlot(r)):n.hide(),n.reflow(o||t.lineBox())}},e.prototype.noteSlot=function(t){return this.getSlot(t)},e.prototype.alignTo=function(t){var e=t.lineBox(),n=this.options.vertical,r=n?jr:Dr;this.box.snapTo(e,r),n?this.box.shrink(0,this.lineBox().height()-e.height()):this.box.shrink(this.lineBox().width()-e.width(),0),this.box[r+1]-=this.lineBox()[r+1]-e[r+1],this.box[r+2]-=this.lineBox()[r+2]-e[r+2]},e.prototype.axisLabelText=function(t,e,n){var r,o=this,i=b(e),s=function(){return e.format?o.chartService.format.localeAuto(e.format,[t],e.culture):t};if(i){var a=Object.assign({},n,{get text(){return s()},value:t,format:e.format,culture:e.culture});r=i(a)}else r=s();return r},e.prototype.slot=function t(e,n,r){var t=this.getSlot(e,n,r);if(t)return t.toRect()},e.prototype.contentBox=function(){var t=this.box.clone(),e=this.labels;if(e.length){var n=this.options.vertical?jr:Dr;if(this.chartService.isPannable(n)){var r=this.maxLabelOffset();t[n+1]-=r.start,t[n+2]+=r.end}else{e[0].options.visible&&t.wrap(e[0].box);var o=e[e.length-1];o.options.visible&&t.wrap(o.box)}}return t},e.prototype.maxLabelOffset=function(){for(var t=this,e=this.options,n=e.vertical,r=e.reverse,o=this.labelsBetweenTicks(),i=this.getLabelsTickPositions(),s=n?jr:Dr,a=this.labels,l=r?1:0,c=r?0:1,u=0,p=0,h=0;h<a.length;h++){var f=a[h],d=t.labelTickIndex(f),v=void 0,y=void 0;o?(v=i[d+l],y=i[d+c]):v=y=i[d],u=Math.max(u,v-f.box[s+1]),p=Math.max(p,f.box[s+2]-y)}return{start:u,end:p}},e.prototype.limitRange=function(t,e,n,r,o){var i=this.options;if(t<n&&o<0&&(!Xr(i.min)||i.min<=n)||r<e&&o>0&&(!Xr(i.max)||r<=i.max))return null;if(e<n&&o>0||r<t&&o<0)return{min:t,max:e};var s=e-t,a=t,l=e;return t<n&&o<0?(a=oo(t,n,r),l=oo(t+s,n+s,r)):e>r&&o>0&&(l=oo(e,n,r),a=oo(e-s,n,r-s)),{min:a,max:l}},e.prototype.valueRange=function(){return{min:this.seriesMin,max:this.seriesMax}},e.prototype.lineDir=function(){var t=this.options,e=t.vertical,n=t.reverse;return(e?-1:1)*(n?-1:1)},e.prototype.lineInfo=function(){var t=this.options,e=t.vertical,n=this.lineBox(),r=e?n.height():n.width(),o=e?jr:Dr,i=this.lineDir(),s=1===i?1:2,a=o+s.toString(),l=n[a];return{axis:o,axisOrigin:a,axisDir:i,lineBox:n,lineSize:r,lineStart:l}},e.prototype.pointOffset=function(t){var e=this.lineInfo(),n=e.axis,r=e.axisDir,o=e.axisOrigin,i=e.lineBox,s=e.lineSize,a=r>0?t[n]-i[o]:i[o]-t[n],l=a/s;return l},e.prototype.scaleToDelta=function(t,e){var n,r=.999,o=oo(t,-r,r);return n=o>0?e*Math.min(1,o):e-e/(1+o)},e.prototype.labelsBetweenTicks=function(){return!this.options.justified},e.prototype.prepareUserOptions=function(){},e}(Eo);E(ei,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:Jn,visible:!0},title:{visible:!0,position:tr},majorTicks:{align:xr,size:4,skip:0,step:1},minorTicks:{align:xr,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:xr,minorTickType:gr,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:Jn,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});var ni="milliseconds",ri="seconds",oi="minutes",ii="hours",si="days",ai="weeks",li="months",ci="years",ui=1,pi=1e3,hi=60*pi,fi=60*hi,di=24*fi,vi=7*di,yi=31*di,gi=365*di,mi={years:gi,months:yi,weeks:vi,days:di,hours:fi,minutes:hi,seconds:pi,milliseconds:ui},bi=.01,wi=.1,_i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this._ticks={}},e.prototype.categoriesHash=function(){return""},e.prototype.clone=function(){var t=new e(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return t.createLabels(),t},e.prototype.initUserOptions=function(t){var e=t.categories||[],n=Xr(t.min),r=Xr(t.max);if(t.srcCategories=t.categories=e,(n||r)&&e.length){var o,i=n?Math.floor(t.min):0;o=r?t.justified?Math.floor(t.max)+1:Math.ceil(t.max):e.length,t.categories=t.categories.slice(i,o)}return t},e.prototype.rangeIndices=function(){var t,e=this.options,n=e.categories.length||1,r=l(e.min)?e.min%1:0;return t=l(e.max)&&e.max%1!==0&&e.max<this.totalRange().max?n-(1-e.max%1):n-(e.justified?1:0),{min:r,max:t}},e.prototype.totalRangeIndices=function(t){var e,n=this.options,r=l(n.min)?n.min:0;if(e=l(n.max)?n.max:l(n.min)?r+n.categories.length:this.totalRange().max||1,t){var o=this.totalRange();r=oo(r,0,o.max),e=oo(e,0,o.max)}return{min:r,max:e}},e.prototype.range=function(){var t=this.options,e=l(t.min)?t.min:0,n=l(t.max)?t.max:this.totalRange().max;return{min:e,max:n}},e.prototype.roundedRange=function(){return this.range()},e.prototype.totalRange=function(){var t=this.options;return{min:0,max:Math.max(this._seriesMax||0,t.srcCategories.length)-(t.justified?1:0)}},e.prototype.scaleOptions=function(){var t=this.rangeIndices(),e=t.min,n=t.max,r=this.lineBox(),o=this.options.vertical?r.height():r.width(),i=o/(n-e||1);return{scale:i*(this.options.reverse?-1:1),box:r,min:e,max:n}},e.prototype.arrangeLabels=function(){t.prototype.arrangeLabels.call(this),this.hideOutOfRangeLabels()},e.prototype.hideOutOfRangeLabels=function(){var t=this,e=t.box,n=t.labels;if(n.length>0){var r=this.options.vertical?jr:Dr,o=e[r+1],i=e[r+2],s=n[0],a=ro(n);(s.box[r+1]>i||s.box[r+2]<o)&&(s.options.visible=!1),(a.box[r+1]>i||a.box[r+2]<o)&&(a.options.visible=!1)}},e.prototype.getMajorTickPositions=function(){return this.getTicks().majorTicks},e.prototype.getMinorTickPositions=function(){return this.getTicks().minorTicks},e.prototype.getLabelsTickPositions=function(){return this.getTicks().labelTicks},e.prototype.tickIndices=function(t){for(var e=this.rangeIndices(),n=e.min,r=e.max,o=Math.ceil(r),i=Math.floor(n),s=[];i<=o;)s.push(i),i+=t;return s},e.prototype.getTickPositions=function(t){for(var e=this.options,n=e.vertical,r=e.reverse,o=this.scaleOptions(),i=o.scale,s=o.box,a=o.min,l=s[(n?jr:Dr)+(r?2:1)],c=this.tickIndices(t),u=[],p=0;p<c.length;p++)u.push(l+ao(i*(c[p]-a),nr));return u},e.prototype.getTicks=function(){var t=this.options,e=this._ticks,n=this.rangeIndices(),r=this.lineBox(),o=r.getHash()+n.min+","+n.max+t.reverse+t.justified;if(e._hash!==o){var i=t.minorTicks.visible||t.minorGridLines.visible;e._hash=o,e.labelTicks=this.getTickPositions(1),e.majorTicks=this.filterOutOfRangePositions(e.labelTicks,r),e.minorTicks=i?this.filterOutOfRangePositions(this.getTickPositions(.5),r):[]}return e},e.prototype.filterOutOfRangePositions=function(t,e){if(!t.length)return t;for(var n=this.options.vertical?jr:Dr,r=function(t){return e[n+1]<=t&&t<=e[n+2]},o=t.length-1,i=0;!r(t[i])&&i<=o;)i++;for(var s=o;!r(t[s])&&s>=0;)s--;return t.slice(i,s+1)},e.prototype.lineInfo=function(){var t=this.options,e=t.vertical,n=t.reverse,r=this.lineBox(),o=e?r.height():r.width(),i=e?jr:Dr,s=n?-1:1,a=1===s?1:2,l=i+a.toString(),c=r[l];return{axis:i,axisOrigin:l,axisDir:s,lineBox:r,lineSize:o,lineStart:c}},e.prototype.lineDir=function(){var t=this.options,e=t.reverse;return e?-1:1},e.prototype.getSlot=function(t,e,n){var r=this.options,o=r.reverse,i=r.justified,s=this.scaleOptions(),a=s.scale,l=s.box,c=s.min,u=this.lineInfo(),p=u.axis,h=u.lineStart,f=l.clone(),d=!Xr(e),v=co(t,0),y=co(e,v);y=Math.max(y-1,v),y=Math.max(v,y);var g=h+(v-c)*a,m=h+(y+1-c)*a;return d&&i&&(m=g),n&&(g=oo(g,l[p+1],l[p+2]),m=oo(m,l[p+1],l[p+2])),f[p+1]=o?m:g,f[p+2]=o?g:m,f},e.prototype.limitSlot=function(t){var e=this.options.vertical,n=e?jr:Dr,r=this.lineBox(),o=t.clone();return o[n+1]=oo(t[n+1],r[n+1],r[n+2]),o[n+2]=oo(t[n+2],r[n+1],r[n+2]),o},e.prototype.slot=function(e,n,r){var o=Math.floor(this.options.min||0),i=e,s=n;return"string"==typeof i?i=this.categoryIndex(i):l(i)&&(i-=o),"string"==typeof s?s=this.categoryIndex(s):l(s)&&(s-=o),t.prototype.slot.call(this,i,s,r)},e.prototype.pointCategoryIndex=function(t){var e=this.options,n=e.reverse,r=e.justified,o=e.vertical,i=o?jr:Dr,s=this.scaleOptions(),a=s.scale,l=s.box,c=s.min,u=s.max,p=n?u:c,h=l[i+1],f=l[i+2],d=t[i];if(d<h||d>f)return null;var v=p+(d-h)/a,y=v%1;return r?v=Math.round(v):0===y&&v>0&&v--,Math.floor(v)},e.prototype.getCategory=function(t){var e=this.pointCategoryIndex(t);return null===e?null:this.options.categories[e]},e.prototype.categoryIndex=function(t){return this.totalIndex(t)-Math.floor(this.options.min||0)},e.prototype.categoryAt=function(t,e){var n=this.options;return(e?n.srcCategories:n.categories)[t]},e.prototype.categoriesCount=function(){return(this.options.categories||[]).length},e.prototype.translateRange=function(t){var e=this.options,n=this.lineBox(),r=e.vertical?n.height():n.width(),o=e.categories.length,i=r/o,s=ao(t/i,ar);return{min:s,max:o+s}},e.prototype.scaleRange=function(t,e){var n=Math.abs(this.pointOffset(e)),r=this.totalRangeIndices(),o=r.max-r.min,i=this.scaleToDelta(t,o),s=n*i,a=(1-n)*i,l=r.min+s,c=r.max-a;return c-l<wi&&(c=l+wi),{min:l,max:c}},e.prototype.zoomRange=function(t,e){var n=this.totalRange(),r=n.min,o=n.max,i=this.scaleRange(t,e);return{min:oo(i.min,r,o),max:oo(i.max,r,o)}},e.prototype.labelsCount=function(){var t=this.labelsRange();return t.max-t.min},e.prototype.labelsRange=function(){var t=this.options,e=t.justified,n=t.labels,r=this.totalRangeIndices(!0),o=r.min,i=r.max,s=Math.floor(o);e?(o=Math.ceil(o),i=Math.floor(i)):(o=Math.floor(o),i=Math.ceil(i));var a;return a=o>n.skip?n.skip+n.step*Math.ceil((o-n.skip)/n.step):n.skip,{min:a-s,max:(t.categories.length?i+(e?1:0):0)-s}},e.prototype.createAxisLabel=function(t,e,n){var r=this.options,o=r.dataItems?r.dataItems[t]:null,i=co(r.categories[t],"");n.dataItem=o;var s=this.axisLabelText(i,e,n);return new No(i,s,t,o,e)},e.prototype.shouldRenderNote=function(t){var e=this.totalRangeIndices();return Math.floor(e.min)<=t&&t<=Math.ceil(e.max)},e.prototype.noteSlot=function(t){var e=this.options,n=t-Math.floor(e.min||0);return this.getSlot(n)},e.prototype.arrangeNotes=function(){t.prototype.arrangeNotes.call(this),this.hideOutOfRangeNotes()},e.prototype.hideOutOfRangeNotes=function(){var t=this,e=t.notes,n=t.box;if(e&&e.length)for(var r=this.options.vertical?jr:Dr,o=n[r+1],i=n[r+2],s=0;s<e.length;s++){var a=e[s];a.box&&(i<a.box[r+1]||a.box[r+2]<o)&&a.hide()}},e.prototype.pan=function(t){var e=this.totalRangeIndices(!0),n=this.scaleOptions(),r=n.scale,o=ao(t/r,ar),i=this.totalRange(),s=e.min+o,a=e.max+o;return this.limitRange(s,a,0,i.max,o)},e.prototype.pointsRange=function(t,e){var n=this.options,r=n.reverse,o=n.vertical,i=o?jr:Dr,s=this.totalRangeIndices(!0),a=this.scaleOptions(),l=a.scale,c=a.box,u=c[i+(r?2:1)],p=t[i]-u,h=e[i]-u,f=s.min+p/l,d=s.min+h/l,v=Math.min(f,d),y=Math.max(f,d);if(y-v>=bi)return{min:v,max:y}},e.prototype.valueRange=function(){return this.range()},e.prototype.totalIndex=function(t){var e=this.options,n=this._categoriesMap?this._categoriesMap.get(t):ct(t,e.srcCategories);return n},e.prototype.currentRangeIndices=function(){var t=this.options,e=0;l(t.min)&&(e=Math.floor(t.min));var n;return n=l(t.max)?t.justified?Math.floor(t.max):Math.ceil(t.max)-1:this.totalCount()-1,{min:e,max:n}},e.prototype.mapCategories=function(){if(!this._categoriesMap)for(var t=this._categoriesMap=new Wr,e=this.options.srcCategories,n=0;n<e.length;n++)t.set(e[n],n)},e.prototype.totalCount=function(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)},e}(ei);E(_i,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:Jn},labels:{zIndex:1},justified:!1,_deferLabels:!0});var xi=3e5,ki={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},Si=.2,Ci="auto",Oi=[ni,ri,oi,ii,si,ai,li,ci],Ei="fit",Ti=function(t){this.options=t};Ti.prototype.displayIndices=function(){return{min:0,max:1}},Ti.prototype.displayRange=function(){return{}},Ti.prototype.total=function(){return{}},Ti.prototype.valueRange=function(){return{}},Ti.prototype.valueIndex=function(){return-1},Ti.prototype.values=function(){return[]},Ti.prototype.totalIndex=function(){return-1},Ti.prototype.valuesCount=function(){return 0},Ti.prototype.totalCount=function(){return 0},Ti.prototype.dateAt=function(){return null};var Mi=function(t,e,n){this.options=n,n.baseUnitStep=n.baseUnitStep||1;var r=n.roundToBaseUnit,o=n.justified;this.start=X(t,0,n.baseUnit,n.weekStartDay);var i=this.roundToTotalStep(e),s=!o&&nt(e,i)&&!n.justifyEnd;this.end=this.roundToTotalStep(e,!o,s?1:0);var a=n.min||t;this.valueStart=this.roundToTotalStep(a),this.displayStart=r?this.valueStart:a;var l=n.max;if(l){var c=!o&&nt(l,this.roundToTotalStep(l))?-1:0;this.valueEnd=this.roundToTotalStep(l,!1,c),this.displayEnd=r?this.roundToTotalStep(l,!o):n.max}else this.valueEnd=i,this.displayEnd=r||s?this.end:e;this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))};Mi.prototype.displayRange=function(){return{min:this.displayStart,max:this.displayEnd}},Mi.prototype.displayIndices=function(){if(!this._indices){var t=this.options,e=t.baseUnit,n=t.baseUnitStep,r=ot(this.displayStart,this.valueStart,e,n),o=ot(this.displayEnd,this.valueStart,e,n);this._indices={min:r,max:o}}return this._indices},Mi.prototype.total=function(){return{min:this.start,max:this.end}},Mi.prototype.totalCount=function(){var t=this.totalIndex(this.end);return t+(this.options.justified?1:0)},Mi.prototype.valueRange=function(){return{min:this.valueStart,max:this.valueEnd}},Mi.prototype.valueIndex=function(t){var e=this.options;return Math.floor(ot(t,this.valueStart,e.baseUnit,e.baseUnitStep))},Mi.prototype.totalIndex=function(t){var e=this.options;return Math.floor(ot(t,this.start,e.baseUnit,e.baseUnitStep))},Mi.prototype.dateIndex=function(t){var e=this.options;return ot(t,this.valueStart,e.baseUnit,e.baseUnitStep)},Mi.prototype.valuesCount=function(){
var t=this.valueIndex(this.valueEnd);return t+1},Mi.prototype.values=function t(){var t=this._values;if(!t){var e=this.options,n=this.valueRange();this._values=t=[];for(var r=n.min;r<=n.max;)t.push(r),r=X(r,e.baseUnitStep,e.baseUnit,e.weekStartDay)}return t},Mi.prototype.dateAt=function(t,e){var n=this.options;return X(e?this.start:this.valueStart,n.baseUnitStep*t,n.baseUnit,n.weekStartDay)},Mi.prototype.roundToTotalStep=function(t,e,n){var r=this.options,o=r.baseUnit,i=r.baseUnitStep,s=r.weekStartDay,a=this.start,l=ot(t,a,o,i),c=e?Math.ceil(l):Math.floor(l);return n&&(c+=n),X(a,c*i,o,s)};var Pi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(Object.assign({},this.options),this.chartService);return t.createLabels(),t},e.prototype.categoriesHash=function(){var t=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+t},e.prototype.initUserOptions=function(t){return t},e.prototype.initFields=function(){t.prototype.initFields.call(this);var e=this.chartService,n=e.intl,r=this.options,o=r.categories||[];if(o._parsed||(o=at(n,o),o._parsed=!0),r=f({roundToBaseUnit:!0},r,{categories:o,min:st(n,r.min),max:st(n,r.max),weekStartDay:lt(r,n)}),e.panning&&e.isPannable(r.vertical?jr:Dr)&&(r.roundToBaseUnit=!1),r.userSetBaseUnit=r.userSetBaseUnit||r.baseUnit,r.userSetBaseUnitStep=r.userSetBaseUnitStep||r.baseUnitStep,this.options=r,r.srcCategories=o,o.length>0){var i=ut(o),s=r.maxDivisions;if(this.dataRange=new Mi(i.min,i.max,ft(r)),s){var a=this.dataRange.displayRange(),l=Object.assign({},r,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:a.min,max:a.max,maxDateGroups:s}),c=this.dataRange.options;pt(l,c.baseUnit,c.baseUnitStep),this.divisionRange=new Mi(i.min,i.max,l)}else this.divisionRange=this.dataRange}else r.baseUnit=r.baseUnit||si,this.dataRange=this.divisionRange=new Ti(r);this.rangeLabels=[]},e.prototype.tickIndices=function(e){var n=this,r=n.dataRange,o=n.divisionRange,i=o.valuesCount();if(!this.options.maxDivisions||!i)return t.prototype.tickIndices.call(this,e);var s=[],a=o.values(),l=0;this.options.justified||(a=a.concat(o.dateAt(i)),l=.5);for(var c=0;c<a.length;c++)if(s.push(r.dateIndex(a[c])+l),1!==e&&c>=1){var u=s.length-1;s.splice(c,0,s[u-1]+(s[u]-s[u-1])*e)}return s},e.prototype.shouldRenderNote=function(t){var e=this.range(),n=this.options.categories||[];return Q(t,e.min)>=0&&Q(t,e.max)<=0&&n.length},e.prototype.parseNoteValue=function(t){return st(this.chartService.intl,t)},e.prototype.noteSlot=function(t){return this.getSlot(t)},e.prototype.translateRange=function(t){var e=this.options,n=e.baseUnit,r=e.weekStartDay,o=e.vertical,i=this.lineBox(),s=o?i.height():i.width(),a=this.range(),l=s/(a.max-a.min),c=ao(t/l,ar);if(a.min&&a.max){var u=K(e.min||a.min,c),p=K(e.max||a.max,c);a={min:X(u,0,n,r),max:X(p,0,n,r)}}return a},e.prototype.labelsRange=function(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}},e.prototype.pan=function(t){if(this.isEmpty())return null;var e=this.options,n=this.lineBox(),r=e.vertical?n.height():n.width(),o=this.dataRange.displayRange(),i=o.min,s=o.max,a=this.dataRange.total(),l=r/(s-i),c=ao(t/l,ar)*(e.reverse?-1:1),u=K(i,c),p=K(s,c),h=this.limitRange(et(u),et(p),et(a.min),et(a.max),c);return h?(h.min=q(h.min),h.max=q(h.max),h.baseUnit=e.baseUnit,h.baseUnitStep=e.baseUnitStep||1,h.userSetBaseUnit=e.userSetBaseUnit,h.userSetBaseUnitStep=e.userSetBaseUnitStep,h):void 0},e.prototype.pointsRange=function e(n,r){if(this.isEmpty())return null;var e=t.prototype.pointsRange.call(this,n,r),o=this.dataRange.displayRange(),i=this.dataRange.displayIndices(),s=tt(o.max,o.min)/(i.max-i.min),a=this.options,l=K(o.min,e.min*s),c=K(o.min,e.max*s);return{min:l,max:c,baseUnit:a.userSetBaseUnit||a.baseUnit,baseUnitStep:a.userSetBaseUnitStep||a.baseUnitStep}},e.prototype.scaleRange=function(t,e){if(this.isEmpty())return{};var n=this.options,r=n.userSetBaseUnit===Ei,o=this.dataRange.total(),i=this.dataRange.displayRange(),s=i.min,a=i.max,l=Math.abs(this.pointOffset(e)),c=a-s,u=this.scaleToDelta(t,c),p=Math.round(l*u),h=Math.round((1-l)*u),f=this.dataRange.options,d=f.baseUnit,v=new Date(s.getTime()+p),y=new Date(a.getTime()-h);if(r){var g,m,b=n.autoBaseUnitSteps,w=n.maxDateGroups,_=ro(b[d])*w*mi[d],x=tt(a,s),k=tt(y,v),S=Oi.indexOf(d);if(k<mi[d]&&d!==ni)d=Oi[S-1],g=ro(b[d]),m=(x-(w-1)*g*mi[d])/2,v=K(s,m),y=K(a,-m);else if(k>_&&d!==ci){var C=0;do{S++,d=Oi[S],C=0,m=2*mi[d];do g=b[d][C],C++;while(C<b[d].length&&m*g<x)}while(d!==ci&&m*g<x);m=(m*g-x)/2,m>0&&(v=K(s,-m),y=K(a,m),v=K(v,oo(y,o.min,o.max)-y),y=K(y,oo(v,o.min,o.max)-v))}}return v&&y&&tt(y,v)>0?{min:v,max:y,baseUnit:n.userSetBaseUnit||n.baseUnit,baseUnitStep:n.userSetBaseUnitStep||n.baseUnitStep}:void 0},e.prototype.zoomRange=function(t,e){var n=this.dataRange.total(),r=this.scaleRange(t,e);return r&&(r.min<n.min&&(r.min=n.min),r.max>n.max&&(r.max=n.max)),r},e.prototype.range=function(){return this.dataRange.displayRange()},e.prototype.createLabels=function(){t.prototype.createLabels.call(this),this.createRangeLabels()},e.prototype.clearLabels=function(){t.prototype.clearLabels.call(this),this.rangeLabels=[]},e.prototype.arrangeLabels=function(){this.arrangeRangeLabels(),t.prototype.arrangeLabels.call(this)},e.prototype.arrangeRangeLabels=function(){var t=this,e=t.options,n=t.rangeLabels;if(0!==n.length){var r=this.lineBox(),o=e.vertical,i=e.rangeLabels.mirror||e.labels.mirror,s=n[0];if(s){var a=o?r.y1-s.box.height()/2:r.x1;this.positionLabel(s,i,a)}var l=n[1];if(l){var c=o?r.y2-l.box.height()/2:r.x2;this.positionLabel(l,i,c)}}},e.prototype.autoRotateLabels=function(){t.prototype.autoRotateLabels.call(this),this.autoRotateRangeLabels()},e.prototype.hideOutOfRangeLabels=function(){t.prototype.hideOutOfRangeLabels.call(this),this.hideOverlappingLabels()},e.prototype.hideOverlappingLabels=function(){function t(t,e){return!(e.options.visible&&!e.box.overlaps(t.box))&&(e.options.visible=!1,!0)}var e=this,n=e.rangeLabels,r=e.labels;if(0!==n.length){var o=n[0];if(o&&o.options.visible)for(var i=0;i<r.length;i++){var s=t(o,r[i]);if(!s)break}var a=n[1];if(a&&a.options.visible)for(var l=r.length-1;l>0;--l){var c=t(a,r[l]);if(!c)break}}},e.prototype.contentBox=function(){for(var e=t.prototype.contentBox.call(this),n=this.rangeLabels,r=0;r<n.length;r++){var o=n[r];o.options.visible&&e.wrap(o.box)}return e},e.prototype.createAxisLabel=function(t,e,n){void 0===n&&(n={});var r=this.options,o=r.dataItems&&!r.maxDivisions?r.dataItems[t]:null,i=this.divisionRange.dateAt(t),s=e.dateFormats[this.divisionRange.options.baseUnit];e.format=e.format||s,n.dataItem=o;var a=this.axisLabelText(i,e,n);if(a)return new No(i,a,t,o,e)},e.prototype.createRangeLabels=function(){var t=this,e=this.divisionRange,n=e.displayStart,r=e.displayEnd,o=this.options,i=Object.assign({},o.labels,o.rangeLabels,{align:tr,zIndex:o.zIndex});if(i.visible===!0){this.normalizeLabelRotation(i),i.alignRotation=tr,"auto"===i.rotation&&(i.rotation=0,o.autoRotateRangeLabels=!0);var s=i.dateFormats[this.divisionRange.options.baseUnit];i.format=i.format||s;var a=function(e,n,r){if(r){var o=new No(n,r,e,null,i);t.append(o),t.rangeLabels.push(o)}},l=this.axisLabelText(n,i,{index:0,count:2});a(0,n,l);var c=this.axisLabelText(r,i,{index:1,count:2});a(1,r,c)}},e.prototype.autoRotateRangeLabels=function(){var t=this,e=this.rangeLabels;if(this.options.autoRotateRangeLabels&&!this.options.vertical&&2===e.length){var n=function(e,n,r){var o=2*Math.abs(n[r+1]-n[r]),i=t.autoRotateLabelAngle(e.box,o);0!==i&&(e.options.rotation=i,e.reflow(new xo))},r=this.getMajorTickPositions();n(e[0],r,0),n(e[1],r,r.length-2)}},e.prototype.categoryIndex=function(t){return this.dataRange.valueIndex(t)},e.prototype.slot=function t(e,n,r){var o=this.dataRange,i=e,s=n;i instanceof Date&&(i=o.dateIndex(i)),s instanceof Date&&(s=o.dateIndex(s));var t=this.getSlot(i,s,r);if(t)return t.toRect()},e.prototype.getSlot=function(e,n,r){var o=e,i=n;return typeof o===_r&&(o=this.categoryIndex(o)),typeof i===_r&&(i=this.categoryIndex(i)),t.prototype.getSlot.call(this,o,i,r)},e.prototype.valueRange=function(){var t=this.options,e=ut(t.srcCategories);return{min:q(e.min),max:q(e.max)}},e.prototype.categoryAt=function(t,e){return this.dataRange.dateAt(t,e)},e.prototype.categoriesCount=function(){return this.dataRange.valuesCount()},e.prototype.rangeIndices=function(){return this.dataRange.displayIndices()},e.prototype.labelsBetweenTicks=function(){return!this.divisionRange.options.justified},e.prototype.prepareUserOptions=function(){this.isEmpty()||(this.options.categories=this.dataRange.values())},e.prototype.getCategory=function(t){var e=this.pointCategoryIndex(t);return null===e?null:this.dataRange.dateAt(e)},e.prototype.totalIndex=function(t){return this.dataRange.totalIndex(t)},e.prototype.currentRangeIndices=function(){var t=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(t.min),max:this.dataRange.totalIndex(t.max)}},e.prototype.totalRange=function(){return this.dataRange.total()},e.prototype.totalCount=function(){return this.dataRange.totalCount()},e.prototype.isEmpty=function(){return!this.options.srcCategories.length},e.prototype.roundedRange=function(){if(this.options.roundToBaseUnit!==!1||this.isEmpty())return this.range();var t=this.options,e=ut(t.srcCategories),n=new Mi(e.min,e.max,Object.assign({},t,{justified:!1,roundToBaseUnit:!0,justifyEnd:t.justified}));return n.displayRange()},e}(_i);E(Pi,{type:or,labels:{dateFormats:ki},rangeLabels:{visible:!1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});var Ai=Math.pow(10,-ar+1),Di=function(t){function e(e,n,r,o){t.call(this,Object.assign({},r,{seriesMin:e,seriesMax:n}),o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){var e=bt(t.seriesMin,t.seriesMax,t);return this.totalOptions=wt(e,t),xt(e,t)},e.prototype.initFields=function(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax},e.prototype.clone=function(){return new e(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},e.prototype.startValue=function(){return 0},e.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},e.prototype.getDivisions=function(t){if(0===t)return 1;var e=this.options,n=e.max-e.min;return Math.floor(ao(n/t,nr))+1},e.prototype.getTickPositions=function(t,e){var n=this.options,r=this.lineInfo(),o=r.axisDir,i=r.axisOrigin,s=r.lineBox,a=r.lineSize,l=n.max-n.min,c=a/l,u=t*c,p=this.getDivisions(t),h=[],f=s[i],d=0;e&&(d=e/t);for(var v=0;v<p;v++)v%d!==0&&h.push(ao(f,nr)),f+=u*o;return h},e.prototype.getMajorTickPositions=function(){return this.getTickPositions(this.options.majorUnit)},e.prototype.getMinorTickPositions=function(){return this.getTickPositions(this.options.minorUnit)},e.prototype.getSlot=function(t,e,n){void 0===n&&(n=!1);var r=this.options,o=this.lineInfo(),i=o.axis,s=o.axisDir,a=o.lineBox,l=o.lineSize,c=o.lineStart,u=s*(l/(r.max-r.min)),p=co(t,e||0),h=co(e,t||0);n&&(p=oo(p,r.min,r.max),h=oo(h,r.min,r.max));var f=Math.min(p,h)-r.min,d=Math.max(p,h)-r.min,v=new xo(a.x1,a.y1,a.x1,a.y1);return v[i+1]=mt(c+u*(s>0?f:d)),v[i+2]=mt(c+u*(s>0?d:f)),v},e.prototype.getValue=function(t){var e=this.options,n=Number(e.max),r=Number(e.min),o=this.pointOffset(t),i=o*(n-r);if(o<0||o>1)return null;var s=r+i;return ao(s,ar)},e.prototype.translateRange=function(t){var e=this.options,n=e.vertical,r=e.reverse,o=e.max,i=e.min,s=this.lineInfo(),a=s.lineSize,l=o-i,c=a/l,u=ao(t/c,ar);return!n&&!r||n&&r||(u=-u),{min:i+u,max:o+u,offset:u}},e.prototype.labelsCount=function(){return this.getDivisions(this.options.majorUnit)},e.prototype.createAxisLabel=function(t,e,n){var r=this.options,o=ao(r.min+t*r.majorUnit,ar),i=this.axisLabelText(o,e,n);return new No(o,i,t,null,e)},e.prototype.shouldRenderNote=function(t){var e=this.range();return e.min<=t&&t<=e.max},e.prototype.pan=function(t){var e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)},e.prototype.pointsRange=function(t,e){var n=this.getValue(t),r=this.getValue(e),o=Math.min(n,r),i=Math.max(n,r);if(this.isValidRange(o,i))return{min:o,max:i}},e.prototype.scaleRange=function(t,e){var n=Math.abs(this.pointOffset(e)),r=this.options.max-this.options.min,o=this.scaleToDelta(t,r),i=n*o,s=(1-n)*o,a=ao(this.options.min+i,ar),l=ao(this.options.max-s,ar);return l-a<Ai&&(l=a+Ai),{min:a,max:l}},e.prototype.zoomRange=function(t,e){var n=this,r=n.totalMin,o=n.totalMax,i=this.scaleRange(t,e);return{min:oo(i.min,r,o),max:oo(i.max,r,o)}},e.prototype.isValidRange=function(t,e){return e-t>Ai},e}(ei);E(Di,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Jn},labels:{format:"#.####################"},zIndex:1});var ji=1e3,Ri=function(t){function e(e,n,r,o){var i=q(e),s=q(n),a=o.intl,l=r||{};l=f(l||{},{min:st(a,l.min),max:st(a,l.max),axisCrossingValue:at(a,l.axisCrossingValues||l.axisCrossingValue),weekStartDay:lt(l,a)}),l=Ct(i,s,l),t.call(this,l,o),this.intlService=a,this.seriesMin=i,this.seriesMax=s;var c=l.weekStartDay||0;this.totalMin=et(Z(et(i)-1,l.baseUnit,c)),this.totalMax=et(J(et(s)+1,l.baseUnit,c))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},e.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},e.prototype.getDivisions=function(t){var e=this.options;return Math.floor(it(e.min,e.max,e.baseUnit)/t+1)},e.prototype.getTickPositions=function(t){for(var e=this.options,n=this.lineInfo(),r=n.axisDir,o=n.lineSize,i=n.lineStart,s=this.getDivisions(t),a=tt(e.max,e.min),l=o/a,c=e.weekStartDay||0,u=[i],p=1;p<s;p++){var h=X(e.min,p*t,e.baseUnit,c),f=i+tt(h,e.min)*l*r;u.push(ao(f,nr))}return u},e.prototype.getMajorTickPositions=function(){return this.getTickPositions(this.options.majorUnit)},e.prototype.getMinorTickPositions=function(){return this.getTickPositions(this.options.minorUnit)},e.prototype.getSlot=function(t,e,n){return Di.prototype.getSlot.call(this,st(this.intlService,t),st(this.intlService,e),n)},e.prototype.getValue=function(t){var e=Di.prototype.getValue.call(this,t);return null!==e?q(e):null},e.prototype.labelsCount=function(){return this.getDivisions(this.options.majorUnit)},e.prototype.createAxisLabel=function(t,e,n){var r=this.options,o=t*r.majorUnit,i=r.weekStartDay||0,s=r.min;o>0&&(s=X(s,o,r.baseUnit,i));var a=e.dateFormats[r.baseUnit];e.format=e.format||a;var l=this.axisLabelText(s,e,n);return new No(s,l,t,null,e)},e.prototype.translateRange=function(t){var e=this.options,n=this.lineBox(),r=e.vertical,o=e.reverse,i=r?n.height():n.width(),s=this.range(),a=i/tt(s.max,s.min),l=ao(t/a,ar);!r&&!o||r&&o||(l=-l);var c=K(e.min,l),u=K(e.max,l);return{min:c,max:u,offset:l}},e.prototype.shouldRenderNote=function(t){var e=this.range();return Q(t,e.min)>=0&&Q(t,e.max)<=0},e.prototype.pan=function(t){var e=this.translateRange(t,!0),n=this.limitRange(et(e.min),et(e.max),this.totalMin,this.totalMax,e.offset);if(n)return{min:q(n.min),max:q(n.max)}},e.prototype.pointsRange=function(t,e){var n=this.getValue(t),r=this.getValue(e),o=Math.min(n,r),i=Math.max(n,r);return{min:q(o),max:q(i)}},e.prototype.scaleRange=function(t,e){var n=Math.abs(this.pointOffset(e)),r=this.options.max-this.options.min,o=this.scaleToDelta(t,r),i=n*o,s=(1-n)*o,a=q(et(this.options.min)+i),l=q(et(this.options.max)-s);return l-a<ji&&(l=q(et(a)+ji)),{min:a,max:l}},e.prototype.zoomRange=function(t,e){var n=this.scaleRange(t,e),r=q(oo(et(n.min),this.totalMin,this.totalMax)),o=q(oo(et(n.max),this.totalMin,this.totalMax));return{min:r,max:o}},e}(ei);E(Ri,{type:or,majorGridLines:{visible:!0,width:1,color:Jn},labels:{dateFormats:ki}});var Ii=10,Li=1e-6,zi=function(t){function e(e,n,r,o){var i=f({majorUnit:Ii,min:e,max:n},r),s=i.majorUnit,a=Tt(n,s),l=Et(e,n,i),c=Ot(l,a,i,r);i.max=c.max,i.min=c.min,i.minorUnit=r.minorUnit||ao(s-1,ar),t.call(this,i,o),this.totalMin=Xr(r.min)?Math.min(l,r.min):l,this.totalMax=Xr(r.max)?Math.max(a,r.max):a,this.logMin=ao(Pt(c.min,s),ar),this.logMax=ao(Pt(c.max,s),ar),this.seriesMin=e,this.seriesMax=n,this.createLabels()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},e.prototype.startValue=function(){return this.options.min},e.prototype.getSlot=function(t,e,n){var r=this,o=r.options,i=r.logMin,s=r.logMax,a=o.majorUnit,l=o.min,c=o.max,u=this.lineInfo(),p=u.axis,h=u.axisDir,f=u.lineBox,d=u.lineSize,v=u.lineStart,y=h*(d/(s-i)),g=co(t,e||1),m=co(e,t||1);if(g<=0||m<=0)return null;n&&(g=oo(g,l,c),m=oo(m,l,c)),g=Pt(g,a),m=Pt(m,a);var b=Math.min(g,m)-i,w=Math.max(g,m)-i,_=new xo(f.x1,f.y1,f.x1,f.y1);return _[p+1]=mt(v+y*(h>0?b:w)),_[p+2]=mt(v+y*(h>0?w:b)),_},e.prototype.getValue=function(t){var e=this,n=e.options,r=e.logMin,o=e.logMax,i=n.majorUnit,s=this.lineInfo(),a=s.axis,l=s.axisDir,c=s.lineStart,u=s.lineSize,p=(o-r)/u,h=l*(t[a]-c),f=h*p;if(h<0||h>u)return null;var d=r+f;return ao(Math.pow(i,d),ar)},e.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},e.prototype.translateRange=function(t){var e=this,n=e.options,r=e.logMin,o=e.logMax,i=n.reverse,s=n.vertical,a=n.majorUnit,l=this.lineBox(),c=s?l.height():l.width(),u=c/(o-r),p=ao(t/u,ar);return!s&&!i||s&&i||(p=-p),{min:Math.pow(a,r+p),max:Math.pow(a,o+p),offset:p}},e.prototype.labelsCount=function(){var t=Math.floor(this.logMax),e=Math.floor(t-this.logMin)+1;return e},e.prototype.getMajorTickPositions=function(){var t=[];return this.traverseMajorTicksPositions(function(e){t.push(e)},{step:1,skip:0}),t},e.prototype.createTicks=function(t){function e(e,n){c.tickX=s?a.x2:a.x2-n.size,c.tickY=s?a.y1-n.size:a.y1,c.position=e,t.append(H(c,n))}var n=this.options,r=n.majorTicks,o=n.minorTicks,i=n.vertical,s=n.labels.mirror,a=this.lineBox(),l=[],c={vertical:i};return r.visible&&this.traverseMajorTicksPositions(e,r),o.visible&&this.traverseMinorTicksPositions(e,o),l},e.prototype.createGridLines=function(t){function e(t,e){k(t,l)||(a.position=t,c.append(W(a,e)),l.push(t))}var n=this.options,r=n.minorGridLines,o=n.majorGridLines,i=n.vertical,s=t.lineBox(),a={lineStart:s[i?"x1":"y1"],lineEnd:s[i?"x2":"y2"],vertical:i},l=[],c=this.gridLinesVisual();return o.visible&&this.traverseMajorTicksPositions(e,o),r.visible&&this.traverseMinorTicksPositions(e,r),c.children},e.prototype.traverseMajorTicksPositions=function(t,e){for(var n=this.lineInfo(),r=n.lineStart,o=n.step,i=this,s=i.logMin,a=i.logMax,l=Math.ceil(s)+e.skip;l<=a;l+=e.step){var c=ao(r+o*(l-s),ar);t(c,e)}},e.prototype.traverseMinorTicksPositions=function(t,e){for(var n=this,r=this.options,o=r.min,i=r.max,s=r.minorUnit,a=r.majorUnit,l=this.lineInfo(),c=l.lineStart,u=l.step,p=this,h=p.logMin,f=p.logMax,d=Math.floor(h),v=d;v<f;v++)for(var y=n._minorIntervalOptions(v),g=e.skip;g<s;g+=e.step){var m=y.value+g*y.minorStep;if(m>i)break;if(m>=o){var b=ao(c+u*(Pt(m,a)-h),ar);t(b,e)}}},e.prototype.createAxisLabel=function(t,e,n){var r=Math.ceil(this.logMin+t),o=Math.pow(this.options.majorUnit,r),i=this.axisLabelText(o,e,n);return new No(o,i,t,null,e)},e.prototype.shouldRenderNote=function(t){var e=this.range();return e.min<=t&&t<=e.max},e.prototype.pan=function(t){var e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)},e.prototype.pointsRange=function(t,e){var n=this.getValue(t),r=this.getValue(e),o=Math.min(n,r),i=Math.max(n,r);return{min:o,max:i}},e.prototype.scaleRange=function(t,e){var n=this.options,r=n.majorUnit,o=Pt(this.options.min,r),i=Pt(this.options.max,r),s=Math.abs(this.pointOffset(e)),a=i-o,l=this.scaleToDelta(t,a),c=Math.pow(r,o+s*l),u=Math.pow(r,i-(1-s)*l);return u-c<Li&&(u=c+Li),{min:c,max:u}},e.prototype.zoomRange=function(t,e){var n=this.scaleRange(t,e),r=this,o=r.totalMin,i=r.totalMax;return{min:oo(n.min,o,i),max:oo(n.max,o,i)}},e.prototype._minorIntervalOptions=function(t){var e=this.options,n=e.minorUnit,r=e.majorUnit,o=Math.pow(r,t),i=Math.pow(r,t+1),s=i-o,a=s/n;return{value:o,minorStep:a}},e.prototype.lineInfo=function(){var e=t.prototype.lineInfo.call(this);return e.step=e.axisDir*(e.lineSize/(this.logMax-this.logMin)),e},e}(ei);E(zi,{type:"log",majorUnit:Ii,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Jn},zIndex:1,_deferLabels:!0});var Fi={createGridLines:function(t){var e,n,r=this.options,o=Math.abs(this.box.center().y-t.lineBox().y1),i=[],s=!1;return r.majorGridLines.visible&&(e=this.majorGridLineAngles(t),s=!0,i=this.renderMajorGridLines(e,o,r.majorGridLines)),r.minorGridLines.visible&&(n=this.minorGridLineAngles(t,s),$r(i,this.renderMinorGridLines(n,o,r.minorGridLines,t,s))),i},renderMajorGridLines:function(t,e,n){return this.renderGridLines(t,e,n)},renderMinorGridLines:function(t,e,n,r,o){var i=this.radiusCallback&&this.radiusCallback(e,r,o);return this.renderGridLines(t,e,n,i)},renderGridLines:function(t,e,n,r){for(var o={stroke:{width:n.width,color:n.color,dashType:n.dashType}},i=this.box.center(),s=new Yn.geometry.Circle([i.x,i.y],e),a=this.gridLinesVisual(),l=0;l<t.length;l++){var c=new Yn.drawing.Path(o);r&&(s.radius=r(t[l])),c.moveTo(s.center).lineTo(s.pointAt(t[l]+180)),a.append(c)}return a.children},gridLineAngles:function(t,e,n,r,o){var i=this,s=this.intervals(e,n,r,o),a=t.options,l=a.visible&&(a.line||{}).visible!==!1;return C(s,function(t){var e=i.intervalAngle(t);if(!l||90!==e)return e})}},Bi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.range=function(){return{min:0,max:this.options.categories.length}},e.prototype.reflow=function(t){this.box=t,this.reflowLabels()},e.prototype.lineBox=function(){return this.box},e.prototype.reflowLabels=function(){for(var t=this,e=this,n=e.labels,r=e.options.labels,o=r.skip||0,i=r.step||1,s=new xo,a=0;a<n.length;a++){n[a].reflow(s);var l=n[a].box;n[a].reflow(t.getSlot(o+a*i).adjacentBox(0,l.width(),l.height()))}},e.prototype.intervals=function(t,e,n,r){void 0===r&&(r=!1);for(var o=this.options,i=o.categories.length,s=i/t||1,a=360/s,l=e||0,c=n||1,u=[],p=0,h=l;h<s;h+=c)p=o.reverse?360-h*a:h*a,p=ao(p,nr)%360,r&&k(p,r)||u.push(p);return u},e.prototype.majorIntervals=function(){return this.intervals(1)},e.prototype.minorIntervals=function(){return this.intervals(.5)},e.prototype.intervalAngle=function(t){return(360+t+this.options.startAngle)%360},e.prototype.majorAngles=function(){var t=this;return C(this.majorIntervals(),function(e){return t.intervalAngle(e)})},e.prototype.createLine=function(){return[]},e.prototype.majorGridLineAngles=function(t){var e=this.options.majorGridLines;return this.gridLineAngles(t,1,e.skip,e.step)},e.prototype.minorGridLineAngles=function(t,e){var n=this.options,r=n.minorGridLines,o=n.majorGridLines,i=e?this.intervals(1,o.skip,o.step):null;return this.gridLineAngles(t,.5,r.skip,r.step,i)},e.prototype.radiusCallback=function t(e,n,r){if(n.options.type!==Xn){var o=so(360/(2*this.options.categories.length)),i=Math.cos(o)*e,s=this.majorAngles(),t=function(t){return!r&&k(t,s)?e:i};return t}},e.prototype.createPlotBands=function(){for(var t=this,e=this.options.plotBands||[],n=this._plotbandGroup=new Yn.drawing.Group({zIndex:-1}),r=0;r<e.length;r++){var o=e[r],i=t.plotBandSlot(o),s=t.getSlot(o.from),a=o.from-Math.floor(o.from);i.startAngle+=a*s.angle;var l=Math.ceil(o.to)-o.to;i.angle-=(l+a)*s.angle;var c=Oo.current.createRing(i,{fill:{color:o.color,opacity:o.opacity},stroke:{opacity:o.opacity}});n.append(c)}this.appendVisual(n)},e.prototype.plotBandSlot=function(t){return this.getSlot(t.from,t.to-1)},e.prototype.getSlot=function(t,e){var n=this.options,r=n.justified,o=this.box,i=this.majorAngles(),s=i.length,a=360/s,l=t;n.reverse&&!r&&(l=(l+1)%s),l=oo(Math.floor(l),0,s-1);var c=i[l];r&&(c-=a/2,c<0&&(c+=360));var u=oo(Math.ceil(e||l),l,s-1),p=u-l+1,h=a*p;return new ko(o.center(),0,o.height()/2,c,h)},e.prototype.slot=function t(e,n){var t=this.getSlot(e,n),r=t.startAngle+180,o=r+t.angle;return new Yn.geometry.Arc([t.center.x,t.center.y],{startAngle:r,endAngle:o,radiusX:t.radius,radiusY:t.radius})},e.prototype.pointCategoryIndex=function(t){for(var e=this,n=this.options.categories.length,r=null,o=0;o<n;o++){var i=e.getSlot(o);if(i.containsPoint(t)){r=o;break}}return r},e}(_i);E(Bi,{startAngle:90,labels:{margin:m(10)},majorGridLines:{visible:!0},justified:!0}),f(Bi.prototype,Fi);var Ni=function(t){function e(e,n){t.call(this,e,n);var r=this.options;r.minorUnit=r.minorUnit||r.majorUnit/2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDivisions=function(t){return Di.prototype.getDivisions.call(this,t)-1},e.prototype.reflow=function(t){this.box=t,this.reflowLabels()},e.prototype.reflowLabels=function(){for(var t=this,e=this,n=e.options,r=e.labels,o=e.options.labels,i=o.skip||0,s=o.step||1,a=new xo,l=this.intervals(n.majorUnit,i,s),c=0;c<r.length;c++){r[c].reflow(a);var u=r[c].box;r[c].reflow(t.getSlot(l[c]).adjacentBox(0,u.width(),u.height()))}},e.prototype.lineBox=function(){return this.box},e.prototype.intervals=function(t,e,n,r){void 0===r&&(r=!1);for(var o=this.options.min,i=this.getDivisions(t),s=[],a=e||0,l=n||1,c=a;c<i;c+=l){var u=(360+o+c*t)%360;r&&k(u,r)||s.push(u)}return s},e.prototype.majorIntervals=function(){return this.intervals(this.options.majorUnit)},e.prototype.minorIntervals=function(){return this.intervals(this.options.minorUnit)},e.prototype.intervalAngle=function(t){return(540-t-this.options.startAngle)%360},e.prototype.createLine=function(){return[]},e.prototype.majorGridLineAngles=function(t){var e=this.options.majorGridLines;return this.gridLineAngles(t,this.options.majorUnit,e.skip,e.step)},e.prototype.minorGridLineAngles=function(t,e){var n=this.options,r=n.minorGridLines,o=n.majorGridLines,i=e?this.intervals(n.majorUnit,o.skip,o.step):null;return this.gridLineAngles(t,n.minorUnit,r.skip,r.step,i)},e.prototype.plotBandSlot=function(t){return this.getSlot(t.from,t.to)},e.prototype.getSlot=function(t,e){var n=this,r=n.options,o=n.box,i=r.startAngle,s=oo(t,r.min,r.max),a=oo(e||s,s,r.max);if(r.reverse&&(s*=-1,a*=-1),s=(540-s-i)%360,a=(540-a-i)%360,a<s){var l=s;s=a,a=l}return new ko(o.center(),0,o.height()/2,s,a-s)},e.prototype.slot=function t(e,n){void 0===n&&(n=e);var r,o,i=this.options,s=360-i.startAngle,t=this.getSlot(e,n),a=Math.min(e,n),l=Math.max(e,n);return i.reverse?(r=a,o=l):(r=360-l,o=360-a),r=(r+s)%360,o=(o+s)%360,new Yn.geometry.Arc([t.center.x,t.center.y],{startAngle:r,endAngle:o,radiusX:t.radius,radiusY:t.radius})},e.prototype.getValue=function(t){var e=this.options,n=this.box.center(),r=t.x-n.x,o=t.y-n.y,i=Math.round(Zr(Math.atan2(o,r))),s=e.startAngle;return e.reverse||(i*=-1,s*=-1),(i+s+360)%360},e.prototype.valueRange=function(){return{min:0,max:2*Math.PI}},e}(ei);E(Ni,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:m(10)},majorGridLines:{color:Jn,visible:!0,width:1},minorGridLines:{color:"#aaa"}}),f(Ni.prototype,Fi,{createPlotBands:Bi.prototype.createPlotBands,majorAngles:Bi.prototype.majorAngles,range:Di.prototype.range,labelsCount:Di.prototype.labelsCount,createAxisLabel:Di.prototype.createAxisLabel});var Vi={options:{majorGridLines:{visible:!0}},createPlotBands:function(){var t=this,e=this.options,n=e.majorGridLines.type,r=e.plotBands;void 0===r&&(r=[]);for(var o=this.plotArea.polarAxis,i=o.majorAngles(),s=o.box.center(),a=this._plotbandGroup=new Yn.drawing.Group({zIndex:-1}),l=0;l<r.length;l++){var c=r[l],u={fill:{color:c.color,opacity:c.opacity},stroke:{opacity:c.opacity}},p=t.getSlot(c.from,c.to,!0),h=new ko(s,s.y-p.y2,s.y-p.y1,0,360),f=void 0;f=n===Xn?Oo.current.createRing(h,u):Yn.drawing.Path.fromPoints(t.plotBandPoints(h,i),u).close(),a.append(f)}this.appendVisual(a)},plotBandPoints:function(t,e){for(var n=[],r=[],o=[t.center.x,t.center.y],i=new Yn.geometry.Circle(o,t.innerRadius),s=new Yn.geometry.Circle(o,t.radius),a=0;a<e.length;a++)n.push(i.pointAt(e[a]+180)),r.push(s.pointAt(e[a]+180));return n.reverse(),n.push(n[0]),r.push(r[0]),r.concat(n)},createGridLines:function(t){var e=this.options,n=this.radarMajorGridLinePositions(),r=t.majorAngles(),o=t.box.center(),i=[];if(e.majorGridLines.visible&&(i=this.renderGridLines(o,n,r,e.majorGridLines)),e.minorGridLines.visible){var s=this.radarMinorGridLinePositions();$r(i,this.renderGridLines(o,s,r,e.minorGridLines))}return i},renderGridLines:function(t,e,n,r){var o={stroke:{width:r.width,color:r.color,dashType:r.dashType}},i=r.skip;void 0===i&&(i=0);var s=r.step;void 0===s&&(s=0);for(var a=this.gridLinesVisual(),l=i;l<e.length;l+=s){var c=t.y-e[l];if(c>0){var u=new Yn.geometry.Circle([t.x,t.y],c);if(r.type===Xn)a.append(new Yn.drawing.Circle(u,o));else{for(var p=new Yn.drawing.Path(o),h=0;h<n.length;h++)p.lineTo(u.pointAt(n[h]+180));p.close(),a.append(p)}}}return a.children},getValue:function(t){var e=this.lineBox(),n=this.plotArea.polarAxis,r=n.majorAngles(),o=n.box.center(),i=t.distanceTo(o),s=i;if(this.options.majorGridLines.type!==Xn&&r.length>1){var a=t.x-o.x,l=t.y-o.y,c=(Zr(Math.atan2(l,a))+540)%360;r.sort(function(t,e){return At(t,c)-At(e,c)});var u=At(r[0],r[1])/2,p=At(c,r[0]),h=90-u,f=180-p-h;s=i*(Math.sin(so(f))/Math.sin(so(h)))}return this.axisType().prototype.getValue.call(this,new _o(e.x1,e.y2-s))}},Hi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.radarMajorGridLinePositions=function(){return this.getTickPositions(this.options.majorUnit)},e.prototype.radarMinorGridLinePositions=function(){var t=this.options,e=0;return t.majorGridLines.visible&&(e=t.majorUnit),this.getTickPositions(t.minorUnit,e)},e.prototype.axisType=function(){return t},e}(Di);f(Hi.prototype,Vi);var Wi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.radarMajorGridLinePositions=function(){var t=[];return this.traverseMajorTicksPositions(function(e){t.push(e)},this.options.majorGridLines),t},e.prototype.radarMinorGridLinePositions=function(){var t=[];return this.traverseMinorTicksPositions(function(e){t.push(e)},this.options.minorGridLines),t},e.prototype.axisType=function(){return t},e}(zi);f(Wi.prototype,Vi);var Ui=.333,Ki=.01,qi=function(t){function e(e){t.call(this),this.closed=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.process=function(t){var e=this,n=t.slice(0),r=[],o=this.closed,i=n.length;if(i>2&&(this.removeDuplicates(0,n),i=n.length),i<2||2===i&&n[0].equals(n[1]))return r;var s=n[0],a=n[1],l=n[2];for(r.push(new Yn.geometry.Segment(s));s.equals(n[i-1]);)o=!0,n.pop(),i--;if(2===i){var c=this.tangent(s,a,Dr,jr);return ro(r).controlOut(this.firstControlPoint(c,s,a,Dr,jr)),r.push(new Yn.geometry.Segment(a,this.secondControlPoint(c,s,a,Dr,jr))),r}var u,p;if(o){s=n[i-1],a=n[0],l=n[1];var h=this.controlPoints(s,a,l);u=h[1],p=h[0]}else{var f=this.tangent(s,a,Dr,jr);u=this.firstControlPoint(f,s,a,Dr,jr)}for(var d=u,v=0;v<=i-3;v++)if(e.removeDuplicates(v,n),i=n.length,v+3<=i){s=n[v],a=n[v+1],l=n[v+2];var y=e.controlPoints(s,a,l);ro(r).controlOut(d),d=y[1];var g=y[0];r.push(new Yn.geometry.Segment(a,g))}if(o){s=n[i-2],a=n[i-1],l=n[0];var m=this.controlPoints(s,a,l);ro(r).controlOut(d),r.push(new Yn.geometry.Segment(a,m[0])),ro(r).controlOut(m[1]),
r.push(new Yn.geometry.Segment(l,p))}else{var b=this.tangent(a,l,Dr,jr);ro(r).controlOut(d),r.push(new Yn.geometry.Segment(l,this.secondControlPoint(b,a,l,Dr,jr)))}return r},e.prototype.removeDuplicates=function(t,e){for(;e[t+1]&&(e[t].equals(e[t+1])||e[t+1].equals(e[t+2]));)e.splice(t+1,1)},e.prototype.invertAxis=function t(e,n,r){var t=!1;if(e.x===n.x)t=!0;else if(n.x===r.x)(n.y<r.y&&e.y<=n.y||r.y<n.y&&n.y<=e.y)&&(t=!0);else{var o=this.lineFunction(e,n),i=this.calculateFunction(o,r.x);e.y<=n.y&&r.y<=i||n.y<=e.y&&r.y>=i||(t=!0)}return t},e.prototype.isLine=function(t,e,n){var r=this.lineFunction(t,e),o=this.calculateFunction(r,n.x);return t.x===e.x&&e.x===n.x||ao(o,1)===ao(n.y,1)},e.prototype.lineFunction=function(t,e){var n=(e.y-t.y)/(e.x-t.x),r=t.y-n*t.x;return[r,n]},e.prototype.controlPoints=function(t,e,n){var r,o=Dr,i=jr,s=!1,a=!1;if(this.isLine(t,e,n))r=this.tangent(t,e,Dr,jr);else{var l={x:this.isMonotonicByField(t,e,n,Dr),y:this.isMonotonicByField(t,e,n,jr)};if(l.x&&l.y)r=this.tangent(t,n,Dr,jr),s=!0;else if(this.invertAxis(t,e,n)&&(o=jr,i=Dr),l[o])r=0;else{var c;c=n[i]<t[i]&&t[i]<=e[i]||t[i]<n[i]&&e[i]<=t[i]?Dt((n[i]-t[i])*(e[o]-t[o])):-Dt((n[o]-t[o])*(e[i]-t[i])),r=Ki*c,a=!0}}var u=this.secondControlPoint(r,t,e,o,i);if(a){var p=o;o=i,i=p}var h=this.firstControlPoint(r,e,n,o,i);return s&&(this.restrictControlPoint(t,e,u,r),this.restrictControlPoint(e,n,h,r)),[u,h]},e.prototype.restrictControlPoint=function(t,e,n,r){t.y<e.y?e.y<n.y?(n.x=t.x+(e.y-t.y)/r,n.y=e.y):n.y<t.y&&(n.x=e.x-(e.y-t.y)/r,n.y=t.y):n.y<e.y?(n.x=t.x-(t.y-e.y)/r,n.y=e.y):t.y<n.y&&(n.x=e.x+(t.y-e.y)/r,n.y=t.y)},e.prototype.tangent=function t(e,n,r,o){var t,i=n[r]-e[r],s=n[o]-e[o];return t=0===i?0:s/i},e.prototype.isMonotonicByField=function(t,e,n,r){return n[r]>e[r]&&e[r]>t[r]||n[r]<e[r]&&e[r]<t[r]},e.prototype.firstControlPoint=function(t,e,n,r,o){var i=e[r],s=n[r],a=(s-i)*Ui;return this.point(i+a,e[o]+a*t,r,o)},e.prototype.secondControlPoint=function(t,e,n,r,o){var i=e[r],s=n[r],a=(s-i)*Ui;return this.point(s-a,n[o]-a*t,r,o)},e.prototype.point=function(t,e,n,r){var o=new Yn.geometry.Point;return o[n]=t,o[r]=e,o},e.prototype.calculateFunction=function(t,e){for(var n=t.length,r=0,o=0;o<n;o++)r+=Math.pow(e,o)*t[o];return r},e}(Yn.Class),Gi=function(t){function e(e){t.call(this),this._axis=e,this.options=e.options}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.value=function t(e){var n=this._axis,t=n.getCategory?n.getCategory(e):n.getValue(e);return t},e.prototype.slot=function(t,e,n){return void 0===n&&(n=!0),this._axis.slot(t,e,n)},e.prototype.range=function(){return this._axis.range()},e.prototype.valueRange=function(){return this._axis.valueRange()},e}(Yn.Class),$i=function(t){this.visual=t.visual,this.chartsVisual=t.chartContainer.visual,this._pane=t};$i.prototype.findAxisByName=function(t){return jt(t,this._pane.axes)};var Yi=function(t){function e(e){t.call(this),this._plotArea=e,this.visual=e.visual,this.backgroundVisual=e._bgVisual}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Yn.Class),Xi={min:function(t){for(var e=t.length,n=vr,r=0;r<e;r++){var o=t[r];l(o)&&(n=Math.min(n,o))}return n===vr?t[0]:n},max:function(t){for(var e=t.length,n=yr,r=0;r<e;r++){var o=t[r];l(o)&&(n=Math.max(n,o))}return n===yr?t[0]:n},sum:function(t){for(var e=t.length,n=0,r=0;r<e;r++){var o=t[r];l(o)&&(n+=o)}return n},sumOrNull:function(t){var e=null;return Rt(t)&&(e=Xi.sum(t)),e},count:function(t){for(var e=t.length,n=0,r=0;r<e;r++){var o=t[r];null!==o&&Xr(o)&&n++}return n},avg:function(t){var e=Rt(t),n=t[0];return e>0&&(n=Xi.sum(t)/e),n},first:function(t){for(var e=t.length,n=0;n<e;n++){var r=t[n];if(null!==r&&Xr(r))return r}return t[0]}},Zi=function(t){function e(){t.call(this),this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(t,e,n){var r=this;void 0===e&&(e=[Mr]),void 0===n&&(n={});for(var o=0;o<t.length;o++){var i=t[o];r._valueFields[i]=e,r._otherFields[i]=n,r._nullValue[i]=r._makeValue(e,null),r._undefinedValue[i]=r._makeValue(e,void 0)}},e.prototype.canonicalFields=function(t){return this.valueFields(t).concat(this.otherFields(t))},e.prototype.valueFields=function(t){return this._valueFields[t.type]||[Mr]},e.prototype.otherFields=function(t){return this._otherFields[t.type]||[Mr]},e.prototype.bindPoint=function(t,e,n){var r,o,i=t.data,s=Xr(n)?n:i[e],a={valueFields:{value:s}},l=this.valueFields(t),c=this._otherFields[t.type];if(null===s)o=this._nullValue[t.type];else if(Xr(s)){if(Array.isArray(s)){var u=s.slice(l.length);o=this._bindFromArray(s,l),r=this._bindFromArray(u,c)}else if("object"==typeof s){var p=this.sourceFields(t,l),h=this.sourceFields(t,c);o=this._bindFromObject(s,l,p),r=this._bindFromObject(s,c,h)}}else o=this._undefinedValue[t.type];return Xr(o)&&(1===l.length?a.valueFields.value=o[l[0]]:a.valueFields=o),a.fields=r||{},a},e.prototype._makeValue=function(t,e){for(var n={},r=t.length,o=0;o<r;o++){var i=t[o];n[i]=e}return n},e.prototype._bindFromArray=function(t,e){var n={};if(e)for(var r=Math.min(e.length,t.length),o=0;o<r;o++)n[e[o]]=t[o];return n},e.prototype._bindFromObject=function(t,e,n){void 0===n&&(n=e);var r={};if(e)for(var o=e.length,i=0;i<o;i++){var s=e[i],a=n[i];null!==a&&(r[s]=It(a,t))}return r},e.prototype.sourceFields=function t(e,n){var t=[];if(n)for(var r=n.length,o=0;o<r;o++){var i=n[o],s=i===Mr?"field":i+"Field";t.push(null!==e[s]?e[s]||i:null)}return t},e}(Yn.Class);Zi.current=new Zi;var Ji="stderr",Qi="stddev",ts=/percent(?:\w*)\((\d+)\)/,es=new RegExp("^"+Qi+"(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),ns=function(t){function e(e,n,r){t.call(this),this.initGlobalRanges(e,n,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initGlobalRanges=function(t,e,n){var r=e.data,o=es.exec(t);if(o){this.valueGetter=this.createValueGetter(e,n);var i=this.getAverage(r),s=this.getStandardDeviation(r,i,!1),a=o[1]?parseFloat(o[1]):1,l={low:i.value-s*a,high:i.value+s*a};this.globalRange=function(){return l}}else if(t.indexOf&&t.indexOf(Ji)>=0){this.valueGetter=this.createValueGetter(e,n);var c=this.getStandardError(r,this.getAverage(r));this.globalRange=function(t){return{low:t-c,high:t+c}}}},e.prototype.createValueGetter=function(t,e){var n,o=t.data,i=Zi.current,s=i.valueFields(t),a=Xr(o[0])?o[0]:{};if(r(a)){var c=e?s.indexOf(e):0;n=w("["+c+"]")}else if(l(a))n=w();else if(typeof a===_r){var u=i.sourceFields(t,s);n=w(u[s.indexOf(e)])}return n},e.prototype.getErrorRange=function(t,e){var n,o,i;if(!Xr(e))return null;if(this.globalRange)return this.globalRange(t);if(r(e))n=t-e[0],o=t+e[1];else if(l(i=parseFloat(e)))n=t-i,o=t+i;else{if(!(i=ts.exec(e)))throw new Error("Invalid ErrorBar value: "+e);var s=t*(parseFloat(i[1])/100);n=t-Math.abs(s),o=t+Math.abs(s)}return{low:n,high:o}},e.prototype.getStandardError=function(t,e){return this.getStandardDeviation(t,e,!0)/Math.sqrt(e.count)},e.prototype.getStandardDeviation=function(t,e,n){for(var r=this,o=t.length,i=n?e.count-1:e.count,s=0,a=0;a<o;a++){var c=r.valueGetter(t[a]);l(c)&&(s+=Math.pow(c-e.value,2))}return Math.sqrt(s/i)},e.prototype.getAverage=function(t){for(var e=this,n=t.length,r=0,o=0,i=0;i<n;i++){var s=e.valueGetter(t[i]);l(s)&&(r+=s,o++)}return{value:r/o,count:o}},e}(Yn.Class),rs=Yn.support.browser||{},os=600,is="fadeIn",ss=.8,as=5,ls=rs.msie?.001:0,cs="errorLow",us="errorHigh",ps="xErrorLow",hs="xErrorHigh",fs="yErrorLow",ds="yErrorHigh",vs=8,ys="zero",gs="interpolate",ms="gap",bs="above",ws="below",_s="smooth",xs="step",ks="area",Ss="bar",Cs="boxPlot",Os="bubble",Es="bullet",Ts="candlestick",Ms="column",Ps="donut",As="funnel",Ds="heatmap",js="horizontalWaterfall",Rs="line",Is="ohlc",Ls="pie",zs="polarArea",Fs="polarLine",Bs="polarScatter",Ns="radarArea",Vs="radarColumn",Hs="radarLine",Ws="rangeArea",Us="rangeBar",Ks="rangeColumn",qs="scatter",Gs="scatterLine",$s="verticalArea",Ys="verticalBoxPlot",Xs="verticalBullet",Zs="verticalLine",Js="verticalRangeArea",Qs="waterfall",ta=[Ss,Ms,Is,Ts,Cs,Ys,Es,Ks,Us,Qs,js],ea="legendItemClick",na="legendItemHover",ra="legendItemLeave",oa="seriesClick",ia="seriesHover",sa="seriesOver",aa="seriesLeave",la="plotAreaClick",ca="plotAreaHover",ua="plotAreaLeave",pa="drag",ha="dragEnd",fa="dragStart",da="zoomStart",va="zoom",ya="zoomEnd",ga="selectStart",ma="select",ba="selectEnd",wa="render",_a="showTooltip",xa="hideTooltip",ka="paneRender",Sa="log",Ca="category",Oa="insideEnd",Ea="insideBase",Ta="outsideEnd",Ma="DOMMouseScroll mousewheel",Pa=150,Aa=.3,Da=4,ja=function(t){function e(e,n,r,o,i,s){t.call(this,s),this.low=e,this.high=n,this.isVertical=r,this.chart=o,this.series=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e,n=this.options.endCaps,r=this.isVertical,o=this.getAxis(),i=o.getSlot(this.low,this.high),s=t.center(),a=this.getCapsWidth(t,r),l=r?s.x:s.y,c=l-a,u=l+a;r?(e=[new _o(s.x,i.y1),new _o(s.x,i.y2)],n&&e.push(new _o(c,i.y1),new _o(u,i.y1),new _o(c,i.y2),new _o(u,i.y2)),this.box=new xo(c,i.y1,u,i.y2)):(e=[new _o(i.x1,s.y),new _o(i.x2,s.y)],n&&e.push(new _o(i.x1,c),new _o(i.x1,u),new _o(i.x2,c),new _o(i.x2,u)),this.box=new xo(i.x1,c,i.x2,u)),this.linePoints=e},e.prototype.getCapsWidth=function(t,e){var n=e?t.width():t.height(),r=Math.min(Math.floor(n/2),Da)||Da;return r},e.prototype.createVisual=function(){var t=this,e=this.options,n=e.visual;n?this.visual=n({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:e.endCaps,color:e.color,line:e.line},createVisual:function(){t.createDefaultVisual();var e=t.visual;return delete t.visual,e}}):this.createDefaultVisual()},e.prototype.createDefaultVisual=function(){var e=this,n=this,r=n.options,o=n.linePoints,i={stroke:{color:r.color,width:r.line.width,dashType:r.line.dashType}};t.prototype.createVisual.call(this);for(var a=0;a<o.length;a+=2){var l=new Yn.drawing.Path(i).moveTo(o[a].x,o[a].y).lineTo(o[a+1].x,o[a+1].y);s(l),e.visual.append(l)}},e}(Eo);E(ja,{animation:{type:is,delay:os},endCaps:!0,line:{width:2},zIndex:1});var Ra=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAxis=function(){var t=this.chart.seriesValueAxis(this.series);return t},e}(ja),Ia=5,La=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.chartService=e.chartService,this.categoryAxis=e.seriesCategoryAxis(n.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},e.prototype.pointOptions=function(t,e){var n=this.seriesOptions[e];if(!n){var r=this.pointType().prototype.defaults;this.seriesOptions[e]=n=f({},r,{vertical:!this.options.invertAxes},t)}return n},e.prototype.plotValue=function(t){if(!t)return 0;if(this.options.isStacked100&&l(t.value)){for(var e=t.categoryIx,n=this.categoryPoints[e],r=[],o=0,i=0;i<n.length;i++){var s=n[i];if(s){var a=t.series.stack,c=s.series.stack;if(a&&c&&a.group!==c.group)continue;l(s.value)&&(o+=Math.abs(s.value),r.push(Math.abs(s.value)))}}if(o>0)return t.value/o}return t.value},e.prototype.plotRange=function(t,e){var n=this;void 0===e&&(e=0);var r=this.categoryPoints[t.categoryIx];if(this.options.isStacked){for(var o=this.plotValue(t),i=o>=0,s=e,a=!1,l=0;l<r.length;l++){var c=r[l];if(t===c)break;var p=t.series.stack,h=c.series.stack;if(p&&h){if(typeof p===Or&&p!==h)continue;if(p.group&&p.group!==h.group)continue}var f=n.plotValue(c);(f>=0&&i||f<0&&!i)&&(s+=f,o+=f,a=!0,n.options.isStacked100&&(o=Math.min(o,1)))}return a&&(s-=e),[s,o]}var d=t.series,v=this.seriesValueAxis(d),y=this.categoryAxisCrossingValue(v);return[y,u(t.value)?t.value:y]},e.prototype.stackLimits=function(t,e){for(var n=this,r=vr,o=yr,i=0;i<this.categoryPoints.length;i++){var s=n.categoryPoints[i];if(s)for(var a=0;a<s.length;a++){var l=s[a];if(l&&(l.series.stack===e||l.series.axis===t)){var c=n.plotRange(l,0)[1];Xr(c)&&isFinite(c)&&(o=Math.max(o,c),r=Math.min(r,c))}}}return{min:r,max:o}},e.prototype.updateStackRange=function(){var t=this,e=this.options,n=e.isStacked,r=e.series,o={};if(n)for(var i=0;i<r.length;i++){var s=r[i],a=s.axis,l=a+s.stack,c=o[l];if(!c){c=t.stackLimits(a,s.stack);var u=t.errorTotals;u&&(u.negative.length&&(c.min=Math.min(c.min,T(u.negative).min)),u.positive.length&&(c.max=Math.max(c.max,T(u.positive).max))),c.min!==vr||c.max!==yr?o[l]=c:c=null}c&&(t.valueAxisRanges[a]=c)}},e.prototype.addErrorBar=function(t,e,n){var r,o=t.value,i=t.series,s=t.seriesIx,a=t.options.errorBars,c=e.fields[cs],u=e.fields[us];l(c)&&l(u)?r={low:c,high:u}:a&&Xr(a.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[s]=this.seriesErrorRanges[s]||new ns(a.value,i,Mr),r=this.seriesErrorRanges[s].getErrorRange(o,a.value)),r&&(t.low=r.low,t.high=r.high,this.addPointErrorBar(t,n))},e.prototype.addPointErrorBar=function(t,e){var n=!this.options.invertAxes,r=t.options.errorBars,o=t.series,i=t.low,s=t.high;if(this.options.isStacked){var a=this.stackedErrorRange(t,e);i=a.low,s=a.high}else{var l={categoryIx:e,series:o};this.updateRange({value:i},l),this.updateRange({value:s},l)}var c=new Ra(i,s,n,this,o,r);t.errorBars=[c],t.append(c)},e.prototype.stackedErrorRange=function(t,e){var n=this.plotRange(t,0)[1]-t.value,r=t.low+n,o=t.high+n;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},r<0&&(this.errorTotals.negative[e]=Math.min(this.errorTotals.negative[e]||0,r)),o>0&&(this.errorTotals.positive[e]=Math.max(this.errorTotals.positive[e]||0,o)),{low:r,high:o}},e.prototype.addValue=function(t,e){var n=e.categoryIx,r=e.series,o=e.seriesIx,i=this.categoryPoints[n];i||(this.categoryPoints[n]=i=[]);var s=this.seriesPoints[o];s||(this.seriesPoints[o]=s=[]);var a=this.createPoint(t,e);a&&(Object.assign(a,e),a.owner=this,a.noteText=t.fields.noteText,Xr(a.dataItem)||(a.dataItem=r.data[n]),this.addErrorBar(a,t,n)),this.points.push(a),s.push(a),i.push(a),this.updateRange(t.valueFields,e)},e.prototype.evalPointOptions=function(t,e,n,r,o,i){var s={defaults:o._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},a=this._evalSeries[i];Xr(a)||(this._evalSeries[i]=a=Lt(t,{},s,!0));var l=t;return a&&(l=f({},l),Lt(l,{value:e,category:n,index:r,series:o,dataItem:o.data[r]},s)),l},e.prototype.updateRange=function(t,e){var n=e.series.axis,r=t.value,o=this.valueAxisRanges[n];isFinite(r)&&null!==r&&(o=this.valueAxisRanges[n]=o||{min:vr,max:yr},o.min=Math.min(o.min,r),o.max=Math.max(o.max,r))},e.prototype.seriesValueAxis=function(t){var e=this.plotArea,n=t.axis,r=n?e.namedValueAxes[n]:e.valueAxis;if(!r)throw new Error("Unable to locate value axis with name "+n);return r},e.prototype.reflow=function(t){var e=this,n=this.categorySlots=[],r=this.points,o=this.categoryAxis,i=0;this.traverseDataPoints(function(t,s){var a=s.categoryIx,l=s.series,c=e.seriesValueAxis(l),u=r[i++],p=n[a];if(p||(n[a]=p=e.categorySlot(o,a,c)),u){var h=e.plotRange(u,c.startValue()),f=e.valueSlot(c,h);if(f){var d=e.pointSlot(p,f);u.aboveAxis=e.aboveAxis(u,c),u.stackValue=h[1],e.options.isStacked100&&(u.percentage=e.plotValue(u)),e.reflowPoint(u,d)}else u.visible=!1}}),this.reflowCategories(n),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=t},e.prototype.valueSlot=function(t,e){return t.getSlot(e[0],e[1],!this.options.clip)},e.prototype.limitPoints=function(){for(var t=this,e=this.categoryPoints,n=e[0].concat(ro(e)),r=0;r<n.length;r++)n[r]&&t.limitPoint(n[r])},e.prototype.limitPoint=function(t){var e=this.categoryAxis.limitSlot(t.box);e.equals(t.box)||t.reflow(e)},e.prototype.aboveAxis=function(t,e){var n=this.categoryAxisCrossingValue(e),r=t.value;return e.options.reverse?r<n:r>=n},e.prototype.categoryAxisCrossingValue=function(t){var e=this.categoryAxis,n=t.options,r=[].concat(n.axisCrossingValues||n.axisCrossingValue);return r[e.axisIndex||0]||0},e.prototype.reflowPoint=function(t,e){t.reflow(e)},e.prototype.reflowCategories=function(){},e.prototype.pointSlot=function(t,e){var n=this.options,r=n.invertAxes,o=r?e:t,i=r?t:e;return new xo(o.x1,i.y1,o.x2,i.y2)},e.prototype.categorySlot=function(t,e){return t.getSlot(e)},e.prototype.traverseDataPoints=function(t){for(var e=this,n=this.options.series,r=zt(n),o=n.length,i=0;i<o;i++)e._outOfRangeCallback(n[i],"_outOfRangeMinPoint",i,t);for(var s=0;s<r;s++)for(var a=0;a<o;a++){var l=n[a],c=e.categoryAxis.categoryAt(s),u=e._bindPoint(l,a,s);t(u,{category:c,categoryIx:s,categoriesCount:r,series:l,seriesIx:a})}for(var p=0;p<o;p++)e._outOfRangeCallback(n[p],"_outOfRangeMaxPoint",p,t)},e.prototype._outOfRangeCallback=function(t,e,n,r){var o=t[e];if(o){var i=o.categoryIx,s=this._bindPoint(t,n,i,o.item);r(s,{category:o.category,categoryIx:i,series:t,seriesIx:n,dataItem:o.item})}},e.prototype._bindPoint=function(t,e,n,r){this._bindCache||(this._bindCache=[]);var o=this._bindCache[e];o||(o=this._bindCache[e]=[]);var i=o[n];return i||(i=o[n]=Zi.current.bindPoint(t,n,r)),i},e.prototype.formatPointValue=function(t,e){return null===t.value?"":this.chartService.format.auto(e,t.value)},e.prototype.pointValue=function(t){return t.valueFields.value},e}(Eo);E(La,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});var za={click:function(t,e){return t.trigger(oa,this.eventArgs(e))},hover:function(t,e){return t.trigger(ia,this.eventArgs(e))},over:function(t,e){return t.trigger(sa,this.eventArgs(e))},out:function(t,e){return t.trigger(aa,this.eventArgs(e))},eventArgs:function(t){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:eo(t),originalEvent:t,point:this}}},Fa={createNote:function(){var t=this.options.notes,e=this.noteText||t.label.text;t.visible!==!1&&Xr(e)&&null!==e&&(this.note=new Wo({value:this.value,text:e,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}},Ba=function(t){function e(e,n){t.call(this),this.value=e,this.options=n,this.aboveAxis=co(this.options.aboveAxis,!0),this.tooltipTracking=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.options,e=t.markers,n=t.labels;if(!this._rendered){if(this._rendered=!0,e.visible&&e.size&&(this.marker=this.createMarker(),this.append(this.marker)),n.visible){var r=b(n),o=this.pointData(),i=this.value;r?i=r(o):n.format&&(i=this.formatValue(n.format)),this.label=new Fo(i,f({align:tr,vAlign:tr,margin:{left:5,right:5},zIndex:co(n.zIndex,this.series.zIndex)},n),o),this.append(this.label)}this.createNote(),this.errorBar&&this.append(this.errorBar)}},e.prototype.markerBorder=function(){var t=this.options.markers,e=t.background,n=f({color:this.color},t.border);return Xr(n.color)||(n.color=new Yn.Color(e).brightness(ss).toHex()),n},e.prototype.createVisual=function(){},e.prototype.createMarker=function(){var t=this.options.markers,e=new Mo({type:t.type,width:t.size,height:t.size,rotation:t.rotation,background:t.background,border:this.markerBorder(),opacity:this.series.opacity||t.opacity,zIndex:co(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});return e},e.prototype.markerBox=function(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box},e.prototype.reflow=function(t){var e=this,n=this,r=n.options,o=n.aboveAxis,i=r.vertical;this.render(),this.box=t;var s=t.clone();if(i?o?s.y1-=s.height():s.y2+=s.height():o?s.x1+=s.width():s.x2-=s.width(),this._childBox=s,this.marker&&this.marker.reflow(s),this.reflowLabel(s),this.errorBars)for(var a=0;a<this.errorBars.length;a++)e.errorBars[a].reflow(s);if(this.note){var l=this.markerBox();if(!r.markers.visible||!r.markers.size){var c=l.center();l=new xo(c.x,c.y,c.x,c.y)}this.note.reflow(l)}},e.prototype.reflowLabel=function(t){var e=this,n=e.options,r=e.label,o=n.labels.position;r&&(o=o===bs?Er:o,o=o===ws?Qn:o,r.reflow(t),r.box.alignTo(this.markerBox(),o),r.reflow(r.box))},e.prototype.createHighlight=function(){var t=this.options.highlight.markers,e=this.markerBorder().color,n=this.options.markers,r=n.size+(n.border.width||0)+(t.border.width||0),o=new Mo({type:n.type,width:r,height:r,rotation:n.rotation,background:t.color||e,border:{color:t.border.color,width:t.border.width,opacity:co(t.border.opacity,1)},opacity:co(t.opacity,1)});return o.reflow(this._childBox),o.getElement()},e.prototype.highlightVisual=function(){return(this.marker||{}).visual},e.prototype.highlightVisualArgs=function(){var t,e,n=this.marker;if(n)e=n.paddingBox.toRect(),t=n.visual;else{var r=this.options.markers.size,o=r/2,i=this.box.center();e=new Yn.geometry.Rect([i.x-o,i.y-o],[r,r])}return{options:this.options,rect:e,visual:t}},e.prototype.tooltipAnchor=function(){var t=this.markerBox(),e=this.owner.pane.clipBox(),n=!e||e.overlaps(t);if(n){var r,o,i=t.x2+as,s=dr;return this.aboveAxis?(r=t.y1,o=Qn):(r=t.y2,o=Er),{point:new _o(i,r),align:{horizontal:s,vertical:o}}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.overlapsBox=function(t){var e=this.markerBox();return e.overlaps(t)},e.prototype.unclipElements=function(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)},e.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}},e}(Eo);Ba.prototype.defaults={vertical:!0,markers:{visible:!0,background:Pr,size:vs,type:er,border:{width:2},opacity:1},labels:{visible:!1,position:bs,margin:m(3),padding:m(4),animation:{type:is,delay:os}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:hr},errorBars:{line:{width:1}}},f(Ba.prototype,za),f(Ba.prototype,Fa);var Na=function(t){function e(e,n,r){t.call(this),this.linePoints=e,this.series=n,this.seriesIx=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.points=function(){return this.toGeometryPoints(this.linePoints)},e.prototype.toGeometryPoints=function(t){for(var e=[],n=0,r=t.length;n<r;n++)t[n]&&t[n].visible!==!1&&e.push(t[n]._childBox.toRect().center());return e},e.prototype.createVisual=function(){var t=this,e=this.series.visual;e?(this.visual=e({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:function(){return t.segmentVisual(),t.visual}}),this.visual&&!Xr(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()},e.prototype.segmentVisual=function(){var t=this,e=t.options,n=t.series,r=n.color,o=n._defaults;p(r)&&o&&(r=o.color);var i=Yn.drawing.Path.fromPoints(this.points(),{stroke:{color:r,width:n.width,opacity:n.opacity,dashType:n.dashType},zIndex:n.zIndex});e.closed&&i.close(),this.visual=i},e.prototype.aliasFor=function(t,e){return this.parent.getNearestPoint(e.x,e.y,this.seriesIx)},e}(Eo);E(Na,{closed:!1});var Va={calculateStepPoints:function(t){for(var e=this.parent.plotArea.seriesCategoryAxis(this.series),n=e.options,r=n.justified,o=n.vertical,i=n.reverse,s=o?Dr:jr,a=o?jr:Dr,l=i?2:1,c=l,u=Ft(t[0],s,l,a,c),p=[u],h=1;h<t.length;h++){var f=Ft(t[h],s,l,a,c);if(u[s]!==f[s]){var d=new Yn.geometry.Point;d[s]=u[s],d[a]=f[a],p.push(d,f)}u=f}return r?u!==ro(p)&&p.push(u):p.push(Ft(ro(t),s,l,a,i?1:2)),p}},Ha=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.points=function(){return this.calculateStepPoints(this.linePoints)},e}(Na);f(Ha.prototype,Va);var Wa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.segmentVisual=function(){var t=this.series,e=t._defaults,n=t.color;p(n)&&e&&(n=e.color);var r=new qi(this.options.closed),o=r.process(this.points()),i=new Yn.drawing.Path({stroke:{color:n,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});i.segments.push.apply(i.segments,o),this.visual=i},e}(Na),Ua={renderSegments:function(){var t,e=this,n=this,r=n.options,o=n.seriesPoints,i=r.series,s=o.length;this._segments=[];for(var a=0;a<s;a++){for(var l=i[a],c=e.sortPoints(o[a]),u=c.length,p=[],h=0;h<u;h++){var f=c[h];f?p.push(f):e.seriesMissingValues(l)!==gs&&(p.length>1&&(t=e.createSegment(p,l,a,t),e._addSegment(t)),p=[])}p.length>1&&(t=e.createSegment(p,l,a,t),e._addSegment(t))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(t){this._segments.push(t),t.parent=this},sortPoints:function(t){return t},seriesMissingValues:function(t){var e=t.missingValues,n=!e&&this.options.isStacked;return n?ys:e||gs},getNearestPoint:function(t,e,n){for(var r,o=new _o(t,e),i=this.seriesPoints[n],s=vr,a=0;a<i.length;a++){var l=i[a];if(l&&Xr(l.value)&&null!==l.value&&l.visible!==!1){var c=l.box,u=c.center().distanceTo(o);u<s&&(r=l,s=u)}}return r}},Ka=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this._setEnd(this.options.box.x1)},e.prototype.step=function(t){var e=this.options.box;this._setEnd(S(e.x1,e.x2,t))},e.prototype._setEnd=function(t){var e=this.element,n=e.segments,r=n[1].anchor(),o=n[2].anchor();e.suspend(),r.setX(t),e.resume(),o.setX(t)},e}(Yn.drawing.Animation);E(Ka,{duration:os}),Yn.drawing.AnimationFactory.current.register("clip",Ka);var qa={createAnimation:function(){var t=this.getRoot();if(t&&(t.options||{}).transitions!==!1){var e=t.size(),n=Yn.drawing.Path.fromRect(e.toRect());this.visual.clip(n),this.animation=new Ka(n,{box:e}),Bt(this.options.series)&&this._setChildrenAnimation(n)}},_setChildrenAnimation:function(t){for(var e=this.animationPoints(),n=0;n<e.length;n++){var r=e[n];r&&r.visual&&Xr(r.visual.options.zIndex)&&r.visual.clip(t)}}},Ga=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.updateStackRange(),this.renderSegments()},e.prototype.pointType=function(){return Ba},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,s=this.seriesMissingValues(o),a=t.valueFields.value;if(!Xr(a)||null===a){if(s!==ys)return null;a=0}var l=this.pointOptions(o,i);l=this.evalPointOptions(l,a,r,n,o,i);var c=t.fields.color||o.color;p(o.color)&&(c=l.color);var u=new Ba(a,l);return u.color=c,this.append(u),u},e.prototype.plotRange=function(t){var e=this,n=this.plotValue(t);if(this.options.isStacked)for(var r=t.categoryIx,o=this.categoryPoints[r],i=0;i<o.length;i++){var s=o[i];if(t===s)break;n+=e.plotValue(s),e.options.isStacked100&&(n=Math.min(n,1))}return[n,n]},e.prototype.createSegment=function(t,e,n){var r,o=e.style;return new(r=o===xs?Ha:o===_s?Wa:Na)(t,e,n)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],n=0;n<t.length;n++)e.push((t[n]||{}).marker);return e.concat(this._segments)},e.prototype.supportsPointInactiveOpacity=function(){return!1},e}(La);f(Ga.prototype,Ua,qa);var $a=function(t){function e(e,n,r,o,i){t.call(this,e,n,r),this.prevSegment=o,this.stackPoints=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createVisual=function(){var t=this.series,e=t._defaults,n=t.line||{},r=t.color;p(r)&&e&&(r=e.color),this.visual=new Yn.drawing.Group({zIndex:t.zIndex}),this.createFill({fill:{color:r,opacity:t.opacity},stroke:null}),n.width>0&&n.visible!==!1&&this.createStroke({stroke:f({color:r,opacity:t.opacity,lineCap:"butt"},n)})},e.prototype.strokeSegments=function(){var t=this._strokeSegments;return t||(t=this._strokeSegments=this.createStrokeSegments()),t},e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.points())},e.prototype.stackSegments=function(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)},e.prototype.createStackSegments=function(t){return this.segmentsFromPoints(this.toGeometryPoints(t)).reverse()},e.prototype.segmentsFromPoints=function(t){return t.map(function(t){return new Yn.geometry.Segment(t)})},e.prototype.createStroke=function(t){var e=new Yn.drawing.Path(t);e.segments.push.apply(e.segments,this.strokeSegments()),this.visual.append(e)},e.prototype.hasStackSegment=function(){return this.prevSegment||this.stackPoints&&this.stackPoints.length},e.prototype.createFill=function(t){var e=this.strokeSegments(),n=e.slice(0),r=this.hasStackSegment();if(r){var o=this.stackSegments();$r(n,o)}var i=new Yn.drawing.Path(t);i.segments.push.apply(i.segments,n),!r&&e.length>1&&this.fillToAxes(i),this.visual.append(i)},e.prototype.fillToAxes=function(t){var e=this.parent,n=e.options.invertAxes,r=e.seriesValueAxis(this.series),o=e.categoryAxisCrossingValue(r),i=r.getSlot(o,o,!0),s=this.strokeSegments(),a=s[0].anchor(),l=ro(s).anchor(),c=n?i.x1:i.y1;n?t.lineTo(c,l.y).lineTo(c,a.y):t.lineTo(l.x,c).lineTo(a.x,c)},e}(Na),Ya=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))},e.prototype.createStackSegments=function(t){return this.segmentsFromPoints(this.calculateStepPoints(t)).reverse()},e}($a);f(Ya.prototype,Va);var Xa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){var t=new qi(this.options.closed),e=this.points();return t.process(e)},e.prototype.createStackSegments=function(){for(var t=this.strokeSegments(),e=[],n=t.length-1;n>=0;n--){var r=t[n];e.push(new Yn.geometry.Segment(r.anchor(),r.controlOut(),r.controlIn()))}return e},e}($a),Za=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createSegment=function(t,e,n,r){var o,i,s=this.options.isStacked,a=(e.line||{}).style;if(s&&n>0&&r){var l=this.seriesMissingValues(e);"gap"!==l?(i=r.linePoints,o=r):i=this._gapStackPoints(t,n,a)}var c;return new(c=a===xs?Ya:a===_s?Xa:$a)(t,e,n,o,i)},e.prototype.reflow=function(e){var n=this;t.prototype.reflow.call(this,e);var r=this._stackPoints;if(r)for(var o=0;o<r.length;o++){var i=r[o],s=n.categoryAxis.getSlot(i.categoryIx);i.reflow(s)}},e.prototype._gapStackPoints=function(t,e,n){var r=this,o=this.seriesPoints,i=t[0].categoryIx,s=t.length;i<0&&(i=0,s--);var a=i+s,l=this.seriesOptions[0]._outOfRangeMinPoint?1:0,c=[];this._stackPoints=this._stackPoints||[];for(var u=i;u<a;u++){var p=u+l,h=e,f=void 0;do h--,f=o[h][p];while(h>0&&!f);if(f)n!==xs&&u>i&&!o[h][p-1]&&c.push(r._previousSegmentPoint(u,p,p-1,h)),c.push(f),n!==xs&&u+1<a&&!o[h][p+1]&&c.push(r._previousSegmentPoint(u,p,p+1,h));else{var d=r._createGapStackPoint(u);r._stackPoints.push(d),c.push(d)}}return c},e.prototype._previousSegmentPoint=function(t,e,n,r){for(var o,i=this.seriesPoints,s=r;s>0&&!o;)s--,o=i[s][n];return o?o=i[s][e]:(o=this._createGapStackPoint(t),this._stackPoints.push(o)),o},e.prototype._createGapStackPoint=function(t){
var e=this.pointOptions({},0),n=new Ba(0,e);return n.categoryIx=t,n.series={},n},e.prototype.seriesMissingValues=function(t){return t.missingValues||ys},e.prototype.supportsPointInactiveOpacity=function(){return!1},e}(Ga),Ja=function(t){function e(){t.call(this),this.axisRanges={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(t){var e=this.axisRanges;for(var n in t){var r=t[n],o=e[n];e[n]=o=o||{min:vr,max:yr},o.min=Math.min(o.min,r.min),o.max=Math.max(o.max,r.max)}},e.prototype.reset=function(t){this.axisRanges[t]=void 0},e.prototype.query=function(t){return this.axisRanges[t]},e}(Yn.Class),Qa=function(t){function e(e,n,r){t.call(this,n),this.textBox=new Fo(e,this.options,r),this.append(this.textBox)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createVisual=function(){this.textBox.options.noclip=this.options.noclip},e.prototype.reflow=function(t){var e=this.options,n=e.vertical,r=e.aboveAxis,o=this.children[0],i=o.options,s=o.box,a=o.options.padding,l=t;i.align=n?tr:dr,i.vAlign=n?Er:tr,e.position===Oa?n?(i.vAlign=Er,!r&&s.height()<t.height()&&(i.vAlign=Qn)):i.align=r?kr:dr:e.position===tr?(i.vAlign=tr,i.align=tr):e.position===Ea?n?i.vAlign=r?Qn:Er:i.align=r?dr:kr:e.position===Ta&&(n?l=r?new xo(t.x1,t.y1-s.height(),t.x2,t.y1):new xo(t.x1,t.y2,t.x2,t.y2+s.height()):(i.align=tr,l=r?new xo(t.x2,t.y1,t.x2+s.width(),t.y2):new xo(t.x1-s.width(),t.y1,t.x1,t.y2))),e.rotation||(n?a.left=a.right=(l.width()-o.contentBox.width())/2:a.top=a.bottom=(l.height()-o.contentBox.height())/2),o.reflow(l)},e.prototype.alignToClipBox=function(t){var e=this.options.vertical,n=e?jr:Dr,r=n+"1",o=n+"2",i=this.children[0],s=this.parent.box;if(s[r]<t[r]||t[o]<s[o]){var a=i.paddingBox.clone();a[r]=Math.max(s[r],t[r]),a[o]=Math.min(s[o],t[o]),this.reflow(a)}},e}(Eo);E(Qa,{position:Ta,margin:m(3),padding:m(4),color:Jn,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:is,delay:os},zIndex:2});var tl=6,el=function(t){function e(e,n){t.call(this),this.options=n,this.color=n.color||Pr,this.aboveAxis=co(this.options.aboveAxis,!0),this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},e.prototype.createLabel=function(){var t=this.options,e=t.labels;if(e.visible){var n,r=this.pointData(),o=b(e);n=o?o(r):this.formatValue(e.format),this.label=new Qa(n,f({vertical:t.vertical},e),r),this.append(this.label)}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.reflow=function(t){var e=this;this.render();var n=this.label;if(this.box=t,n&&(n.options.aboveAxis=this.aboveAxis,n.reflow(t)),this.note&&this.note.reflow(t),this.errorBars)for(var r=0;r<this.errorBars.length;r++)e.errorBars[r].reflow(t)},e.prototype.createVisual=function(){var e=this,n=this,r=n.box,o=n.options,i=o.visual;if(this.visible!==!1)if(t.prototype.createVisual.call(this),i){var s=this.rectVisual=i({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:r.toRect(),createVisual:function(){var t=new Yn.drawing.Group;return e.createRect(t),t},options:o});s&&this.visual.append(s)}else r.width()>0&&r.height()>0&&this.createRect(this.visual)},e.prototype.createRect=function(t){var e=this.options,n=e.border,r=Xr(n.opacity)?n.opacity:e.opacity,o=this.box.toRect();o.size.width=Math.round(o.size.width);var i=this.rectVisual=Yn.drawing.Path.fromRect(o,{fill:{color:this.color,opacity:e.opacity},stroke:{color:this.getBorderColor(),width:n.width,opacity:r,dashType:n.dashType}}),a=this.box.width(),l=this.box.height(),c=e.vertical?a:l;if(c>tl&&(s(i),(a<1||l<1)&&(i.options.stroke.lineJoin="round")),t.append(i),Nt(e)){var u=this.createGradientOverlay(i,{baseColor:this.color},f({end:e.vertical?void 0:[0,1]},e.overlay));t.append(u)}},e.prototype.createHighlight=function(t){var e=Yn.drawing.Path.fromRect(this.box.toRect(),t);return s(e)},e.prototype.highlightVisual=function(){return this.rectVisual},e.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},e.prototype.getBorderColor=function(){var t=this.color,e=this.options.border,n=e._brightness||ss,r=e.color;return Xr(r)||(r=new Yn.Color(t).brightness(n).toHex()),r},e.prototype.tooltipAnchor=function(){var t,e,n=this,r=n.options,o=n.box,i=n.aboveAxis,s=this.owner.pane.clipBox()||o,a=dr,l=Er;if(r.vertical)t=Math.min(o.x2,s.x2)+as,i?e=Math.max(o.y1,s.y1):(e=Math.min(o.y2,s.y2),l=Qn);else{var c=Math.max(o.x1,s.x1),u=Math.min(o.x2,s.x2);r.isStacked?(l=Qn,i?(a=kr,t=u):t=c,e=Math.max(o.y1,s.y1)-as):(i?t=u+as:(t=c-as,a=kr),e=Math.max(o.y1,s.y1))}return{point:new _o(t,e),align:{horizontal:a,vertical:l}}},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}},e}(Eo);f(el.prototype,za),f(el.prototype,Fa),el.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}}};var nl=function(t){function e(e){t.call(this,e),this.forEach=e.rtl?Ht:Vt}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options,n=e.vertical,r=e.gap,o=e.spacing,i=this.children,s=i.length,a=n?jr:Dr,l=s+r+o*(s-1),c=(n?t.height():t.width())/l,u=t[a+1]+c*(r/2);this.forEach(i,function(e,n){var r=(e.box||t).clone();r[a+1]=u,r[a+2]=u+c,e.reflow(r),n<s-1&&(u+=c*o),u+=c})},e}(Eo);E(nl,{vertical:!1,gap:0,spacing:0});var rl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){for(var e=this,n=this.options.vertical?Dr:jr,r=this.children,o=r.length,i=this.box=new xo,s=0;s<o;s++){var a=r[s];if(a.visible!==!1){var l=a.box.clone();l.snapTo(t,n),0===s&&(i=e.box=l.clone()),a.reflow(l),i.wrap(l)}}},e}(Eo);E(rl,{vertical:!0});var ol=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.updateStackRange()},e.prototype.pointType=function(){return el},e.prototype.clusterType=function(){return nl},e.prototype.stackType=function(){return rl},e.prototype.stackLimits=function(e,n){var r=t.prototype.stackLimits.call(this,e,n);return r},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,s=this,a=s.options,l=s.children,c=a.isStacked,u=this.pointValue(t),h=this.pointOptions(o,i),f=h.labels;c&&f.position===Ta&&(f.position=Oa),h.isStacked=c;var d=t.fields.color||o.color;u<0&&h.negativeColor&&(d=h.negativeColor),h=this.evalPointOptions(h,u,r,n,o,i),p(o.color)&&(d=h.color);var v=this.pointType(),y=new v(u,h);y.color=d;var g=l[n];if(!g){var m=this.clusterType();g=new m({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(g)}if(c){var b=this.getStackWrap(o,g);b.append(y)}else g.append(y);return y},e.prototype.getStackWrap=function(t,e){var n,r=t.stack,o=r?r.group||r:r,i=e.children;if(typeof o===Or){for(var s=0;s<i.length;s++)if(i[s]._stackGroup===o){n=i[s];break}}else n=i[0];if(!n){var a=this.stackType();n=new a({vertical:!this.options.invertAxes}),n._stackGroup=o,e.append(n)}return n},e.prototype.categorySlot=function t(e,n,r){var o=this.options,t=e.getSlot(n),i=r.startValue();if(o.isStacked){var s=r.getSlot(i,i,!0),a=o.invertAxes?Dr:jr;t[a+1]=t[a+2]=s[a+1]}return t},e.prototype.reflowCategories=function(t){for(var e=this.children,n=e.length,r=0;r<n;r++)e[r].reflow(t[r])},e.prototype.createAnimation=function(){this._setAnimationOptions(),t.prototype.createAnimation.call(this),Bt(this.options.series)&&this._setChildrenAnimation()},e.prototype._setChildrenAnimation=function(){for(var t=this,e=this.points,n=0;n<e.length;n++){var r=e[n],o=r.visual;o&&Xr(o.options.zIndex)&&(r.options.animation=t.options.animation,r.createAnimation())}},e.prototype._setAnimationOptions=function(){var t,e=this.options,n=e.animation||{};if(e.isStacked){var r=this.seriesValueAxis(e.series[0]);t=r.getSlot(r.startValue())}else t=this.categoryAxis.getSlot(0);n.origin=new Yn.geometry.Point(t.x1,t.y1),n.vertical=!e.invertAxes},e}(La);E(ol,{animation:{type:Ss}});var il=function(t){function e(e,n){t.call(this,n),this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this,n=e.options,r=e.value,o=e.owner,i=o.seriesValueAxis(n),s=i.getSlot(r.open,r.close),a=i.getSlot(r.low,r.high);s.x1=a.x1=t.x1,s.x2=a.x2=t.x2,this.realBody=s;var l=a.center().x,c=[];c.push([[l,a.y1],[l,s.y1]]),c.push([[l,s.y2],[l,a.y2]]),this.lines=c,this.box=a.clone().wrap(s),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()},e.prototype.reflowNote=function(){this.note&&this.note.reflow(this.box)},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()},e.prototype.mainVisual=function(t){var e=new Yn.drawing.Group;return this.createBody(e,t),this.createLines(e,t),e},e.prototype.createBody=function(t,e){var n=Yn.drawing.Path.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&n.options.set("stroke",{color:this.getBorderColor(),width:e.border.width,dashType:e.border.dashType,opacity:co(e.border.opacity,e.opacity)}),s(n),t.append(n),Nt(e)&&t.append(this.createGradientOverlay(n,{baseColor:this.color},f({end:e.vertical?void 0:[0,1]},e.overlay)))},e.prototype.createLines=function(t,e){this.drawLines(t,e,this.lines,e.line)},e.prototype.drawLines=function(t,e,n,r){if(n)for(var o={stroke:{color:r.color||this.color,opacity:co(r.opacity,e.opacity),width:r.width,dashType:r.dashType,lineCap:"butt"}},i=0;i<n.length;i++){var a=Yn.drawing.Path.fromPoints(n[i],o);s(a),t.append(a)}},e.prototype.getBorderColor=function(){var t=this.options.border,e=t.color;return Xr(e)||(e=new Yn.Color(this.color).brightness(t._brightness).toHex()),e},e.prototype.createOverlay=function(){var t=Yn.drawing.Path.fromRect(this.box.toRect(),{fill:{color:Pr,opacity:0},stroke:null});this.visual.append(t)},e.prototype.createHighlight=function(){var t=this.options.highlight,e=this.color;this.color=t.color||this.color;var n=this.mainVisual(f({},this.options,{line:{color:this.getBorderColor()}},t));return this.color=e,n},e.prototype.highlightVisual=function(){return this._mainVisual},e.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}},e.prototype.tooltipAnchor=function(){var t=this.box,e=this.owner.pane.clipBox()||t;return{point:new _o(t.x2+as,Math.max(t.y1,e.y1)+as),align:{horizontal:dr,vertical:Er}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e}(Eo);E(il,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}}),f(il.prototype,za),f(il.prototype,Fa);var sl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowCategories=function(t){for(var e=this.children,n=e.length,r=0;r<n;r++)e[r].reflow(t[r])},e.prototype.addValue=function(t,e){var n,r=e.categoryIx,o=e.category,i=e.series,s=e.seriesIx,a=this,l=a.children,c=a.options,u=t.valueFields,p=this.splitValue(u),h=Wt(p),f=i.data[r],d=this.categoryPoints[r];d||(this.categoryPoints[r]=d=[]),h&&(n=this.createPoint(t,e));var v=l[r];v||(v=new nl({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing,rtl:!c.invertAxes&&(this.chartService||{}).rtl}),this.append(v)),n&&(this.updateRange(u,e),v.append(n),n.categoryIx=r,n.category=o,n.series=i,n.seriesIx=s,n.owner=this,n.dataItem=f,n.noteText=t.fields.noteText),this.points.push(n),d.push(n)},e.prototype.pointType=function(){return il},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,s=this.pointType(),a=t.valueFields,l=f({},o),c=t.fields.color||o.color;l=this.evalPointOptions(l,a,r,n,o,i),o.type===Ts&&a.open>a.close&&(c=t.fields.downColor||o.downColor||o.color),p(o.color)&&(c=l.color),l.vertical=!this.options.invertAxes;var u=new s(a,l);return u.color=c,u},e.prototype.splitValue=function(t){return[t.low,t.open,t.close,t.high]},e.prototype.updateRange=function(t,e){var n=e.series.axis,r=this.splitValue(t),o=this.valueAxisRanges[n];o=this.valueAxisRanges[n]=o||{min:vr,max:yr},o=this.valueAxisRanges[n]={min:Math.min.apply(Math,r.concat([o.min])),max:Math.max.apply(Math,r.concat([o.max]))}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.open,n.high,n.low,n.close,t.category)},e.prototype.animationPoints=function(){return this.points},e}(La);f(sl.prototype,qa);var al=function(t){function e(e,n){t.call(this,e,n),this.createNote()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e,n,r=this,o=r.options,i=r.value,s=r.owner,a=s.seriesValueAxis(o);this.boxSlot=n=a.getSlot(i.q1,i.q3),this.realBody=n,this.reflowBoxSlot(t),this.whiskerSlot=e=a.getSlot(i.lower,i.upper),this.reflowWhiskerSlot(t);var l=a.getSlot(i.median);if(i.mean){var c=a.getSlot(i.mean);this.meanPoints=this.calcMeanPoints(t,c)}this.whiskerPoints=this.calcWhiskerPoints(n,e),this.medianPoints=this.calcMedianPoints(t,l),this.box=e.clone().wrap(n),this.reflowNote()},e.prototype.reflowBoxSlot=function(t){this.boxSlot.x1=t.x1,this.boxSlot.x2=t.x2},e.prototype.reflowWhiskerSlot=function(t){this.whiskerSlot.x1=t.x1,this.whiskerSlot.x2=t.x2},e.prototype.calcMeanPoints=function(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]},e.prototype.calcWhiskerPoints=function(t,e){var n=e.center().x;return[[[n-5,e.y1],[n+5,e.y1],[n,e.y1],[n,t.y1]],[[n-5,e.y2],[n+5,e.y2],[n,e.y2],[n,t.y2]]]},e.prototype.calcMedianPoints=function(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]},e.prototype.renderOutliers=function(t){for(var e=this,n=this.value,r=n.outliers||[],o=3*Math.abs(n.q3-n.q1),i=[],s=t.markers||{},a=0;a<r.length;a++){var l=r[a];s=l<n.q3+o&&l>n.q1-o?t.outliers:t.extremes;var c=f({},s.border);Xr(c.color)||(Xr(e.color)?c.color=e.color:c.color=new Yn.Color(s.background).brightness(ss).toHex());var u=new Mo({type:s.type,width:s.size,height:s.size,rotation:s.rotation,background:s.background,border:c,opacity:s.opacity});u.value=l,i.push(u)}return this.reflowOutliers(i),i},e.prototype.reflowOutliers=function(t){for(var e=this,n=this.owner.seriesValueAxis(this.options),r=this.box.center(),o=0;o<t.length;o++){var i=t[o].value,s=n.getSlot(i);e.options.vertical?s.move(r.x):s.move(void 0,r.y),e.box=e.box.wrap(s),t[o].reflow(s)}},e.prototype.mainVisual=function(e){for(var n=t.prototype.mainVisual.call(this,e),r=this.renderOutliers(e),o=0;o<r.length;o++){var i=r[o].getElement();i&&n.append(i)}return n},e.prototype.createLines=function(t,e){this.drawLines(t,e,this.whiskerPoints,e.whiskers),this.drawLines(t,e,this.medianPoints,e.median),this.drawLines(t,e,this.meanPoints,e.mean)},e.prototype.getBorderColor=function(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:t.prototype.getBorderColor.call(this)},e}(il);E(al,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:vs,type:rr,background:Pr,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:vs,type:er,background:Pr,border:{width:2,opacity:1},opacity:0}}),f(al.prototype,za);var ll=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowBoxSlot=function(t){this.boxSlot.y1=t.y1,this.boxSlot.y2=t.y2},e.prototype.reflowWhiskerSlot=function(t){this.whiskerSlot.y1=t.y1,this.whiskerSlot.y2=t.y2},e.prototype.calcMeanPoints=function(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]},e.prototype.calcWhiskerPoints=function(t,e){var n=e.center().y;return[[[e.x1,n-5],[e.x1,n+5],[e.x1,n],[t.x1,n]],[[e.x2,n-5],[e.x2,n+5],[e.x2,n],[t.x2,n]]]},e.prototype.calcMedianPoints=function(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]},e}(al),cl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addValue=function(t,e){var n,r=e.categoryIx,o=e.category,i=e.series,s=e.seriesIx,a=this,l=a.children,c=a.options,u=t.valueFields,p=this.splitValue(u),h=Wt(p),f=i.data[r],d=this.categoryPoints[r];d||(this.categoryPoints[r]=d=[]),h&&(n=this.createPoint(t,e));var v=l[r];v||(v=new nl({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing,rtl:!c.invertAxes&&(this.chartService||{}).rtl}),this.append(v)),n&&(this.updateRange(u,e),v.append(n),n.categoryIx=r,n.category=o,n.series=i,n.seriesIx=s,n.owner=this,n.dataItem=f),this.points.push(n),d.push(n)},e.prototype.pointType=function(){return this.options.invertAxes?ll:al},e.prototype.splitValue=function(t){return[t.lower,t.q1,t.median,t.q3,t.upper]},e.prototype.updateRange=function(t,e){var n=e.series.axis,r=this.valueAxisRanges[n],o=this.splitValue(t).concat(this.filterOutliers(t.outliers));Xr(t.mean)&&(o=o.concat(t.mean)),r=this.valueAxisRanges[n]=r||{min:vr,max:yr},r=this.valueAxisRanges[n]={min:Math.min.apply(Math,o.concat([r.min])),max:Math.max.apply(Math,o.concat([r.max]))}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.lower,n.q1,n.median,n.q3,n.upper,n.mean,t.category)},e.prototype.filterOutliers=function(t){for(var e=(t||[]).length,n=[],r=0;r<e;r++){var o=t[r];Xr(o)&&null!==o&&n.push(o)}return n},e.prototype.supportsPointInactiveOpacity=function(){return!1},e}(sl),ul=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAxis=function(){var t=this.chart.seriesAxes(this.series),e=this.isVertical?t.y:t.x;return e},e}(ja),pl=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.chartService=e.chartService,this._initFields(),this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initFields=function(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]},e.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},e.prototype.addErrorBar=function(t,e,n){var r=t.value[e],o=e+"Value",i=e+"ErrorLow",s=e+"ErrorHigh",a=n.seriesIx,c=n.series,u=t.options.errorBars,p=n[i],h=n[s];if(l(r)){var f;l(p)&&l(h)&&(f={low:p,high:h}),u&&Xr(u[o])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[e][a]=this.seriesErrorRanges[e][a]||new ns(u[o],c,e),f=this.seriesErrorRanges[e][a].getErrorRange(r,u[o])),f&&this.addPointErrorBar(f,t,e)}},e.prototype.addPointErrorBar=function(t,e,n){var r=t.low,o=t.high,i=e.series,s=e.options.errorBars,a=n===jr,l={};e[n+"Low"]=r,e[n+"High"]=o,e.errorBars=e.errorBars||[];var c=new ul(r,o,a,this,i,s);e.errorBars.push(c),e.append(c),l[n]=r,this.updateRange(l,i),l[n]=o,this.updateRange(l,i)},e.prototype.addValue=function(t,e){var n=t.x,r=t.y,o=e.seriesIx,i=this.options.series[o],s=this.seriesMissingValues(i),a=this.seriesPoints[o],l=t;Ut(n)&&Ut(r)||(l=this.createMissingValue(l,s));var c;l&&(c=this.createPoint(l,e),c&&(Object.assign(c,e),this.addErrorBar(c,Dr,e),this.addErrorBar(c,jr,e)),this.updateRange(l,e.series)),this.points.push(c),a.push(c)},e.prototype.seriesMissingValues=function(t){return t.missingValues},e.prototype.createMissingValue=function(){},e.prototype.updateRange=function(t,e){var n=this.chartService.intl,r=e.xAxis,o=e.yAxis,i=t.x,s=t.y,a=this.xAxisRanges[r],l=this.yAxisRanges[o];Ut(i)&&(a=this.xAxisRanges[r]=a||{min:vr,max:yr},c(i)&&(i=st(n,i)),a.min=Math.min(a.min,i),a.max=Math.max(a.max,i)),Ut(s)&&(l=this.yAxisRanges[o]=l||{min:vr,max:yr},c(s)&&(s=st(n,s)),l.min=Math.min(l.min,s),l.max=Math.max(l.max,s))},e.prototype.evalPointOptions=function(t,e,n){var r=n.series,o=n.seriesIx,i={defaults:r._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},s=this._evalSeries[o];Xr(s)||(this._evalSeries[o]=s=Lt(t,{},i,!0));var a=t;return s&&(a=f({},t),Lt(a,{value:e,series:r,dataItem:n.dataItem},i)),a},e.prototype.pointType=function(){return Ba},e.prototype.pointOptions=function(t,e){var n=this.seriesOptions[e];if(!n){var r=this.pointType().prototype.defaults;this.seriesOptions[e]=n=f({},r,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return n},e.prototype.createPoint=function(t,e){var n=e.series,r=this.pointOptions(n,e.seriesIx),o=e.color||n.color;r=this.evalPointOptions(r,t,e),p(n.color)&&(o=r.color);var i=new Ba(t,r);return i.color=o,this.append(i),i},e.prototype.seriesAxes=function(t){var e=t.xAxis,n=t.yAxis,r=this.plotArea,o=e?r.namedXAxes[e]:r.axisX,i=n?r.namedYAxes[n]:r.axisY;if(!o)throw new Error("Unable to locate X axis with name "+e);if(!i)throw new Error("Unable to locate Y axis with name "+n);return{x:o,y:i}},e.prototype.reflow=function(t){var e=this,n=this.points,r=!this.options.clip,o=0;this.traverseDataPoints(function(t,i){var s=n[o++],a=e.seriesAxes(i.series),l=a.x.getSlot(t.x,t.x,r),c=a.y.getSlot(t.y,t.y,r);if(s)if(l&&c){var u=e.pointSlot(l,c);s.reflow(u)}else s.visible=!1}),this.box=t},e.prototype.pointSlot=function(t,e){return new xo(t.x1,e.y1,t.x2,e.y2)},e.prototype.traverseDataPoints=function(t){for(var e=this,n=this,r=n.options.series,o=n.seriesPoints,i=0;i<r.length;i++){var s=r[i],a=o[i];a||(o[i]=[]);for(var l=0;l<s.data.length;l++){var c=e._bindPoint(s,i,l),u=c.valueFields,p=c.fields;t(u,f({pointIx:l,series:s,seriesIx:i,dataItem:s.data[l],owner:e},p))}}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.x,n.y)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],n=0;n<t.length;n++)e.push((t[n]||{}).marker);return e},e}(Eo);E(pl,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),f(pl.prototype,qa,{_bindPoint:La.prototype._bindPoint});var hl=function(t){function e(e,n){t.call(this,e,n),this.category=e.category}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createHighlight=function(){var t=this.options.highlight,e=t.border,n=this.options.markers,r=this.box.center(),o=(n.size+n.border.width+e.width)/2,i=new Yn.drawing.Group,s=new Yn.drawing.Circle(new Yn.geometry.Circle([r.x,r.y+o/5+e.width/2],o+e.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:n.background,stops:[{offset:0,color:n.background,opacity:.3},{offset:1,color:n.background,opacity:0}]})}),a=new Yn.drawing.Circle(new Yn.geometry.Circle([r.x,r.y],o),{stroke:{color:e.color||new Yn.Color(n.background).brightness(ss).toHex(),width:e.width,opacity:e.opacity},fill:{color:n.background,opacity:t.opacity}});return i.append(s,a),i},e}(Ba);hl.prototype.defaults=f({},hl.prototype.defaults,{labels:{position:tr},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),hl.prototype.defaults.highlight.zIndex=void 0;var fl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initFields=function(){this._maxSize=yr,t.prototype._initFields.call(this)},e.prototype.addValue=function(e,n){null!==e.size&&(e.size>0||e.size<0&&n.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(e.size)),t.prototype.addValue.call(this,e,n)):(this.points.push(null),this.seriesPoints[n.seriesIx].push(null))},e.prototype.reflow=function(e){this.updateBubblesSize(e),t.prototype.reflow.call(this,e)},e.prototype.pointType=function(){return hl},e.prototype.createPoint=function(t,e){var n=e.series,r=n.data.length,o=e.pointIx*(os/r),i={delay:o,duration:os-o,type:Os},s=e.color||n.color;t.size<0&&n.negativeValues.visible&&(s=co(n.negativeValues.color,s));var a=f({labels:{animation:{delay:o,duration:os-o}}},this.pointOptions(n,e.seriesIx),{markers:{type:er,border:n.border,opacity:n.opacity,animation:i}});a=this.evalPointOptions(a,t,e),p(n.color)&&(s=a.color),a.markers.background=s;var l=new hl(t,a);return l.color=s,this.append(l),l},e.prototype.updateBubblesSize=function(t){for(var e=this,n=this,r=n.options.series,o=Math.min(t.width(),t.height()),i=0;i<r.length;i++)for(var s=r[i],a=e.seriesPoints[i],l=s.minSize||Math.max(.02*o,10),c=s.maxSize||.2*o,u=l/2,p=c/2,h=Math.PI*u*u,d=Math.PI*p*p,v=d-h,y=v/e._maxSize,g=0;g<a.length;g++){var m=a[g];if(m){var b=Math.abs(m.value.size)*y,w=Math.sqrt((h+b)/Math.PI),_=co(m.options.zIndex,0),x=_+(1-w/p);f(m.options,{zIndex:x,markers:{size:2*w,zIndex:x},labels:{zIndex:x+1}})}}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.x,n.y,n.size,t.category)},e.prototype.createAnimation=function(){},e.prototype.createVisual=function(){},e}(pl);E(fl,{tooltip:{format:"{3}"},labels:{format:"{3}"}});var dl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Mo);f(dl.prototype,za);var vl=function(t){function e(e,n){t.call(this,n),this.aboveAxis=this.options.aboveAxis,this.color=n.color||Pr,this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.options;this._rendered||(this._rendered=!0,Xr(this.value.target)&&(this.target=new dl({type:t.target.shape,background:t.target.color||this.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:Er,align:kr}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createNote())},e.prototype.reflow=function(t){this.render();var e=this,n=e.options,r=e.target,o=e.owner,i=n.invertAxes,s=o.seriesValueAxis(this.options),a=o.categorySlot(o.categoryAxis,n.categoryIx,s),l=s.getSlot(this.value.target),c=i?l:a,u=i?a:l;if(r){var p=new xo(c.x1,u.y1,c.x2,u.y2);r.options.height=i?p.height():n.target.line.width,r.options.width=i?n.target.line.width:p.width(),r.reflow(p)}this.note&&this.note.reflow(t),this.box=t},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.options,n=Yn.drawing.Path.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&n.options.set("stroke",{color:e.border.color||this.color,width:e.border.width,dashType:e.border.dashType,opacity:co(e.border.opacity,e.opacity)}),this.bodyVisual=n,s(n),this.visual.append(n)},e.prototype.createAnimation=function(){this.bodyVisual&&(this.animation=Yn.drawing.Animation.create(this.bodyVisual,this.options.animation))},e.prototype.createHighlight=function(t){return Yn.drawing.Path.fromRect(this.box.toRect(),t)},e.prototype.highlightVisual=function(){return this.bodyVisual},e.prototype.highlightVisualArgs=function(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e}(Eo);vl.prototype.tooltipAnchor=el.prototype.tooltipAnchor,E(vl,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}<br />Target: {1}"}}),f(vl.prototype,za),f(vl.prototype,Fa);var yl=function(t){function e(e,n){Kt(n),t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowCategories=function(t){for(var e=this.children,n=e.length,r=0;r<n;r++)e[r].reflow(t[r])},e.prototype.plotRange=function(t){var e=t.series,n=this.seriesValueAxis(e),r=this.categoryAxisCrossingValue(n);return[r,t.value.current||r]},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,s=this,a=s.options,l=s.children,c=t.valueFields,u=f({vertical:!a.invertAxes,overlay:o.overlay,categoryIx:n,invertAxes:a.invertAxes},o),h=t.fields.color||o.color;u=this.evalPointOptions(u,c,r,n,o,i),p(o.color)&&(h=u.color);var d=new vl(c,u);d.color=h;var v=l[n];return v||(v=new nl({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(v)),v.append(d),d},e.prototype.updateRange=function(t,e){var n=t.current,r=t.target,o=e.series.axis,i=this.valueAxisRanges[o];Xr(n)&&!isNaN(n)&&Xr(r&&!isNaN(r))&&(i=this.valueAxisRanges[o]=i||{min:vr,max:yr},i.min=Math.min(i.min,n,r),i.max=Math.max(i.max,n,r))},e.prototype.formatPointValue=function(t,e){return this.chartService.format.auto(e,t.value.current,t.value.target)},e.prototype.pointValue=function(t){return t.valueFields.current},e.prototype.aboveAxis=function(t){var e=t.value.current;return e>0},e.prototype.createAnimation=function(){var t=this,e=this.points;this._setAnimationOptions();for(var n=0;n<e.length;n++){var r=e[n];r.options.animation=t.options.animation,r.createAnimation()}},e}(La);yl.prototype._setAnimationOptions=ol.prototype._setAnimationOptions,E(yl,{animation:{type:Ss}});var gl=function(t){function e(e,n){t.call(this),this.chartService=e,this.options=f({},this.options,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getStyle=function(t,e){var n=t.background,r=t.border.color;if(e){var o=e.color||e.options.color;n=co(n,o),r=co(r,o)}var i=m(t.padding||{},"auto");return{backgroundColor:n,borderColor:r,font:t.font,color:t.color,opacity:t.opacity,borderWidth:v(t.border.width),paddingTop:v(i.top),paddingBottom:v(i.bottom),paddingLeft:v(i.left),paddingRight:v(i.right)}},e.prototype.show=function(t,e,n){t.format=e.format;var r=this.getStyle(e,n);t.style=r;var o=new Yn.Color(r.backgroundColor);Xr(e.color)||o.isDark()||(t.className="k-chart-tooltip-inverse"),this.chartService.notify(_a,t),this.visible=!0},e.prototype.hide=function(){this.chartService&&this.chartService.notify(xa),this.visible=!1},e.prototype.destroy=function(){delete this.chartService},e}(Yn.Class);E(gl,{border:{width:1},opacity:1});var ml=function(t){function e(e,n,r){t.call(this,e,r),this.crosshair=n,this.formatService=e.format,this.initAxisName()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initAxisName=function(){var t,e=this.crosshair.axis,n=e.plotArea;t=n.categoryAxis?e.getCategory?"categoryAxis":"valueAxis":e.options.vertical?"yAxis":"xAxis",
this.axisName=t},e.prototype.showAt=function(t){var e=this,n=e.crosshair.axis,r=e.options,o=n[r.stickyMode?"getCategory":"getValue"](t),i=o;r.format?i=this.formatService.auto(r.format,o):n.options.type===or&&(i=this.formatService.auto(n.options.labels.dateFormats[n.options.baseUnit],o)),this.show({point:t,anchor:this.getAnchor(),crosshair:this.crosshair,value:i,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)},e.prototype.hide=function(){this.chartService.notify(xa,{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})},e.prototype.getAnchor=function(){var t,e,n,r=this,o=r.crosshair,i=r.options,s=i.position,a=i.padding,l=!o.axis.options.vertical,c=o.line.bbox();return l?(t=tr,s===Qn?(e=Er,n=c.bottomLeft().translate(0,a)):(e=Qn,n=c.topLeft().translate(0,-a))):(e=tr,s===dr?(t=kr,n=c.topLeft().translate(-a,0)):(t=dr,n=c.topRight().translate(a,0))),{point:n,align:{horizontal:t,vertical:e}}},e}(gl);E(ml,{padding:10});var bl=function(t){function e(e,n,r){t.call(this,r),this.axis=n,this.stickyMode=n instanceof _i;var o=this.options.tooltip;o.visible&&(this.tooltip=new ml(e,this,f({},o,{stickyMode:this.stickyMode})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.showAt=function(t){this.point=t,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(t)},e.prototype.hide=function(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()},e.prototype.moveLine=function(){var t,e=this,n=e.axis,r=e.point,o=n.options.vertical,i=this.getBox(),s=o?jr:Dr,a=new Yn.geometry.Point(i.x1,i.y1);if(t=o?new Yn.geometry.Point(i.x2,i.y1):new Yn.geometry.Point(i.x1,i.y2),r)if(this.stickyMode){var l=n.getSlot(n.pointCategoryIndex(r));a[s]=t[s]=l.center()[s]}else a[s]=t[s]=r[s];this.box=i,this.line.moveTo(a).lineTo(t)},e.prototype.getBox=function(){for(var t,e=this.axis,n=e.pane.axes,r=n.length,o=e.options.vertical,i=e.lineBox().clone(),s=o?Dr:jr,a=0;a<r;a++){var l=n[a];l.options.vertical!==o&&(t?t.wrap(l.lineBox()):t=l.lineBox().clone())}return i[s+1]=t[s+1],i[s+2]=t[s+2],i},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.options;this.line=new Yn.drawing.Path({stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),t.prototype.destroy.call(this)},e}(Eo);E(bl,{color:Jn,width:2,zIndex:-1,tooltip:{visible:!1}});var wl=function(t){function e(e,n){t.call(this,e),this.pane=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.shouldClip=function(){for(var t=this.children,e=t.length,n=0;n<e;n++)if(t[n].options.clip===!0)return!0;return!1},e.prototype._clipBox=function(){return this.pane.chartsBox()},e.prototype.createVisual=function(){if(this.visual=new Yn.drawing.Group({zIndex:0}),this.shouldClip()){var t=this.clipBox=this._clipBox(),e=t.toRect(),n=Yn.drawing.Path.fromRect(e);s(n),this.visual.clip(n),this.unclipLabels()}},e.prototype.stackRoot=function(){return this},e.prototype.unclipLabels=function(){for(var t=this,e=t.children,n=t.clipBox,r=0;r<e.length;r++)for(var o=e[r].points||{},i=o.length,s=0;s<i;s++){var a=o[s];if(a&&a.visible!==!1&&a.overlapsBox&&a.overlapsBox(n))if(a.unclipElements)a.unclipElements();else{var l=a.label,c=a.note;l&&l.options.visible&&(l.alignToClipBox&&l.alignToClipBox(n),l.options.noclip=!0),c&&c.options.visible&&(c.options.noclip=!0)}}},e.prototype.destroy=function(){t.prototype.destroy.call(this),delete this.parent},e}(Eo);wl.prototype.isStackRoot=!0;var _l=function(t){function e(e){t.call(this,e),this.id=qt(),this.createTitle(),this.content=new Eo,this.chartContainer=new wl({},this),this.append(this.content),this.axes=[],this.charts=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createTitle=function(){var t=this.options.title;d(t)&&(t=f({},t,{align:t.position,position:Er})),this.title=Bo.buildTitle(t,this,e.prototype.options.title)},e.prototype.appendAxis=function(t){this.content.append(t),this.axes.push(t),t.pane=this},e.prototype.appendAxisAt=function(t,e){this.content.append(t),this.axes.splice(e,0,t),t.pane=this},e.prototype.appendChart=function(t){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(t),this.chartContainer.append(t),t.pane=this},e.prototype.empty=function(){var t=this,e=this.parent;if(e){for(var n=0;n<this.axes.length;n++)e.removeAxis(t.axes[n]);for(var r=0;r<this.charts.length;r++)e.removeChart(t.charts[r])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]},e.prototype.reflow=function(e){var n;ro(this.children)===this.content&&(n=this.children.pop()),t.prototype.reflow.call(this,e),n&&this.children.push(n),this.title&&(this.contentBox.y1+=this.title.box.height())},e.prototype.visualStyle=function(){var e=t.prototype.visualStyle.call(this);return e.zIndex=-10,e},e.prototype.renderComplete=function(){this.options.visible&&this.createGridLines()},e.prototype.stackRoot=function(){return this},e.prototype.clipRoot=function(){return this},e.prototype.createGridLines=function(){for(var t=this.axes,e=t.concat(this.parent.axes),n=[],r=[],o=0;o<t.length;o++)for(var i=t[o],s=i.options.vertical,a=s?n:r,l=0;l<e.length;l++)if(0===a.length){var c=e[l];s!==c.options.vertical&&$r(a,i.createGridLines(c))}},e.prototype.refresh=function(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()},e.prototype.chartsBox=function t(){for(var e=this.axes,n=e.length,t=new xo,r=0;r<n;r++){var o=e[r],i=o.options.vertical?jr:Dr,s=o.lineBox();t[i+1]=s[i+1],t[i+2]=s[i+2]}if(0===t.x2)for(var a=this.parent.axes,l=a.length,c=0;c<l;c++){var u=a[c];if(!u.options.vertical){var p=u.lineBox();t.x1=p.x1,t.x2=p.x2}}return t},e.prototype.clipBox=function(){return this.chartContainer.clipBox},e.prototype.notifyRender=function(){var t=this.getService();t&&t.notify(ka,{pane:new $i(this),index:this.paneIndex,name:this.options.name})},e}(To),xl=1;_l.prototype.isStackRoot=!0,E(_l,{zIndex:-1,shrinkToFit:!0,title:{align:dr},visible:!0});var kl=/area/i,Sl=function(t){function e(e,n,r){t.call(this,n),this.initFields(e,n),this.series=e,this.initSeries(),this.charts=[],this.options.legend=this.options.legend||{},this.options.legend.items=[],this.axes=[],this.crosshairs=[],this.chartService=r,this.originalOptions=n,this.createPanes(),this.render(),this.createCrosshairs()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){},e.prototype.initSeries=function(){for(var t=this.series,e=0;e<t.length;e++)t[e].index=e},e.prototype.createPanes=function(){for(var t=this,e=this.options.title||{},n=this.options.paneDefaults,r=this.options.panes||[],o=Math.max(r.length,1),i=[],s=f({title:{color:e.color}},n),a=0;a<o;a++){var l=f({},s,r[a]);c(l.title)&&(l.title=f({text:l.title},s.title));var u=new _l(l);u.paneIndex=a,i.push(u),t.append(u)}this.panes=i},e.prototype.crosshairOptions=function(t){return t.options.crosshair},e.prototype.createCrosshairs=function(t){var e=this;void 0===t&&(t=this.panes);for(var n=0;n<t.length;n++)for(var r=t[n],o=0;o<r.axes.length;o++){var i=r.axes[o],s=e.crosshairOptions(i);if(s&&s.visible){var a=new bl(e.chartService,i,s);e.crosshairs.push(a),r.content.append(a)}}},e.prototype.removeCrosshairs=function(t){for(var e=this.crosshairs,n=t.axes,r=e.length-1;r>=0;r--)for(var o=0;o<n.length;o++)if(e[r].axis===n[o]){e.splice(r,1);break}},e.prototype.hideCrosshairs=function(){for(var t=this.crosshairs,e=0;e<t.length;e++)t[e].hide()},e.prototype.findPane=function(t){for(var e,n=this.panes,r=0;r<n.length;r++)if(n[r].options.name===t){e=n[r];break}return e||n[0]},e.prototype.findPointPane=function(t){for(var e,n=this.panes,r=0;r<n.length;r++)if(n[r].box.containsPoint(t)){e=n[r];break}return e},e.prototype.appendAxis=function(t){var e=this.findPane(t.options.pane);e.appendAxis(t),this.axes.push(t),t.plotArea=this},e.prototype.removeAxis=function(t){for(var e=this,n=[],r=0;r<this.axes.length;r++){var o=e.axes[r];t!==o?n.push(o):o.destroy()}this.axes=n},e.prototype.appendChart=function(t,e){this.charts.push(t),e?e.appendChart(t):this.append(t)},e.prototype.removeChart=function(t){for(var e=this,n=[],r=0;r<this.charts.length;r++){var o=e.charts[r];o!==t?n.push(o):o.destroy()}this.charts=n},e.prototype.addToLegend=function(t){for(var e=t.length,n=this.options.legend,r=n.labels||{},o=n.inactiveItems||{},i=o.labels||{},s=[],a=0;a<e;a++){var l=t[a],c=l.visible!==!1;if(l.visibleInLegend!==!1){var u=l.name,h=c?b(r):b(i)||b(r);h&&(u=h({text:Ut(u)?u:"",series:l}));var f=l._defaults,d=l.color;p(d)&&f&&(d=f.color);var v=void 0,y=void 0;c?(v={},y=d):(v={color:i.color,font:i.font},y=o.markers.color),Ut(u)&&""!==u&&s.push({text:u,labels:v,markerColor:y,series:l,active:c})}}$r(n.items,s)},e.prototype.groupAxes=function(t){for(var e=[],n=[],r=0;r<t.length;r++)for(var o=t[r].axes,i=0;i<o.length;i++){var s=o[i];s.options.vertical?n.push(s):e.push(s)}return{x:e,y:n,any:e.concat(n)}},e.prototype.groupSeriesByPane=function(){for(var t=this,e=this.series,n={},r=0;r<e.length;r++){var o=e[r],i=t.seriesPaneName(o);n[i]?n[i].push(o):n[i]=[o]}return n},e.prototype.filterVisibleSeries=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];r.visible!==!1&&e.push(r)}return e},e.prototype.reflow=function(t){var e=this.options.plotArea,n=this.panes,r=m(e.margin);this.box=t.clone().unpad(r),this.reflowPanes(),this.detachLabels(),this.reflowAxes(n),this.reflowCharts(n)},e.prototype.redraw=function(t){var e=this,n=[].concat(t);this.initSeries();var r=this.getRoot();r&&r.cleanGradients();for(var o=0;o<n.length;o++)e.removeCrosshairs(n[o]),n[o].empty();this.render(n),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(n),this.createCrosshairs(n);for(var i=0;i<n.length;i++)n[i].refresh()},e.prototype.axisCrossingValues=function(t,e){for(var n=t.options,r=[].concat(n.axisCrossingValues||n.axisCrossingValue),o=e.length-r.length,i=r[0]||0,s=0;s<o;s++)r.push(i);return r},e.prototype.alignAxisTo=function(t,e,n,r){var o=t.getSlot(n,n,!0),i=t.options.reverse?2:1,s=e.getSlot(r,r,!0),a=e.options.reverse?2:1,l=t.box.translate(s[Dr+a]-o[Dr+i],s[jr+a]-o[jr+i]);t.pane!==e.pane&&l.translate(0,t.pane.box.y1-e.pane.box.y1),t.reflow(l)},e.prototype.alignAxes=function(t,e){for(var n=this,r=t[0],o=e[0],i=this.axisCrossingValues(r,e),s=this.axisCrossingValues(o,t),a={},l={},c={},u={},p=0;p<e.length;p++){var h=e[p],f=h.pane,d=f.id,v=h.options.visible!==!1,y=ae(t,f)||r,g=i;y!==r&&(g=n.axisCrossingValues(y,e)),n.alignAxisTo(h,y,s[p],g[p]),h.options._overlap||(ao(h.lineBox().x1)===ao(y.lineBox().x1)&&(a[d]&&h.reflow(h.box.alignTo(a[d].box,dr).translate(-h.options.margin,0)),v&&(a[d]=h)),ao(h.lineBox().x2)===ao(y.lineBox().x2)&&(h._mirrored||(h.options.labels.mirror=!h.options.labels.mirror,h._mirrored=!0),n.alignAxisTo(h,y,s[p],g[p]),l[d]&&h.reflow(h.box.alignTo(l[d].box,kr).translate(h.options.margin,0)),v&&(l[d]=h)),0!==p&&o.pane===h.pane&&(h.alignTo(o),h.reflow(h.box)))}for(var m=0;m<t.length;m++){var b=t[m],w=b.pane,_=w.id,x=b.options.visible!==!1,k=ae(e,w)||o,S=s;k!==o&&(S=n.axisCrossingValues(k,t)),n.alignAxisTo(b,k,i[m],S[m]),b.options._overlap||(ao(b.lineBox().y1)===ao(k.lineBox().y1)&&(b._mirrored||(b.options.labels.mirror=!b.options.labels.mirror,b._mirrored=!0),n.alignAxisTo(b,k,i[m],S[m]),c[_]&&b.reflow(b.box.alignTo(c[_].box,Er).translate(0,-b.options.margin)),x&&(c[_]=b)),ao(b.lineBox().y2,nr)===ao(k.lineBox().y2,nr)&&(u[_]&&b.reflow(b.box.alignTo(u[_].box,Qn).translate(0,b.options.margin)),x&&(u[_]=b)),0!==m&&(b.alignTo(r),b.reflow(b.box)))}},e.prototype.shrinkAxisWidth=function(t){for(var e=this.groupAxes(t).any,n=se(e),r=0,o=0;o<t.length;o++){var i=t[o];i.axes.length>0&&(r=Math.max(r,n.width()-i.contentBox.width()))}if(0!==r)for(var s=0;s<e.length;s++){var a=e[s];a.options.vertical||a.reflow(a.box.shrink(r,0))}},e.prototype.shrinkAxisHeight=function(t){for(var e,n=0;n<t.length;n++){var r=t[n],o=r.axes,i=Math.max(0,se(o).height()-r.contentBox.height());if(0!==i){for(var s=0;s<o.length;s++){var a=o[s];a.options.vertical&&a.reflow(a.box.shrink(0,i))}e=!0}}return e},e.prototype.fitAxes=function(t){for(var e=this.groupAxes(t).any,n=0,r=0;r<t.length;r++){var o=t[r],i=o.axes,s=o.contentBox;if(i.length>0){var a=se(i),l=Math.max(s.y1-a.y1,s.y2-a.y2);n=Math.max(n,s.x1-a.x1);for(var c=0;c<i.length;c++){var u=i[c];u.reflow(u.box.translate(0,l))}}}for(var p=0;p<e.length;p++){var h=e[p];h.reflow(h.box.translate(n,0))}},e.prototype.reflowAxes=function(t){for(var e=this,n=this.groupAxes(t),r=0;r<t.length;r++)e.reflowPaneAxes(t[r]);n.x.length>0&&n.y.length>0&&(this.alignAxes(n.x,n.y),this.shrinkAxisWidth(t),this.autoRotateAxisLabels(n),this.alignAxes(n.x,n.y),this.shrinkAxisWidth(t)&&this.alignAxes(n.x,n.y),this.shrinkAxisHeight(t),this.alignAxes(n.x,n.y),this.shrinkAxisHeight(t)&&this.alignAxes(n.x,n.y),this.fitAxes(t))},e.prototype.autoRotateAxisLabels=function(t){for(var e,n=this,r=this,o=r.panes,i=Cl(o),s=0;s<i.length;s++){var a=i[s];a.autoRotateLabels()&&(e=!0)}if(e){for(var l=0;l<o.length;l++)n.reflowPaneAxes(o[l]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(o))}},e.prototype.reflowPaneAxes=function(t){var e=t.axes,n=e.length;if(n>0)for(var r=0;r<n;r++)e[r].reflow(t.contentBox)},e.prototype.reflowCharts=function(t){for(var e=this.charts,n=e.length,r=this.box,o=0;o<n;o++){var i=e[o].pane;i&&!k(i,t)||e[o].reflow(r)}},e.prototype.reflowPanes=function(){for(var t=this,e=t.box,n=t.panes,r=n.length,o=e.height(),i=r,s=0,a=e.y1,l=0;l<r;l++){var c=n[l],u=c.options.height;if(c.options.width=e.width(),c.options.height){if(u.indexOf&&u.indexOf("%")){var p=parseInt(u,10)/100;c.options.height=p*e.height()}c.reflow(e.clone()),o-=c.options.height}else s++}for(var h=0;h<r;h++){var f=n[h];f.options.height||(f.options.height=o/s)}for(var d=0;d<r;d++){var v=n[d],y=e.clone().move(e.x1,a);v.reflow(y),i--,a+=v.options.height}},e.prototype.backgroundBox=function(){for(var t,e=this.axes,n=e.length,r=0;r<n;r++)for(var o=e[r],i=0;i<n;i++){var s=e[i];if(o.options.vertical!==s.options.vertical){var a=o.lineBox().clone().wrap(s.lineBox());t=t?t.wrap(a):a}}return t||this.box},e.prototype.chartsBoxes=function(){for(var t=this.panes,e=[],n=0;n<t.length;n++)e.push(t[n].chartsBox());return e},e.prototype.addBackgroundPaths=function(t){for(var e=this.chartsBoxes(),n=0;n<e.length;n++)t.paths.push(Yn.drawing.Path.fromRect(e[n].toRect()))},e.prototype.backgroundContainsPoint=function(t){for(var e=this.chartsBoxes(),n=0;n<e.length;n++)if(e[n].containsPoint(t))return!0},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.options.plotArea,n=e.opacity,r=e.background,o=e.border;void 0===o&&(o={}),le(r)&&(r=Pr,n=0);var i=this._bgVisual=new Yn.drawing.MultiPath({fill:{color:r,opacity:n},stroke:{color:o.width?o.color:"",width:o.width,dashType:o.dashType},zIndex:-1});this.addBackgroundPaths(i),this.appendVisual(i)},e.prototype.pointsByCategoryIndex=function(t){var e=this.charts,n=[];if(null!==t)for(var r=0;r<e.length;r++){var o=e[r];if("_navigator"!==o.pane.options.name){var i=e[r].categoryPoints[t];if(i&&i.length)for(var s=0;s<i.length;s++){var a=i[s];a&&Xr(a.value)&&null!==a.value&&n.push(a)}}}return n},e.prototype.pointsBySeriesIndex=function(t){return this.filterPoints(function(e){return e.series.index===t})},e.prototype.pointsBySeriesName=function(t){return this.filterPoints(function(e){return e.series.name===t})},e.prototype.filterPoints=function(t){for(var e=this.charts,n=[],r=0;r<e.length;r++)for(var o=e[r],i=o.points,s=0;s<i.length;s++){var a=i[s];a&&a.visible!==!1&&t(a)&&n.push(a)}return n},e.prototype.findPoint=function(t){for(var e=this.charts,n=0;n<e.length;n++)for(var r=e[n],o=r.points,i=0;i<o.length;i++){var s=o[i];if(s&&s.visible!==!1&&t(s))return s}},e.prototype.paneByPoint=function(t){for(var e=this.panes,n=0;n<e.length;n++){var r=e[n];if(r.box.containsPoint(t))return r}},e.prototype.detachLabels=function(){var t=this.groupAxes(this.panes),e=t.x,n=t.y;this.detachAxisGroupLabels(n,e),this.detachAxisGroupLabels(e,n)},e.prototype.detachAxisGroupLabels=function(t,e){for(var n=this,r=0,o=0;o<t.length;o++){var i=t[o],s=i.pane,a=ae(e,s)||e[0],l=o+r,c=n.createLabelAxis(i,l,a);if(c){r++;var u=s.axes.indexOf(i)+r;s.appendAxisAt(c,u)}}},e.prototype.createLabelAxis=function(t,e,n){var r=t.options.labels,o=r.position,i=o!==cr&&o!==Cr,s=r.visible;if(i||s===!1)return null;var a=this.groupAxes(this.panes),l=n.options.vertical?a.x:a.y,c=this.axisCrossingValues(n,l),u=o===cr,p=n.range(),h=u?p.max:p.min,f=oo(c[e],p.min,p.max);if(f-h===0)return null;c.splice(e+1,0,h),n.options.axisCrossingValues=c;var d=t.clone();return t.clear(),d.options.name=void 0,d.options.line.visible=!1,d.options.crosshair=void 0,d.options.notes=void 0,d.options.plotBands=void 0,d},e}(Eo),Cl=function(t){return t.reduce(function(t,e){return t.concat(e.axes)},[])};E(Sl,{series:[],plotArea:{margin:{}},background:"",border:{color:Jn,width:0},paneDefaults:{title:{}},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});var Ol={hover:function(t,e){this._dispatchEvent(t,e,ca)},click:function(t,e){this._dispatchEvent(t,e,la)}},El=function(t){function e(e,n,r){t.call(this);var o=n.canonicalFields(e),i=n.valueFields(e),s=n.sourceFields(e,o),a=this._seriesFields=[],l=r.query(e.type),c=e.aggregate||l;this._series=e,this._binder=n;for(var u=0;u<o.length;u++){var h=o[u],f=void 0;if(d(c))f=c[h];else{if(0!==u&&!k(h,i))break;f=c}f&&a.push({canonicalName:h,name:s[u],transform:p(f)?f:Xi[f]})}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.aggregatePoints=function(t,e){var n=this,o=this,i=o._series,s=o._seriesFields,a=this._bindPoints(t||[]),c=a.dataItems[0],u={};if(c&&!l(c)&&!r(c)){var p=function(){};p.prototype=c,u=new p}for(var h=0;h<s.length;h++){var f=s[h],v=n._bindField(a.values,f.canonicalName),y=f.transform(v,i,a.dataItems,e);if(!(null===y||!d(y)||Xr(y.length)||y instanceof Date)){u=y;break}Xr(y)&&ce(f.name,u,y)}return u},e.prototype._bindPoints=function(t){for(var e=this,n=e._binder,r=e._series,o=[],i=[],s=0;s<t.length;s++){var a=t[s];o.push(n.bindPoint(r,a)),i.push(r.data[a])}return{values:o,dataItems:i}},e.prototype._bindField=function(t,e){for(var n=[],r=t.length,o=0;o<r;o++){var i=t[o],s=i.valueFields,a=void 0;a=Xr(s[e])?s[e]:i.fields[e],n.push(a)}return n},e}(Yn.Class),Tl=function(t){function e(){t.call(this),this._defaults={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(t,e){for(var n=this,r=0;r<t.length;r++)n._defaults[t[r]]=e},e.prototype.query=function(t){return this._defaults[t]},e}(Yn.Class);Tl.current=new Tl;var Ml=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLabel=function(){var t=this.options.labels,e=f({},t,t.from),n=f({},t,t.to);e.visible&&(this.labelFrom=this._createLabel(e),this.append(this.labelFrom)),n.visible&&(this.labelTo=this._createLabel(n),this.append(this.labelTo))},e.prototype._createLabel=function(t){var e,n=b(t),r=this.pointData();return e=n?n(r):this.formatValue(t.format),new Qa(e,f({vertical:this.options.vertical},t),r)},e.prototype.reflow=function(t){this.render();var e=this,n=e.labelFrom,r=e.labelTo,o=e.value;this.box=t,n&&(n.options.aboveAxis=o.from>o.to,n.reflow(t)),r&&(r.options.aboveAxis=o.to>o.from,r.reflow(t)),this.note&&this.note.reflow(t)},e}(el);Ml.prototype.defaults=f({},Ml.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});var Pl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointType=function(){return Ml},e.prototype.pointValue=function(t){return t.valueFields},e.prototype.formatPointValue=function(t,e){return null===t.value.from&&null===t.value.to?"":this.chartService.format.auto(e,t.value.from,t.value.to)},e.prototype.plotRange=function(t){return t?[t.value.from,t.value.to]:0},e.prototype.updateRange=function(t,e){var n=e.series.axis,r=t.from,o=t.to,i=this.valueAxisRanges[n];null!==t&&l(r)&&l(o)&&(i=this.valueAxisRanges[n]=i||{min:vr,max:yr},i.min=Math.min(i.min,r),i.max=Math.max(i.max,r),i.min=Math.min(i.min,o),i.max=Math.max(i.max,o))},e.prototype.aboveAxis=function(t){var e=t.value;return e.from<e.to},e}(ol);Pl.prototype.plotLimits=La.prototype.plotLimits;var Al=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.aliasFor=function(){return this.parent},e}(Ba),Dl="auto",jl="{0}",Rl="{1}",Il=function(t){function e(e,n){t.call(this),this.value=e,this.options=n,this.aboveAxis=co(this.options.aboveAxis,!0),this.tooltipTracking=!0,this.initLabelsFormat()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){if(!this._rendered){this._rendered=!0;var t=this.options,e=t.markers,n=t.labels,r=this.value,o=this.fromPoint=new Al(r,f({},this.options,{labels:n.from,markers:e.from})),i=this.toPoint=new Al(r,f({},this.options,{labels:n.to,markers:e.to}));this.copyFields(o),this.copyFields(i),this.append(o),this.append(i)}},e.prototype.reflow=function(t){this.render();var e=t.from,n=t.to;this.positionLabels(e,n),this.fromPoint.reflow(e),this.toPoint.reflow(n),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())},e.prototype.createHighlight=function(){var t=new Yn.drawing.Group;return t.append(this.fromPoint.createHighlight()),t.append(this.toPoint.createHighlight()),t},e.prototype.highlightVisual=function(){return this.visual},e.prototype.highlightVisualArgs=function(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}},e.prototype.tooltipAnchor=function(){var t=this.owner.pane.clipBox(),e=!t||t.overlaps(this.box);if(e){var n,r,o,i=this.box,s=i.center(),a=dr;return this.options.vertical?(n=s.x,r=i.y1-as,o=Qn):(n=i.x2+as,r=s.y,o=tr),{point:new _o(n,r),align:{horizontal:a,vertical:o}}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e.prototype.unclipElements=function(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()},e.prototype.initLabelsFormat=function(){var t=this.options.labels;t.format||(t.from&&t.from.format||(t.from=Object.assign({},t.from,{format:jl})),t.to&&t.to.format||(t.to=Object.assign({},t.to,{format:Rl})))},e.prototype.positionLabels=function(t,e){var n=this.options,r=n.labels,o=n.vertical;if(r.position===Dl){var i,s;o?e.y1<=t.y1?(s=bs,i=ws):(s=ws,i=bs):e.x1<=t.x1?(s=dr,i=kr):(s=kr,i=dr),r.from&&r.from.position||(this.fromPoint.options.labels.position=i),r.to&&r.to.position||(this.toPoint.options.labels.position=s)}},e.prototype.copyFields=function(t){t.dataItem=this.dataItem,t.category=this.category,t.series=this.series,t.color=this.color,t.owner=this.owner},e}(Eo);f(Il.prototype,za),f(Il.prototype,Fa),Il.prototype.defaults={markers:{visible:!1,background:Pr,size:vs,type:er,border:{width:2},opacity:1},labels:{visible:!1,margin:m(3),padding:m(4),animation:{type:is,delay:os},position:Dl},notes:{label:{}},highlight:{markers:{border:{color:Pr,width:2}},zIndex:hr},tooltip:{format:"{0} - {1}"}};var Ll=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))},e.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),t},e.prototype.createStroke=function(t){var e=new Yn.drawing.Path(t),n=new Yn.drawing.Path(t);e.segments.push.apply(e.segments,this.strokeSegments()),n.segments.push.apply(n.segments,this.stackSegments()),this.visual.append(e),this.visual.append(n)},e.prototype.hasStackSegment=function(){return!0},e.prototype.fromPoints=function(){return this.linePoints.map(function(t){return t.fromPoint})},e.prototype.toPoints=function(){return this.linePoints.map(function(t){return t.toPoint})},e}($a),zl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.createCurveSegments(this.toPoints())},e.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),t},e.prototype.createCurveSegments=function(t){var e=new qi;return e.process(this.toGeometryPoints(t))},e}(Ll),Fl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))},e.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints())),t.reverse()),t},e}(Ll);f(Fl.prototype,Va);var Bl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.renderSegments()},e.prototype.pointType=function(){return Il},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,s=t.valueFields;if(!Ut(s.from)&&!Ut(s.to)){if(this.seriesMissingValues(o)!==ys)return null;s={from:0,to:0}}var a=this.pointOptions(o,i);a=this.evalPointOptions(a,s,r,n,o,i);var l=t.fields.color||o.color;p(o.color)&&(l=a.color);var c=new Il(s,a);return c.color=l,this.append(c),c},e.prototype.createSegment=function(t,e,n){var r,o=(e.line||{}).style;return new(r="smooth"===o?zl:"step"===o?Fl:Ll)(t,e,n)},e.prototype.plotRange=function(t,e){return t?[t.value.from,t.value.to]:[e,e]},e.prototype.valueSlot=function(t,e){var n=t.getSlot(e[0],e[0],!this.options.clip),r=t.getSlot(e[1],e[1],!this.options.clip);if(n&&r)return{from:n,to:r}},e.prototype.pointSlot=function(t,e){var n,r,o=e.from,i=e.to;return this.options.invertAxes?(n=new xo(o.x1,t.y1,o.x2,t.y2),r=new xo(i.x1,t.y1,i.x2,t.y2)):(n=new xo(t.x1,o.y1,t.x2,o.y2),r=new xo(t.x1,i.y1,t.x2,i.y2)),{from:n,to:r}},e.prototype.addValue=function(e,n){var r=e.valueFields;l(r.from)||(r.from=r.to),l(r.to)||(r.to=r.from),t.prototype.addValue.call(this,e,n)},e.prototype.updateRange=function(t,e){if(null!==t&&l(t.from)&&l(t.to)){var n=e.series.axis,r=this.valueAxisRanges[n]=this.valueAxisRanges[n]||{min:vr,max:yr},o=t.from,i=t.to;r.min=Math.min(r.min,o,i),r.max=Math.max(r.max,o,i)}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.from,n.to)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],n=0;n<t.length;n++){var r=t[n];r&&(e.push((r.fromPoint||{}).marker),e.push((r.toPoint||{}).marker))}return e.concat(this._segments)},e}(La);f(Bl.prototype,Ua,qa);var Nl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this,n=e.options,r=e.value,o=e.owner,i=o.seriesValueAxis(n),s=[],a=[],l=[],c=i.getSlot(r.low,r.high),u=i.getSlot(r.open,r.open),p=i.getSlot(r.close,r.close);u.x1=p.x1=c.x1=t.x1,u.x2=p.x2=c.x2=t.x2;var h=c.center().x;s.push([u.x1,u.y1]),s.push([h,u.y1]),a.push([h,p.y1]),a.push([p.x2,p.y1]),l.push([h,c.y1]),l.push([h,c.y2]),this.lines=[s,a,l],this.box=c.clone().wrap(u.clone().wrap(p)),this.reflowNote()},e.prototype.createBody=function(){},e}(il),Vl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointType=function(){return Nl},e}(sl),Hl=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.series=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linePoints=function(){var t=this.from,e=this,n=e.from.box,r=e.to.box,o=[];if(t.isVertical){var i=t.aboveAxis?n.y1:n.y2;o.push([n.x1,i],[r.x2,i])}else{var s=t.aboveAxis?n.x2:n.x1;o.push([s,n.y1],[s,r.y2])}return o},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.series.line||{},n=Yn.drawing.Path.fromPoints(this.linePoints(),{stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType}});s(n),this.visual.append(n)},e}(Eo);E(Hl,{animation:{type:is,delay:os}});var Wl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.createSegments()},e.prototype.traverseDataPoints=function(t){for(var e=this,n=this.options.series,r=zt(n),o=!this.options.invertAxes,i=0;i<n.length;i++)for(var s=n[i],a=0,c=0,u=0;u<r;u++){var p=Zi.current.bindPoint(s,u),h=p.valueFields.value,f=p.fields.summary,d=a,v=void 0;f?"total"===f.toLowerCase()?(p.valueFields.value=a,d=0,v=a):(p.valueFields.value=c,v=d-c,c=0):l(h)&&(c+=h,a+=h,v=a),t(p,{category:e.categoryAxis.categoryAt(u),categoryIx:u,series:s,seriesIx:i,total:a,runningTotal:c,from:d,to:v,isVertical:o})}},e.prototype.updateRange=function(e,n){t.prototype.updateRange.call(this,{value:n.to},n)},e.prototype.aboveAxis=function(t){return t.value>=0},e.prototype.plotRange=function(t){return[t.from,t.to]},e.prototype.createSegments=function(){for(var t=this,e=this.options.series,n=this.seriesPoints,r=this.segments=[],o=0;o<e.length;o++){var i=e[o],s=n[o];if(s)for(var a=void 0,l=0;l<s.length;l++){var c=s[l];if(c&&a){var u=new Hl(a,c,i);r.push(u),t.append(u)}a=c}}},e}(ol),Ul=[ks,$s,Ws,Js],Kl=[Rs,Zs].concat(Ul),ql=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(t){var e=this;if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new Ja,t.length>0){this.invertAxes=k(t[0].type,[Ss,Es,Zs,$s,Js,Us,js,Ys]);for(var n=0;n<t.length;n++){var r=t[n].stack;if(r&&"100%"===r.type){e.stack100=!0;break}}}},e.prototype.render=function(t){void 0===t&&(t=this.panes),this.createCategoryAxes(t),this.aggregateCategories(t),this.createCategoryAxesLabels(t),this.createCharts(t),this.createValueAxes(t)},e.prototype.removeAxis=function(e){var n=e.options.name;t.prototype.removeAxis.call(this,e),e instanceof _i?delete this.namedCategoryAxes[n]:(this.valueAxisRangeTracker.reset(n),delete this.namedValueAxes[n]),e===this.categoryAxis&&delete this.categoryAxis,e===this.valueAxis&&delete this.valueAxis},e.prototype.createCharts=function(t){for(var e=this,n=this.groupSeriesByPane(),r=0;r<t.length;r++){var o=t[r],i=n[o.options.name||"default"]||[];e.addToLegend(i);var s=e.filterVisibleSeries(i);if(s)for(var a=e.groupSeriesByCategoryAxis(s),l=0;l<a.length;l++)e.createChartGroup(a[l],o)}},e.prototype.createChartGroup=function(t,e){this.createAreaChart(Zt(t,[ks,$s]),e),this.createRangeAreaChart(Zt(t,[Ws,Js]),e),this.createBarChart(Zt(t,[Ms,Ss]),e),this.createRangeBarChart(Zt(t,[Ks,Us]),e),this.createBulletChart(Zt(t,[Es,Xs]),e),
this.createCandlestickChart(Zt(t,Ts),e),this.createBoxPlotChart(Zt(t,[Cs,Ys]),e),this.createOHLCChart(Zt(t,Is),e),this.createWaterfallChart(Zt(t,[Qs,js]),e),this.createLineChart(Zt(t,[Rs,Zs]),e)},e.prototype.aggregateCategories=function(t){var e=this,n=this.srcSeries||this.series,r=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(var o=0;o<n.length;o++){var i=n[o],s=e.seriesCategoryAxis(i),a=e.findPane(s.options.pane),l=Xt(s.options.type,or);i=(l||i.categoryField)&&k(a,t)?e.aggregateSeries(i,s):e.filterSeries(i,s),r.push(i)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=n,this.series=r},e.prototype.filterSeries=function(t,e){var n=(t.data||{}).length;if(e._seriesMax=Math.max(e._seriesMax||0,n),!l(e.options.min)&&!l(e.options.max))return t;var r=e.currentRangeIndices(),o=k(t.type,Kl),i=f({},t);return i.data=(i.data||[]).slice(r.min,r.max+1),o&&oe(i,r,n,function(n){return{item:t.data[n],category:e.categoryAt(n,!0),categoryIx:n-r.min}},function(e){return Xr(t.data[e])}),i},e.prototype.clearSeriesPointsCache=function(){this._seriesPointsCache={}},e.prototype.seriesSourcePoints=function(t,e){var n=this,r=t.index+";"+e.categoriesHash();if(this._seriesPointsCache[r])return this._currentPointsCache[r]=this._seriesPointsCache[r],this._seriesPointsCache[r];var o=e.options,i=o.srcCategories,s=Xt(o.type,or),a=t.data,l=s?Jt:It,c=[];s||e.mapCategories();for(var u=0;u<a.length;u++){var p=void 0;if(p=t.categoryField?l(t.categoryField,a[u],n.chartService.intl):i[u],Xr(p)&&null!==p){var h=e.totalIndex(p);c[h]=c[h]||{items:[],category:p},c[h].items.push(u)}}return this._currentPointsCache[r]=c,c},e.prototype.aggregateSeries=function(t,e){var n=t.data;if(!n.length)return t;for(var r=this.seriesSourcePoints(t,e),o=f({},t),i=new El(f({},t),Zi.current,Tl.current),s=o.data=[],a=e.options.dataItems||[],l=e.currentRangeIndices(),c=function(t){var n=t-l.min,o=r[t];if(o||(o=r[t]={}),o.categoryIx=n,!o.item){var s=e.categoryAt(t,!0);o.category=s,o.item=i.aggregatePoints(o.items,s)}return o},u=l.min;u<=l.max;u++){var p=c(u);s[p.categoryIx]=p.item,p.items&&p.items.length&&(a[p.categoryIx]=p.item)}return k(o.type,Kl)&&oe(o,l,e.totalCount(),c,function(t){return r[t]}),e.options.dataItems=a,o},e.prototype.appendChart=function(e,n){var r=e.options.series,o=this.seriesCategoryAxis(r[0]),i=o.options.categories,s=Math.max(0,zt(r)-i.length);if(s>0)for(i=o.options.categories=o.options.categories.slice(0);s--;)i.push("");this.valueAxisRangeTracker.update(e.valueAxisRanges),t.prototype.appendChart.call(this,e,n)},e.prototype.seriesPaneName=function(t){var e=this.options,n=t.axis,r=[].concat(e.valueAxis),o=_(r,function(t){return t.name===n})[0],i=e.panes||[{}],s=(i[0]||{}).name||"default",a=(o||{}).pane||s;return a},e.prototype.seriesCategoryAxis=function(t){var e=t.categoryAxis,n=e?this.namedCategoryAxes[e]:this.categoryAxis;if(!n)throw new Error("Unable to locate category axis with name "+e);return n},e.prototype.stackableChartOptions=function(t,e){var n=t.stack,r=n&&"100%"===n.type,o=e.options.clip;return{isStacked:n,isStacked100:r,clip:o}},e.prototype.groupSeriesByCategoryAxis=function(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r].categoryAxis||"$$default$$";n.hasOwnProperty(o)||(n[o]=!0,e.push(o))}for(var i=[],s=0;s<e.length;s++){var a=e[s],l=pe(t,a,s);0!==l.length&&i.push(l)}return i},e.prototype.createBarChart=function(t,e){if(0!==t.length){var n=t[0],r=new ol(this,Object.assign({series:t,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing},this.stackableChartOptions(n,e)));this.appendChart(r,e)}},e.prototype.createRangeBarChart=function(t,e){if(0!==t.length){var n=t[0],r=new Pl(this,{series:t,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(r,e)}},e.prototype.createBulletChart=function(t,e){if(0!==t.length){var n=t[0],r=new yl(this,{series:t,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing,clip:e.options.clip});this.appendChart(r,e)}},e.prototype.createLineChart=function(t,e){if(0!==t.length){var n=t[0],r=new Ga(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(n,e)));this.appendChart(r,e)}},e.prototype.createAreaChart=function(t,e){if(0!==t.length){var n=t[0],r=new Za(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(n,e)));this.appendChart(r,e)}},e.prototype.createRangeAreaChart=function(t,e){if(0!==t.length){var n=new Bl(this,{invertAxes:this.invertAxes,series:t,clip:e.options.clip});this.appendChart(n,e)}},e.prototype.createOHLCChart=function(t,e){if(0!==t.length){var n=t[0],r=new Vl(this,{invertAxes:this.invertAxes,gap:n.gap,series:t,spacing:n.spacing,clip:e.options.clip});this.appendChart(r,e)}},e.prototype.createCandlestickChart=function(t,e){if(0!==t.length){var n=t[0],r=new sl(this,{invertAxes:this.invertAxes,gap:n.gap,series:t,spacing:n.spacing,clip:e.options.clip});this.appendChart(r,e)}},e.prototype.createBoxPlotChart=function(t,e){if(0!==t.length){var n=t[0],r=new cl(this,{invertAxes:this.invertAxes,gap:n.gap,series:t,spacing:n.spacing,clip:e.options.clip});this.appendChart(r,e)}},e.prototype.createWaterfallChart=function(t,e){if(0!==t.length){var n=t[0],r=new Wl(this,{series:t,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(r,e)}},e.prototype.axisRequiresRounding=function(t,e){for(var n=this,r=Zt(this.series,ta),o=0;o<this.series.length;o++){var i=n.series[o];if(k(i.type,Ul)){var s=i.line;s&&s.style===xs&&r.push(i)}}for(var a=0;a<r.length;a++){var l=r[a].categoryAxis||"";if(l===t||!l&&0===e)return!0}},e.prototype.aggregatedAxis=function(t,e){for(var n=this.series,r=0;r<n.length;r++){var o=n[r].categoryAxis||"";if((o===t||!o&&0===e)&&n[r].categoryField)return!0}},e.prototype.createCategoryAxesLabels=function(){for(var t=this.axes,e=0;e<t.length;e++)t[e]instanceof _i&&t[e].createLabels()},e.prototype.createCategoryAxes=function(t){for(var e=this,n=this.invertAxes,r=[].concat(this.options.categoryAxis),o=[],i=0;i<r.length;i++){var s=r[i],a=e.findPane(s.pane);if(k(a,t)){var l=s.name,c=s.categories;void 0===c&&(c=[]),s=f({vertical:n,reverse:!n&&e.chartService.rtl,axisCrossingValue:n?vr:0},s),Xr(s.justified)||(s.justified=e.isJustified()),e.axisRequiresRounding(l,i)&&(s.justified=!1);var u=void 0;if(u=Qt(s,c[0])?new Pi(s,e.chartService):new _i(s,e.chartService),r[i].categories=u.options.srcCategories,l){if(e.namedCategoryAxes[l])throw new Error("Category axis with name "+l+" is already defined");e.namedCategoryAxes[l]=u}u.axisIndex=i,o.push(u),e.appendAxis(u)}}var p=this.categoryAxis||o[0];this.categoryAxis=p,n?this.axisY=p:this.axisX=p},e.prototype.isJustified=function(){for(var t=this.series,e=0;e<t.length;e++){var n=t[e];if(!k(n.type,Ul))return!1}return!0},e.prototype.createValueAxes=function(t){var e=this,n=this.valueAxisRangeTracker,r=n.query(),o=[].concat(this.options.valueAxis),i=this.invertAxes,s={vertical:!i,reverse:i&&this.chartService.rtl},a=[];this.stack100&&(s.roundToMajorUnit=!1,s.labels={format:"P0"});for(var l=0;l<o.length;l++){var c=o[l],u=e.findPane(c.pane);if(k(u,t)){var p=c.name,h=Xt(c.type,Sa)?{min:.1,max:1}:{min:0,max:1},d=n.query(p)||r||h;0===l&&d&&r&&(d.min=Math.min(d.min,r.min),d.max=Math.max(d.max,r.max));var v=void 0;v=Xt(c.type,Sa)?zi:Di;var y=new v(d.min,d.max,f({},s,c),e.chartService);if(p){if(e.namedValueAxes[p])throw new Error("Value axis with name "+p+" is already defined");e.namedValueAxes[p]=y}y.axisIndex=l,a.push(y),e.appendAxis(y)}}var g=this.valueAxis||a[0];this.valueAxis=g,i?this.axisX=g:this.axisY=g},e.prototype._dispatchEvent=function(t,e,n){var r=t._eventCoordinates(e),o=new _o(r.x,r.y),i=this.pointPane(o),s=[],a=[];if(i){for(var l=i.axes,c=0;c<l.length;c++){var u=l[c];u.getValue?Gt(a,u.getValue(o)):Gt(s,u.getCategory(o))}0===s.length&&Gt(s,this.categoryAxis.getCategory(o)),s.length>0&&a.length>0&&t.trigger(n,{element:eo(e),originalEvent:e,category:te(s),value:te(a)})}},e.prototype.pointPane=function(t){for(var e=this.panes,n=0;n<e.length;n++){var r=e[n];if(r.contentBox.containsPoint(t))return r}},e.prototype.updateAxisOptions=function(t,e){ue(this.options,t,e),ue(this.originalOptions,t,e)},e}(Sl);E(ql,{categoryAxis:{},valueAxis:{}}),f(ql.prototype,Ol);var Gl=function(t){function e(){t.call(this),this._points=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this._points=[]},e.prototype.show=function(t,e){var n=this,r=[].concat(t);this.hide();for(var o=0;o<r.length;o++){var i=r[o];i&&i.toggleHighlight&&i.hasHighlight()&&(n.togglePointHighlight(i,!0,e),n._points.push(i))}},e.prototype.togglePointHighlight=function(t,e,n){var r=(t.options.highlight||{}).toggle;if(r){var o={category:t.category,series:t.series,dataItem:t.dataItem,value:t.value,stackValue:t.stackValue,preventDefault:he,visual:t.highlightVisual(),show:e};r(o),o._defaultPrevented||t.toggleHighlight(e,n)}else t.toggleHighlight(e,n)},e.prototype.hide=function(){for(var t=this,e=this._points;e.length;)t.togglePointHighlight(e.pop(),!1)},e.prototype.isHighlighted=function(t){for(var e=this._points,n=0;n<e.length;n++){var r=e[n];if(t===r)return!0}return!1},e}(Yn.Class),$l=function(t){function e(e,n){t.call(this),this.plotArea=e,this.options=f({},this.options,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.start=function(t){return this._active=fe(t,this.options.key),this._active},e.prototype.move=function(t){if(this._active){var e=this.axisRanges=this._panAxes(t,Dr).concat(this._panAxes(t,jr));if(e.length)return this.axisRanges=e,de(e)}},e.prototype.end=function(){var t=this._active;return this._active=!1,t},e.prototype.pan=function(){var t=this,e=t.plotArea,n=t.axisRanges;if(n.length){for(var r=0;r<n.length;r++){var o=n[r];e.updateAxisOptions(o.axis,o.range)}e.redraw(e.panes)}},e.prototype.destroy=function(){delete this.plotArea},e.prototype._panAxes=function(t,e){var n=this.plotArea,r=-t[e].delta,o=(this.options.lock||"").toLowerCase(),i=[];if(0!==r&&(o||"").toLowerCase()!==e)for(var s=n.axes,a=0;a<s.length;a++){var l=s[a];if(e===Dr&&!l.options.vertical||e===jr&&l.options.vertical){var c=l.pan(r);c&&(c.limitRange=!0,i.push({axis:l,range:c}))}}return i},e}(Yn.Class);$l.prototype.options={key:"none",lock:"none"};var Yl=function(t){function e(e,n){t.call(this),this.chart=e,this.options=f({},this.options,n),this.createElement()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createElement=function(){var t=this._marquee=document.createElement("div");t.className="k-marquee";var e=document.createElement("div");e.className="k-marquee-color",t.appendChild(e)},e.prototype.removeElement=function(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)},e.prototype.setStyles=function(t){g(this._marquee,t)},e.prototype.start=function(t){if(fe(t,this.options.key)){var e=this.chart,n=e._eventCoordinates(t),r=this._zoomPane=e._plotArea.paneByPoint(n),o=r?r.chartsBox().clone():null;if(r&&o){var i=this._elementOffset();return o.translate(i.left,i.top),this._zoomPaneClipBox=o,document.body.appendChild(this._marquee),this.setStyles({left:t.pageX+1,top:t.pageY+1,width:0,height:0}),!0}}return!1},e.prototype._elementOffset=function(){var t=this.chart.element,e=g(t,["paddingLeft","paddingTop"]),n=e.paddingLeft,r=e.paddingTop,o=Jr(t);return{left:n+o.left,top:r+o.top}},e.prototype.move=function(t){var e=this._zoomPane;e&&this.setStyles(this._selectionPosition(t))},e.prototype.end=function t(e){var n=this._zoomPane;if(n){var r=this._elementOffset(),o=this._selectionPosition(e);o.left-=r.left,o.top-=r.top;var i={x:o.left,y:o.top},t={x:o.left+o.width,y:o.top+o.height};return this._updateAxisRanges(i,t),this.removeElement(),delete this._zoomPane,de(this.axisRanges)}},e.prototype.zoom=function(){var t=this.axisRanges;if(t&&t.length){for(var e=this.chart._plotArea,n=0;n<t.length;n++){var r=t[n];e.updateAxisOptions(r.axis,r.range)}e.redraw(e.panes)}},e.prototype.destroy=function(){this.removeElement(),delete this._marquee,delete this.chart},e.prototype._updateAxisRanges=function(t,e){for(var n=(this.options.lock||"").toLowerCase(),r=[],o=this._zoomPane.axes,i=0;i<o.length;i++){var s=o[i],a=s.options.vertical;if((n!==Dr||a)&&(n!==jr||!a)&&Xr(s.axisIndex)){var l=s.pointsRange(t,e);l&&r.push({axis:s,range:l})}}this.axisRanges=r},e.prototype._selectionPosition=function(t){var e=this._zoomPaneClipBox,n={x:t.x.startLocation,y:t.y.startLocation},r=t.x.location,o=t.y.location,i=(this.options.lock||"").toLowerCase(),s=Math.min(n.x,r),a=Math.min(n.y,o),l=Math.abs(n.x-r),c=Math.abs(n.y-o);return i===Dr&&(s=e.x1,l=e.width()),i===jr&&(a=e.y1,c=e.height()),r>e.x2&&(l=e.x2-n.x),r<e.x1&&(l=n.x-e.x1),o>e.y2&&(c=e.y2-n.y),o<e.y1&&(c=n.y-e.y1),{left:Math.max(s,e.x1),top:Math.max(a,e.y1),width:l,height:c}},e}(Yn.Class);Yl.prototype.options={key:"shift",lock:"none"};var Xl=.01,Zl=.9,Jl=.3,Ql=function(t){function e(e,n){t.call(this),this.chart=e,this.options=f({rate:Jl},this.options,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.updateRanges=function(t,e){for(var n=this,r=(this.options.lock||"").toLowerCase(),o=[],i=this.chart._plotArea.axes,s=0;s<i.length;s++){var a=i[s],l=a.options.vertical;if((r!==Dr||l)&&(r!==jr||!l)&&a.zoomRange){var c=oo(n.options.rate,Xl,Zl),u=a.zoomRange(-t*c,e);u&&o.push({axis:a,range:u})}}return this.axisRanges=o,de(o)},e.prototype.zoom=function(){var t=this.axisRanges,e=this.chart._plotArea;if(t&&t.length&&e.updateAxisOptions){for(var n=0;n<t.length;n++){var r=t[n];e.updateAxisOptions(r.axis,r.range)}e.redraw(e.panes)}},e.prototype.destroy=function(){delete this.chart},e}(Yn.Class),tc=function(t){function e(e,n){t.call(this,e),this.chartService=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this,e=t.children,n=t.options,r=n.vertical;this.visual=new Yn.drawing.Layout(null,{spacing:r?0:n.spacing,lineSpacing:r?n.spacing:0,orientation:r?"vertical":"horizontal",reverse:n.rtl,alignItems:r?"start":"center"});for(var o=0;o<e.length;o++){var i=e[o];i.reflow(new xo),i.renderVisual()}},e.prototype.reflow=function(t){this.visual.rect(t.toRect()),this.visual.reflow();var e=this.visual.clippedBBox();e?this.box=V(e):this.box=new xo},e.prototype.renderVisual=function(){this.addVisual()},e.prototype.createVisual=function(){},e}(Eo),ec=function(t){function e(e){t.call(this,e),this.createContainer(),e.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createContainer=function(){this.container=new Ro({vertical:!1,wrap:!1,align:tr,spacing:this.options.spacing}),this.append(this.container)},e.prototype.createMarker=function(){this.container.append(new Mo(this.markerOptions()))},e.prototype.markerOptions=function(){var t=this.options,e=t.markerColor;return f({},t.markers,{background:e,border:{color:e}})},e.prototype.createLabel=function(){var t=this.options,e=f({},t.labels);this.container.append(new Fo(t.text,e))},e.prototype.renderComplete=function(){t.prototype.renderComplete.call(this);var e=this.options.cursor||{},n=this._itemOverlay=Yn.drawing.Path.fromRect(this.container.box.toRect(),{fill:{color:Pr,opacity:0},stroke:null,cursor:e.style||e});this.appendVisual(n)},e.prototype.click=function(t,e){var n=this.eventArgs(e);!t.trigger(ea,n)&&e&&"contextmenu"===e.type&&e.preventDefault()},e.prototype.over=function(t,e){var n=this.eventArgs(e);return t.trigger(na,n)||t._legendItemHover(n.seriesIndex,n.pointIndex),!0},e.prototype.out=function(t,e){t._unsetActivePoint(),t.trigger(ra,this.eventArgs(e))},e.prototype.eventArgs=function(t){var e=this.options;return{element:eo(t),text:e.text,series:e.series,seriesIndex:e.series.index,pointIndex:e.pointIndex}},e.prototype.renderVisual=function(){var e=this,n=this.options,r=n.visual;r?(this.visual=r({active:n.active,series:n.series,sender:this.getSender(),pointIndex:n.pointIndex,options:{markers:this.markerOptions(),labels:n.labels},createVisual:function(){e.createVisual(),e.renderChildren(),e.renderComplete();var t=e.visual;return delete e.visual,t}}),this.addVisual()):t.prototype.renderVisual.call(this)},e}(To),nc="horizontal",rc="pointer",oc="custom",ic=function(t){function e(e,n){void 0===n&&(n={}),t.call(this,e),this.chartService=n,k(this.options.position,[Er,kr,Qn,dr,oc])||(this.options.position=kr),this.createContainers(),this.createLegendTitle(e.title),this.createItems()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createContainers=function(){var t=this.options,e=t.position,n=t.align,r=e,o=tr;e===oc?r=dr:k(e,[Er,Qn])?(r="start"===n?dr:"end"===n?kr:tr,o=e):n&&("start"===n?o=Er:"end"===n&&(o=Qn)),this.container=new To({margin:t.margin,padding:t.padding,background:t.background,border:t.border,vAlign:o,align:r,zIndex:t.zIndex,shrinkToFit:!0}),this.hasTitle()?this.itemsContainer=new To({vAlign:o,align:r,zIndex:t.zIndex,shrinkToFit:!0}):this.itemsContainer=this.container,this.append(this.container)},e.prototype.createItems=function(){var t=this.getService(),e=this.options,n=this.isVertical(),r=new tc({vertical:n,spacing:e.spacing,rtl:t.rtl},t),o=e.items;e.reverse&&(o=o.slice(0).reverse());for(var i=o.length,s=0;s<i;s++){var a=o[s];r.append(new ec(f({},{markers:e.markers,labels:e.labels,rtl:t.rtl},e.item,a)))}r.render(),this.itemsContainer.append(r)},e.prototype.isVertical=function(){var t=this.options,e=t.orientation,n=t.position,r=n===oc&&e!==nc||(Xr(e)?e!==nc:k(n,[dr,kr]));return r},e.prototype.hasItems=function(){return this.container.children[0].children.length>0},e.prototype.reflow=function(t){var e=this.options,n=t.clone();return this.hasItems()?(e.position===oc?(this.containerCustomReflow(n),this.box=n):this.containerReflow(n),void(this.hasTitle()&&this.title.reflow(new xo(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2)))):void(this.box=n)},e.prototype.containerReflow=function(t){var e=this,n=e.options,r=e.container,o=n.position,i=n.width,s=n.height,a=o===Er||o===Qn?Dr:jr,l=this.isVertical(),c=t.clone(),u=t.clone();o!==dr&&o!==kr||(u.y1=c.y1=0),l&&s?(u.y2=u.y1+s,u.align(c,jr,r.options.vAlign)):!l&&i&&(u.x2=u.x1+i,u.align(c,Dr,r.options.align)),r.reflow(u),u=r.box;var p=u.clone();(n.offsetX||n.offsetY)&&(u.translate(n.offsetX,n.offsetY),r.reflow(u)),p[a+1]=t[a+1],p[a+2]=t[a+2],this.box=p},e.prototype.containerCustomReflow=function(t){var e=this,n=e.options,r=e.container,o=n.offsetX,i=n.offsetY,s=n.width,a=n.height,l=this.isVertical(),c=t.clone();l&&a?c.y2=c.y1+a:!l&&s&&(c.x2=c.x1+s),r.reflow(c),c=r.box,r.reflow(new xo(o,i,o+c.width(),i+c.height()))},e.prototype.renderVisual=function(){this.hasItems()&&t.prototype.renderVisual.call(this)},e.prototype.createLegendTitle=function(t){var e=f({},{color:Jn,position:Er,align:tr},t),n=e.text;if(t&&t.visible!==!1){if(Xr(e)&&e.visible){var r=b(e);r?n=r({text:n}):e.format&&(n=this.chartService.format.auto(e.format,n))}this.title=new Fo(n,e),this.createTitleLayout(),this.appendTitleLayoutContent()}},e.prototype.createTitleLayout=function(){this.layout=new Ro({vertical:!0,wrap:!1}),this.container.append(this.layout)},e.prototype.hasTitle=function(){return Boolean(this.options.title&&this.options.title.visible!==!1)},e.prototype.appendTitleLayoutContent=function(){var t=this.options;t.title.position===Qn?(this.layout.append(this.itemsContainer),this.layout.append(this.title)):(this.layout.append(this.title),this.layout.append(this.itemsContainer))},e}(Eo);E(ic,{position:kr,items:[],offsetX:0,offsetY:0,margin:m(5),padding:m(5),border:{color:Jn,width:0},item:{cursor:rc,spacing:6},spacing:6,background:"",zIndex:1,markers:{border:{width:0},width:15,height:3,type:"rect",align:dr,vAlign:tr}});var sc=function(t){function e(){t.call(this),this._registry=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(t,e){this._registry.push({type:t,seriesTypes:e})},e.prototype.create=function(t,e,n){for(var r,o=this._registry,i=o[0],s=0;s<o.length;s++){var a=o[s];if(r=Zt(t,a.seriesTypes),r.length>0){i=a;break}}return new i.type(r,e,n)},e}(Yn.Class);sc.current=new sc;var ac=3,lc=.1,cc=function(t){function e(e,n,r,o){t.call(this);var i=e.element;this.options=f({},this.options,r),this.chart=e,this.observer=o,this.chartElement=i,this.categoryAxis=n,this._dateAxis=this.categoryAxis instanceof Pi,this.initOptions(),this.visible=this.options.visible&&i.offsetHeight,this.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onPane=function(t){return this.categoryAxis.pane===t},e.prototype.createElements=function(){var t=this.options,e=this.wrapper=ve("k-selector");g(e,{top:t.offset.top,left:t.offset.left,width:t.width,height:t.height,direction:"ltr"});var n=this.selection=ve("k-selection");this.leftMask=ve("k-mask"),this.rightMask=ve("k-mask"),e.appendChild(this.leftMask),e.appendChild(this.rightMask),e.appendChild(n),n.appendChild(ve("k-selection-bg"));var r=this.leftHandle=ve("k-handle k-left-handle"),o=this.rightHandle=ve("k-handle k-right-handle");r.appendChild(ve()),o.appendChild(ve()),n.appendChild(r),n.appendChild(o),this.chartElement.appendChild(e);var i=g(n,["borderLeftWidth","borderRightWidth","height"]),s=g(r,"height").height,a=g(o,"height").height;t.selection={border:{left:i.borderLeftWidth,right:i.borderRightWidth}},g(r,{top:(i.height-s)/2}),g(o,{top:(i.height-a)/2}),e.style.cssText=e.style.cssText},e.prototype.bindEvents=function(){if(this.options.mousewheel!==!1){this._mousewheelHandler=this._mousewheel.bind(this);var t;Yr(this.wrapper,(t={},t[Ma]=this._mousewheelHandler,t))}this._domEvents=ti.create(this.wrapper,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})},e.prototype.initOptions=function(){var t=this,e=t.options,n=t.categoryAxis,r=n.pane.chartsBox(),o=this.chart.chartService.intl;this._dateAxis&&f(e,{min:st(o,e.min),max:st(o,e.max),from:st(o,e.from),to:st(o,e.to)});var i=g(this.chartElement,["paddingLeft","paddingTop"]),s=i.paddingLeft,a=i.paddingTop;this.options=f({},{width:r.width(),height:r.height()+lc,padding:{left:s,top:a},offset:{left:r.x1+s,top:r.y1+a},from:e.min,to:e.max},e)},e.prototype.destroy=function(){if(this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper){if(this._mousewheelHandler){var t;lo(this.wrapper,(t={},t[Ma]=this._mousewheelHandler,t)),this._mousewheelHandler=null}this.chartElement.removeChild(this.wrapper),this.wrapper=null}},e.prototype._rangeEventArgs=function(t){return{axis:this.categoryAxis.options,from:this._value(t.from),to:this._value(t.to)}},e.prototype._start=function(t){var e=this.options,n=eo(t);if(!this._state&&n){this.chart._unsetActivePoint(),this._state={moveTarget:ye(n)||n,startLocation:t.x?t.x.location:0,range:{from:this._index(e.from),to:this._index(e.to)}};var r=this._rangeEventArgs({from:this._index(e.from),to:this._index(e.to)});this.trigger(ga,r)&&(this._state=null)}},e.prototype._press=function(t){var e;e=this._state?this._state.moveTarget:ye(eo(t)),e&&o(e,"k-handle-active")},e.prototype._move=function(t){if(this._state){var e=this,n=e._state,r=e.options,o=e.categoryAxis,i=n.range,s=n.moveTarget,a=o.options.reverse,l=this._index(r.from),c=this._index(r.to),u=this._index(r.min),p=this._index(r.max),h=n.startLocation-t.x.location,f={from:i.from,to:i.to},d=i.to-i.from,v=g(this.wrapper,"width").width/(o.categoriesCount()-1),y=Math.round(h/v)*(a?-1:1);if(s){var m=x(s,"k-left-handle"),b=x(s,"k-right-handle");x(s,"k-selection k-selection-bg")?(i.from=Math.min(Math.max(u,l-y),p-d),i.to=Math.min(i.from+d,p)):m&&!a||b&&a?(i.from=Math.min(Math.max(u,l-y),p-1),i.to=Math.max(i.from+1,i.to)):(m&&a||b&&!a)&&(i.to=Math.min(Math.max(u+1,c-y),p),i.from=Math.min(i.to-1,i.from)),i.from===f.from&&i.to===f.to||(this.move(i.from,i.to),this.trigger(ma,this._rangeEventArgs(i)))}}},e.prototype._end=function(){if(this._state){var t=this._state.moveTarget;t&&i(t,"k-handle-active");var e=this._state.range;this.set(e.from,e.to),this.trigger(ba,this._rangeEventArgs(e)),delete this._state}},e.prototype._tap=function(t){var e=this,n=e.options,r=e.categoryAxis,o=this.chart._eventCoordinates(t),i=r.pointCategoryIndex(new _o(o.x,r.box.y1)),s=this._index(n.from),a=this._index(n.to),l=this._index(n.min),c=this._index(n.max),u=a-s,p=s+u/2,h={},f=3===t.event.which,d=Math.round(p-i);this._state||f||(this.chart._unsetActivePoint(),r.options.justified||d--,h.from=Math.min(Math.max(l,s-d),c-u),h.to=Math.min(h.from+u,c),this._start(t),this._state&&(this._state.range=h,this.trigger(ma,this._rangeEventArgs(h)),this._end()))},e.prototype._mousewheel=function(t){var e=this,n=O(t);if(this._start({target:this.selection}),this._state){var r=this._state.range;t.preventDefault(),t.stopPropagation(),Math.abs(n)>1&&(n*=ac),this.options.mousewheel.reverse&&(n*=-1),this.expand(n)&&this.trigger(ma,{axis:this.categoryAxis.options,delta:n,originalEvent:t,from:this._value(r.from),to:this._value(r.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(function(){e._end()},Pa)}},e.prototype._gesturestart=function(t){var e=this.options;this._state={range:{from:this._index(e.from),to:this._index(e.to)}};var n=this._rangeEventArgs(this._state.range);this.trigger(ga,n)?this._state=null:t.preventDefault()},e.prototype._gestureend=function(){this._state&&(this.trigger(ba,this._rangeEventArgs(this._state.range)),delete this._state)},e.prototype._gesturechange=function(t){var e=this,n=e.chart,r=e._state,o=e.options,i=e.categoryAxis,s=r.range,a=n._toModelCoordinates(t.touches[0].x.location).x,l=n._toModelCoordinates(t.touches[1].x.location).x,c=Math.min(a,l),u=Math.max(a,l);t.preventDefault(),s.from=i.pointCategoryIndex(new _o(c))||o.min,s.to=i.pointCategoryIndex(new _o(u))||o.max,this.move(s.from,s.to),this.trigger(ma,this._rangeEventArgs(s))},e.prototype._index=function(t){var e=t;return t instanceof Date&&(e=this.categoryAxis.categoryIndex(t)),e},e.prototype._value=function(t){var e=t;return this._dateAxis&&(e=this.categoryAxis.categoryAt(t),e>this.options.max&&(e=this.options.max)),e},e.prototype._slot=function(t){var e=this.categoryAxis,n=this._index(t);return e.getSlot(n,n,!0)},e.prototype.move=function(t,e){var n=this.options,r=this.categoryAxis.options.reverse,o=n.offset,i=n.padding,s=n.selection.border,a=r?e:t,l=r?t:e,c="x"+(r?2:1),u=this._slot(a),p=ao(u[c]-o.left+i.left);g(this.leftMask,{width:p}),g(this.selection,{left:p}),u=this._slot(l);var h=ao(n.width-(u[c]-o.left+i.left));g(this.rightMask,{width:h});var f=n.width-h;f!==n.width&&(f+=s.right),g(this.rightMask,{left:f}),g(this.selection,{width:Math.max(n.width-(p+h)-s.right,0)})},e.prototype.set=function(t,e){var n=this.options,r=this._index(n.min),o=this._index(n.max),i=oo(this._index(t),r,o),s=oo(this._index(e),i+1,o);n.visible&&this.move(i,s),n.from=this._value(i),n.to=this._value(s)},e.prototype.expand=function(t){var e=this.options,n=this._index(e.min),r=this._index(e.max),o=e.mousewheel.zoom,i=this._index(e.from),s=this._index(e.to),a={from:i,to:s},l=f({},a);if(this._state&&(a=this._state.range),o!==kr&&(a.from=oo(oo(i-t,0,s-1),n,r)),o!==dr&&(a.to=oo(oo(s+t,a.from+1,r),n,r)),a.from!==l.from||a.to!==l.to)return this.set(a.from,a.to),!0},e.prototype.zoom=function(t,e){var n=this.options,r=this._index(n.min),o=this._index(n.max),i=this._index(n.from),s=this._index(n.to),a={from:i,to:s},l=f({},a),c=this.categoryAxis.options,u=c.reverse,p=Dr+(u?"2":"1"),h=this.categoryAxis.lineBox(),d=Math.abs(h[p]-e[Dr]),v=h.width(),y=ao(d/v,2),g=ao(y*t),m=ao((1-y)*t);if(this._state&&(a=this._state.range),a.from=oo(oo(i-g,0,s-1),r,o),a.to=oo(oo(s+m,a.from+1,o),r,o),a.from!==l.from||a.to!==l.to)return this.set(a.from,a.to),!0},e.prototype.trigger=function(t,e){return(this.observer||this.chart).trigger(t,e)},e}(Yn.Class);E(cc,{visible:!0,mousewheel:{zoom:"both"},min:yr,max:vr});var uc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.show=function(e){if(e&&e.tooltipAnchor&&(!this._current||this._current!==e)){var n=f({},this.options,e.options.tooltip),r=e.tooltipAnchor();r?(this._current=e,t.prototype.show.call(this,{point:e,anchor:r},n,e)):this.hide()}},e.prototype.hide=function(){delete this._current,t.prototype.hide.call(this)},e}(gl),pc=function(t){function e(e,n){t.call(this,e.chartService,n),this.plotArea=e,this.formatService=e.chartService.format}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.showAt=function(t,e){var n=_(t,function(t){var e=t.series.tooltip,n=e&&e.visible===!1;return!n});if(n.length>0){var r=n[0],o=this.plotArea.categoryAxis.getSlot(r.categoryIx),i=e?this._slotAnchor(e,o):this._defaultAnchor(r,o);this.show({anchor:i,shared:!0,points:t,category:r.category,categoryText:this.formatService.auto(this.options.categoryFormat,r.category),series:this.plotArea.series},this.options)}},e.prototype._slotAnchor=function(t,e){var n=this.plotArea.categoryAxis,r={horizontal:"left",vertical:"center"};return n.options.vertical||(t.x=e.center().x),{point:t,align:r}},e.prototype._defaultAnchor=function(t,e){var n,r=t.owner.pane.chartsBox(),o=this.plotArea.categoryAxis.options.vertical,i=r.center(),s=e.center(),a={horizontal:"center",vertical:"center"};return n=o?new _o(i.x,s.y):new _o(s.x,i.y),{point:n,align:a}},e}(gl);E(pc,{categoryFormat:"{0:d}"});var hc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this,e=t.element,n=t.options,r=e.bbox();if(r){this.origin=n.origin;var o=n.vertical?jr:Dr,i=this.fromScale=new Yn.geometry.Point(1,1);i[o]=ls,e.transform(Yn.geometry.transform().scale(i.x,i.y))}else this.abort()},e.prototype.step=function(t){var e=S(this.fromScale.x,1,t),n=S(this.fromScale.y,1,t);this.element.transform(Yn.geometry.transform().scale(e,n,this.origin))},e.prototype.abort=function(){t.prototype.abort.call(this),this.element.transform(null)},e}(Yn.drawing.Animation);E(hc,{duration:os}),Yn.drawing.AnimationFactory.current.register(Ss,hc);var fc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.center=this.element.bbox().center();this.element.transform(Yn.geometry.transform().scale(ls,ls,t))},e.prototype.step=function(t){this.element.transform(Yn.geometry.transform().scale(t,t,this.center))},e}(Yn.drawing.Animation);E(fc,{easing:"easeOutElastic"}),Yn.drawing.AnimationFactory.current.register(Os,fc);var dc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this.fadeTo=this.element.opacity(),this.element.opacity(0)},e.prototype.step=function(t){this.element.opacity(t*this.fadeTo)},e}(Yn.drawing.Animation);E(dc,{duration:200,easing:"linear"}),Yn.drawing.AnimationFactory.current.register(is,dc);var vc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this.element.transform(Yn.geometry.transform().scale(ls,ls,this.options.center));
},e.prototype.step=function(t){this.element.transform(Yn.geometry.transform().scale(t,t,this.options.center))},e}(Yn.drawing.Animation);E(vc,{easing:"easeOutElastic",duration:os}),Yn.drawing.AnimationFactory.current.register(Ls,vc);var yc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.renderSegments()},e.prototype.createSegment=function(t,e,n){var r,o=e.style;return new(r=o===_s?Wa:Na)(t,e,n)},e.prototype.animationPoints=function(){var e=t.prototype.animationPoints.call(this);return e.concat(this._segments)},e.prototype.createMissingValue=function(t,e){if(e===ys){var n={x:t.x,y:t.y};return Ut(n.x)||(n.x=0),Ut(n.y)||(n.y=0),n}},e}(pl);f(yc.prototype,Ua);var gc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new Ja,this.yAxisRangeTracker=new Ja},e.prototype.render=function(t){var e=this;void 0===t&&(t=this.panes);for(var n=this.groupSeriesByPane(),r=0;r<t.length;r++){var o=t[r],i=n[o.options.name||"default"]||[];e.addToLegend(i);var s=e.filterVisibleSeries(i);s&&(e.createScatterChart(Zt(s,qs),o),e.createScatterLineChart(Zt(s,Gs),o),e.createBubbleChart(Zt(s,Os),o))}this.createAxes(t)},e.prototype.appendChart=function(e,n){this.xAxisRangeTracker.update(e.xAxisRanges),this.yAxisRangeTracker.update(e.yAxisRanges),t.prototype.appendChart.call(this,e,n)},e.prototype.removeAxis=function(e){var n=e.options.name;t.prototype.removeAxis.call(this,e),e.options.vertical?(this.yAxisRangeTracker.reset(n),delete this.namedYAxes[n]):(this.xAxisRangeTracker.reset(n),delete this.namedXAxes[n]),e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY},e.prototype.seriesPaneName=function(t){var e=this.options,n=t.xAxis,r=[].concat(e.xAxis),o=_(r,function(t){return t.name===n})[0],i=t.yAxis,s=[].concat(e.yAxis),a=_(s,function(t){return t.name===i})[0],l=e.panes||[{}],c=l[0].name||"default",u=(o||{}).pane||(a||{}).pane||c;return u},e.prototype.createScatterChart=function(t,e){t.length>0&&this.appendChart(new pl(this,{series:t,clip:e.options.clip}),e)},e.prototype.createScatterLineChart=function(t,e){t.length>0&&this.appendChart(new yc(this,{series:t,clip:e.options.clip}),e)},e.prototype.createBubbleChart=function(t,e){t.length>0&&this.appendChart(new fl(this,{series:t,clip:e.options.clip}),e)},e.prototype.createXYAxis=function(t,e,n){for(var r=t.name,o=e?this.namedYAxes:this.namedXAxes,i=e?this.yAxisRangeTracker:this.xAxisRangeTracker,s=f({reverse:!e&&this.chartService.rtl},t,{vertical:e}),a=Xt(s.type,Sa),l=i.query(),c=a?{min:.1,max:1}:{min:0,max:1},u=i.query(r)||l||c,p=[s.min,s.max],h=this.series,d=0;d<h.length;d++){var v=h[d],y=v[e?"yAxis":"xAxis"];if(y===s.name||0===n&&!y){var g=Zi.current.bindPoint(v,0).valueFields;p.push(g[e?"y":"x"]);break}}0===n&&l&&(u.min=Math.min(u.min,l.min),u.max=Math.max(u.max,l.max));for(var m,b=0;b<p.length;b++)if(p[b]instanceof Date){m=!0;break}var w;w=Xt(s.type,or)||!s.type&&m?Ri:a?zi:Di;var _=new w(u.min,u.max,s,this.chartService);if(_.axisIndex=n,r){if(o[r])throw new Error((e?"Y":"X")+" axis with name "+r+" is already defined");o[r]=_}return this.appendAxis(_),_},e.prototype.createAxes=function(t){for(var e=this,n=this.options,r=[].concat(n.xAxis),o=[],i=[].concat(n.yAxis),s=[],a=0;a<r.length;a++){var l=e.findPane(r[a].pane);k(l,t)&&o.push(e.createXYAxis(r[a],!1,a))}for(var c=0;c<i.length;c++){var u=e.findPane(i[c].pane);k(u,t)&&s.push(e.createXYAxis(i[c],!0,c))}this.axisX=this.axisX||o[0],this.axisY=this.axisY||s[0]},e.prototype._dispatchEvent=function(t,e,n){for(var r=t._eventCoordinates(e),o=new _o(r.x,r.y),i=this.axes,s=i.length,a=[],l=[],c=0;c<s;c++){var u=i[c],p=u.options.vertical?l:a,h=u.getValue(o);null!==h&&p.push(h)}a.length>0&&l.length>0&&t.trigger(n,{element:eo(e),originalEvent:e,x:te(a),y:te(l)})},e.prototype.updateAxisOptions=function(t,e){var n=t.options.vertical,r=this.groupAxes(this.panes),o=(n?r.y:r.x).indexOf(t);ge(this.options,o,n,e),ge(this.originalOptions,o,n,e)},e}(Sl);E(gc,{xAxis:{},yAxis:{}}),f(gc.prototype,Ol);var mc=function(t){function e(e,n,r){t.call(this,r),this.value=e,this.sector=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.options.labels,e=this.owner.chartService,n=this.value;if(!this._rendered&&this.visible!==!1){this._rendered=!0;var r=b(t),o=this.pointData();if(r?n=r(o):t.format&&(n=e.format.auto(t.format,n)),t.visible&&(n||0===n)){if(t.position===tr||t.position===Oa)t.color||(t.color=j(this.options.color)),t.background||(t.background=this.options.color);else{var i=e.theme.seriesDefaults.labels;t.color=t.color||i.color,t.background=t.background||i.background}this.label=new Fo(n,f({},t,{align:tr,vAlign:"",animation:{type:is,delay:this.animationDelay}}),o),this.append(this.label)}}},e.prototype.reflow=function(t){this.render(),this.box=t,this.reflowLabel()},e.prototype.reflowLabel=function(){var t=this,e=t.options.labels,n=t.label,r=this.sector.clone(),o=e.distance,i=r.middle();if(n){var s,a=n.box.height(),l=n.box.width();if(e.position===tr)r.radius=Math.abs((r.radius-a)/2)+a,s=r.point(i),n.reflow(new xo(s.x,s.y-a/2,s.x,s.y));else if(e.position===Oa)r.radius=r.radius-a/2,s=r.point(i),n.reflow(new xo(s.x,s.y-a/2,s.x,s.y));else{var c;s=r.clone().expand(o).point(i),s.x>=r.center.x?(c=s.x+l,n.orientation=kr):(c=s.x-l,n.orientation=dr),n.reflow(new xo(c,s.y-a,s.x,s.y))}}},e.prototype.createVisual=function(){var e=this,n=this,r=n.sector,o=n.options;if(t.prototype.createVisual.call(this),this.value)if(o.visual){var i=(r.startAngle+180)%360,s=o.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new Yn.geometry.Point(r.center.x,r.center.y),radius:r.radius,innerRadius:r.innerRadius,startAngle:i,endAngle:i+r.angle,options:o,sender:this.getSender(),createVisual:function(){var t=new Yn.drawing.Group;return e.createSegmentVisual(t),t}});s&&this.visual.append(s)}else this.createSegmentVisual(this.visual)},e.prototype.createSegmentVisual=function(t){var e=this,n=e.sector,r=e.options,o=r.border||{},i=o.width>0?{stroke:{color:o.color,width:o.width,opacity:o.opacity,dashType:o.dashType}}:{},s=r.color,a={color:s,opacity:r.opacity},l=this.createSegment(n,f({fill:a,stroke:{opacity:r.opacity},zIndex:r.zIndex},i));t.append(l),Nt(r)&&t.append(this.createGradientOverlay(l,{baseColor:s,fallbackFill:a},f({center:[n.center.x,n.center.y],innerRadius:n.innerRadius,radius:n.radius,userSpace:!0},r.overlay)))},e.prototype.createSegment=function(t,e){return e.singleSegment?new Yn.drawing.Circle(new Yn.geometry.Circle(new Yn.geometry.Point(t.center.x,t.center.y),t.radius),e):Oo.current.createRing(t,e)},e.prototype.createAnimation=function(){var e=this,n=e.options,r=e.sector.center;f(n,{animation:{center:[r.x,r.y],delay:this.animationDelay}}),t.prototype.createAnimation.call(this)},e.prototype.createHighlight=function(t){var e=this.options.highlight||{},n=e.border||{};return this.createSegment(this.sector,f({},t,{fill:{color:e.color,opacity:e.opacity},stroke:{opacity:n.opacity,width:n.width,color:n.color}}))},e.prototype.highlightVisual=function(){return this.visual.children[0]},e.prototype.highlightVisualArgs=function(){var t=this.sector;return{options:this.options,radius:t.radius,innerRadius:t.innerRadius,center:new Yn.geometry.Point(t.center.x,t.center.y),startAngle:t.startAngle,endAngle:t.angle+t.startAngle,visual:this.visual}},e.prototype.tooltipAnchor=function(){var t=this.sector.clone().expand(as),e=t.middle(),n=t.point(e);return{point:n,align:me(e+180)}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}},e}(Eo),bc=ao(so(30),ar),wc=ao(so(60),ar);E(mc,{color:Pr,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:ir,margin:m(.5),align:er,zIndex:1,position:Ta},animation:{type:Ls},highlight:{visible:!0,border:{width:1}},visible:!0}),f(mc.prototype,za);var _c={createLegendItem:function(t,e,n){var r=this.options.legend||{},o=r.labels||{},i=r.inactiveItems||{},s=i.labels||{};if(n&&n.visibleInLegend!==!1){var a=n.visible!==!1,l=a?b(o):b(s)||b(o),c=n.category;l&&(c=l({text:c,series:n.series,dataItem:n.dataItem,percentage:n.percentage,value:t}));var u,p;a?(u={},p=e.color):(u={color:s.color,font:s.font},p=(i.markers||{}).color),Ut(c)&&""!==c&&this.legendItems.push({active:a,pointIndex:n.index,text:c,series:n.series,markerColor:p,labels:u})}}},xc=70,kc=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.chartService=e.chartService,this.points=[],this.legendItems=[],this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},e.prototype.traverseDataPoints=function(t){var e=this,n=this,r=n.options,o=n.plotArea.options.seriesColors;void 0===o&&(o=[]);for(var i=o.length,s=r.series,a=s.length,l=0;l<a;l++){var c=s[l],u=c.data,h=Yt(c),f=h.total,d=h.points,v=h.count,y=360/f,g=void 0;isFinite(y)||(g=360/v);var m=void 0;m=Xr(c.startAngle)?c.startAngle:r.startAngle,l!==a-1&&c.labels.position===Ta&&(c.labels.position=tr);for(var b=0;b<d.length;b++){var w=d[b];if(w){var _=w.fields,x=w.value,k=w.visible,S=0!==x?g||x*y:0,C=1!==u.length&&Boolean(_.explode);p(c.color)||(c.color=_.color||o[b%i]),t(w.valueFields.value,new ko(null,0,0,m,S),{owner:e,category:Xr(_.category)?_.category:"",index:b,series:c,seriesIx:l,dataItem:u[b],percentage:0!==f?x/f:0,explode:C,visibleInLegend:_.visibleInLegend,visible:k,zIndex:a-l,animationDelay:e.animationDelay(b,l,a)}),k!==!1&&(m+=S)}}}},e.prototype.evalSegmentOptions=function(t,e,n){var r=n.series;Lt(t,{value:e,series:r,dataItem:n.dataItem,category:n.category,percentage:n.percentage},{defaults:r._defaults,excluded:["data","content","template","visual","toggle"]})},e.prototype.addValue=function(t,e,n){var r=f({},n.series,{index:n.index});if(this.evalSegmentOptions(r,t,n),this.createLegendItem(t,r,n),n.visible!==!1){var o=new mc(t,e,r);Object.assign(o,n),this.append(o),this.points.push(o)}},e.prototype.reflow=function(t){var e=this,n=e.options,r=e.points,o=e.seriesConfigs;void 0===o&&(o=[]);var i=r.length,s=t.clone(),a=5,l=Math.min(s.width(),s.height()),c=l/2,u=l-.85*l,p=new xo(s.x1,s.y1,s.x1+l,s.y1+l),h=p.center(),f=s.center(),d=n.series.length,v=[],y=[],g=co(n.padding,u);this.targetBox=t,g=g>c-a?c-a:g,p.translate(f.x-h.x,f.y-h.y);for(var m=c-g,b=new _o(m+p.x1+g,m+p.y1+g),w=0;w<i;w++){var _=r[w],x=_.sector,k=_.seriesIx;if(x.radius=m,x.center=b,o.length){var S=o[k];x.innerRadius=S.innerRadius,x.radius=S.radius}k===d-1&&_.explode&&(x.center=x.clone().setRadius(.15*x.radius).point(x.middle())),_.reflow(p);var C=_.label;C&&C.options.position===Ta&&k===d-1&&(C.orientation===kr?y.push(C):v.push(C))}v.length>0&&(v.sort(this.labelComparator(!0)),this.leftLabelsReflow(v)),y.length>0&&(y.sort(this.labelComparator(!1)),this.rightLabelsReflow(y)),this.box=p},e.prototype.leftLabelsReflow=function(t){var e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)},e.prototype.rightLabelsReflow=function(t){var e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)},e.prototype.distanceBetweenLabels=function(t){var e=ro(this.points),n=e.sector,r=t.length-1,o=n.radius+e.options.labels.distance,i=[],s=t[0].box,a=ao(s.y1-(n.center.y-o-s.height()-s.height()/2));i.push(a);for(var l=0;l<r;l++){var c=t[l+1].box;s=t[l].box,a=ao(c.y1-s.y2),i.push(a)}return a=ao(n.center.y+o-t[r].box.y2-t[r].box.height()/2),i.push(a),i},e.prototype.distributeLabels=function(t,e){for(var n,r,o,i=this,s=t.length,a=0;a<s;a++)for(o=-t[a],n=r=a;o>0&&(n>=0||r<s);)o=i._takeDistance(t,a,--n,o),o=i._takeDistance(t,a,++r,o);this.reflowLabels(t,e)},e.prototype._takeDistance=function(t,e,n,r){var o=r;if(t[n]>0){var i=Math.min(t[n],o);o-=i,t[n]-=i,t[e]+=i}return o},e.prototype.reflowLabels=function(t,e){var n,r=this,o=ro(this.points),i=o.sector,s=o.options.labels,a=e.length,l=s.distance,c=i.center.y-(i.radius+l)-e[0].box.height();t[0]+=2;for(var u=0;u<a;u++){var p=e[u],h=p.box;c+=t[u],n=r.hAlignLabel(h.x2,i.clone().expand(l),c,c+h.height(),p.orientation===kr),p.orientation===kr?(s.align!==er&&(n=i.radius+i.center.x+l),p.reflow(new xo(n+h.width(),c,n,c))):(s.align!==er&&(n=i.center.x-i.radius-l),p.reflow(new xo(n-h.width(),c,n,c))),c+=h.height()}},e.prototype.createVisual=function(){var e=this,n=this,r=n.options.connectors,o=n.points,i=o.length,s=4;t.prototype.createVisual.call(this),this._connectorLines=[];for(var a=0;a<i;a++){var l=o[a],c=l.sector,u=l.label,p=c.middle(),h=(l.options.connectors||{}).color||r.color;if(u){var f=new Yn.drawing.Path({stroke:{color:h,width:r.width},animation:{type:is,delay:l.animationDelay}});if(u.options.position===Ta){var d=u.box,v=c.center,y=c.point(p),g=new _o(d.x1,d.center().y),m=void 0,b=void 0,w=void 0;y=c.clone().expand(r.padding).point(p),f.moveTo(y.x,y.y),u.orientation===kr?(b=new _o(d.x1-r.padding,d.center().y),w=be(v,y,g,b),g=new _o(b.x-s,b.y),w=w||g,w.x=Math.min(w.x,g.x),e.pointInCircle(w,c.center,c.radius+s)||w.x<c.center.x?(m=c.center.x+c.radius+s,l.options.labels.align!==Ms?m<g.x?f.lineTo(m,y.y):f.lineTo(y.x+2*s,y.y):f.lineTo(m,y.y),f.lineTo(g.x,b.y)):(w.y=b.y,f.lineTo(w.x,w.y))):(b=new _o(d.x2+r.padding,d.center().y),w=be(v,y,g,b),g=new _o(b.x+s,b.y),w=w||g,w.x=Math.max(w.x,g.x),e.pointInCircle(w,c.center,c.radius+s)||w.x>c.center.x?(m=c.center.x-c.radius-s,l.options.labels.align!==Ms?m>g.x?f.lineTo(m,y.y):f.lineTo(y.x-2*s,y.y):f.lineTo(m,y.y),f.lineTo(g.x,b.y)):(w.y=b.y,f.lineTo(w.x,w.y))),f.lineTo(b.x,b.y),e._connectorLines.push(f),e.visual.append(f)}}}},e.prototype.renderVisual=function(){if(t.prototype.renderVisual.call(this),M(this.options.series,function(t){return t.autoFit})){var e=this.targetBox,n=this.box.center(),r=this.visual.bbox();if(!r)return;var o=r.bottomRight(),i=Math.min((n.y-e.y1)/(n.y-r.origin.y),(e.y2-n.y)/(o.y-n.y),(n.x-e.x1)/(n.x-r.origin.x),(e.x2-n.x)/(o.x-n.x));i<1&&this.visual.transform(Yn.geometry.transform().scale(i,i,[n.x,n.y]))}},e.prototype.labelComparator=function(t){var e=t?-1:1;return function(t,n){var r=(t.parent.sector.middle()+270)%360,o=(n.parent.sector.middle()+270)%360;return(r-o)*e}},e.prototype.hAlignLabel=function(t,e,n,r,o){var i=e.radius,s=e.center,a=s.x,l=s.y,c=Math.min(Math.abs(l-n),Math.abs(l-r));return c>i?t:a+Math.sqrt(i*i-c*c)*(o?1:-1)},e.prototype.pointInCircle=function(t,e,n){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(n,2)},e.prototype.formatPointValue=function(t,e){return this.chartService.format.auto(e,t.value)},e.prototype.animationDelay=function(t){return t*xc},e.prototype.stackRoot=function(){return this},e}(Eo);E(kc,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),f(kc.prototype,_c),kc.prototype.isStackRoot=!0;var Sc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.createPieChart(this.series)},e.prototype.createPieChart=function(t){var e=t[0],n=new kc(this,{series:t,padding:e.padding,startAngle:e.startAngle,connectors:e.connectors,legend:this.options.legend});this.appendChart(n)},e.prototype.appendChart=function(e,n){t.prototype.appendChart.call(this,e,n),$r(this.options.legend.items,e.legendItems)},e}(Sl),Cc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowLabel=function(){var e=this,n=e.options.labels,r=e.label,o=this.sector.clone(),i=o.middle();if(r){var s=r.box.height();if(n.position===tr){o.radius-=(o.radius-o.innerRadius)/2;var a=o.point(i);r.reflow(new xo(a.x,a.y-s/2,a.x,a.y))}else t.prototype.reflowLabel.call(this)}},e.prototype.createSegment=function(t,e){return Oo.current.createRing(t,e)},e}(mc);E(Cc,{overlay:{gradient:"roundedGlass"},labels:{position:tr},animation:{type:Ls}}),f(Cc.prototype,za);var Oc=50,Ec=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addValue=function(t,e,n){var r=f({},n.series,{index:n.index});if(this.evalSegmentOptions(r,t,n),this.createLegendItem(t,r,n),t&&n.visible!==!1){var o=new Cc(t,e,r);Object.assign(o,n),this.append(o),this.points.push(o)}},e.prototype.reflow=function(e){var n=this,r=this.options,o=e.clone(),i=5,s=Math.min(o.width(),o.height()),a=s/2,l=s-.85*s,c=r.series,u=c.length,p=co(r.padding,l);p=p>a-i?a-i:p;for(var h,f=a-p,d=0,v=0;v<u;v++){var y=c[v];0===v&&Xr(y.holeSize)&&(h=y.holeSize,f-=y.holeSize),Xr(y.size)?f-=y.size:d++,Xr(y.margin)&&v!==u-1&&(f-=y.margin)}if(!Xr(h)){var g=(a-p)/(u+.75);h=.75*g,f-=h}var m,b,w=h,_=0;this.seriesConfigs=[];for(var x=0;x<u;x++){var k=c[x];m=co(k.size,f/d),w+=_,b=w+m,n.seriesConfigs.push({innerRadius:w,radius:b}),_=k.margin||0,w=b}t.prototype.reflow.call(this,e)},e.prototype.animationDelay=function(t,e,n){return t*Oc+os*(e+1)/(n+1)},e}(kc);E(Ec,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});var Tc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.createDonutChart(this.series)},e.prototype.createDonutChart=function(t){var e=t[0],n=new Ec(this,{series:t,padding:e.padding,connectors:e.connectors,legend:this.options.legend});this.appendChart(n)},e}(Sc),Mc=.15,Pc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this.valueAxisRangeTracker=new Ja},e.prototype.render=function(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()},e.prototype.alignAxes=function(){var t=this.valueAxis,e=t.range(),n=t.options.reverse?e.max:e.min,r=t.getSlot(n),o=this.polarAxis.getSlot(0).center,i=t.box.translate(o.x-r.x1,o.y-r.y1);t.reflow(i)},e.prototype.createValueAxis=function(){var t,e,n=this.valueAxisRangeTracker,r=n.query(),o=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});o.type===Sa?(t=Wi,e={min:.1,max:1}):(t=Hi,e={min:0,max:1});var i=n.query(name)||r||e;i&&r&&(i.min=Math.min(i.min,r.min),i.max=Math.max(i.max,r.max));var s=new t(i.min,i.max,o,this.chartService);this.valueAxis=s,this.appendAxis(s)},e.prototype.reflowAxes=function(){var t=this,e=t.options.plotArea,n=t.valueAxis,r=t.polarAxis,o=t.box,i=Math.min(o.width(),o.height())*Mc,s=m(e.padding||{},i),a=o.clone().unpad(s),l=a.clone();l.y2=l.y1+Math.min(l.width(),l.height()),l.align(a,jr,tr);var c=l.clone().shrink(0,l.height()/2);r.reflow(l),n.reflow(c);var u=n.lineBox().height()-n.box.height();n.reflow(n.box.unpad({top:u})),this.axisBox=l,this.alignAxes(l)},e.prototype.backgroundBox=function(){return this.box},e.prototype.detachLabels=function(){},e}(Sl),Ac=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointSlot=function(t,e){var n=t.center.y-e.y1,r=_o.onCircle(t.center,t.startAngle,n);return new xo(r.x,r.y,r.x,r.y)},e}(pl);E(Ac,{clip:!1});var Dc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(yc);Dc.prototype.pointSlot=Ac.prototype.pointSlot,E(Dc,{clip:!1});var jc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(t){var e=this._polarAxisCenter();t.lineTo(e.x,e.y)},e.prototype._polarAxisCenter=function(){var t=this.parent.plotArea.polarAxis,e=t.box.center();return e},e.prototype.strokeSegments=function(){var t=this._strokeSegments;if(!t){var e=this._polarAxisCenter(),n=new qi(!1),r=this.points();r.push(e),t=this._strokeSegments=n.process(r),t.pop()}return t},e}(Xa),Rc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(t){var e=this.parent.plotArea.polarAxis,n=e.box.center(),r=new Yn.geometry.Segment([n.x,n.y]);t.segments.unshift(r),t.segments.push(r)},e}($a),Ic=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createSegment=function(t,e,n){var r,o=(e.line||{}).style;return r=o===_s?new jc(t,e,n):new Rc(t,e,n)},e.prototype.createMissingValue=function(t,e){var n;return Ut(t.x)&&e!==gs&&(n={x:t.x,y:t.y},e===ys&&(n.y=0)),n},e.prototype.seriesMissingValues=function(t){return t.missingValues||ys},e.prototype._hasMissingValuesGap=function(){for(var t=this,e=this.options.series,n=0;n<e.length;n++)if(t.seriesMissingValues(e[n])===ms)return!0},e.prototype.sortPoints=function(t){var e=this;if(t.sort(we),this._hasMissingValuesGap())for(var n=0;n<t.length;n++){var r=t[n];if(r){var o=r.value;Ut(o.y)||e.seriesMissingValues(r.series)!==ms||delete t[n]}}return t},e}(Dc),Lc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createPolarAxis=function(){var t=new Ni(this.options.xAxis,this.chartService);this.polarAxis=t,this.axisX=t,this.appendAxis(t)},e.prototype.valueAxisOptions=function(t){return f(t,{majorGridLines:{type:Xn},minorGridLines:{type:Xn}},this.options.yAxis)},e.prototype.createValueAxis=function(){t.prototype.createValueAxis.call(this),this.axisY=this.valueAxis},e.prototype.appendChart=function(t,e){this.valueAxisRangeTracker.update(t.yAxisRanges),Sl.prototype.appendChart.call(this,t,e)},e.prototype.createCharts=function(){var t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createLineChart(Zt(t,[Fs]),e),this.createScatterChart(Zt(t,[Bs]),e),this.createAreaChart(Zt(t,[zs]),e)},e.prototype.createLineChart=function(t,e){if(0!==t.length){var n=new Dc(this,{series:t});this.appendChart(n,e)}},e.prototype.createScatterChart=function(t,e){if(0!==t.length){var n=new Ac(this,{series:t});this.appendChart(n,e)}},e.prototype.createAreaChart=function(t,e){if(0!==t.length){var n=new Ic(this,{series:t});this.appendChart(n,e)}},e.prototype._dispatchEvent=function(t,e,n){var r=t._eventCoordinates(e),o=new _o(r.x,r.y),i=this.axisX.getValue(o),s=this.axisY.getValue(o);null!==i&&null!==s&&t.trigger(n,{element:eo(e),x:i,y:s})},e.prototype.createCrosshairs=function(){},e}(Pc);E(Lc,{xAxis:{},yAxis:{}}),f(Lc.prototype,Ol);var zc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointSlot=function(t,e){var n=t.center.y-e.y1,r=_o.onCircle(t.center,t.middle(),n);return new xo(r.x,r.y,r.x,r.y)},e.prototype.renderSegments=function(){if(t.prototype.renderSegments.call(this),this._segments&&this._segments.length>1)for(var e=_e(this._segments),n=0;n<e.length;n++){var r=e[n];if(r&&r.length>1){var o=r[0].linePoints[0],i=ro(r),s=ro(i.linePoints),a=0===o.categoryIx,l=s.categoryIx===s.categoriesCount-1;a&&l&&ro(r).linePoints.push(o)}}},e.prototype.createSegment=function(t,e,n){var r,o=e.style;r=o===_s?Wa:Na;var i=new r(t,e,n),s=this.seriesMissingValues(e);return t.length!==e.data.length&&s!==gs||(i.options.closed=!0),i},e}(Ga);E(zc,{clip:!1,limitPoints:!1});var Fc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(){},e}(Xa),Bc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(){},e}($a),Nc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createSegment=function(t,e,n,r){var o,i,s,a=this.options.isStacked,l=(e.line||{}).style;return a&&n>0&&r&&(i=r.linePoints.slice(0),o=r),l===_s?(s=new Fc(t,e,n,o,i),s.options.closed=!0):(t.push(t[0]),s=new Bc(t,e,n,o,i)),s},e.prototype.seriesMissingValues=function(t){return t.missingValues||ys},e}(zc),Vc=function(t){function e(e,n){t.call(this,e,null,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Cc);E(Vc,{overlay:{gradient:"none"},labels:{distance:10}});var Hc=function(t){function e(e){t.call(this,e),this.forEach=e.rtl?Ht:Vt}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this,n=e.options,r=e.children,o=n.gap,i=n.spacing,s=r.length,a=s+o+i*(s-1),l=t.angle/a,c=t.startAngle+l*(o/2);this.forEach(r,function(e){var n=t.clone();n.startAngle=c,n.angle=l,e.sector&&(n.radius=e.sector.radius),e.reflow(n),e.sector=n,c+=l+l*i})},e}(Eo);E(Hc,{gap:1,spacing:0});var Wc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this,n=e.options.reverse,r=e.children,o=r.length,i=n?o-1:0,s=n?-1:1;this.box=new xo;for(var a=i;a>=0&&a<o;a+=s){var l=r[a].sector;l.startAngle=t.startAngle,l.angle=t.angle}},e}(Eo),Uc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointType=function(){return Vc},e.prototype.clusterType=function(){return Hc},e.prototype.stackType=function(){return Wc},e.prototype.categorySlot=function(t,e){return t.getSlot(e)},e.prototype.pointSlot=function(t,e){var n=t.clone(),r=t.center.y;return n.radius=r-e.y1,n.innerRadius=r-e.y2,n},e.prototype.reflowPoint=function(t,e){t.sector=e,t.reflow()},e.prototype.createAnimation=function(){this.options.animation.center=this.box.toRect().center(),t.prototype.createAnimation.call(this)},e}(ol);Uc.prototype.reflow=La.prototype.reflow,E(Uc,{clip:!1,limitPoints:!1,animation:{type:"pie"}});var Kc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createPolarAxis=function(){var t=new Bi(this.options.categoryAxis,this.chartService);this.polarAxis=t,this.categoryAxis=t,this.appendAxis(t),this.aggregateCategories(),this.createCategoryAxesLabels()},e.prototype.valueAxisOptions=function(t){return this._hasBarCharts&&f(t,{majorGridLines:{type:Xn},minorGridLines:{type:Xn}}),this._isStacked100&&f(t,{roundToMajorUnit:!1,labels:{format:"P0"}}),f(t,this.options.valueAxis)},e.prototype.aggregateCategories=function(){ql.prototype.aggregateCategories.call(this,this.panes)},e.prototype.createCategoryAxesLabels=function(){ql.prototype.createCategoryAxesLabels.call(this,this.panes)},e.prototype.filterSeries=function(t){return t},e.prototype.createCharts=function(){var t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createAreaChart(Zt(t,[Ns]),e),this.createLineChart(Zt(t,[Hs]),e),this.createBarChart(Zt(t,[Vs]),e)},e.prototype.chartOptions=function(t){var e={series:t},n=t[0];if(n){var r=this.filterVisibleSeries(t),o=n.stack;e.isStacked=o&&r.length>1,e.isStacked100=o&&"100%"===o.type&&r.length>1,e.isStacked100&&(this._isStacked100=!0)}return e},e.prototype.createAreaChart=function(t,e){if(0!==t.length){var n=new Nc(this,this.chartOptions(t));this.appendChart(n,e)}},e.prototype.createLineChart=function(t,e){if(0!==t.length){var n=new zc(this,this.chartOptions(t));this.appendChart(n,e)}},e.prototype.createBarChart=function(t,e){if(0!==t.length){var n=t[0],r=this.chartOptions(t);r.gap=n.gap,r.spacing=n.spacing;var o=new Uc(this,r);this.appendChart(o,e),this._hasBarCharts=!0}},e.prototype.seriesCategoryAxis=function(){return this.categoryAxis},e.prototype._dispatchEvent=function(t,e,n){var r=t._eventCoordinates(e),o=new _o(r.x,r.y),i=this.categoryAxis.getCategory(o),s=this.valueAxis.getValue(o);null!==i&&null!==s&&t.trigger(n,{element:eo(e),category:i,value:s})},e.prototype.createCrosshairs=function(){},e}(Pc);f(Kc.prototype,Ol,{appendChart:ql.prototype.appendChart,aggregateSeries:ql.prototype.aggregateSeries,seriesSourcePoints:ql.prototype.seriesSourcePoints}),E(Kc,{categoryAxis:{categories:[]},valueAxis:{}});var qc=function(t){function e(e,n,r){t.call(this,n),this.value=e,this.options.index=r.index}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.points,n=this.children[0];this.box=new xo(e[0].x,e[0].y,e[1].x,e[2].y),n&&n.reflow(new xo(t.x1,e[0].y,t.x2,e[2].y))},e.prototype.createVisual=function(){var e,n=this,r=this.options;t.prototype.createVisual.call(this),e=r.visual?r.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:r,sender:this.getSender(),createVisual:function(){return n.createPath()}}):this.createPath(),e&&this.visual.append(e)},e.prototype.createPath=function(){var t=this.options,e=t.border,n=Yn.drawing.Path.fromPoints(this.points,{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.color,opacity:e.opacity,width:e.width}}).close();return n},e.prototype.createHighlight=function(t){return Yn.drawing.Path.fromPoints(this.points,t)},e.prototype.highlightVisual=function(){return this.visual.children[0]},e.prototype.highlightVisualArgs=function(){var t=Yn.drawing.Path.fromPoints(this.points).close();return{options:this.options,path:t}},e.prototype.tooltipAnchor=function(){var t=this.box;return{point:new _o(t.center().x,t.y1),align:{horizontal:"center",vertical:"top"}}},e.prototype.formatValue=function(t){var e=this;return e.owner.formatPointValue(e,t)},e}(Eo);E(qc,{color:Pr,border:{width:1}}),f(qc.prototype,za);var Gc=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.points=[],this.labels=[],this.legendItems=[],this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.formatPointValue=function(t,e){return this.chartService.format.auto(e,t.value)},e.prototype.render=function(){var t=this,e=this,n=e.options,r=e.plotArea.options.seriesColors;void 0===r&&(r=[]);var o=n.series[0],i=o.data;if(i)for(var s=Yt(o),a=s.total,l=s.points,c=0;c<l.length;c++){var u=l[c];if(u){var h=u.fields;p(o.color)||(o.color=h.color||r[c%r.length]),h=f({index:c,owner:t,series:o,dataItem:i[c],percentage:u.value/a},h,{visible:u.visible});var d=u.valueFields.value,v=t.createSegment(d,h),y=t.createLabel(d,h);v&&y&&v.append(y)}}},e.prototype.evalSegmentOptions=function(t,e,n){var r=n.series;Lt(t,{value:e,series:r,dataItem:n.dataItem,index:n.index},{defaults:r._defaults,excluded:["data","content","template","toggle","visual"]})},e.prototype.createSegment=function(t,e){var n=f({},e.series);if(this.evalSegmentOptions(n,t,e),this.createLegendItem(t,n,e),e.visible!==!1){var r=new qc(t,n,e);return Object.assign(r,e),this.append(r),this.points.push(r),r}},e.prototype.createLabel=function(t,e){var n=e.series,r=e.dataItem,o=f({},this.options.labels,n.labels),i=t;if(o.visible){var s=b(o),a={dataItem:r,value:t,percentage:e.percentage,category:e.category,series:n};s?i=s(a):o.format&&(i=this.plotArea.chartService.format.auto(o.format,i)),o.color||(o.color=j(n.color),o.background||(o.background=n.color)),this.evalSegmentOptions(o,t,e);var l=new Fo(i,f({vAlign:o.position},o),a);return this.labels.push(l),l}},e.prototype.labelPadding=function(){for(var t=this.labels,e={left:0,right:0},n=0;n<t.length;n++){var r=t[n],o=r.options.align;
if(o!==tr){var i=t[n].box.width();o===dr?e.left=Math.max(e.left,i):e.right=Math.max(e.right,i)}}return e},e.prototype.dynamicSlopeReflow=function(t,e,n){for(var r=this,o=r.options,i=r.points,s=i.length,a=i[0],l=a,c=0;c<i.length;c++)i[c].percentage>l.percentage&&(l=i[c]);for(var u=a.percentage/l.percentage*e,p=(e-u)/2,h=0,f=0;f<s;f++){var d=i[f].percentage,v=i[f+1],y=v?v.percentage:d,g=i[f].points=[],m=o.dynamicHeight?n*d:n/s,b=void 0;b=d?(e-u*(y/d))/2:y?0:e/2,b=oo(b,0,e),g.push(new Yn.geometry.Point(t.x1+p,t.y1+h)),g.push(new Yn.geometry.Point(t.x1+e-p,t.y1+h)),g.push(new Yn.geometry.Point(t.x1+e-b,t.y1+m+h)),g.push(new Yn.geometry.Point(t.x1+b,t.y1+m+h)),p=b,h+=m+o.segmentSpacing,u=oo(e-2*b,0,e)}},e.prototype.constantSlopeReflow=function(t,e,n){for(var r=this,o=r.options,i=r.points,s=i.length,a=o.neckRatio<=1,l=a?o.neckRatio*e:e,c=a?0:(e-e/o.neckRatio)/2,u=a?e:e-2*c,p=(u-l)/2,h=0,f=0;f<s;f++){var d=i[f].points=[],v=i[f].percentage,y=o.dynamicHeight?p*v:p/s,g=o.dynamicHeight?n*v:n/s;d.push(new Yn.geometry.Point(t.x1+c,t.y1+h)),d.push(new Yn.geometry.Point(t.x1+e-c,t.y1+h)),d.push(new Yn.geometry.Point(t.x1+e-c-y,t.y1+g+h)),d.push(new Yn.geometry.Point(t.x1+c+y,t.y1+g+h)),c+=y,h+=g+o.segmentSpacing}},e.prototype.reflow=function(t){var e=this.points,n=e.length;if(n){var r=this.options,o=t.clone().unpad(this.labelPadding()),i=o.height()-r.segmentSpacing*(n-1),s=o.width();r.dynamicSlope?this.dynamicSlopeReflow(o,s,i):this.constantSlopeReflow(o,s,i);for(var a=0;a<n;a++)e[a].reflow(t)}},e}(Eo);E(Gc,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:tr,position:tr,zIndex:1}}),f(Gc.prototype,_c);var $c=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.createFunnelChart(this.series)},e.prototype.createFunnelChart=function(t){var e=t[0],n=new Gc(this,{series:t,legend:this.options.legend,neckRatio:e.neckRatio,dynamicHeight:e.dynamicHeight,dynamicSlope:e.dynamicSlope,segmentSpacing:e.segmentSpacing,highlight:e.highlight});this.appendChart(n)},e.prototype.appendChart=function(e,n){t.prototype.appendChart.call(this,e,n),$r(this.options.legend.items,e.legendItems)},e}(Sl),Yc=function(t,e){void 0===e&&(e=.05);var n=Yn.parseColor(t),r=1-e;return function(t){var e=n.toHSL(),o=100-e.l,i=r-t;return e.l+=Math.min(i*o,o),e.toCss()}},Xc=function(t){function e(e,n){t.call(this),this.options=n,this.color=n.color||Pr,this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this._rendered||(this._rendered=!0,this.createMarker(),this.createLabel(),this.createNote())},e.prototype.createLabel=function(){var t=this.options,e=t.labels;if(e.visible){var n,r=this.pointData(),o=b(e),i=e.color;n=o?o(r):this.formatValue(e.format),i||(i=j(this.color)),this.label=new Fo(n,f({align:tr,vAlign:tr,margin:{left:5,right:5},zIndex:co(e.zIndex,this.series.zIndex)},e,{color:i}),r),this.append(this.label)}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.reflow=function(t){this.render();var e=this.label;this.box=t,e&&e.reflow(this.markerBox()),this.note&&this.note.reflow(t),this.marker.reflow(this.markerBox())},e.prototype.markerBox=function(){var t=this.options,e=t.markers,n=e.border,r=this.box.toRect(),o=co(e.type,"rect"),i=o===Sr,s=co(n.width,i?1:0),a=Math.round(s/2);if(e.size){var l=r.center();r.size.width=r.size.height=e.size,r.origin.x=Math.round(l.x-r.size.width/2),r.origin.y=Math.round(l.y-r.size.height/2)}return r.size.width-=s,r.size.height-=s,r.origin.y+=a+.5,r.origin.x+=a+.5,V(r)},e.prototype.markerBorder=function(){var t=this.options,e=t.markers,n=e.border,r=co(n.opacity,t.opacity);return{color:n.color||this.color,width:n.width,opacity:r,dashType:n.dashType}},e.prototype.createMarker=function(){var t=this.options,e=t.markers,n=new Mo({type:co(e.type,"rect"),width:e.size,height:e.size,rotation:e.rotation,background:this.color,border:this.markerBorder(),borderRadius:e.borderRadius,opacity:this.series.opacity||t.opacity,zIndex:co(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});this.marker=n,this.append(n)},e.prototype.createHighlight=function(t){var e=this.options,n=this.options.highlight.markers||this.options.markers,r=new Mo({type:co(n.type,"rect"),width:n.size,height:n.size,rotation:n.rotation,background:n.color||this.color,border:this.markerBorder(),borderRadius:n.borderRadius,opacity:this.series.opacity||e.opacity,zIndex:co(e.zIndex,this.series.zIndex)});r.reflow(this.markerBox());var o=r.getElement();return o.options.fill=t.fill,o.options.stroke=t.stroke,o},e.prototype.highlightVisual=function(){return this.rectVisual},e.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},e.prototype.tooltipAnchor=function(){var t=this.box.center().x,e=this.box.y1-as;return{point:new _o(t,e),align:{horizontal:tr,vertical:Qn}}},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e.prototype.unclipElements=function(){},e.prototype.pointData=function(){return{x:this.value.x,y:this.value.y,value:this.value.value,dataItem:this.dataItem,series:this.series}},e}(Eo);f(Xc.prototype,za),f(Xc.prototype,Fa),Xc.prototype.defaults={markers:{type:"rect",borderRadius:4,border:{color:"transparent"}},padding:{top:1},labels:{visible:!1,padding:3},opacity:1,notes:{label:{}}};var Zc=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.chartService=e.chartService,this._initFields(),this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initFields=function(){this.points=[],this.seriesOptions=[],this.valueRange={min:vr,max:yr},this._evalSeries=[]},e.prototype.render=function(){this.setRange(),this.traverseDataPoints(this.addValue.bind(this))},e.prototype.setRange=function(){for(var t=this,e=this,n=e.options.series,r=0;r<n.length;r++)for(var o=n[r],i=0;i<o.data.length;i++){var s=t._bindPoint(o,r,i),a=s.valueFields;t.valueRange.min=Math.min(t.valueRange.min,a.value),t.valueRange.max=Math.max(t.valueRange.max,a.value)}},e.prototype.addValue=function(t,e){var n;t&&(n=this.createPoint(t,e),n&&Object.assign(n,e)),this.points.push(n)},e.prototype.evalPointOptions=function(t,e,n){var r=n.series,o=n.seriesIx,i={defaults:r._defaults,excluded:["data","tooltip","content","template","visual","toggle"]},s=this._evalSeries[o];Xr(s)||(this._evalSeries[o]=s=Lt(t,{},i,!0));var a=t;return s&&(a=f({},t),Lt(a,{value:e,series:r,dataItem:n.dataItem,min:this.valueRange.min,max:this.valueRange.max},i)),a},e.prototype.pointType=function(){return Xc},e.prototype.pointOptions=function(t,e){var n=this.seriesOptions[e];if(!n){var r=this.pointType().prototype.defaults;this.seriesOptions[e]=n=f({},r,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return n},e.prototype.createPoint=function(t,e){var n=e.series,r=this.pointOptions(n,e.seriesIx),o=e.color||n.color;if(r=this.evalPointOptions(r,t,e),p(n.color))o=r.color;else{var i=Yc(o);o=i(t.value/this.valueRange.max)}var s=new Xc(t,r);return s.color=o,this.append(s),s},e.prototype.seriesAxes=function(t){var e=t.xAxis,n=t.yAxis,r=this.plotArea,o=e?r.namedXAxes[e]:r.axisX,i=n?r.namedYAxes[n]:r.axisY;if(!o)throw new Error("Unable to locate X axis with name "+e);if(!i)throw new Error("Unable to locate Y axis with name "+n);return{xAxis:o,yAxis:i}},e.prototype.reflow=function(t){var e=this,n=this.points,r=!this.options.clip,o=0;this.traverseDataPoints(function(t,i){var s=n[o++],a=e.seriesAxes(i.series),l=a.xAxis,c=a.yAxis,u=l.categoryIndex(t.x),p=c.categoryIndex(t.y),h=l.getSlot(u,u,r),f=c.getSlot(p,p,r);if(s)if(h&&f){var d=e.pointSlot(h,f);s.reflow(d)}else s.visible=!1}),this.box=t},e.prototype.pointSlot=function(t,e){return new xo(t.x1,e.y1,t.x2,e.y2)},e.prototype.traverseDataPoints=function(t){for(var e=this,n=this,r=n.options.series,o=0;o<r.length;o++)for(var i=r[o],s=e.seriesAxes(i),a=s.xAxis,l=s.yAxis,c=a.currentRangeIndices(),u=l.currentRangeIndices(),p=0;p<i.data.length;p++){var h=e._bindPoint(i,o,p),d=h.valueFields,v=h.fields,y=a.totalIndex(d.x),g=l.totalIndex(d.y),m=c.min<=y&&y<=c.max,b=u.min<=g&&g<=u.max;m&&b&&t(d,f({pointIx:p,series:i,seriesIx:o,dataItem:i.data[p],owner:e},v))}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.x,n.y,n.value)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],n=0;n<t.length;n++)e.push((t[n]||{}).marker);return e},e}(Eo);E(Zc,{series:[],tooltip:{format:"{0}, {1}: {2}"},labels:{format:"{2}"},clip:!0}),f(Zc.prototype,{_bindPoint:La.prototype._bindPoint});var Jc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this.namedXAxes={},this.namedYAxes={}},e.prototype.render=function(t){void 0===t&&(t=this.panes),this.bindCategories(),this.createAxes(t),this.createCharts(t),this.createAxisLabels()},e.prototype.bindCategories=function(){for(var t=this,e=this.srcSeries||this.series,n=0;n<e.length;n++){for(var r=e[n],o=r.data||[],i=t.seriesAxes(r),s=i.xAxis,a=i.yAxis,l=R(s.categories||[]),c=R(a.categories||[]),u=0;u<o.length;u++){var p=Zi.current.bindPoint(r,u).valueFields,h=p.x,f=p.y;l.has(h)||l.add(h),c.has(f)||c.add(f)}s.categories=l.values(),a.categories=c.values()}},e.prototype.createCharts=function(t){for(var e=this,n=this.groupSeriesByPane(),r=0;r<t.length;r++){var o=t[r],i=n[o.options.name||"default"]||[];e.addToLegend(i);var s=e.filterVisibleSeries(i);s&&e.createHeatmapChart(Zt(s,[Ds]),o)}},e.prototype.createHeatmapChart=function(t,e){var n=new Zc(this,{series:t});this.appendChart(n,e)},e.prototype.seriesPaneName=function(t){var e=this.options,n=t.xAxis,r=[].concat(e.xAxis),o=_(r,function(t){return t.name===n})[0],i=t.yAxis,s=[].concat(e.yAxis),a=_(s,function(t){return t.name===i})[0],l=e.panes||[{}],c=l[0].name||"default",u=(o||{}).pane||(a||{}).pane||c;return u},e.prototype.seriesAxes=function(t){var e,n,r=this.options,o=[].concat(r.xAxis),i=t.xAxis;e=i?o.find(function(t){return t.name===i}):o[0];var s=[].concat(r.yAxis),a=t.yAxis;if(n=a?s.find(function(t){return t.name===a}):s[0],!e)throw new Error("Unable to locate X axis with name "+i);if(!n)throw new Error("Unable to locate Y axis with name "+a);return{xAxis:e,yAxis:n}},e.prototype.createAxisLabels=function(){for(var t=this.axes,e=0;e<t.length;e++)t[e].createLabels()},e.prototype.createXYAxis=function(t,e,n){for(var r=t.name,o=e?this.namedYAxes:this.namedXAxes,i=Object.assign({axisCrossingValue:0},t,{vertical:e,reverse:e||this.chartService.rtl?!t.reverse:t.reverse,justified:!1}),s=i.categories?i.categories[0]:null,a=[i.min,i.max,s],l=this.series,c=0;c<l.length;c++){var u=l[c],p=u[e?"yAxis":"xAxis"];if(p===i.name||0===n&&!p){var h=Zi.current.bindPoint(u,0).valueFields;a.push(h[e?"y":"x"]);break}}for(var f,d=0;d<a.length;d++)if(a[d]instanceof Date){f=!0;break}var v;v=Xt(i.type,or)||!i.type&&f?Pi:_i;var y=new v(i,this.chartService);if(y.axisIndex=n,r){if(o[r])throw new Error((e?"Y":"X")+" axis with name "+r+" is already defined");o[r]=y}return this.appendAxis(y),y.mapCategories(),y},e.prototype.createAxes=function(t){for(var e=this,n=this.options,r=[].concat(n.xAxis),o=[],i=[].concat(n.yAxis),s=[],a=0;a<r.length;a++){var l=e.findPane(r[a].pane);k(l,t)&&o.push(e.createXYAxis(r[a],!1,a))}for(var c=0;c<i.length;c++){var u=e.findPane(i[c].pane);k(u,t)&&s.push(e.createXYAxis(i[c],!0,c))}this.axisX=this.axisX||o[0],this.axisY=this.axisY||s[0]},e.prototype.removeAxis=function(e){var n=e.options.name;t.prototype.removeAxis.call(this,e),e.options.vertical?delete this.namedYAxes[n]:delete this.namedXAxes[n],e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY},e.prototype._dispatchEvent=function(t,e,n){for(var r=t._eventCoordinates(e),o=new _o(r.x,r.y),i=this.axes,s=i.length,a=[],l=[],c=0;c<s;c++){var u=i[c],p=u.options.vertical?l:a;Gt(p,u.getCategory(o))}a.length>0&&l.length>0&&t.trigger(n,{element:eo(e),originalEvent:e,x:te(a),y:te(l)})},e.prototype.updateAxisOptions=function(t,e){var n=t.options.vertical,r=this.groupAxes(this.panes),o=(n?r.y:r.x).indexOf(t);xe(this.options,o,n,e),xe(this.originalOptions,o,n,e)},e.prototype.crosshairOptions=function(t){return Object.assign({},t.options.crosshair,{zIndex:0})},e}(Sl);E(Jc,{xAxis:{},yAxis:{}}),f(Jc.prototype,Ol);var Qc="color",tu="first",eu="from",nu="max",ru="min",ou="noteText",iu="summary",su="to";sc.current.register(ql,[Ss,Ms,Rs,Zs,ks,$s,Ts,Is,Es,Xs,Cs,Ys,Ks,Us,Qs,js,Ws,Js]),sc.current.register(gc,[qs,Gs,Os]),sc.current.register(Sc,[Ls]),sc.current.register(Tc,[Ps]),sc.current.register($c,[As]),sc.current.register(Lc,[zs,Fs,Bs]),sc.current.register(Kc,[Ns,Vs,Hs]),sc.current.register(Jc,[Ds]),Zi.current.register([Ss,Ms,Rs,Zs,ks,$s],[Mr],[Ca,Qc,ou,cs,us]),Zi.current.register([Ks,Us,Ws,Js],[eu,su],[Ca,Qc,ou]),Zi.current.register([Qs,js],[Mr],[Ca,Qc,ou,iu]),Zi.current.register([zs,Fs,Bs],[Dr,jr],[Qc]),Zi.current.register([Ns,Vs,Hs],[Mr],[Qc]),Zi.current.register([As],[Mr],[Ca,Qc,"visibleInLegend","visible"]),Tl.current.register([Ss,Ms,Rs,Zs,ks,$s,Qs,js],{value:nu,color:tu,noteText:tu,errorLow:ru,errorHigh:nu}),Tl.current.register([Ks,Us,Ws,Js],{from:ru,to:nu,color:tu,noteText:tu}),Tl.current.register([Ns,Vs,Hs],{value:nu,color:tu}),Zi.current.register([qs,Gs,Os],[Dr,jr],[Qc,ou,ps,hs,fs,ds]),Zi.current.register([Os],[Dr,jr,"size"],[Qc,Ca,ou]),Zi.current.register([Ds],[Dr,jr,Mr],[Qc,ou]),Zi.current.register([Ts,Is],["open","high","low","close"],[Ca,Qc,"downColor",ou]),Tl.current.register([Ts,Is],{open:nu,high:nu,low:ru,close:nu,color:tu,downColor:tu,noteText:tu}),Zi.current.register([Cs,Ys],["lower","q1","median","q3","upper","mean","outliers"],[Ca,Qc,ou]),Tl.current.register([Cs,Ys],{lower:nu,q1:nu,median:nu,q3:nu,upper:nu,mean:nu,outliers:tu,color:tu,noteText:tu}),Zi.current.register([Es,Xs],["current","target"],[Ca,Qc,"visibleInLegend",ou]),Tl.current.register([Es,Xs],{current:nu,target:nu,color:tu,noteText:tu}),Zi.current.register([Ls,Ps],[Mr],[Ca,Qc,"explode","visibleInLegend","visible"]);var au=[Ca,Mr,Dr,jr],lu="mousemove",cu="contextmenu",uu="mouseleave",pu=20,hu=function(t){function e(e,n,r,o){var i=this;void 0===o&&(o={}),t.call(this),this.observers=[],this.addObserver(o.observer),this.chartService=new Zo(this,o),this.chartService.theme=r,this._initElement(e);var s=f({},this.options,n);this._originalOptions=f({},s),this._theme=r,this._initTheme(s,r),this._initHandlers(),this._initSurface(),this.bindCategories(),uo.preloadFonts(n,function(){i.fontLoaded=!0,i._destroyed||(i.trigger("init"),i._redraw(),i._attachEvents())})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initElement=function(t){for(this._setElementClass(t),t.style.position="relative";t.firstChild;)t.removeChild(t.firstChild);this.element=t},e.prototype._setElementClass=function(t){o(t,"k-chart")},e.prototype._initTheme=function(t,e){for(var n=[],r=t.series||[],o=0;o<r.length;o++)n.push(Object.assign({},r[o]));t.series=n,ke(t),this.applyDefaults(t,e),null===t.seriesColors&&delete t.seriesColors,this.options=f({},e,t),this.applySeriesColors()},e.prototype.getSize=function(){var t=this.options.chartArea||{},e=t.width?parseInt(t.width,10):Math.floor(this.element.offsetWidth),n=t.height?parseInt(t.height,10):Math.floor(this.element.offsetHeight);return{width:e,height:n}},e.prototype.resize=function(t){var e=this.getSize(),n=this._size,r=e.width>0||e.height>0;t||r&&(!n||e.width!==n.width||e.height!==n.height)?(this._size=e,this._resize(e,t),this.trigger("resize",e)):r&&this._selections&&M(this._selections,function(t){return!t.visible})&&(this._destroySelections(),this._setupSelection())},e.prototype._resize=function(){this._noTransitionsRedraw()},e.prototype.redraw=function(t){if(this.applyDefaults(this.options),this.applySeriesColors(),t){var e=this._model._plotArea,n=e.findPane(t);e.redraw(n)}else this._redraw()},e.prototype.getAxis=function(t){return jt(t,this._plotArea.axes)},e.prototype.findAxisByName=function(t){return this.getAxis(t)},e.prototype.findPaneByName=function(t){for(var e=this._plotArea.panes,n=0;n<e.length;n++)if(e[n].options.name===t)return new $i(e[n])},e.prototype.findPaneByIndex=function(t){var e=this._plotArea.panes;if(e[t])return new $i(e[t])},e.prototype.plotArea=function(){return new Yi(this._plotArea)},e.prototype.toggleHighlight=function(t,e){var n,r=this._plotArea,o=(r.srcSeries||r.series||[])[0];if(p(e))n=r.filterPoints(e);else{var i,s;d(e)?(i=e.series,s=e.category):i=s=e,n=o.type===Ps?Se(r.pointsBySeriesName(i),s):o.type===Ls||o.type===As?Se((r.charts[0]||{}).points,s):r.pointsBySeriesName(i)}n&&this.togglePointsHighlight(t,n)},e.prototype.togglePointsHighlight=function(t,e){for(var n=this._highlight,r=0;r<e.length;r++)n.togglePointHighlight(e[r],t)},e.prototype.showTooltip=function(t){var e,n,r=this._sharedTooltip(),o=this,i=o._tooltip,s=o._plotArea;if(p(t)?(e=s.findPoint(t),e&&r&&(n=e.categoryIx)):r&&Xr(t)&&(n=s.categoryAxis.categoryIndex(t)),r){if(n>=0){var a=this._plotArea.pointsByCategoryIndex(n);i.showAt(a)}}else e&&i.show(e)},e.prototype.hideTooltip=function(){this._tooltip.hide()},e.prototype._initSurface=function(){var t=this.surface,e=this._surfaceWrap(),n=this.options.chartArea||{};n.width&&Qr(e,{width:n.width}),n.height&&Qr(e,{height:n.height}),t&&t.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(this._destroySurface(),this.surface=Yn.drawing.Surface.create(e,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler))},e.prototype._surfaceWrap=function(){return this.element},e.prototype._redraw=function(){var t=this._getModel();this._size={width:t.options.width,height:t.options.height},this._destroyView(),this._model=t,this._plotArea=t._plotArea,t.renderVisual(),this.options.transitions!==!1&&t.traverse(function(t){t.animation&&t.animation.setup()}),this._initSurface(),this.surface.draw(t.visual),this.options.transitions!==!1&&t.traverse(function(t){t.animation&&t.animation.play()}),this._tooltip=this._createTooltip(),this._highlight=new Gl,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this.trigger(wa),je(this._plotArea.panes),this._navState||this._cancelDomEvents()},e.prototype.exportVisual=function(t){var e;if(t&&(t.width||t.height||t.options)){var n=this.options,r=f({},t.options,{chartArea:{width:t.width,height:t.height}});De(this._originalOptions,r),this.options=f({},this._originalOptions,r),this._initTheme(this.options,this._theme),this.bindCategories();var o=this._getModel();o.renderVisual(),je(o._plotArea.panes),e=o.visual,this.options=n}else e=this.surface.exportVisual();return e},e.prototype._sharedTooltip=function(){return this._plotArea instanceof ql&&this.options.tooltip&&this.options.tooltip.shared},e.prototype._createPannable=function(){var t=this.options;t.pannable!==!1&&(this._pannable=new $l(this._plotArea,t.pannable))},e.prototype._createZoomSelection=function(){var t=this.options.zoomable,e=(t||{}).selection;t!==!1&&e!==!1&&(this._zoomSelection=new Yl(this,e))},e.prototype._createMousewheelZoom=function(){var t=this.options.zoomable,e=(t||{}).mousewheel;t!==!1&&e!==!1&&(this._mousewheelZoom=new Ql(this,e))},e.prototype._toggleDragZoomEvents=function(){var t=this.options.pannable,e=this.options.zoomable,n=(e||{}).selection,r=(e||{}).mousewheel,o=!(t||e!==!1&&n!==!1||this.requiresHandlers([fa,pa,ha])),i=(e===!1||r===!1)&&!this.requiresHandlers([da,va,ya]),s=this.element;this._dragZoomEnabled&&o&&i?(s.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):this._dragZoomEnabled||o&&i||(s.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!o,!i)},e.prototype._toggleDomEvents=function(t,e){var n=this.domEvents;n&&(n.toggleDrag&&n.toggleDrag(t),n.toggleZoom&&n.toggleZoom(e))},e.prototype._createTooltip=function(){var t,e=this,n=e.options.tooltip;return t=this._sharedTooltip()?this._createSharedTooltip(n):new uc(this.chartService,n)},e.prototype._createSharedTooltip=function(t){return new pc(this._plotArea,t)},e.prototype.applyDefaults=function(t,e){Ce(t,e),Oe(t,e)},e.prototype.applySeriesColors=function(){for(var t=this.options,e=t.series,n=t.seriesColors||[],r=0;r<e.length;r++){var o=e[r],i=n[r%n.length],s=o._defaults;o.color=o.color||i,s&&(s.color=s.color||i)}},e.prototype._getModel=function(){var t=this.options,e=this._createPlotArea(),n=new jo(this._modelOptions());return n.chart=this,n._plotArea=e,Bo.buildTitle(t.title,n),t.legend&&t.legend.visible&&n.append(new ic(e.options.legend,this.chartService)),n.append(e),n.reflow(),n},e.prototype._modelOptions=function(){var t=this.options,e=this.getSize();return f({transitions:t.transitions,width:e.width||lr,height:e.height||sr},t.chartArea)},e.prototype._createPlotArea=function(t){var e=this.options,n=sc.current.create(t?[]:e.series,e,this.chartService);return n},e.prototype._setupSelection=function(){for(var t=this,e=this,n=e._plotArea.axes,r=this._selections=[],o=0;o<n.length;o++){var i=n[o],s=i.options;if(i instanceof _i&&s.select&&!s.vertical){var a=i.range(),l=new cc(t,i,f({min:a.min,max:a.max},s.select));r.push(l)}}},e.prototype._selectStart=function(t){return this.trigger(ga,t)},e.prototype._select=function(t){return this.trigger(ma,t)},e.prototype._selectEnd=function(t){return this.trigger(ba,t)},e.prototype._initHandlers=function(){this._clickHandler=this._click.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=Yn.throttle(this._mousemove.bind(this),pu)},e.prototype.addObserver=function(t){t&&this.observers.push(t)},e.prototype.removeObserver=function(t){var e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)},e.prototype.requiresHandlers=function(t){for(var e=this.observers,n=0;n<e.length;n++)if(e[n].requiresHandlers(t))return!0},e.prototype.trigger=function(t,e){void 0===e&&(e={}),t===_a&&(e.anchor.point=this._toDocumentCoordinates(e.anchor.point)),e.sender=this;for(var n=this.observers,r=!1,o=0;o<n.length;o++)n[o].trigger(t,e)&&(r=!0);return r},e.prototype._attachEvents=function(){var t=this.element;this._touchAction=t.style.touchAction;var e;if(Yr(t,(e={},e[cu]=this._clickHandler,e[Ma]=this._mousewheelHandler,e[uu]=this._mouseleaveHandler,e)),this._shouldAttachMouseMove()){var n;Yr(t,(n={},n[lu]=this._mousemove,n))}this.domEvents=ti.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()},e.prototype._mouseleave=function(t){this._hoveredPoint&&(this._hoveredPoint.out(this,t),this._hoveredPoint=null),this._plotArea.hovered&&(this.trigger(ua),this._plotArea.hovered=!1)},e.prototype._cancelDomEvents=function(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()},e.prototype._gesturestart=function(t){this._mousewheelZoom&&!this._stopChartHandlers(t)&&(this._gestureDistance=t.distance,this._unsetActivePoint(),this.surface.suspendTracking())},e.prototype._gestureend=function(t){this._zooming&&!this._stopChartHandlers(t)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger(ya,{}))},e.prototype._gesturechange=function(t){var e=this._mousewheelZoom;if(e&&!this._stopChartHandlers(t)){t.preventDefault();var n=this._gestureDistance,r=-t.distance/n+1;if(Math.abs(r)>=.1){r=Math.round(10*r),this._gestureDistance=t.distance;var o={delta:r,axisRanges:Te(this._plotArea.axes),originalEvent:t};if(this._zooming||!this.trigger(da,o)){var i=this._eventCoordinates(t);this._zooming||(this._zooming=!0);var s=o.axisRanges=e.updateRanges(r,i);s&&!this.trigger(va,o)&&e.zoom()}}}},e.prototype._mouseout=function(t){if(t.element){var e=this._drawingChartElement(t.element,t);e&&e.leave&&e.leave(this,t.originalEvent)}},e.prototype._start=function(t){var e=this._eventCoordinates(t);!this._stopChartHandlers(t)&&this._plotArea.backgroundContainsPoint(e)&&(this.requiresHandlers([fa,pa,ha])&&this._startNavigation(t,e,fa),this._pannable&&this._pannable.start(t)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(t)&&this.trigger(da,{axisRanges:Te(this._plotArea.axes),originalEvent:t}))},e.prototype._move=function(t){var e=this,n=e._navState,r=e._pannable;if(!this._stopChartHandlers(t)){if(r){var o=r.move(t);o&&!this.trigger(pa,{axisRanges:o,originalEvent:t})&&r.pan()}else if(n){for(var i={},s=n.axes,a=0;a<s.length;a++){var l=s[a],c=l.options.name;if(c){var u=l.options.vertical?t.y:t.x,p=u.startLocation-u.location;0!==p&&(i[l.options.name]=l.translateRange(p))}}n.axisRanges=i,this.trigger(pa,{axisRanges:i,originalEvent:t})}this._zoomSelection&&this._zoomSelection.move(t)}},e.prototype._end=function(t){if(!this._stopChartHandlers(t)){var e=this._pannable;if(e&&e.end(t)?(this.surface.resumeTracking(),this.trigger(ha,{axisRanges:Te(this._plotArea.axes),originalEvent:t}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(t,ha),this._zoomSelection){var n=this._zoomSelection.end(t);n&&!this.trigger(va,{axisRanges:n,originalEvent:t})&&(this._zoomSelection.zoom(),this.trigger(ya,{axisRanges:n,originalEvent:t}))}}},e.prototype._stopChartHandlers=function(t){var e=this._selections||[];if(!e.length)return!1;var n=this._eventCoordinates(t),r=this._plotArea.paneByPoint(n);if(r)for(var o=0;o<e.length;o++)if(e[o].onPane(r))return!0},e.prototype._mousewheelZoomRate=function(){var t=this.options.zoomable,e=(t||{}).mousewheel||{};return co(e.rate,Aa)},e.prototype._mousewheel=function(t){var e=this,n=O(t),r=this._mousewheelZoom,o=this._eventCoordinates(t);if(!this._stopChartHandlers(t)&&this._plotArea.backgroundContainsPoint(o))if(r){var i={delta:n,axisRanges:Te(this._plotArea.axes),originalEvent:t};!this._zooming&&this.trigger(da,i)||(t.preventDefault(),this._zooming||(this._unsetActivePoint(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),i.axisRanges=r.updateRanges(n,o),i.axisRanges&&!this.trigger(va,i)&&r.zoom(),this._mwTimeout=setTimeout(function(){e.trigger(ya,i),e._zooming=!1,e.surface&&e.surface.resumeTracking()},Pa))}else{var s=this._navState;if(!s){var a=this._startNavigation(t,o,da);a||(s=this._navState)}if(s){var l=s.totalDelta||n;s.totalDelta=l+n;for(var c=this._navState.axes,u={},p=0;p<c.length;p++){var h=c[p],f=h.options.name;f&&(u[f]=h.scaleRange(-l*e._mousewheelZoomRate(),o))}this.trigger(va,{delta:n,axisRanges:u,originalEvent:t}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(function(){e._endNavigation(t,ya)},Pa)}}},e.prototype._startNavigation=function(t,e,n){var r=this._model._plotArea,o=r.findPointPane(e),i=r.axes.slice(0);if(o){var s=Te(i),a=this.trigger(n,{axisRanges:s,originalEvent:t});a?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._navState={axisRanges:s,pane:o,axes:i})}},e.prototype._endNavigation=function(t,e){this._navState&&(this.trigger(e,{axisRanges:this._navState.axisRanges,originalEvent:t}),this._suppressHover=!1,this._navState=null)},e.prototype._getChartElement=function(t,e){var n=this.surface.eventTarget(t);if(n)return this._drawingChartElement(n,t,e)},e.prototype._drawingChartElement=function(t,e,n){for(var r,o=t;o&&!r;)r=o.chartElement,o=o.parent;if(r)return r.aliasFor&&(r=r.aliasFor(e,this._eventCoordinates(e))),n&&(r=r.closest(n),r&&r.aliasFor&&(r=r.aliasFor())),r},e.prototype._eventCoordinates=function(t){var e=to(t);return this._toModelCoordinates(e.x,e.y)},e.prototype._elementPadding=function(){if(!this._padding){var t=g(this.element,["paddingLeft","paddingTop"]),e=t.paddingLeft,n=t.paddingTop;this._padding={top:n,left:e}}return this._padding},e.prototype._toDocumentCoordinates=function(t){var e=this._elementPadding(),n=Jr(this.element);return{left:ao(t.x+e.left+n.left),top:ao(t.y+e.top+n.top)}},e.prototype._toModelCoordinates=function(t,e){var n=this.element,r=Jr(n),o=this._elementPadding(),i=D(n).invert(),s=new Yn.geometry.Point(t-r.left-o.left,e-r.top-o.top).transform(i);return new _o(s.x,s.y)},e.prototype._tap=function(t){var e=this,n=this.surface.eventTarget(t),r=this._drawingChartElement(n,t),o=this._sharedTooltip();this._startHover(n,t)||o||this._unsetActivePoint(),o&&this._trackSharedTooltip(this._eventCoordinates(t),t,!0),this._propagateClick(r,t),this.handlingTap=!0,setTimeout(function(){e.handlingTap=!1},0)},e.prototype._click=function(t){var e=this._getChartElement(t);this._propagateClick(e,t)},e.prototype._propagateClick=function(t,e){for(var n=this,r=t;r;)r.click&&r.click(n,e),r=r.parent},e.prototype._startHover=function(t,e){if(this._suppressHover)return!1;var n=this._drawingChartElement(t,e,function(t){return(t.hover||t.over)&&!(t instanceof Sl)}),r=this._activePoint,o=this._plotArea.series.length>1,i=this._hasInactiveOpacity();return this._updateHoveredPoint(n,e),n&&r!==n&&n.hover?(this._activePoint=n,this._sharedTooltip()||n.hover(this,e)||(this._displayTooltip(n),i?this._displayInactiveOpacity(n,o):this._highlight.show(n))):!n&&i&&(o&&this._activeChartInstance&&(this._updateSeriesOpacity(n,!0),this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._activeChartInstance=null),this._highlight&&this._highlight.hide(),this._activePoint=null),n},e.prototype._displayTooltip=function(t){var e=f({},this.options.tooltip,t.options.tooltip);e.visible&&this._tooltip.show(t)},e.prototype._displayInactiveOpacity=function(t,e,n){var r=this._activeChartInstance=this._chartInstanceFromPoint(t);if(r)if(e)this._updateSeriesOpacity(t),this._applySeriesOpacity(r.children,null,!0),this._applySeriesOpacity(r.children,t.series),this._highlight.show(n||t);else{var o;if(!r.supportsPointInactiveOpacity())return void this._highlight.show(t);o=this._getInactivePoints(t,r),o&&o.length&&this._highlight.show(o,1-this._getInactiveOpacityForSeries(t.series))}},e.prototype._getInactivePoints=function(t,e){var n=this._getAllPointsOfType(e,t.constructor);return n.filter(function(e){return e!==t})},e.prototype._getAllPointsOfType=function(t,e){for(var n=this,r=[],o=0;o<t.children.length;o++){var i=t.children[o];i.constructor===e?r.push(i):i.children&&i.children.length&&(r=r.concat(n._getAllPointsOfType(i,e)))}return r},e.prototype._updateHoveredPoint=function(t,e){var n=this._hoveredPoint;n&&n!==t&&(n.out(this,e),this._hoveredPoint=null),t&&n!==t&&t.over&&(this._hoveredPoint=t,t.over(this,e))},e.prototype._updateSeriesOpacity=function(t,e){for(var n=this,r=this._plotArea,o=r.series.length,i=0;i<o;i++){var s=r.series[i],a=n._getDefaultOpacityForSeries(s),l=n._getInactiveOpacityForSeries(s);e||s===t.series?(s.opacity=a,s.line&&(s.line.opacity=a)):(s.defaultOpacity=a,s.opacity=l,s.line&&(s.line.opacity=l))}},e.prototype._applySeriesOpacity=function(t,e,n,r){for(var o=this,i=0;i<t.length;i++){var s=t[i],a=s.series||r,l=a&&(a.highlight||{}).visible;if(l&&s.visual){var c=r?r.opacity:s.series.opacity;(a!==e||n)&&s.visual.opacity(n?1:c)}s.children&&s.children.length&&o._applySeriesOpacity(s.children,e,n,s.series)}},e.prototype._chartInstanceFromPoint=function(t){for(var e=t.parent;e&&!e.plotArea;)e=e.parent;return e},e.prototype._hasInactiveOpacity=function(){var t=void 0!==this.options.seriesDefaults.highlight.inactiveOpacity,e=this.options.series.filter(function(t){
return void 0!==t.highlight.inactiveOpacity}).length>0;return t||e},e.prototype._getInactiveOpacityForSeries=function(t){var e=this.options.seriesDefaults.highlight.inactiveOpacity,n=t.highlight.inactiveOpacity;return n||e||t.opacity||Rr},e.prototype._getDefaultOpacityForSeries=function(t){return t.defaultOpacity||t.opacity||Rr},e.prototype._mouseover=function(t){var e=this._startHover(t.element,t.originalEvent);if(e&&e.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()){this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this);var n;Yr(document,(n={},n[lu]=this._mouseMoveTrackHandler,n))}},e.prototype._mouseMoveTracking=function(t){var e=this,n=e.options,r=e._tooltip,o=e._highlight,i=e._activePoint,s=this._eventCoordinates(t);if(this._plotArea.box.containsPoint(s)){if(i&&i.tooltipTracking&&i.series&&i.parent.getNearestPoint){var a=i.parent.getNearestPoint(s.x,s.y,i.seriesIx);if(a&&a!==i&&(this._activePoint=a,!a.hover(this,t))){var l=f({},n.tooltip,a.options.tooltip);l.visible&&r.show(a),o.show(a)}}}else{var c;lo(document,(c={},c[lu]=this._mouseMoveTrackHandler,c)),this._unsetActivePoint(),this._mouseMoveTrackHandler=null}},e.prototype._mousemove=function(t){var e=this._eventCoordinates(t),n=this._plotArea;if(this._trackCrosshairs(e),n.hover){var r=n.backgroundContainsPoint(e);r?(n.hovered=!0,this._plotArea.hover(this,t)):n.hovered&&!r&&(this.trigger(ua),n.hovered=!1)}this._sharedTooltip()&&this._trackSharedTooltip(e,t)},e.prototype._trackCrosshairs=function(t){for(var e=this._plotArea.crosshairs,n=0;n<e.length;n++){var r=e[n];r.box.containsPoint(t)?r.showAt(t):r.hide()}},e.prototype._trackSharedTooltip=function(t,e,n){if(!this._suppressHover){var r=this,o=r.options.tooltip,i=r._plotArea,s=r._plotArea.categoryAxis,a=r._tooltip,l=r._highlight;if(i.backgroundContainsPoint(t)){var c=s.pointCategoryIndex(t);if(c!==this._tooltipCategoryIx||!this._sharedHighlight&&n){var u=i.pointsByCategoryIndex(c),p=u.map(function(t){return t.eventArgs(e)}),h=p[0]||{};h.categoryPoints=p,u.length>0&&!this.trigger(ia,h)?(o.visible&&a.showAt(u,t),l.show(u),this._sharedHighlight=!0):a.hide(),this._tooltipCategoryIx=c}else n&&this._sharedHighlight&&(l.hide(),a.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(l.hide(),a.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}},e.prototype.hideElements=function(t){var e=this._plotArea;this._mousemove.cancel(),e.hideCrosshairs(),this._unsetActivePoint(t)},e.prototype._unsetActivePoint=function(t){var e=this,n=e._tooltip,r=e._highlight;this._activePoint=null,this._hoveredPoint=null,!n||t&&t.keepTooltipOpen||n.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,r&&r.hide()},e.prototype._deferRedraw=function(){this._redraw()},e.prototype._clearRedrawTimeout=function(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)},e.prototype.bindCategories=function(){for(var t=this,e=this.options,n=[].concat(e.categoryAxis),r=0;r<n.length;r++){var o=n[r];o.autoBind!==!1&&t.bindCategoryAxisFromSeries(o,r)}},e.prototype.bindCategoryAxisFromSeries=function(t,e){for(var n,r=this,o=this.options.series,i=o.length,s=new Wr,a=[],l=!1,c=0;c<i;c++){var u=o[c],p=u.categoryAxis===t.name||!u.categoryAxis&&0===e,h=u.data,f=h.length,d=u.categoryField&&p;if(l=d||l,d&&f>0){n=Qt(t,It(u.categoryField,h[0]));for(var v=n?Jt:It,y=0;y<f;y++){var g=h[y],m=v(u.categoryField,g,r.chartService.intl);!n&&s.get(m)||(a.push([m,g]),n||s.set(m,!0))}}}if(a.length>0){n&&(a=Pe(a,function(t,e){return Q(t[0],e[0])}));var b=Ae(a);t.categories=b[0]}else l&&(t.categories=[])},e.prototype._isBindable=function(t){for(var e=Zi.current.valueFields(t),n=!0,r=0;r<e.length;r++){var o=e[r];if(o===Mr?o="field":o+="Field",!Xr(t[o])){n=!1;break}}return n},e.prototype._noTransitionsRedraw=function(){var t,e=this.options;e.transitions!==!1&&(e.transitions=!1,t=!0),this._redraw(),t&&(e.transitions=!0)},e.prototype._legendItemHover=function(t,e){var n,r=this,o=r._plotArea,i=r._highlight,s=(o.srcSeries||o.series)[t];if(n=k(s.type,[Ls,Ps,As])?o.findPoint(function(n){return n.series.index===t&&n.index===e}):o.pointsBySeriesIndex(t),this._hasInactiveOpacity()&&s.visible&&n){var a=o.series.length>1,l=n.length?n[0]:n;this._displayInactiveOpacity(l,a,n)}else i.show(n)},e.prototype._shouldAttachMouseMove=function(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers([ca,ua])},e.prototype.updateMouseMoveHandler=function(){var t;if(lo(this.element,(t={},t[lu]=this._mousemove,t)),this._shouldAttachMouseMove()){var e;Yr(this.element,(e={},e[lu]=this._mousemove,e))}},e.prototype.applyOptions=function(t,e){De(this._originalOptions,t),this._originalOptions=f(this._originalOptions,t),this.options=f({},this._originalOptions),e&&(this._theme=e,this.chartService.theme=e),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()},e.prototype.setOptions=function(t,e){this.applyOptions(t,e),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler()},e.prototype.setDirection=function(t){this.chartService.rtl=Boolean(t),this.surface&&"svg"===this.surface.type&&this._destroySurface()},e.prototype.setIntlService=function(t){this.chartService.intl=t},e.prototype.noTransitionsRedraw=function(){this._noTransitionsRedraw()},e.prototype.destroy=function(){this._destroyed=!0;var t;if(lo(this.element,(t={},t[cu]=this._clickHandler,t[Ma]=this._mousewheelHandler,t[lu]=this._mousemove,t[uu]=this._mouseleaveHandler,t)),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler){var e;lo(document,(e={},e[lu]=this._mouseMoveTrackHandler,e))}this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()},e.prototype._destroySurface=function(){var t=this.surface;t&&(t.unbind("mouseenter",this._surfaceMouseenterHandler),t.unbind("mouseleave",this._surfaceMouseleaveHandler),t.destroy(),this.surface=null)},e.prototype._destroySelections=function(){var t=this._selections;if(t)for(;t.length>0;)t.shift().destroy()},e.prototype._destroyView=function(){var t=this._model;t&&(t.destroy(),this._model=null),this._unsetActivePoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)},e}(Yn.Class),fu=["data","categories"];E(hu,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},seriesDefaults:{type:Ms,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});var du=-2,vu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._slotAnchor=function(t,e){var n,r=this.plotArea.categoryAxis,o=r.options.vertical,i=o?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};return n=o?new _o(this.plotArea.box.x2,e.center().y):new _o(e.center().x,du),{point:n,align:i}},e.prototype._defaultAnchor=function(t,e){return this._slotAnchor({},e)},e}(pc),yu=150,gu=150,mu=[Ss,Es],bu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._setElementClass=function(t){o(t,"k-sparkline")},e.prototype._initElement=function(e){t.prototype._initElement.call(this,e),this._initialWidth=Math.floor(Qr(e).width)},e.prototype._resize=function(){var e=this.element,n=Re(e.childNodes);this._initialWidth=Math.floor(Qr(e).width),Ie(e.childNodes,n),t.prototype._resize.call(this)},e.prototype._modelOptions=function(){var t=this.options,e=this._surfaceWrap(),n=Re(e.childNodes),r=document.createElement("span");r.innerHTML="&nbsp;",e.appendChild(r);var o=f({width:this._autoWidth,height:Qr(e).height,transitions:t.transitions},t.chartArea,{inline:!0,align:!1});return Qr(e,{width:o.width,height:o.height}),e.removeChild(r),Ie(e.childNodes,n),this.surface&&this.surface.resize(),o},e.prototype._surfaceWrap=function(){if(!this.stage){var t=this.stage=document.createElement("span");this.element.appendChild(t)}return this.stage},e.prototype._createPlotArea=function(e){var n=t.prototype._createPlotArea.call(this,e);return this._autoWidth=this._initialWidth||this._calculateWidth(n),n},e.prototype._calculateWidth=function(t){for(var e=this.options,n=m(e.chartArea.margin),r=t.charts,o=this._surfaceWrap(),i=0,s=0;s<r.length;s++){var a=r[s],l=(a.options.series||[])[0];if(l){if(l.type===Ss)return yu;if(l.type===Es)return gu;if(l.type===Ls)return Qr(o).height;var c=a.categoryAxis;if(c){var u=c.categoriesCount()*(!a.options.isStacked&&k(l.type,[Ms,Xs])?a.seriesOptions.length:1);i=Math.max(i,u)}}}var p=i*e.pointWidth;return p>0&&(p+=n.left+n.right),p},e.prototype._createSharedTooltip=function(t){return new vu(this._plotArea,t)},e.normalizeOptions=function(t){var e=Le(t);return e=r(e)?{seriesDefaults:{data:e}}:f({},e),e.series||(e.series=[{data:Le(e.data)}]),f(e,{seriesDefaults:{type:e.type}}),(k(e.series[0].type,mu)||k(e.seriesDefaults.type,mu))&&(e=f({},{categoryAxis:{crosshair:{visible:!1}}},e)),e},e}(hu);E(bu,{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});var wu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this._initialOpacity=parseFloat(g(this.element,"opacity").opacity)},e.prototype.step=function(t){g(this.element,{opacity:String(S(this._initialOpacity,0,t))})},e.prototype.abort=function(){t.prototype.abort.call(this),g(this.element,{display:"none",opacity:String(this._initialOpacity)})},e.prototype.cancel=function(){t.prototype.abort.call(this),g(this.element,{opacity:String(this._initialOpacity)})},e}(Yn.drawing.Animation),_u=function(t){function e(e,n,r){t.call(this),this.options=f({},this.options,r),this.container=e,this.chartService=n;var o=g(e,["paddingLeft","paddingTop"]);this.chartPadding={top:o.paddingTop,left:o.paddingLeft},this.createElements(),e.appendChild(this.element)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createElements=function(){var t=this.element=ze("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),e=this.tooltip=ze("k-tooltip k-chart-tooltip"),n=this.scroll=ze("k-scroll");e.innerHTML="&nbsp;",t.appendChild(e),t.appendChild(n)},e.prototype.show=function(t,e,n){var r=this,o=r.element,i=r.options,s=r.scroll,a=r.tooltip,l=q(et(t)+et(e-t)/2),c=.4*n.width(),u=n.center().x-c,p=n.center().x,h=p-u,f=i.max-i.min,d=h/f,v=l-i.min,y=this.chartService.intl.format(i.format,t,e),m=b(i);this.clearHideTimeout(),this._visible||(g(o,{visibility:"hidden",display:"block"}),this._visible=!0),m&&(y=m({from:t,to:e})),a.innerHTML=y,g(a,{left:n.center().x-a.offsetWidth/2,top:n.y1});var w=g(a,["marginTop","borderTopWidth","height"]);g(s,{width:c,left:u+v*d,top:n.y1+w.marginTop+w.borderTopWidth+w.height/2}),g(o,{visibility:"visible"})},e.prototype.clearHideTimeout=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()},e.prototype.hide=function(){var t=this;this.clearHideTimeout(),this._hideTimeout=setTimeout(function(){t._visible=!1,t._hideAnimation=new wu(t.element),t._hideAnimation.setup(),t._hideAnimation.play()},this.options.hideDelay)},e.prototype.destroy=function(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll},e}(Yn.Class);E(_u,{format:"{0:d} - {1:d}",hideDelay:500});var xu="_navigator",ku=xu,Su=Object.freeze({NAVIGATOR_AXIS:ku,NAVIGATOR_PANE:xu}),Cu=3,Ou=function(t){function e(e){t.call(this),this.chart=e;var n=this.options=f({},this.options,e.options.navigator),r=n.select;r&&(r.from=this.parseDate(r.from),r.to=this.parseDate(r.to)),Xr(n.hint.visible)||(n.hint.visible=n.visible);var o;this.chartObserver=new Kr(this,(o={},o[pa]="_drag",o[ha]="_dragEnd",o[va]="_zoom",o[ya]="_zoomEnd",o)),e.addObserver(this.chartObserver)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseDate=function(t){return st(this.chart.chartService.intl,t)},e.prototype.clean=function(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)},e.prototype.destroy=function(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()},e.prototype.redraw=function(){this._redrawSelf(),this.initSelection()},e.prototype.initSelection=function(){var t=this,e=t.chart,n=t.options,r=this.mainAxis(),o=r.roundedRange(),i=o.min,s=o.max,a=n.select,l=a.from,c=a.to,u=a.mousewheel,p=Be(r);0!==r.categoriesCount()&&(this.clean(),p.box=r.box,this.selection=new cc(e,p,{min:i,max:s,from:l||i,to:c||s,mousewheel:co(u,{zoom:"left"}),visible:n.visible},new Kr(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),n.hint.visible&&(this.hint=new _u(e.element,e.chartService,{min:i,max:s,template:b(n.hint),format:n.hint.format})))},e.prototype.setRange=function(){var t=this.chart._createPlotArea(!0),e=t.namedCategoryAxes[ku],n=e.roundedRange(),r=n.min,o=n.max,i=this.options.select||{},s=i.from||r;s<r&&(s=r);var a=i.to||o;a>o&&(a=o),this.options.select=f({},i,{from:s,to:a}),this.filterAxes()},e.prototype._redrawSelf=function(t){var e=this.chart._plotArea;e&&e.redraw(ro(e.panes),t)},e.prototype.redrawSlaves=function(){var t=this.chart,e=t._plotArea,n=e.panes.slice(0,-1);e.srcSeries=t.options.series,e.options.categoryAxis=t.options.categoryAxis,e.clearSeriesPointsCache(),e.redraw(n)},e.prototype._drag=function(t){var e,n=this,r=n.chart,o=n.selection,i=r._eventCoordinates(t.originalEvent),s=this.mainAxis(),a=s.roundedRange(),l=s.pane.box.containsPoint(i),c=r._plotArea.categoryAxis,u=t.axisRanges[c.options.name],p=this.options.select;if(u&&!l&&o){e=p.from&&p.to?et(p.to)-et(p.from):et(o.options.to)-et(o.options.from);var h=q(oo(et(u.min),a.min,et(a.max)-e)),f=q(oo(et(h)+e,et(a.min)+e,a.max));this.options.select={from:h,to:f},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),o.set(h,f),this.showHint(h,f)}},e.prototype._dragEnd=function(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()},e.prototype.readSelection=function(){var t=this,e=t.selection.options,n=e.from,r=e.to,o=t.options.select;o.from=n,o.to=r},e.prototype.filterAxes=function(){var t=this,e=t.options.select;void 0===e&&(e={});for(var n=t.chart,r=n.options.categoryAxis,o=e.from,i=e.to,s=0;s<r.length;s++){var a=r[s];a.pane!==xu&&(a.min=o,a.max=i)}},e.prototype.filter=function(){var t=this,e=t.chart,n=t.options.select;if(e.requiresHandlers(["navigatorFilter"])){var r=this.mainAxis(),o={from:n.from,to:n.to};if("category"!==r.options.type){var i=new Pi(f({baseUnit:"fit"},e.options.categoryAxis[0],{categories:[n.from,n.to]}),e.chartService).options;o.from=X(i.min,-i.baseUnitStep,i.baseUnit),o.to=X(i.max,i.baseUnitStep,i.baseUnit)}this.chart.trigger("navigatorFilter",o)}},e.prototype._zoom=function(t){var e=this,n=e.chart._plotArea.categoryAxis,r=e.selection,o=e.options,i=o.select,s=o.liveDrag,a=this.mainAxis(),l=t.delta;if(r){var c=a.categoryIndex(r.options.from),u=a.categoryIndex(r.options.to),p=this.chart._eventCoordinates(t.originalEvent);t.originalEvent.preventDefault(),Math.abs(l)>1&&(l*=Cu),u-c>1?(r.zoom(l,p),this.readSelection()):(n.options.min=i.from,i.from=n.scaleRange(-t.delta*this.chart._mousewheelZoomRate(),p).min),s&&(this.filterAxes(),this.redrawSlaves()),r.set(i.from,i.to),this.showHint(this.options.select.from,this.options.select.to)}},e.prototype._zoomEnd=function(t){this._dragEnd(t)},e.prototype.showHint=function(t,e){var n=this.chart._plotArea;this.hint&&this.hint.show(t,e,n.backgroundBox())},e.prototype._selectStart=function(t){return this.chart._selectStart(t)},e.prototype._select=function(t){return this.showHint(t.from,t.to),this.chart._select(t)},e.prototype._selectEnd=function(t){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(t)},e.prototype.mainAxis=function(){var t=this.chart._plotArea;if(t)return t.namedCategoryAxes[ku]},e.prototype.select=function t(e,n){var t=this.options.select;return e&&n&&(t.from=this.parseDate(e),t.to=this.parseDate(n),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(e,n)),{from:t.from,to:t.to}},e.setup=function(t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),!t.__navi){t.__navi=!0;var r=f({},n.navigator,t.navigator),o=t.panes=[].concat(t.panes),i=f({},r.pane,{name:xu});r.visible||(i.visible=!1,i.height=.1),o.push(i),e.attachAxes(t,r),e.attachSeries(t,r,n)}},e.attachAxes=function(t,e){var n=e.series||[],r=t.categoryAxis=[].concat(t.categoryAxis),o=t.valueAxis=[].concat(t.valueAxis),i=Zt(n,ta),s=0===i.length,a=f({type:"date",pane:xu,roundToBaseUnit:!s,justified:s,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:e.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),l=e.categoryAxis;r.push(f({},a,{maxDateGroups:200},l,{name:ku,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),f({},a,l,{name:ku+"_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),f({},a,l,{name:ku+"_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),o.push(f({name:ku,pane:xu,majorGridLines:{visible:!1},visible:!1},e.valueAxis))},e.attachSeries=function(t,e,n){for(var r=t.series=t.series||[],o=[].concat(e.series||[]),i=n.seriesColors,s=e.seriesDefaults,a=0;a<o.length;a++)r.push(f({color:i[a%i.length],categoryField:e.dateField,visibleInLegend:!1,tooltip:{visible:!1}},s,o[a],{axis:ku,categoryAxis:ku,autoBind:e.autoBindElements}))},e}(Yn.Class),Eu=28,Tu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyDefaults=function(e,n){var r=Qr(this.element).width||lr,o=n,i={seriesDefaults:{categoryField:e.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(r/Eu)}}};o&&(o=f({},o,i)),Ou.setup(e,o),t.prototype.applyDefaults.call(this,e,o)},e.prototype._setElementClass=function(t){o(t,"k-chart k-stockchart")},e.prototype.setOptions=function(e){this.destroyNavigator(),t.prototype.setOptions.call(this,e)},e.prototype.noTransitionsRedraw=function(){var t=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=t},e.prototype._resize=function(){this.noTransitionsRedraw()},e.prototype._redraw=function(){var t=this.navigator;!this._dirty()&&t&&t.options.partialRedraw?t.redrawSlaves():this._fullRedraw()},e.prototype._dirty=function(){var t=this.options,e=[].concat(t.series,t.navigator.series),n=_(e,function(t){return t&&t.visible}).length,r=this._seriesCount!==n;return this._seriesCount=n,r},e.prototype._fullRedraw=function(){var e=this.navigator;e||(e=this.navigator=new Ou(this),this.trigger("navigatorCreated",{navigator:e})),e.clean(),e.setRange(),t.prototype._redraw.call(this),e.initSelection()},e.prototype._trackSharedTooltip=function(e){var n=this._plotArea,r=n.paneByPoint(e);r&&r.options.name===xu?this._unsetActivePoint():t.prototype._trackSharedTooltip.call(this,e)},e.prototype.bindCategories=function(){t.prototype.bindCategories.call(this),this.copyNavigatorCategories()},e.prototype.copyNavigatorCategories=function(){for(var t,e=[].concat(this.options.categoryAxis),n=0;n<e.length;n++){var r=e[n];r.name===ku?t=r.categories:t&&r.pane===xu&&(r.categories=t)}},e.prototype.destroyNavigator=function(){this.navigator&&(this.navigator.destroy(),this.navigator=null)},e.prototype.destroy=function(){this.destroyNavigator(),t.prototype.destroy.call(this)},e.prototype._stopChartHandlers=function(e){var n=this._eventCoordinates(e),r=this._plotArea.paneByPoint(n);return t.prototype._stopChartHandlers.call(this,e)||r&&r.options.name===xu},e.prototype._toggleDragZoomEvents=function(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)},e}(hu);E(Tu,{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});var Mu=150,Pu=250,Au="arrow",Du="arrowPointer",ju="barPointer",Ru=200,Iu=.5,Lu=200,zu=Math.PI/180,Fu="inside",Bu="linear",Nu="outside",Vu="radialPointer",Hu="radialRangePointer",Wu=Yn.drawing.Group,Uu=Yn.drawing.Path,Ku=Yn.drawing.Text,qu=5,Gu=Yn.drawing.Path,$u=Yn.drawing.Surface,Yu=function(t){function e(e,n,r,o){void 0===o&&(o={}),t.call(this),this.element=e,this.theme=r,this.contextService=new Zo(this,o),this._originalOptions=f({},this.options,n),this.options=f({},this._originalOptions),this._initTheme(r),this.redraw()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement},e.prototype.value=function(t){var e=this.pointers[0];return 0===arguments.length?e.value():(e.value(t),void this._setValueOptions(t))},e.prototype._draw=function(){var t=this.surface;t.clear(),t.draw(this._visuals)},e.prototype.exportVisual=function(){return this._visuals},e.prototype.allValues=function t(e){var n=this.pointers,t=[];if(0===arguments.length){for(var o=0;o<n.length;o++)t.push(n[o].value());return t}if(r(e))for(var i=0;i<e.length;i++)l(e[i])&&n[i].value(e[i]);this._setValueOptions(e)},e.prototype._setValueOptions=function(t){for(var e=[].concat(this.options.pointer),n=[].concat(t),r=0;r<n.length;r++)e[r].value=n[r]},e.prototype.resize=function(){this.noTransitionsRedraw()},e.prototype.noTransitionsRedraw=function(){var t=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(t)},e.prototype.redraw=function(){var t=this._surfaceSize(),e=new Yn.geometry.Rect([0,0],[t.width,t.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();var n=We(e.bbox(),this._gaugeAreaMargin);this.reflow(n)},e.prototype.setOptions=function(t,e){this._originalOptions=f(this._originalOptions,t),this.options=f({},this._originalOptions),this._initTheme(e),this.redraw()},e.prototype.setDirection=function(t){this.contextService.rtl=Boolean(t),this.surface&&"svg"===this.surface.type&&(this.surface.destroy(),this.surface=null)},e.prototype.setIntlService=function(t){this.contextService.intl=t},e.prototype._initTheme=function(t){var e=t||this.theme||{};this.theme=e,this.options=f({},e,this.options);var n=this.options,o=n.pointer;if(r(o)){for(var i=[],s=0;s<o.length;s++)i.push(f({},e.pointer,o[s]));n.pointer=i}},e.prototype._createGaugeArea=function(){var t=this.options.gaugeArea,e=this.surface.size(),n=t.border||{},r=new Yn.geometry.Rect([0,0],[e.width,e.height]);this._gaugeAreaMargin=t.margin||qu,n.width>0&&(r=We(r,n.width));var o=Gu.fromRect(r,{stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType,lineJoin:"round",lineCap:"round"},fill:{color:t.background}});return o},e.prototype._initSurface=function(){var t=this,e=t.options,n=t.surface,r=this._surfaceElement(),o=this._surfaceSize();Qr(r,o),n&&n.options.type===e.renderAs?(this.surface.clear(),this.surface.resize()):(n&&n.destroy(),this.surface=$u.create(r,{type:e.renderAs}))},e.prototype._surfaceSize=function(){var t=this.options,e=this._getSize();return t.gaugeArea&&f(e,t.gaugeArea),e},e.prototype._surfaceElement=function(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement},e.prototype.getSize=function(){return this._getSize()},e.prototype._getSize=function(){var t=this.element,e=this._defaultSize(),n=t.offsetWidth,r=t.offsetHeight;return n||(n=e.width),r||(r=e.height),{width:n,height:r}},e.prototype._defaultSize=function(){return{width:Lu,height:Ru}},e.prototype._toggleTransitions=function(t){var e=this;this.options.transitions=t;for(var n=0;n<this.pointers.length;n++)e.pointers[n].options.animation.transitions=t},e}(Yn.Class);E(Yu,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});var Xu=Yn.drawing.Path,Zu=Yn.drawing.Group,Ju=Yn.geometry.Point,Qu=function(t){function e(e,n){var r=e||{};!Xr(r.reverse)&&r.vertical===!1&&(n||{}).rtl&&(r=Object.assign({},r,{reverse:!0})),t.call(this,0,1,r,n),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){var e=f({},this.options,t);return e=f({},e,{labels:{mirror:e.mirror}}),e.majorUnit=e.majorUnit||L(e.min,e.max),e},e.prototype.initFields=function(){},e.prototype.render=function(){var t=this.elements=new Zu,e=this.renderLabels(),n=this.renderLine(),r=this.renderTicks(),o=this.renderRanges();return t.append(n,e,r,o),t},e.prototype.renderRanges=function(){for(var t=this,e=this.options,n=e.min,r=e.max,o=e.vertical,i=e.labels.mirror,s=e.ranges||[],a=new Zu,l=s.length,c=e.rangeSize||e.minorTicks.size/2,u=0;u<l;u++){var p=He(s[u],n,r),h=t.getSlot(p.from,p.to),f=o?t.lineBox():h,d=o?h:t.lineBox();o?f.x1-=c*(i?-1:1):d.y2+=c*(i?-1:1),a.append(Xu.fromRect(new Yn.geometry.Rect([f.x1,d.y1],[f.x2-f.x1,d.y2-d.y1]),{fill:{color:p.color,opacity:p.opacity},stroke:{}}))}return a},e.prototype.renderLabels=function(){for(var t=this,e=t.labels,n=t.options,r=new Zu,o=0;o<e.length;o++)r.append(Ve(e[o],n.labels));return r},e.prototype.renderLine=function(){var t=this.options.line,e=this.lineBox(),n=new Zu;if(t.width>0&&t.visible){var r=new Xu({stroke:{color:t.color,dashType:t.dashType,width:t.width}});r.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),n.append(r)}return n},e.prototype.renderTicks=function(){var t=new Zu,e=this.options,n=e.majorTicks.visible?e.majorUnit:0,r={vertical:e.vertical,mirror:e.labels.mirror,lineBox:this.lineBox()};return Ke(t,this.getMajorTickPositions(),r,e.majorTicks),Ke(t,this.getMinorTickPositions(),r,f({},{skipUnit:n/e.minorUnit},e.minorTicks)),t},e}(Di);E(Qu,{min:0,max:50,majorTicks:{size:15,align:Fu,color:Jn,width:Iu,visible:!0},minorTicks:{size:10,align:Fu,color:Jn,width:Iu,visible:!0},line:{width:Iu},labels:{position:Fu,padding:2},mirror:!1,_alignLines:!1});var tp=function(t){function e(e,n){t.call(this);var r=e.options,o=r.min,i=r.max,s=this.options=f({},this.options,n);s.fill=s.color,this.scale=e,Xr(s.value)?s.value=oo(s.value,o,i):s.value=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.value=function t(e){var n=this.options,t=n.value;if(0===arguments.length)return t;var r=this.scale.options,o=r.min,i=r.max;n._oldValue=Xr(n._oldValue)?n.value:o,n.value=oo(e,o,i),this.elements&&this.repaint()},e}(Yn.Class);E(tp,{color:Jn});var ep=function(t){function e(e,n){t.call(this,e,n),this.options=f({track:{visible:Xr(n.track)}},this.options)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(){var t,e,n,r=this,o=r.options,i=r.scale,s=i.options,a=s.mirror,l=s.vertical,c=i.lineBox(),u=o.track.size||o.size,p=o.size/2,h=m(o.margin),f=l?h[a?"left":"right"]:h[a?"bottom":"top"];f=a?-f:f,l?(n=new xo(c.x1+f,c.y1,c.x1+f,c.y2),a?n.x1-=u:n.x2+=u,o.shape!==ju&&(e=new xo(c.x2+f,c.y1-p,c.x2+f,c.y2+p),t=e)):(n=new xo(c.x1,c.y1-f,c.x2,c.y1-f),a?n.y2+=u:n.y1-=u,o.shape!==ju&&(e=new xo(c.x1-p,c.y1-f,c.x2+p,c.y1-f),t=e)),this.trackBox=n,this.pointerRangeBox=e,this.box=t||n.clone().pad(o.border.width)},e.prototype.getElementOptions=function(){var t=this.options;return{fill:{color:t.color,opacity:t.opacity},stroke:Xr(t.border)?{color:t.border.width?t.border.color||t.color:"",width:t.border.width,dashType:t.border.dashType,opacity:t.opacity}:null}},e.prototype._margin=function(){var t=this,e=t.scale,n=t.options,r=e.options,o=r.mirror,i=r.vertical,s=m(n.margin),a=i?s[o?"left":"right"]:s[o?"bottom":"top"];return a},e}(tp);E(ep,{shape:ju,track:{border:{width:1}},color:Jn,border:{width:1},opacity:1,margin:m(3),animation:{type:ju},visible:!0});var np=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.options,e=t.margin,n=t.from,r=t.to,o=t.vertical,i=o?"x1":"y1";t.mirror===o?(n[i]-=e,r[i]-=e):(n[i]+=e,r[i]+=e);var s=this.fromScale=new Yn.geometry.Point(n.x1,n.y1),a=this.toScale=new Yn.geometry.Point(r.x1,r.y1);0!==t.duration&&(t.duration=Math.max(s.distanceTo(a)/t.duration*1e3,1))},e.prototype.step=function(t){var e=S(this.fromScale.x,this.toScale.x,t),n=S(this.fromScale.y,this.toScale.y,t);this.element.transform(Yn.geometry.transform().translate(e,n))},e}(Yn.drawing.Animation);E(np,{easing:Bu,duration:Pu}),Yn.drawing.AnimationFactory.current.register(Du,np);var rp=Yn.geometry.Point,op=Yn.drawing.Path,ip=function(t){function e(e,n){t.call(this,e,n),Xr(this.options.size)||(this.options.size=.6*this.scale.options.majorTicks.size)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointerShape=function(){var t,e=this,n=e.scale,r=e.options.size,o=r/2,i=n.options.mirror?-1:1;return t=n.options.vertical?[new rp(0,0-o),new rp(0-i*r,0),new rp(0,0+o)]:[new rp(0-o,0),new rp(0,0+i*r),new rp(0+o,0)]},e.prototype.repaint=function(){var t=this,e=t.scale,n=t.options,r=new np(this.elements,f(n.animation,{vertical:e.options.vertical,mirror:e.options.mirror,margin:this._margin(n.margin),from:e.getSlot(n._oldValue),to:e.getSlot(n.value)}));n.animation.transitions===!1&&(r.options.duration=0),r.setup(),r.play()},e.prototype.render=function(){var t=this,e=t.scale,n=t.options,r=this.getElementOptions(),o=this.pointerShape(n.value);n.animation.type=Du;var i=new op({stroke:r.stroke,fill:r.fill}).moveTo(o[0]).lineTo(o[1]).lineTo(o[2]).close(),s=e.getSlot(n.value);return i.transform(Yn.geometry.transform().translate(s.x1,s.y1)),this.elements=i,i},e}(ep),sp=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.options,e=this.axis=t.vertical?jr:Dr,n=this.to=t.newPoints[0][e],r=this.from=t.oldPoints[0][e];0!==t.duration&&(t.duration=Math.max(Math.abs(n-r)/t.speed*1e3,1)),this._set(r)},e.prototype.step=function(t){var e=S(this.from,this.to,t);this._set(e)},e.prototype._set=function(t){var e="set"+this.axis.toUpperCase(),n=this.options.newPoints;n[0][e](t),n[1][e](t)},e}(Yn.drawing.Animation);E(sp,{easing:Bu,speed:Pu}),Yn.drawing.AnimationFactory.current.register(ju,sp);var ap=Yn.drawing.Group,lp=Yn.drawing.Path,cp=function(t){function e(e,n){t.call(this,e,n),Xr(this.options.size)||(this.options.size=.3*this.scale.options.majorTicks.size)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),
e.prototype.constructor=e,e.prototype.pointerShape=function(t){var e=this,n=e.scale,r=e.options,o=n.options,i=o.mirror,s=o.vertical,a=i===s?-1:1,l=r.size*a,c=n.getSlot(n.options.min),u=n.getSlot(t),p=s?jr:Dr,h=s?Dr:jr,f=this._margin()*a,d=new Yn.geometry.Point;d[p]=c[p+"1"],d[h]=c[h+"1"];var v=new Yn.geometry.Point;v[p]=u[p+"1"],v[h]=u[h+"1"],s?(d.translate(f,0),v.translate(f,0)):(d.translate(0,f),v.translate(0,f));var y=v.clone(),g=d.clone();return s?(y.translate(l,0),g.translate(l,0)):(y.translate(0,l),g.translate(0,l)),[d,v,y,g]},e.prototype.repaint=function(){var t=this,e=t.scale,n=t.options,r=this.pointerShape(n.value),o=this.pointerPath,i=this.pointerShape(n._oldValue);o.moveTo(r[0]).lineTo(r[1]).lineTo(r[2]).lineTo(r[3]).close();var s=new sp(o,f(n.animation,{reverse:e.options.reverse,vertical:e.options.vertical,oldPoints:[i[1],i[2]],newPoints:[r[1],r[2]]}));n.animation.transitions===!1&&(s.options.duration=0),s.setup(),s.play()},e.prototype.render=function(){var t=new ap,e=this.getElementOptions();this.options.track.visible&&t.append(this.renderTrack());var n=this.pointerPath=new lp({stroke:e.stroke,fill:e.fill});return t.append(n),this.elements=t,t},e.prototype.renderTrack=function(){var t=this.options.track,e=t.border||{},n=this.trackBox.clone().pad(e.width||0);return new lp.fromRect(n.toRect(),{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.width?e.color||t.color:"",width:e.width,dashType:e.dashType}})},e}(ep),up=60,pp=60,hp=Yn.drawing.Group,fp=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.pointers,n=t.origin.x,r=t.origin.y,o=new xo(n,r,n+t.width(),r+t.height());this.scale.reflow(o),this._shrinkScaleWidth(o);for(var i=0;i<e.length;i++)e[i].reflow();this.bbox=this._getBox(o),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()},e.prototype._buildVisual=function(){var t=new hp,e=this.scale.render(),n=this.pointers;t.append(this.gaugeArea),t.append(e);for(var r=0;r<n.length;r++){var o=n[r];t.append(o.render()),o.value(o.options.value)}this._visuals=t},e.prototype._createModel=function(){var t=this,e=this.options,n=this.scale=new Qu(e.scale,this.contextService);this.pointers=[];var o=e.pointer;o=r(o)?o:[o];for(var i=0;i<o.length;i++){var s=f({},o[i],{animation:{transitions:e.transitions}}),a=s.shape===Au?ip:cp;t.pointers.push(new a(n,s))}},e.prototype._defaultSize=function(){var t=this.options.scale.vertical;return{width:t?up:Lu,height:t?Ru:pp}},e.prototype._getBox=function(t){for(var e=this,n=e.scale,r=e.pointers,o=t.center(),i=r[0].box.clone().wrap(n.box),s=0;s<r.length;s++)i.wrap(r[s].box.clone());var a;return n.options.vertical?(a=i.width()/2,i=new xo(o.x-a,t.y1,o.x+a,t.y2)):(a=i.height()/2,i=new xo(t.x1,o.y-a,t.x2,o.y+a)),i},e.prototype._alignElements=function(){for(var t=this,e=this,n=e.scale,r=e.pointers,o=n.box,i=r[0].box.clone().wrap(n.box),s=this.bbox,a=0;a<r.length;a++)i.wrap(r[a].box.clone());var l;n.options.vertical?(l=s.center().x-i.center().x,n.reflow(new xo(o.x1+l,s.y1,o.x2+l,s.y2))):(l=s.center().y-i.center().y,n.reflow(new xo(o.x1,o.y1+l,o.x2,o.y2+l)));for(var c=0;c<r.length;c++)r[c].reflow(t.bbox)},e.prototype._shrinkScaleWidth=function(t){var e=this,n=e.scale;if(!n.options.vertical){var r=n.contentBox().width()-t.width();r>0&&(n.box.shrink(r,0),n.box.alignTo(t,"center"),n.reflow(n.box))}},e.prototype._shrinkElements=function(){for(var t=this,e=this,n=e.scale,r=e.pointers,o=n.box.clone(),i=n.options.vertical?"y":"x",s=r[0].box,a=0;a<r.length;a++)s.wrap(r[a].box.clone());o[i+1]+=Math.max(o[i+1]-s[i+1],0),o[i+2]-=Math.max(s[i+2]-o[i+2],0),n.reflow(o);for(var l=0;l<r.length;l++)r[l].reflow(t.bbox)},e}(Yu);E(fp,{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});var dp=180,vp=Yn.drawing.Arc,yp=Yn.drawing.Path,gp=Yn.drawing.Group,mp=function(t){function e(e,n){t.call(this,0,1,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){var e=f({},this.options,t);return e.majorUnit=e.majorUnit||L(e.min,e.max),e.minorUnit=e.minorUnit||e.majorUnit/10,e},e.prototype.initFields=function(){},e.prototype.render=function(t,e){var n=this.renderArc(t,e);this.bbox=n.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()},e.prototype.reflow=function(t){var e=t.center(),n=Math.min(t.height(),t.width())/2;return Xr(this.bbox)?(this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels(),void 0):this.render(e,n)},e.prototype.slotAngle=function(t){var e,n=this.options,r=n.min,o=n.max,i=n.reverse,s=n.startAngle,a=n.endAngle,l=a-s;return e=i?a-(t-r)/(o-r)*l:(t-r)/(o-r)*l+s,e+dp},e.prototype.hasRanges=function(){var t=this.options.ranges;return t&&t.length},e.prototype.ticksSize=function(){var t=this.options,e=t.majorTicks,n=t.minorTicks,r=0;return e.visible&&(r=e.size),n.visible&&(r=Math.max(n.size,r)),r},e.prototype.labelsCount=function(){var e=t.prototype.labelsCount.call(this),n=this.options,r=n.endAngle-n.startAngle;return r>=360&&n.max%n.majorUnit===0&&(e-=1),e},e.prototype.renderLabels=function(){var t=this,e=this.options,n=this.arc.clone(),r=n.getRadiusX(),o=this.tickAngles(n,e.majorUnit),i=e.rangeSize=e.rangeSize||.1*r,s=new gp,a=.05*r;Xr(e.rangeDistance)?a=e.rangeDistance:e.rangeDistance=a;var l=e.labels,c=l.position===Fu,u=Xr(this.labelElements);c&&(r-=this.ticksSize(),this.hasRanges()&&!u&&(r-=i+a),n.setRadiusX(r).setRadiusY(r));for(var p=this.labels,h=p.length,f=m(l.padding),d=(f.left+f.right)/2,v=(f.top+f.bottom)/2,y=0;y<h;y++){var g=p[y],b=g.box.width()/2,w=g.box.height()/2,_=o[y],x=(_-dp)*zu,k=n.pointAt(_),S=k.x+Math.cos(x)*(b+d)*(c?1:-1),C=k.y+Math.sin(x)*(w+v)*(c?1:-1);g.reflow(new xo(S-b,C-w,S+b,C+w));var O=new Yn.geometry.Point(g.box.x1,g.box.y1),E=void 0;if(u){E=t.labelElements.children[y];var T=E.bbox().origin,M=E.transform()||Yn.geometry.transform();M.translate(O.x-T.x,O.y-T.y),E.transform(M)}else E=Ve(g,e.labels),s.append(E);t.bbox=Yn.geometry.Rect.union(t.bbox,E.bbox())}return s},e.prototype.repositionRanges=function(){var t=this.ranges.children;if(t.length>0){var e=this.options,n=e.rangeDistance,r=e.rangeSize,o=this.getRangeRadius();this.options.labels.position===Fu&&(o+=r+n);for(var i=o+r/2,s=0;s<t.length;s++)t[s]._geometry.setRadiusX(i).setRadiusY(i);this.bbox=Yn.geometry.Rect.union(this.bbox,this.ranges.bbox())}},e.prototype.renderRanges=function(){var t=this,e=this.rangeSegments(),n=e.length,r=new gp;if(n){var o=this.options,i=o.rangeSize,s=o.reverse,a=o.rangeDistance,l=this.getRangeRadius();this.radius(this.radius()-i-a);for(var c=0;c<n;c++){var u=e[c],p=t.slotAngle(u[s?"to":"from"]),h=t.slotAngle(u[s?"from":"to"]);h-p!==0&&r.append(t.createRange(p,h,l,u))}}return r},e.prototype.createRange=function(t,e,n,r){var o=this.options.rangeSize,i=new Yn.geometry.Arc(this.arc.center,{radiusX:n+o/2,radiusY:n+o/2,startAngle:t,endAngle:e});return new vp(i,{stroke:{width:o,color:r.color,opacity:r.opacity,lineCap:r.lineCap}})},e.prototype.rangeSegments=function(){var t=this.options,e=t.ranges||[],n=e.length,r=[];if(n){var o=t.min,i=t.max,s=t.rangePlaceholderColor;r.push(Ge(o,i,s));for(var a=0;a<n;a++)for(var l=He(e[a],o,i),c=r.length,u=0;u<c;u++){var p=r[u];if(p.from<=l.from&&l.from<=p.to){r.push(Ge(l.from,l.to,l.color,l.opacity)),p.from<=l.to&&l.to<=p.to&&r.push(Ge(l.to,p.to,s,l.opacity)),p.to=l.from;break}}}return r},e.prototype.getRangeRadius=function(){var t,e=this,n=e.arc,r=e.options,o=r.rangeSize,i=r.rangeDistance,s=r.majorTicks.size;return t=r.labels.position===Nu?n.getRadiusX()-s-i-o:n.getRadiusX()-o},e.prototype.renderArc=function(t,e){var n=this.options,r=this.arc=new Yn.geometry.Arc(t,{radiusX:e,radiusY:e,startAngle:n.startAngle+dp,endAngle:n.endAngle+dp});return r},e.prototype.renderTicks=function(){var t=this,e=t.arc,n=t.options,r=e.clone();this.majorTickAngles=this.tickAngles(e,n.majorUnit),this.majorTicks=qe(r,this.majorTickAngles,n.majorUnit,n.majorTicks);var o=new gp;o.append(this.majorTicks);var i=n.majorTicks.size,s=n.minorTicks.size;if(this._tickDifference=i-s,n.labels.position===Nu){var a=r.getRadiusX();r.setRadiusX(a-i+s).setRadiusY(a-i+s)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(e,n.minorUnit)),this.minorTicks=qe(r,this.minorTickAngles,n.minorUnit,n.minorTicks),o.append(this.minorTicks),o},e.prototype.normalizeTickAngles=function(t){for(var e=this.options,n=e.majorUnit/e.minorUnit,r=t.length-1;r>=0;r--)r%n===0&&t.splice(r,1);return t},e.prototype.tickAngles=function(t,e){var n=this.options,r=n.reverse,o=n.max-n.min,i=t.endAngle-t.startAngle,s=o/e,a=t.startAngle,l=i/s;r&&(a+=i,l=-l),i>=360&&n.max%e===0&&(s-=1);for(var c=[],u=0;u<s;u++)c.push(ao(a,nr)),a+=l;return ao(a)<=t.endAngle&&c.push(a),c},e.prototype.radius=function(t){return t?(this.arc.setRadiusX(t).setRadiusY(t),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0),void 0):this.arc.getRadiusX()},e.prototype.repositionTicks=function(t,e,n){var r=n?this._tickDifference||0:0,o=this.arc,i=o.getRadiusX();n&&this.options.labels.position===Nu&&0!==r&&(o=this.arc.clone(),o.setRadiusX(i-r).setRadiusY(i-r));for(var s=0;s<t.length;s++){var a=o.pointAt(e[s]),l=t[s].segments,c=a.x-l[0].anchor().x,u=a.y-l[0].anchor().y;t[s].transform((new Yn.geometry.transform).translate(c,u))}},e}(Di);E(mp,{min:0,max:100,majorTicks:{size:15,align:Fu,color:Jn,width:Iu,visible:!0},minorTicks:{size:10,align:Fu,color:Jn,width:Iu,visible:!0},startAngle:-30,endAngle:210,labels:{position:Fu,padding:2}});var bp=function(t){function e(e,n){t.call(this,e,n);var r=this.options;r.duration=Math.max(Math.abs(r.newAngle-r.oldAngle)/r.duration*1e3,1)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.step=function(t){var e=this.options,n=S(e.oldAngle,e.newAngle,t);this.element.transform(Yn.geometry.transform().rotate(n,e.center))},e}(Yn.drawing.Animation);E(bp,{easing:Bu,duration:Mu}),Yn.drawing.AnimationFactory.current.register(Vu,bp);var wp=.05,_p=Yn.drawing.Circle,xp=Yn.drawing.Group,kp=Yn.drawing.Path,Sp=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setAngle=function(t){this.elements.transform(Yn.geometry.transform().rotate(t,this.center))},e.prototype.repaint=function(){var t=this,e=t.scale,n=t.options,r=e.slotAngle(n._oldValue),o=e.slotAngle(n.value);n.animation.transitions===!1?this.setAngle(o):new bp(this.elements,f(n.animation,{oldAngle:r,newAngle:o})).play()},e.prototype.render=function(){var t=this,e=t.scale,n=t.options,r=new xp;return n.animation!==!1&&f(n.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),r.append(this._renderNeedle(),this._renderCap()),this.elements=r,this.setAngle(zu),r},e.prototype.reflow=function(t){var e=this.center=t.center,n=oo(this.options.length||1,.1,1.5),r=this.radius=t.getRadiusX()*n,o=this.capSize=Math.round(r*this.options.cap.size);this.bbox=Yn.geometry.Rect.fromPoints(new Yn.geometry.Point(e.x-o,e.y-o),new Yn.geometry.Point(e.x+o,e.y+o))},e.prototype._renderNeedle=function(){var t=this.scale.options.minorTicks.size,e=this.center,n=this.options.color,r=new kp({fill:{color:n},stroke:{color:n,width:Iu}});return r.moveTo(e.x+this.radius-t,e.y).lineTo(e.x,e.y-this.capSize/2).lineTo(e.x,e.y+this.capSize/2).close(),r},e.prototype._renderCap=function(){var t=this.options,e=t.cap.color||t.color,n=new Yn.geometry.Circle(this.center,this.capSize),r=new _p(n,{fill:{color:e},stroke:{color:e}});return r},e}(tp);E(Sp,{cap:{size:wp},arrow:{width:16,height:14},animation:{type:Vu,duration:Mu}});var Cp=Yn.drawing.Group,Op=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this,n=this.pointers;this.scale.reflow(t),this._initialPlotArea=this.scale.bbox;for(var r=0;r<n.length;r++)n[r].reflow(e.scale.arc),e._initialPlotArea=Yn.geometry.Rect.union(e._initialPlotArea,n[r].bbox);this.fitScale(t),this.alignScale(t),this._buildVisual(this.gaugeArea,n,this.scale),this._draw()},e.prototype._buildVisual=function(t,e,n){var r=this._visuals=new Cp;r.append(t),r.append(n.ticks),r.append(n.ranges),this._buildPointers(e),r.append(n.labelElements)},e.prototype._buildPointers=function(t){for(var e=this,n=0;n<t.length;n++){var r=t[n];r.render(),e._visuals.append(r.elements),r.value(r.options.value)}},e.prototype.fitScale=function(t){for(var e,n,r,o,i,s=this,a=this.scale.arc,l=this._initialPlotArea,c=Math.abs(this.getDiff(l,t)),u=ao(c,nr),p=ao(-c,nr),h=0,f=0;!(!(f++<100)||(h=i===r?h+1:0,h>5)||u!==o&&(e=s.getPlotBox(u,t,a),0<=e&&e<=2)||p!==o&&(r=s.getPlotBox(p,t,a),0<=r&&r<=2)||(o=e>0&&r>0?2*u:e<0&&r<0?2*p:ao((u+p)/2||1,nr),n=s.getPlotBox(o,t,a),0<=n&&n<=2));)i=r,n>0?(p=o,r=n):(u=o,e=n)},e.prototype.getPlotBox=function(t,e,n){var r=this,o=this.scale,i=this.pointers,s=n.getRadiusX(),a=n.clone();a.setRadiusX(s+t).setRadiusY(s+t),o.arc=a,o.reflow(e),this.plotBbox=o.bbox;for(var l=0;l<i.length;l++)i[l].reflow(a),r.plotBbox=Yn.geometry.Rect.union(r.plotBbox,i[l].bbox);return this.getDiff(this.plotBbox,e)},e.prototype.getDiff=function(t,e){return Math.min(e.width()-t.width(),e.height()-t.height())},e.prototype.alignScale=function(t){var e=this,n=this.plotBbox.center(),r=t.center(),o=n.x-r.x,i=n.y-r.y,s=this,a=s.scale,l=s.pointers;a.arc.center.x-=o,a.arc.center.y-=i,a.reflow(t);for(var c=0;c<l.length;c++)l[c].reflow(a.arc),e.plotBbox=Yn.geometry.Rect.union(a.bbox,l[c].bbox)},e.prototype._createModel=function(){var t=this,e=this.options,n=e.pointer,o=this.scale=new mp(e.scale,this.contextService);this.pointers=[];for(var i=r(n)?n:[n],s=0;s<i.length;s++){var a=new Sp(o,f({},i[s],{animation:{transitions:e.transitions}}));t.pointers.push(a)}},e}(Yu);E(Op,{transitions:!0,gaugeArea:{background:""}});var Ep=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.rangeSegments=function(){var t=this.options,e=t.min,n=t.max,r=t.rangePlaceholderColor,o=t.rangeLineCap;return[{from:e,to:n,color:r,lineCap:o}]},e.prototype.hasRanges=function(){return!0},e.prototype.placeholderRangeAngle=function(t){var e=this.ranges.children[0].geometry();this.options.reverse?e.setEndAngle(t):e.setStartAngle(t)},e.prototype.addRange=function(t,e,n){var r=this.options.reverse,o=this.slotAngle(r?e:t),i=this.slotAngle(r?t:e),s=this.createRange(o,i,this.getRangeRadius(),n);return this.ranges.append(s),s},e}(mp);E(Ep,{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});var Tp=800,Mp=function(t){function e(e,n){t.call(this,e,n);var r=this.options,o=Math.abs(r.newAngle-r.oldAngle)/r.duration*1e3;r.duration=oo(o,Mu,Tp);var i=e.elements.options.get("stroke.color"),s=e.currentColor();i!==s&&(this.startColor=new Yn.Color(i),this.color=new Yn.Color(s))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.step=function(t){var e=this,n=e.options,r=e.startColor,o=e.color,i=S(n.oldAngle,n.newAngle,t);if(this.element.angle(i),o){var s=ao(S(r.r,o.r,t)),a=ao(S(r.g,o.g,t)),l=ao(S(r.b,o.b,t));this.element.stroke(new Yn.Color(s,a,l).toHex())}},e}(Yn.drawing.Animation);E(Mp,{easing:Bu,duration:Mu}),Yn.drawing.AnimationFactory.current.register(Hu,Mp);var Pp=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.repaint=function(){var t=this,e=t.scale,n=t.options,r=e.slotAngle(n._oldValue),o=e.slotAngle(n.value);this.animation&&this.animation.abort(),n.animation.transitions===!1?(this.angle(o),this.stroke(this.currentColor())):(this.animation=new Mp(this,f(n.animation,{oldAngle:r,newAngle:o})),this.animation.play())},e.prototype.angle=function(t){var e=this.elements.geometry();this.scale.options.reverse?e.setStartAngle(t):e.setEndAngle(t),this.scale.placeholderRangeAngle(t)},e.prototype.stroke=function(t){this.elements.stroke(t)},e.prototype.render=function(){if(!this.elements){var t=this,e=t.scale,n=t.options;n.animation!==!1&&f(n.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),this.elements=e.addRange(e.options.min,this.options.value,{color:this.currentColor(),opacity:n.opacity,lineCap:e.options.rangeLineCap})}},e.prototype.currentColor=function(){var t=this.scale.options,e=t.min,n=t.max,r=this.options,o=r.colors,i=r.color,s=r.value,a=l(s)?s:e;if(o)for(var c=0;c<o.length;c++){var u=o[c],p=u.color,h=u.from;void 0===h&&(h=e);var f=u.to;if(void 0===f&&(f=n),h<=a&&a<=f)return p}return i},e.prototype.reflow=function(){this.render(),this.bbox=this.elements.bbox()},e}(tp);E(Pp,{animation:{type:Hu,duration:Mu}});var Ap=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initTheme=function(e){t.prototype._initTheme.call(this,e),this.options.color=this.options.color||(this.theme.pointer||{}).color},e.prototype._createModel=function(){var t=this.options,e=this.scale=new Ep(t.scale,this.contextService),n=new Pp(e,f({},{colors:t.colors,color:t.color,value:t.value,opacity:t.opacity,animation:{transitions:t.transitions}}));this.pointers=[n]},e.prototype._buildPointers=function(t){for(var e=0;e<t.length;e++){var n=t[e];n.render(),n.value(n.options.value)}},e.prototype._setValueOptions=function(t){this.options.value=t},e.prototype.currentColor=function(){var t=this.pointers[0];if(t)return t.currentColor()},e.prototype.centerLabelPosition=function(t,e){var n=this.getSize(),r=this.scale.arc.center,o=r.x-t/2,i=r.y-e/2;if(t<n.width){var s=o+t;o=Math.max(o,0),s>n.width&&(o-=s-n.width)}if(e<n.height){var a=this.scale.bbox,l=a.bottomRight().y,c=i+e;i=Math.max(i,a.origin.y),c>l&&(i-=c-l)}return{left:o,top:i}},e}(Op),Dp=90,jp=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._createModel=function(){var e=this.options.scale;"number"!=typeof e.startAngle&&(e.startAngle=Dp),e.endAngle=e.startAngle+360,t.prototype._createModel.call(this)},e}(Ap),Rp=10,Ip=function(t){function e(e){t.call(this),this.setOptions(e),this.initProperties()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){},e.prototype.setOptions=function(t){this.options=Object.assign({},this.options,t),this.quietZoneLength=this.options.addQuietZone?2*this.options.quietZoneLength:0},e.prototype.encode=function(t,e,n){var r=Xr(t)?String(t):t;return this.initValue(r,e,n),this.options.addQuietZone&&this.addQuietZone(),this.addData(),this.options.addQuietZone&&this.addQuietZone(),{baseUnit:this.baseUnit,pattern:this.pattern}},e.prototype.initValue=function(){},e.prototype.addQuietZone=function(){this.pattern.push(this.options.quietZoneLength||Rp)},e.prototype.addData=function(){},e.prototype.invalidCharacterError=function(t){throw new Error('Character "'+t+'" is not valid for symbology '+this.name+".")},e}(Yn.Class);E(Ip,{quietZoneLength:Rp,addQuietZone:!0,addCheckSum:!0});var Lp=Object.assign,zp=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Lp(this,{name:"Code 11",characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221"})},e.prototype.initValue=function(t,e){this.pattern=[],this.value=t,this.width=e,this.totalUnits=0},e.prototype.addData=function(){var t=this,e=this.value;this.addPattern(this.START);for(var n=0;n<e.length;n++)t.addCharacter(e.charAt(n));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()},e.prototype.setBaseUnit=function(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)},e.prototype.addCheckSum=function(){var t=this.value,e=t.length,n=this.getWeightedSum(t,e,this.cCheckSumTotal)%this.checkSumMod;if(this.checksum=String(n),this.addPattern(this.characterMap[n]),e++,e>=this.kCheckSumMinLength){var r=(n+this.getWeightedSum(t,e,this.kCheckSumTotal))%this.checkSumMod;this.checksum+=r,this.addPattern(this.characterMap[r])}},e.prototype.getWeightedSum=function(t,e,n){for(var r=this,o=0,i=0;i<t.length;i++)o+=r.weightedValue(r.getValue(t.charAt(i)),e,i,n);return o},e.prototype.weightedValue=function(t,e,n,r){var o=(e-n)%r||r;return o*t},e.prototype.getValue=function(t){return isNaN(t)?(t!==this.DASH&&this.invalidCharacterError(t),this.DASH_VALUE):parseInt(t,10)},e.prototype.addCharacter=function(t){var e=this.getValue(t),n=this.characterMap[e];this.addPattern(n)},e.prototype.addPattern=function(t){for(var e,n=this,r=0;r<t.length;r++)e=parseInt(t.charAt(r),10),n.pattern.push(e),n.totalUnits+=e},e}(Ip);E(zp,{addCheckSum:!0});var Fp=Object.assign,Bp=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Fp(this,{minBaseUnitLength:.7})},e.prototype.addData=function(){var t=this,e=this.value;this.addStart();for(var n=0;n<e.length;n++)t.addCharacter(e.charAt(n));this.options.addCheckSum&&this.pushCheckSum(),this.addStop(),this.prepareValues()},e.prototype.addCharacter=function(t){var e=this.characterMap[t];e||this.invalidCharacterError(t),this.addBase(e)},e.prototype.addBase=function(){},e}(Ip),Np=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Fp(this,{name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}}})},e.prototype.initValue=function(t,e,n){this.width=e,this.height=n,this.value=t,this.dataLength=t.length,this.pattern=[],this.patternString=""},e.prototype.prepareValues=function(){var t,e=this,n=this.minBaseUnitLength,r=this.minRatio,o=Math.ceil(Math.max(.15*this.width,24)),i=this.maxRatio;if(this.height<o)throw new Error("Insufficient height for Code39 encoding: the current height is "+this.height+"px and the minimum height is "+o+"px.");for(t=this.getBaseUnit(i);t<n&&i>r;)i=parseFloat((i-.1).toFixed(1)),t=e.getBaseUnit(i);if(t<n){var s=Math.ceil(this.getBaseWidth(r)*n);throw new Error("Insufficient width for Code39 encoding: the current width is "+this.width+'px and the minimum width for value "'+this.value+'" is '+s+"px.")}this.ratio=i,this.baseUnit=t,this.patternString=this.patternString.substring(0,this.patternString.length-1),this.pattern=this.pattern.concat(this.patternString.replace(/ratio/g,i).split(this.splitCharacter))},e.prototype.getBaseUnit=function(t){return this.width/this.getBaseWidth(t)},e.prototype.getBaseWidth=function(t){var e=3*(t+2);return this.quietZoneLength+e*(this.dataLength+2)+this.gapWidth*(this.dataLength+1)},e.prototype.addStart=function(){this.addPattern(this.characterMap.START.pattern),this.addCharacterGap()},e.prototype.addBase=function(t){this.addPattern(t.pattern),this.addCharacterGap()},e.prototype.addStop=function(){this.addPattern(this.characterMap.START.pattern)},e.prototype.addPattern=function(t){for(var e=this,n=0;n<t.length;n++)e.patternString+=e.patternMappings[t.charAt(n)]},e.prototype.addCharacterGap=function(){this.patternString+=this.gapWidth+this.splitCharacter},e}(Bp);E(Np,{addCheckSum:!1});var Vp={addCharacter:function(t){this.characterMap[t]?this.addBase(this.characterMap[t]):t.charCodeAt(0)>127?this.invalidCharacterError(t):this.addExtended(t.charCodeAt(0))},addExtended:function(t){for(var e,n=this,r=0;r<this.extendedMappings.length;r++)if(e=n.extendedMappings[r].call(n,t)){for(var o=0;o<e.length;o++){var i=e[o];n.addBase(i)}return void(n.dataLength+=e.length-1)}},extendedMappings:[function(t){if(97<=t&&t<=122)return[this.characterMap[this.shiftCharacters[0]],this.characterMap[String.fromCharCode(t-32)]]},function(t){if(33<=t&&t<=58)return[this.characterMap[this.shiftCharacters[1]],this.characterMap[String.fromCharCode(t+32)]]},function(t){if(1<=t&&t<=26)return[this.characterMap[this.shiftCharacters[2]],this.characterMap[String.fromCharCode(t+64)]]},function(t){var e,n,r=this;if(this.specialAsciiCodes[t]){e=[];for(var o=0;o<this.specialAsciiCodes[t].length;o++)e.push(r.characterMap[r.shiftCharacters[3]]),e.push(r.characterMap[r.specialAsciiCodes[t][o]])}else n=6*Math.floor(t/32)+(t-27)%32+64,e=[this.characterMap[this.shiftCharacters[3]],this.characterMap[String.fromCharCode(n)]];return e}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},Hp=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),f(this,Vp,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})},e}(Np),Wp=Object.assign,Up=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Wp(this,{name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}})},e.prototype.initValue=function(t,e,n){this.value=t,this.width=e,this.height=n,this.pattern=[],this.values=[],this.dataLength=t.length},e.prototype.prepareValues=function(){var t=Math.ceil(Math.max(.15*this.width,24));if(this.height<t)throw new Error("Insufficient height for Code93 encoding: the current height is "+this.height+"px, the minimum required height is "+t+"px.");if(this.setBaseUnit(),this.baseUnit<this.minBaseUnitLength){var e=Math.ceil(this.minBaseUnitLength*(this.width/this.baseUnit));throw new Error("Insufficient width for Code93 encoding: the current width is "+this.width+'px and the minimum required width for value "'+this.value+'" is '+e+"px.")}},e.prototype.setBaseUnit=function(){var t=2;this.baseUnit=this.width/(9*(this.dataLength+2+t)+this.quietZoneLength+1)},e.prototype.addStart=function(){var t=this.characterMap.START.pattern;this.addPattern(t)},e.prototype.addStop=function(){this.addStart(),this.pattern.push(this.characterMap.TERMINATION_BAR)},e.prototype.addBase=function(t){this.addPattern(t.pattern),this.values.push(t.value)},e.prototype.pushCheckSum=function(){var t,e=this,n=this._getCheckValues();this.checksum=n.join("");for(var r=0;r<n.length;r++)t=e.characterMap[e._findCharacterByValue(n[r])],e.addPattern(t.pattern)},e.prototype._getCheckValues=function(){var t,e,n,r=this,o=this.values,i=o.length,s=0;for(n=i-1;n>=0;n--)s+=r.weightedValue(o[n],i-n,r.cCheckSumTotal);for(t=s%this.checkSumMod,s=this.weightedValue(t,1,this.kCheckSumTotal),n=i-1;n>=0;n--)s+=r.weightedValue(o[n],i-n+1,r.kCheckSumTotal);return e=s%this.checkSumMod,[t,e]},e.prototype._findCharacterByValue=function(t){var e=this;for(var n in this.characterMap)if(e.characterMap[n].value===t)return n},e.prototype.weightedValue=function(t,e,n){return(e%n||n)*t},e.prototype.addPattern=function(t){for(var e,n=this,r=0;r<t.length;r++)e=parseInt(t.charAt(r),10),n.pattern.push(e)},e}(Bp),Kp=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),f(this,Vp,{name:"Code 93 extended",pushCheckSum:function(){var t,e=this,n=this._getCheckValues();this.checksum=n.join("");for(var r=0;r<n.length;r++)if(t=n[r],e.shiftValuesAsciiCodes[t])e.addExtended(e.shiftValuesAsciiCodes[t]);else{var o=e._findCharacterByValue(t);e.addPattern(e.characterMap[o].pattern)}}})},e}(Up),qp=/^\d+$/,Gp=Object.assign,$p=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Gp(this,{name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]})},e.prototype.initValue=function(t,e,n){this.height=n,
this.width=e,this.baseHeight=n/2,this.value=t.replace(new RegExp(this.DIGIT_SEPARATOR,"g"),""),this.pattern=[],this.validate(this.value),this.checkSum=0,this.setBaseUnit()},e.prototype.addData=function(){var t=this,e=this.value;this.addPattern(this.START);for(var n=0;n<e.length;n++)t.addCharacter(e.charAt(n));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.START),this.pattern.pop()},e.prototype.addCharacter=function(t){var e=this.characterMap[t];this.checkSum+=parseInt(t,10),this.addPattern(e)},e.prototype.addCheckSum=function(){this.checksum=(10-this.checkSum%10)%10,this.addCharacter(this.checksum)},e.prototype.setBaseUnit=function(){var t=3;this.baseUnit=this.width/(10*(this.value.length+1)+t+this.quietZoneLength)},e.prototype.validate=function(t){if(qp.test(t)||this.invalidCharacterError(t.match(/[^0-9]/)[0]),!k(t.length,this.VALID_CODE_LENGTHS))throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+this.VALID_CODE_LENGTHS.join(",")+".")},e.prototype.addPattern=function(t){for(var e,n=this,r=0;r<t.length;r++)e=n.height-n.baseHeight*t.charAt(r),n.pattern.push({width:1,y1:e,y2:n.height}),n.pattern.push(1)},e}(Ip),Yp=/^\d+$/,Xp=/^[a-z0-9]+$/i,Zp=Object.assign,Jp=function(t){function e(e){t.call(this),this.encoding=e,this.initProperties()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){},e.prototype.addStart=function(){},e.prototype.is=function(){},e.prototype.isCode=function(){return!1},e.prototype.move=function(){},e.prototype.pushState=function(){},e}(Yn.Class),Qp=function(t){function e(e,n){t.call(this,e),this.states=n,this._initMoves(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),f(this,{FNC4:"FNC4",SHIFT:98})},e.prototype.addStart=function(){this.encoding.addPattern(this.START)},e.prototype.is=function(t,e){var n=t.charCodeAt(e);return this.isCode(n)},e.prototype.move=function(t){for(var e=0;!this._moves[e].call(this,t)&&e<this._moves.length;)e++},e.prototype.pushState=function(t){var e,n=this,r=this.states,o=t.value,i=o.length;if(k("C",r)){var s=o.substr(t.index).match(/\d{4,}/g);s&&(i=o.indexOf(s[0],t.index))}for(;(e=t.value.charCodeAt(t.index))>=0&&this.isCode(e)&&t.index<i;)n.encoding.addPattern(n.getValue(e)),t.index++},e.prototype._initMoves=function(t){this._moves=[],k(this.FNC4,t)&&this._moves.push(this._moveFNC),k(this.shiftKey,t)&&this._moves.push(this._shiftState),this._moves.push(this._moveState)},e.prototype._moveFNC=function(t){if(t.fnc)return t.fnc=!1,t.previousState===this.key},e.prototype._shiftState=function(t){if(t.previousState===this.shiftKey&&(t.index+1>=t.value.length||this.encoding[this.shiftKey].is(t.value,t.index+1)))return this.encoding.addPattern(this.SHIFT),t.shifted=!0,!0},e.prototype._moveState=function(){return this.encoding.addPattern(this.MOVE),!0},e}(Jp),th={};th.A=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Zp(this,{key:"A",shiftKey:"B",MOVE:101,START:103})},e.prototype.isCode=function(t){return 0<=t&&t<96},e.prototype.getValue=function(t){return t<32?t+64:t-32},e}(Qp),th.B=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Zp(this,{key:"B",shiftKey:"A",MOVE:100,START:104})},e.prototype.isCode=function(t){return 32<=t&&t<128},e.prototype.getValue=function(t){return t-32},e}(Qp),th.C=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Zp(this,{key:"C",MOVE:99,START:105})},e.prototype.addStart=function(){this.encoding.addPattern(this.START)},e.prototype.is=function(t,e){var n=$e(t,e,4);return(e+4<=t.length||2===t.length)&&Yp.test(n)},e.prototype.move=function(){this.encoding.addPattern(this.MOVE)},e.prototype.pushState=function(t){for(var e,n=this;(e=$e(t.value,t.index,2))&&Yp.test(e)&&2===e.length;)n.encoding.addPattern(parseInt(e,10)),t.index+=2},e.prototype.getValue=function(t){return t},e}(Jp),th.FNC4=function(t){function e(e,n){t.call(this,e),this._initSubStates(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Zp(this,{key:"FNC4",dependentStates:["A","B"]})},e.prototype.addStart=function(t){var e=t.value.charCodeAt(0)-128,n=this._getSubState(e);this.encoding[n].addStart()},e.prototype.is=function(t,e){var n=t.charCodeAt(e);return this.isCode(n)},e.prototype.isCode=function(t){return 128<=t&&t<256},e.prototype.pushState=function(t){var e,n=this,r=this._initSubState(t),o=this.encoding,i=r.value.length;if(t.index+=i,i<3)for(;r.index<i;r.index++)e=r.value.charCodeAt(r.index),r.state=n._getSubState(e),r.previousState!==r.state&&(r.previousState=r.state,o[r.state].move(r)),o.addPattern(o[r.state].MOVE),o.addPattern(o[r.state].getValue(e));else r.state!==r.previousState&&o[r.state].move(r),this._pushStart(r),o.pushData(r,this.subStates),t.index<t.value.length&&this._pushStart(r);t.fnc=!0,t.state=r.state},e.prototype._pushStart=function(t){this.encoding.addPattern(this.encoding[t.state].MOVE),this.encoding.addPattern(this.encoding[t.state].MOVE)},e.prototype._initSubState=function(t){var e={value:this._getAll(t.value,t.index),index:0};return e.state=this._getSubState(e.value.charCodeAt(0)),e.previousState=t.previousState===this.key?e.state:t.previousState,e},e.prototype._initSubStates=function(t){var e=this;this.subStates=[];for(var n=0;n<t.length;n++)k(t[n],e.dependentStates)&&e.subStates.push(t[n])},e.prototype._getSubState=function(t){for(var e=this,n=0;n<this.subStates.length;n++)if(e.encoding[e.subStates[n]].isCode(t))return e.subStates[n]},e.prototype._getAll=function(t,e){for(var n,r="",o=e;(n=t.charCodeAt(o++))&&this.isCode(n);)r+=String.fromCharCode(n-128);return r},e}(Jp),th.FNC1=function(t){function e(e,n){t.call(this,e),this.states=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Zp(this,{key:"FNC1",startState:"C",startAI:"(",endAI:")",dependentStates:["C","B"],applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102})},e.prototype.addStart=function(){this.encoding[this.startState].addStart()},e.prototype.is=function(){return k(this.key,this.states)},e.prototype.pushState=function(t){var e,n,r,o=this,i=this.encoding,s=t.value.replace(/\s/g,""),a=new RegExp("["+this.startAI+this.endAI+"]","g"),l=t.index,c={state:this.startState};i.addPattern(this.START);for(var u=!0;u;){if(c.index=0,r=s.charAt(l)===o.startAI?2:0,e=r>0?o.getBySeparator(s,l):o.getByLength(s,l),e.ai.length)n=l+r+e.id.length+e.ai.length;else if(n=s.indexOf(o.startAI,l+1),n<0){if(l+e.ai.max+e.id.length+r<s.length)throw new Error("Separators are required after variable length identifiers");n=s.length}if(c.value=s.substring(l,n).replace(a,""),o.validate(e,c.value),i.pushData(c,o.dependentStates),n>=s.length)break;l=n,c.state!==o.startState&&(i[o.startState].move(c),c.state=o.startState),e.ai.length||i.addPattern(o.START)}t.index=t.value.length},e.prototype.validate=function(t,e){var n=e.substr(t.id.length),r=t.ai;if(!r.type&&!Yp.test(n))throw new Error("Application identifier "+t.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"===r.type&&!Xp.test(n))throw new Error("Application identifier "+t.id+" is alphanumeric only but contains non alphanumeric character(s).");if(r.length&&r.length!==n.length)throw new Error("Application identifier "+t.id+" must be "+r.length+" characters long.");if(r.min&&r.min>n.length)throw new Error("Application identifier "+t.id+" must be at least "+r.min+" characters long.");if(r.max&&r.max<n.length)throw new Error("Application identifier "+t.id+" must be at most "+r.max+" characters long.")},e.prototype.getByLength=function(t,e){for(var n,r,o=this,i=2;i<=4;i++)if(n=$e(t,e,i),r=o.getApplicationIdentifier(n)||o.getApplicationIdentifier(n.substring(0,n.length-1)))return{id:n,ai:r};this.unsupportedAIError(n)},e.prototype.unsupportedAIError=function(t){throw new Error("'"+t+"' is not a supported Application Identifier")},e.prototype.getBySeparator=function(t,e){var n=t.indexOf(this.startAI,e),r=t.indexOf(this.endAI,n),o=t.substring(n+1,r),i=this.getApplicationIdentifier(o)||this.getApplicationIdentifier(o.substr(o.length-1));return i||this.unsupportedAIError(o),{ai:i,id:o}},e.prototype.getApplicationIdentifier=function(t){var e=this.applicationIdentifiers,n=e.multiKey;if(e[t])return e[t];for(var r=0;r<n.length;r++){if(n[r].ids&&k(t,n[r].ids))return n[r].type;if(n[r].ranges)for(var o=n[r].ranges,i=0;i<o.length;i++)if(o[i][0]<=t&&t<=o[i][1])return n[r].type}},e}(Jp);var eh=function(t){function e(e){t.call(this,e),this._initStates()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Zp(this,{characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106})},e.prototype._initStates=function(){for(var t=this,e=0;e<this.states.length;e++)t[t.states[e]]=new th[t.states[e]](t,t.states)},e.prototype.initValue=function(t,e,n){this.pattern=[],this.value=t,this.width=e,this.height=n,this.checkSum=0,this.totalUnits=0,this.index=0,this.position=1},e.prototype.addData=function(){var t={value:this.value,index:0,state:""};0!==this.value.length&&(t.state=t.previousState=this.getNextState(t,this.states),this.addStart(t),this.pushData(t,this.states),this.addCheckSum(),this.addStop(),this.setBaseUnit())},e.prototype.pushData=function(t,e){for(var n=this,r=!0;r&&(n[t.state].pushState(t),!(t.index>=t.value.length));)if(t.shifted){var o=t.state;t.state=t.previousState,t.previousState=o,t.shifted=!1}else t.previousState=t.state,t.state=n.getNextState(t,e),n[t.state].move(t)},e.prototype.addStart=function(t){this[t.state].addStart(t),this.position=1},e.prototype.addCheckSum=function(){this.checksum=this.checkSum%103,this.addPattern(this.checksum)},e.prototype.addStop=function(){this.addPattern(this.STOP)},e.prototype.setBaseUnit=function(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)},e.prototype.addPattern=function(t){for(var e,n=this,r=this.characterMap[t].toString(),o=0;o<r.length;o++)e=parseInt(r.charAt(o),10),n.pattern.push(e),n.totalUnits+=e;this.checkSum+=t*this.position++},e.prototype.getNextState=function(t,e){for(var n=this,r=0;r<e.length;r++)if(n[e[r]].is(t.value,t.index))return e[r];this.invalidCharacterError(t.value.charAt(t.index))},e}(Ip),nh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Zp(this,{name:"Code 128 A",states:["A"]})},e}(eh),rh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Zp(this,{name:"Code 128 B",states:["B"]})},e}(eh),oh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Zp(this,{name:"Code 128 C",states:["C"]})},e}(eh),ih=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Zp(this,{name:"Code 128",states:["C","B","A","FNC4"]})},e}(eh),sh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Zp(this,{name:"Code GS1-128",states:["FNC1","C","B"]})},e}(eh),ah=Object.assign,lh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),ah(this,{characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:"",checkSums:fh})},e.prototype.initValue=function(t,e){this.pattern=[],this.value=t,this.checkSumLength=0,this.width=e},e.prototype.setBaseUnit=function(){var t=7;this.baseUnit=this.width/(12*(this.value.length+this.checkSumLength)+this.quietZoneLength+t)},e.prototype.addData=function(){var t=this,e=this.value;this.addPattern(this.START);for(var n=0;n<e.length;n++)t.addCharacter(e.charAt(n));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()},e.prototype.addCharacter=function(t){var e=this.characterMap[t];e||this.invalidCharacterError(t),this.addPattern(e)},e.prototype.addPattern=function(t){for(var e=this,n=0;n<t.length;n++)e.pattern.push(parseInt(t.charAt(n),10))},e.prototype.addCheckSum=function(){var t=this,e=this.checkSums[this.checkSumType],n=e.call(this.checkSums,this.value);this.checksum=n.join("");for(var r=0;r<n.length;r++)t.checkSumLength++,t.addPattern(t.characterMap[n[r]])},e}(Ip),ch=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),ah(this,{name:"MSI Modulo10",checkSumType:"Modulo10"})},e}(lh),uh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),ah(this,{name:"MSI Modulo11",checkSumType:"Modulo11"})},e}(lh),ph=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),ah(this,{name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"})},e}(lh),hh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),ah(this,{name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"})},e}(lh),fh={Modulo10:function(t){var e,n,r,o=[0,""],i=t.length%2;for(e=0;e<t.length;e++)o[(e+i)%2]+=parseInt(t.charAt(e),10);for(r=o[0],n=(2*o[1]).toString(),e=0;e<n.length;e++)r+=parseInt(n.charAt(e),10);return[(10-r%10)%10]},Modulo11:function(t){for(var e,n,r=0,o=11,i=t.length,s=0;s<i;s++)e=((i-s)%6||6)+1,r+=e*t.charAt(s);return n=(o-r%o)%o,10!==n?[n]:[1,0]},Modulo11Modulo10:function(t){var e,n=this.Modulo11(t);return e=t+n[0],n.concat(this.Modulo10(e))},Modulo10Modulo10:function(t){var e,n=this.Modulo10(t);return e=t+n[0],n.concat(this.Modulo10(e))}},dh=Object.assign,vh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),dh(this,{name:"EAN 13",keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}})},e.prototype.initValue=function(t,e,n){var r=String(t);if(12!==r.length||/\D/.test(r))throw new Error('The value of the "EAN13" encoding should be 12 symbols');this.pattern=[],this.options.height=n,this.baseUnit=e/(95+this.quietZoneLength),this.value=r,this.checksum=this.calculateChecksum(),this.leftKey=r[0],this.leftPart=r.substr(1,6),this.rightPart=r.substr(7)+this.checksum},e.prototype.addData=function(){this.addPieces(this.characterMap.start),this.addSide(this.leftPart,this.leftKey),this.addPieces(this.characterMap.middle),this.addSide(this.rightPart),this.addPieces(this.characterMap.start)},e.prototype.addSide=function(t,e){for(var n=this,r=0;r<t.length;r++)e&&parseInt(n.keyTable[e].charAt(r),10)?n.addPieces(Array.prototype.slice.call(n.characterMap.digits[t.charAt(r)]).reverse(),!0):n.addPieces(n.characterMap.digits[t.charAt(r)],!0)},e.prototype.addPieces=function(t,e){for(var n=this,r=0;r<t.length;r++)e?n.pattern.push({y1:0,y2:.95*n.options.height,width:t[r]}):n.pattern.push(t[r])},e.prototype.calculateChecksum=function(){for(var t=0,e=0,n=this.value.split("").reverse().join(""),r=0;r<n.length;r++)r%2?e+=parseInt(n.charAt(r),10):t+=parseInt(n.charAt(r),10);var o=(10-(3*t+e)%10)%10;return o},e}(Ip),yh=Object.assign,gh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),yh(this,{name:"EAN 8"})},e.prototype.initValue=function(t,e,n){if(7!==t.length||/\D/.test(t))throw new Error("Invalid value provided");this.value=t,this.options.height=n,this.checksum=this.calculateChecksum(this.value),this.leftPart=this.value.substr(0,4),this.rightPart=this.value.substr(4)+this.checksum,this.pattern=[],this.baseUnit=e/(67+this.quietZoneLength)},e}(vh),mh={code11:zp,code39:Np,code39extended:Hp,code93:Up,code93extended:Kp,code128:ih,code128a:nh,code128b:rh,code128c:oh,msimod10:ch,msimod11:uh,msimod1010:ph,msimod1110:hh,postnet:$p,ean8:gh,ean13:vh};mh["gs1-128"]=sh;var bh=300,wh=100,_h=function(t){function e(e,n,r){void 0===r&&(r=I),t.call(this),this.options=f({},this.options,n),this.element=e,this.onError=r,this._initElement(),this._initSurface(),this._setOptions(n),n&&Xr(n.value)&&this.redraw()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this._destroySurface()},e.prototype._initElement=function(){o(this.element,"k-barcode")},e.prototype._initSurface=function(){var t=this,e=t.options,n=t.surface;n&&n.options.type===e.renderAs||(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())},e.prototype._createSurface=function(){return Yn.drawing.Surface.create(this.surfaceElement,{type:this.options.renderAs})},e.prototype._destroySurface=function(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())},e.prototype._initSurfaceElement=function(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))},e.prototype._destroySurfaceElement=function(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)},e.prototype.setOptions=function(t){this._setOptions(t),this.redraw()},e.prototype.redraw=function(){var t=this._getSize();this.surface.clear(),this.surface.setSize({width:t.width,height:t.height}),this.createVisual(),this.surface.draw(this.visual)},e.prototype.getSize=function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},e.prototype._resize=function(){this.redraw()},e.prototype.createVisual=function(){this.visual=this._render()},e.prototype._render=function(){var t,e,n,r=this.options,o=r.value,i=r.text,s=m(i.margin),a=this._getSize(),l=r.border||{},c=this.encoding,u=new xo(0,0,a.width,a.height).unpad(l.width).unpad(r.padding),p=u.height(),h=new Yn.drawing.Group;this.contentBox=u,h.append(this._getBackground(a)),i.visible&&(n=Yn.drawing.util.measureText(o,{font:i.font}).height,p-=n+s.top+s.bottom);try{t=c.encode(o,u.width(),p)}catch(t){return this.onError(t),h}return i.visible&&(e=o,r.checksum&&Xr(c.checksum)&&(e+=" "+c.checksum),h.append(this._getText(e))),this.barHeight=p,this._bandsGroup=this._getBands(t.pattern,t.baseUnit),h.append(this._bandsGroup),h},e.prototype.exportVisual=function(){return this._render()},e.prototype._getSize=function(){var t=this.element,e=t.clientWidth,n=t.clientHeight,r=new Yn.geometry.Size(bh,wh);return e>0&&(r.width=e),n&&(r.height=n),this.options.width&&(r.width=this.options.width),this.options.height&&(r.height=this.options.height),r},e.prototype.value=function t(t){return Xr(t)?(this.options.value=String(t),void this.redraw()):this.options.value},e.prototype._getBands=function(t,e){for(var n,r,o=this,i=this.contentBox,s=i.x1,a=new Yn.drawing.Group,l=0;l<t.length;l++){if(r=d(t[l])?t[l]:{width:t[l],y1:0,y2:o.barHeight},n=r.width*e,l%2){var c=Yn.geometry.Rect.fromPoints(new Yn.geometry.Point(s,r.y1+i.y1),new Yn.geometry.Point(s+n,r.y2+i.y1)),u=Yn.drawing.Path.fromRect(c,{fill:{color:o.options.color},stroke:null});a.append(u)}s+=n}return a},e.prototype._getBackground=function(t){var e=this.options,n=e.border||{},r=new xo(0,0,t.width,t.height).unpad(n.width/2),o=Yn.drawing.Path.fromRect(r.toRect(),{fill:{color:e.background},stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType}});return o},e.prototype._getText=function(t){var e=this.options.text,n=this._textbox=new Fo(t,{font:e.font,color:e.color,align:"center",vAlign:"bottom",margin:e.margin});return n.reflow(this.contentBox),n.renderVisual(),n.visual},e.prototype._setOptions=function(t){if(this.type=(t.type||this.options.type).toLowerCase(),"upca"===this.type&&(this.type="ean13",t.value="0"+t.value),"upce"===this.type&&(this.type="ean8",t.value="0"+t.value),!mh[this.type])throw new Error("Encoding '"+this.type+"' is not supported.");this.encoding=new mh[this.type],this.options=f({},this.options,t)},e}(Yn.Class);E(_h,{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}});var xh=function(t,e,n){return function(r){try{t.encode(n+r,e.width,e.height)}catch(t){return{valid:!1,error:t}}return{valid:!0}}},kh={width:500,height:100},Sh=Object.assign,Ch=function(t){function e(e){t.call(this),this.matrix=e,this.row=e.length-1,this.column=e.length-1,this.startColumn=this.column,this.dir=-1,this.c=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.move=function(){this.row+=this.dir*this.c,this.c^=1,this.column=this.startColumn-this.c},e.prototype.getNextCell=function(){for(var t=this;void 0!==this.matrix[this.row][this.column];)t.move(),(t.row<0||t.row>=t.matrix.length)&&(t.dir=-t.dir,t.startColumn-=8!==t.startColumn?2:3,t.column=t.startColumn,t.row=t.dir<0?t.matrix.length-1:0);return{row:this.row,column:this.column}},e.prototype.getNextRemainderCell=function(){if(this.move(),void 0===this.matrix[this.row][this.column])return{row:this.row,column:this.column}},e}(Yn.Class),Oh=function(t){function e(e,n){t.call(this),this.dataString=e,this.version=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Yn.Class),Eh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getEncodingResult=function(t,e){var n=hn(t),r=fn(n),o=dn(r,e),i=vn(n,o);return new Oh(i,o)},e}(Yn.Class),Th=function(t){function e(){t.call(this),this.initProperties()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){Sh(this,{modeIndicator:"",bitsInCharacterCount:[]})},e.prototype.getVersionIndex=function(t){return t<10?0:t>26?2:1},e.prototype.getBitsCharacterCount=function(t){return this.bitsInCharacterCount[this.getVersionIndex(t||40)]},e.prototype.getModeCountString=function(t,e){return this.modeIndicator+Ze(t,this.getBitsCharacterCount(e))},e.prototype.encode=function(){},e.prototype.getStringBitsLength=function(){},e.prototype.getValue=function(){},e}(Yn.Class),Mh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Sh(this,{bitsInCharacterCount:[10,12,14],modeIndicator:"0001"})},e.prototype.getValue=function(t){return parseInt(t,10)},e.prototype.encode=function(t,e){var n,r=this,o=Xe(t,3),i=r.getModeCountString(t.length,e);for(n=0;n<o.length-1;n++)i+=Ze(o[n],10);return i+Ze(o[n],1+3*o[n].length)},e.prototype.getStringBitsLength=function(t,e){var n=t%3;return 4+this.getBitsCharacterCount(e)+10*Math.floor(t/3)+3*n+(0===n?0:1)},e}(Th),Ph=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Sh(this,{characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010"})},e.prototype.getValue=function(t){return this.characters[t]},e.prototype.encode=function(t,e){var n,r,o=this,i=Xe(t,2),s=this.getModeCountString(t.length,e);for(r=0;r<i.length-1;r++)n=45*o.getValue(i[r].charAt(0))+o.getValue(i[r].charAt(1)),s+=Ze(n,11);return n=2===i[r].length?45*this.getValue(i[r].charAt(0))+this.getValue(i[r].charAt(1)):this.getValue(i[r].charAt(0)),s+Ze(n,1+5*i[r].length)},e.prototype.getStringBitsLength=function(t,e){return 4+this.getBitsCharacterCount(e)+11*Math.floor(t/2)+6*(t%2)},e}(Th),Ah=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Sh(this,{bitsInCharacterCount:[8,16,16],modeIndicator:"0100"})},e.prototype.getValue=function(t){var e=t.charCodeAt(0);if(e<=127||160<=e&&e<=255)return e;throw new Error('Unsupported character in QR Code: "'+t+'".')},e.prototype.encode=function(t,e){for(var n=this,r=n.getModeCountString(t.length,e),o=0;o<t.length;o++)r+=Ze(n.getValue(t.charAt(o)),8);return r},e.prototype.getStringBitsLength=function(t,e){return 4+this.getBitsCharacterCount(e)+8*t},e}(Th),Dh="numeric",jh="alphanumeric",Rh="byte",Ih={};Ih[Dh]=new Mh,Ih[jh]=new Ph,Ih[Rh]=new Ah;var Lh="byte",zh=function(t){function e(){t.call(this),this.initProperties(),this.mode=Ih[this.encodingMode]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){Sh(this,{encodingMode:Lh,utfBOM:"111011111011101110111111",initialModeCountStringLength:20,ranges:[128,2048,65536,2097152,67108864]})},e.prototype.getEncodingResult=function(t,e){var n=this.encode(t),r=this.getDataCodewordsCount(n),o=dn(r,e),i=this.mode.getModeCountString(n.length/8,o)+n;return new Oh(i,o)},e.prototype.getDataCodewordsCount=function(t){var e=t.length,n=Math.ceil((this.initialModeCountStringLength+e)/8);return n},e.prototype.encode=function(t){for(var e=this,n=this.utfBOM,r=0;r<t.length;r++)n+=e.encodeCharacter(t.charCodeAt(r));return n},e.prototype.encodeCharacter=function(t){var e=this.getBytesCount(t),n=e-1,r="";if(1===e)r=Ze(t,8);else{for(var o=8-e,i=0;i<n;i++)r=Ze(t>>6*i&63|128,8)+r;r=(t>>6*n|255>>o<<o).toString(2)+r}return r},e.prototype.getBytesCount=function(t){for(var e=this.ranges,n=0;n<e.length;n++)if(t<e[n])return n+1},e}(Yn.Class),Fh=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22
},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}],Bh="0000",Nh="numeric",Vh="alphanumeric",Hh="byte",Wh={1:0},Uh={0:1},Kh={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},qh=[1,0,1,1,1],Gh=[1,0,1],$h={L:"01",M:"00",Q:"11",H:"10"},Yh="101010000010010",Xh="10100110111",Zh="1111100100101",Jh=["11101100","00010001"],Qh=93,tf=[function(t,e){return(t+e)%2===0},function(t){return t%2===0},function(t){return t%3===0},function(t,e){return(t+e)%3===0},function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2===0},function(t,e){return t*e%2+t*e%3===0},function(t,e){return(t*e%2+t*e%3)%2===0},function(t,e){return((t+e)%2+t*e%3)%2===0}],ef=/^\d+/,nf="A-Z0-9 $%*+./:-",rf="A-Z $%*+./:-",of=new RegExp("^["+rf+"]+"),sf=new RegExp("^["+nf+"]+"),af=new RegExp("^[^"+nf+"]+"),lf=8,cf=5,uf=8,pf=17,hf=9,ff=16,df=[[1,0],[1,25,0]];rn(),an();var vf=Math.round,yf=[[0,1],[1,1],[1,2],[2,2],[2,1],[3,1],[3,0],[2,0],[2,-1],[1,-1],[1,0]],gf=[[0,1],[1,1],[1,0]],mf={DEFAULT_SIZE:200,QUIET_ZONE_LENGTH:4,DEFAULT_ERROR_CORRECTION_LEVEL:"L",DEFAULT_BACKGROUND:"#fff",DEFAULT_DARK_MODULE_COLOR:"#000",MIN_BASE_UNIT_SIZE:1,DEFAULT_LOGO_SIZE:7},bf=function(t){function e(e,n,r){void 0===r&&(r=I),t.call(this),this.options=f({},this.options,n),this.element=e,this.wrapper=this.element,this.onError=r,this._initElement(),this._initSurface(),this.setOptions(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this._destroySurface()},e.prototype._initElement=function(){o(this.element,"k-qrcode")},e.prototype._initSurface=function(){var t=this,e=t.options,n=t.surface;n&&n.options.type===e.renderAs||(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())},e.prototype._createSurface=function(){return Yn.drawing.Surface.create(this.surfaceElement,{type:this.options.renderAs})},e.prototype._destroySurface=function(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())},e.prototype._initSurfaceElement=function(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))},e.prototype._destroySurfaceElement=function(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)},e.prototype.redraw=function(){var t=this._getSize();this.surface.clear(),this.surface.setSize({width:t,height:t}),this.createVisual(),this.surface.draw(this.visual)},e.prototype.getSize=function(){var t=this.element,e=t.clientWidth,n=t.clientHeight,r={width:0,height:0};return e>0&&(r.width=e),n&&(r.height=n),r},e.prototype._resize=function(){this.redraw()},e.prototype.createVisual=function(){this.visual=this._render()},e.prototype.exportVisual=function(){return this._render()},e.prototype._render=function(){var t,e,n,r,o,i,s=this._value,a=this.options.border||{},l=this.options.padding||0,c=a.width||0;a.width=c;var u=new Yn.drawing.Group;try{s&&(n=Rn(s,this.options.errorCorrection,this.options.encoding),r=this._getSize(),i=r-2*(c+l),t=this._calculateBaseUnit(i,n.length),o=n.length*t,e=c+l+(i-o)/2,u.append(this._renderBackground(r,a)),u.append(this._renderMatrix(n,t,e)),this._hasCustomLogo()?u.append(this._renderLogo(r,t)):this._isSwiss()&&u.append(this._renderSwissCode(r,t)))}catch(t){this.onError(t)}return u},e.prototype._renderLogo=function(t,e){var n,r,o=vf(t/2),i=this._getLogoSize(e*mf.DEFAULT_LOGO_SIZE),s=this.options.overlay.imageUrl,a={x:o-i.width/2,y:o-i.height/2};return r=new Yn.geometry.Rect(new Yn.geometry.Point(a.x,a.y),new Yn.geometry.Size(i.width,i.height)),n=new Yn.drawing.Image(s,r)},e.prototype._renderSwissCode=function(t,e){var n=this._getLogoSize(e*mf.DEFAULT_LOGO_SIZE);n=Math.max(n.width,n.height);var r=n/4,o=r/2,i=t/2,s={},a=new Yn.drawing.Group;return s.x=s.y=Math.ceil(i-e-n/2),a.append(this._renderShape(s,Math.ceil(n+2*e),gf,"#fff")),s.x=s.y=i-n/2,a.append(this._renderShape(s,n,gf,this.options.color)),s.x=i+o-n/2,s.y=i+o+r-n/2,a.append(this._renderShape(s,r,yf,"#fff")),a},e.prototype._renderShape=function(t,e,n,r){var o=new Yn.drawing.MultiPath({fill:{color:r},stroke:null});o.moveTo(t.x,t.y);for(var i=0;i<n.length;i++)o.lineTo(t.x+e*n[i][0],t.y+e*n[i][1]);return o.close(),o},e.prototype._getSize=function(){var t;if(this.options.size)t=parseInt(this.options.size,10);else{var e=this.element,n=Math.min(e.clientWidth,e.clientHeight);t=n>0?n:mf.DEFAULT_SIZE}return t},e.prototype._calculateBaseUnit=function(t,e){var n=Math.floor(t/e);if(n<mf.MIN_BASE_UNIT_SIZE){var r=Math.ceil(e*mf.MIN_BASE_UNIT_SIZE);this.onError(new Error("Insufficient size for QR Code: the current size is "+t+"px and the minimum size is "+r+"px."))}else n*e>=t&&n-1>=mf.MIN_BASE_UNIT_SIZE&&n--;return n},e.prototype._renderMatrix=function(t,e,n){for(var r=new Yn.drawing.MultiPath({fill:{color:this.options.color},stroke:null}),o=0;o<t.length;o++)for(var i=n+o*e,s=0;s<t.length;){for(;0===t[o][s]&&s<t.length;)s++;if(s<t.length){for(var a=s;1===t[o][s];)s++;var l=vf(n+a*e),c=vf(i),u=vf(n+s*e),p=vf(i+e);r.moveTo(l,c).lineTo(l,p).lineTo(u,p).lineTo(u,c).close()}}return r},e.prototype._renderBackground=function(t,e){var n=new xo(0,0,t,t).unpad(e.width/2),r=Yn.drawing.Path.fromRect(n.toRect(),{fill:{color:this.options.background},stroke:{color:e.color,width:e.width}});return r},e.prototype.setOptions=function(t){var e=t||{};this.options=Sh(this.options,e),void 0!==t.value&&(this._value=String(this.options.value)),this.redraw()},e.prototype.value=function t(t){return void 0===t?this._value:(this._value=String(t),void this.redraw())},e.prototype._hasCustomLogo=function(){return Boolean(this.options.overlay.imageUrl)},e.prototype._isSwiss=function(){return"swiss"===this.options.overlay.type},e.prototype._getLogoSize=function(t){var e=this.options.overlay.width,n=this.options.overlay.height;return e||n?e&&!n?n=e:!e&&n&&(e=n):e=n=t,{width:e,height:n}},e}(Yn.Class);E(bf,{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:mf.DEFAULT_ERROR_CORRECTION_LEVEL,background:mf.DEFAULT_BACKGROUND,color:mf.DEFAULT_DARK_MODULE_COLOR,size:"",padding:0,border:{color:"",width:0},overlay:{type:"image",imageUrl:"",width:0,height:0}});var wf="ISO_8859_1",_f={a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149},xf={WGS84:_f},kf=Math,Sf=kf.abs,Cf=kf.atan,Of=kf.atan2,Ef=kf.cos,Tf=kf.sin,Mf=kf.tan,Pf=function(t){function e(e,n){t.call(this),this.initProperties(),1===arguments.length?(this.lat=e[0],this.lng=e[1]):(this.lat=e,this.lng=n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){f(this,{DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6}{1:N6}"})},e.prototype.toArray=function(){return[this.lat,this.lng]},e.prototype.equals=function(t){return t&&t.lat===this.lat&&t.lng===this.lng},e.prototype.clone=function(){return new e(this.lat,this.lng)},e.prototype.round=function(t){return this.lng=ao(this.lng,t),this.lat=ao(this.lat,t),this},e.prototype.wrap=function(){return this.lng=this.lng%180,this.lat=this.lat%90,this},e.prototype.distanceTo=function(t,e){return this.greatCircleTo(t,e).distance},e.prototype.destination=function(t,n,r){var o=so(n),i=r||xf.WGS84,s=so(this.lat),a=so(this.lng),l=t/i.a,c=kf.asin(Tf(s)*Ef(l)+Ef(s)*Tf(l)*Ef(o)),u=a+Of(Tf(o)*Tf(l)*Ef(s),Ef(l)-Tf(s)*Tf(c));return new e(Zr(c),Zr(u))},e.prototype.greatCircleTo=function(t,n){var r=this,o=e.create(o),i=n||xf.WGS84;if(!o||this.clone().round(8).equals(o.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};for(var s,a,l,c,u,p,h,f,d=i.a,v=i.b,y=i.f,g=so(o.lng-this.lng),m=Cf((1-y)*Mf(so(this.lat))),b=Tf(m),w=Ef(m),_=Cf((1-y)*Mf(so(o.lat))),x=Tf(_),k=Ef(_),S=g,C=this.DISTANCE_ITERATIONS,O=!1;!O&&C-- >0;){a=Tf(S),l=Ef(S),c=kf.sqrt(Ln(k*a)+Ln(w*x-b*k*l)),p=b*x+w*k*l,f=Of(c,p);var E=w*k*a/c;u=1-Ln(E),h=0,0!==u&&(h=p-2*b*x/u),s=S;var T=y/16*u*(4+y*(4-3*u));S=g+(1-T)*y*E*(f+T*c*(h+T*p*(-1+2*Ln(h)))),O=Sf(S-s)<=r.DISTANCE_CONVERGENCE}var M=u*(Ln(d)-Ln(v))/Ln(v),P=1+M/16384*(4096+M*(-768+M*(320-175*M))),A=M/1024*(256+M*(-128+M*(74-47*M))),D=A*c*(h+A/4*(p*(-1+2*Ln(h))-A/6*h*(-3+4*Ln(c))*(-3+4*Ln(h)))),j=Of(k*a,w*x-b*k*l),R=Of(w*a,-b*k+w*x*l);return{distance:ao(v*P*(f-D),this.DISTANCE_PRECISION),azimuthFrom:Zr(j),azimuthTo:Zr(R)}},e.prototype.toString=function(){return String(this.lat)+","+String(this.lng)},e.fromLngLat=function(t){return new e(t[1],t[0])},e.fromLatLng=function(t){return new e(t[0],t[1])},e.create=function(t,n){if(Xr(t))return t instanceof e?t.clone():1===arguments.length&&2===t.length?e.fromLatLng(t):new e(t,n)},e}(Yn.Class),Af=Math,Df=Af.atan,jf=Af.exp,Rf=Af.pow,If=Af.sin,Lf=Af.log,zf=Af.tan,Ff=Yn.geometry.Point,Bf=Af.PI,Nf=Bf/2,Vf=Bf/4,Hf=Bf/180,Wf=xf.WGS84,Uf=function(t){function e(e){t.call(this),this.initProperties(),this._initOptions(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initOptions=function(t){this.options=f({},this.options,t)},e.prototype.initProperties=function(){f(this,{MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12})},e.prototype.forward=function(t,e){var n=this,r=n.options,o=r.datum,i=o.a,s=r.centralMeridian,a=oo(t.lat,-n.MAX_LAT,n.MAX_LAT),l=e?oo(t.lng,-n.MAX_LNG,n.MAX_LNG):t.lng,c=so(l-s)*i,u=n._projectLat(a);return new Ff(c,u)},e.prototype._projectLat=function(t){var e=this.options.datum,n=e.e,r=e.a,o=so(t),i=zf(Vf+o/2),s=n*If(o),a=Rf((1-s)/(1+s),n/2);return r*Lf(i*a)},e.prototype.inverse=function(t,e){var n=this,r=n.options,o=r.datum,i=o.a,s=r.centralMeridian,a=t.x/(Hf*i)+s,l=oo(n._inverseY(t.y),-n.MAX_LAT,n.MAX_LAT);return e&&(a=oo(a,-n.MAX_LNG,n.MAX_LNG)),new Pf(l,a)},e.prototype._inverseY=function(t){var e,n=this,r=n.options.datum,o=r.a,i=r.e,s=i/2,a=jf(-t/o),l=Nf-2*Df(a);for(e=0;e<=n.INVERSE_ITERATIONS;e++){var c=i*If(l),u=Rf((1-c)/(1+c),s),p=Nf-2*Df(a*u)-l;if(l+=p,Af.abs(p)<=n.INVERSE_CONVERGENCE)break}return Zr(l)},e}(Yn.Class);E(Uf,{centralMeridian:0,datum:Wf});var Kf=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),f(this,{MAX_LAT:85.0511287798})},e.prototype._projectLat=function(t){var e=this.options.datum.a,n=so(t),r=zf(Vf+n/2);return e*Lf(r)},e.prototype._inverseY=function(t){var e=this.options.datum.a,n=jf(-t/e);return Zr(Nf-2*Df(n))},e}(Uf),qf=(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.forward=function(t){return new Ff(t.lng,t.lat)},e.prototype.inverse=function(t){return new Pf(t.y,t.x)},e}(Yn.Class),function(t){function e(){t.call(this);var e=this,n=e._proj=new Kf,r=this.c=2*Bf*n.options.datum.a;this._tm=Yn.geometry.transform().translate(.5,.5).scale(1/r,-1/r),this._itm=Yn.geometry.transform().scale(r,-r).translate(-.5,-.5)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toPoint=function(t,e,n){var r=this._proj.forward(t,n);return r.transform(this._tm).scale(e||1)},e.prototype.toLocation=function(t,e,n){var r=t.clone().scale(1/(e||1)).transform(this._itm);return this._proj.inverse(r,n)},e}(Yn.Class)),Gf=Object.defineProperty,$f=function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild},Yf=function(t,e){var n=document.createElement("div");for(n.innerHTML=t;n.childNodes.length>0;)e.appendChild(n.childNodes[0])},Xf=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},Zf=function(t,e){e.insertBefore(t,e.firstChild)},Jf=function(t,e){for(t.appendChild(e);t.firstChild!==e;)e.appendChild(t.firstChild)},Qf=function(t){var e=t.replace(/([a-z][A-Z])/g,function(t){return t.charAt(0)+"-"+t.charAt(1).toLowerCase()});return e},td=function(t){var e;return e=t&&String(t).endsWith("px")?t:String(t)+"px"},ed=function(t){var e,n=!1,r=[],o={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},i={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},s={tablet:/playbook|ipad|fire/i},a={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var l in o)if(o.hasOwnProperty(l)&&(r=t.match(o[l]))){if("windows"===l&&"plugins"in navigator)return!1;n={},n.device=l,n.tablet=zn(l,s,!1),n.browser=zn(t,a,"default"),n.name=zn(l,i),n[n.name]=!0,n.majorVersion=r[2],n.minorVersion=(r[3]||"0").replace("_","."),e=n.minorVersion.replace(".","").substr(0,2),n.flatVersion=n.majorVersion+e+new Array(3-(e.length<3?e.length:2)).join("0");break}return n},nd=function(t){var e=ed(t);return e.ios||e.android},rd=function(t){var e=!1,n=[],r={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var o in r)if(r.hasOwnProperty(o)&&(n=t.match(r[o]))){e={},e[o]=!0,e[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||n[2],10);break}return e},od=function(){var t={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},e=id();return e.touch&&(e.mobileOS.ios||e.mobileOS.android)?t={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:e.pointers?t={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:e.msPointers&&(t={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),t},id=function(){var t=ed(navigator.userAgent),e=rd(navigator.userAgent),n=e.chrome,r=e.crios,o=e.mozilla,i=e.safari,s={};s.mobileOS=t,s.touch="ontouchstart"in window,s.pointers=!n&&!r&&!o&&!i&&window.PointerEvent,s.msPointers=!n&&window.MSPointerEvent,s.mouseAndTouchPresent=s.touch&&!(s.mobileOS.ios||s.mobileOS.android),s.eventCapture=document.documentElement.addEventListener;var a=document.createElement("table"),l=s.transitions=!1,c=s.transforms=!1,u="string";return["Moz","webkit","O","ms"].forEach(function(t){var e=typeof a.style[t+"Transition"]===u;if(e||typeof a.style[t+"Transform"]===u){var n=t.toLowerCase();return c={css:"ms"!==n?"-"+n+"-":"",prefix:t,event:"o"===n||"webkit"===n?n:""},e&&(l=c,l.event=l.event?l.event+"TransitionEnd":"transitionend"),!1}}),a=null,s.transforms=c,s.transitions=l,s.delayedClick=function(){if(s.touch){if(s.mobileOS.ios)return!0;if(s.mobileOS.android){if(!s.browser.chrome)return!0;if(s.browser.version<32)return!1;var t=document.querySelector("meta[name=viewport]"),e=t?t.getAttribute("content"):"";return!e.match(/user-scalable=no/i)}}return!1},s},sd=function(t,e){if(!e)return!1;for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1},ad=function(t,e){return t===e||sd(t,e)},ld=function(t,e){return t.bind(e)},cd=function(t,e,n,r,o){ud(t,e,n,r,o)},ud=function(t,e,n,o,i){var s=r(e)?e:(e||"").split(" ");s.forEach(function(e){pd(t,e,n,o,i)})},pd=function(t,e,n,r,o){var i,s=r;n&&p(n)&&!r?s=n:n&&Fn(n)&&p(s)&&(i=n),t.addEventListener(e,function(e){var n=e.target?e.target.closest(i):null;if(!i||i&&e.target&&n){var r=i?n:e.currentTarget;Gf(e,"currentTarget",{value:r}),Gf(e,"delegateTarget",{value:t}),s(e)}},Boolean(o))},hd=function(t,e,n,r,o){fd(t,e,n,r,o)},fd=function(t,e,n,o){var i=r(e)?e:(e||"").split(" ");i.forEach(function(e){dd(t,e,n,o)})},dd=function(t,e,n,r){t.removeEventListener(e,n,Boolean(r))},vd=od(navigator.userAgent),yd=/([^ ]+)/g,gd=function(t){var e=t.replace(yd,Bn);return e},md=function(t,e){var n=t.prototype;n.events?e.forEach(function(t){n.events.indexOf(t)<0&&n.events.push(t)}):n.events=e},bd=function(t){var e,n=t.originalEvent||t,r=n.wheelDeltaY;return n.wheelDelta?(void 0===r||r)&&(e=n.wheelDelta):n.detail&&n.axis===n.VERTICAL_AXIS&&(e=10*-n.detail),e},wd=function(){return Number(new Date)},_d=function(){},xd="string",kd="function",Sd=function(){this._defaultPrevented=!0},Cd=function(){return this._defaultPrevented===!0},Od=function(t){function e(){t.call(this),this._events={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.unbind()},e.prototype.bind=function(t,e,n){var r,o,i,s,a,l=this,c=typeof t===xd?[t]:t||[],u=typeof e===kd;if(void 0===e){for(r in t)l.bind(r,t[r]);return l}var p=function(){var t=c[r];s=u?e:e[t],s&&(n&&(i=s,s=function(){l.unbind(t,s),i.apply(l,arguments)},s.original=i),a=l._events[t]=l._events[t]||[],a.push(s))};for(r=0,o=c.length;r<o;r++)p();return l},e.prototype.one=function(t,e){return this.bind(t,e,!0)},e.prototype.first=function(t,e){var n,r,o,i,s=this,a=typeof t===xd?[t]:t,l=typeof e===kd;for(n=0,r=a.length;n<r;n++){var c=a[n];o=l?e:e[c],o&&(i=s._events[c]=s._events[c]||[],i.unshift(o))}return s},e.prototype.trigger=function(t,e){var n,r,o=this,i=o._events[t];if(i){var s=e||{};for(s.sender=o,s._defaultPrevented=!1,s.preventDefault=Sd,s.isDefaultPrevented=Cd,i=i.slice(),n=0,r=i.length;n<r;n++)i[n].call(o,s);return s._defaultPrevented===!0}return!1},e.prototype.unbind=function(t,e){var n,r=this,o=r._events[t];if(void 0===t)r._events={};else if(o)if(e)for(n=o.length-1;n>=0;n--)o[n]!==e&&o[n].original!==e||o.splice(n,1);else r._events[t]=[];return r},e.prototype._setEvents=function(t){for(var e=this,n=(this.events||[]).length,r=0;r<n;r++){var o=e.events[r];e.options[o]&&t[o]&&(e.unbind(o,e.options[o]),e._events&&e._events[o]&&delete e._events[o])}this.bind(this.events,t)},e}(Yn.Class),Ed=Nr.compile,Td=function(t){function e(e,n){t.call(this),this.element=e,this._initOptions(n),this.items=[],o(this.element,"k-widget k-attribution")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initOptions=function(t){this.options=f({},this.options,t)},e.prototype.filter=function(t,e){this._extent=t,this._zoom=e,this._render()},e.prototype.add=function(t){var e=t;Xr(t)&&("string"==typeof t&&(e={text:t}),this.items.push(e),this._render())},e.prototype.remove=function(t){for(var e=this,n=[],r=0;r<this.items.length;r++){var o=e.items[r];o.text!==t&&n.push(o)}this.items=n,this._render()},e.prototype.clear=function(){this.items=[],Xf(this.element)},e.prototype._render=function(){for(var t=this,e=[],n=Ed(this.options.itemTemplate),r=0;r<this.items.length;r++){var o=t.items[r],i=t._itemText(o);""!==i&&e.push(n({text:i}))}if(e.length>0){Xf(this.element);var s=e.join(this.options.separator);Yf(s,this.element),this.showElement()}else this.hideElement()},e.prototype.hideElement=function(){this.element.style.display="none"},e.prototype.showElement=function(){this.element.style.display=""},e.prototype._itemText=function(t){var e="",n=this._inZoomLevel(t.minZoom,t.maxZoom),r=this._inArea(t.extent);return n&&r&&(e+=t.text),e},e.prototype._inZoomLevel=function(t,e){var n=!0,r=co(t,-Number.MAX_VALUE),o=co(e,Number.MAX_VALUE);return n=this._zoom>r&&this._zoom<o},e.prototype._inArea=function(t){var e=!0;return t&&(e=t.contains(this._extent)),e},e}(Od);E(Td,{name:"Attribution",separator:"&nbsp;|&nbsp;",itemTemplate:"#= text #"});var Md="pan",Pd={up:{className:"k-navigator-n",iconClass:"k-i-arrow-n"},down:{className:"k-navigator-s",iconClass:"k-i-arrow-s"},right:{className:"k-navigator-e",iconClass:"k-i-arrow-e"},left:{className:"k-navigator-w",iconClass:"k-i-arrow-w"}},Ad=function(t){function e(e,n){t.call(this),this.element=e,this._initOptions(n);var r=Nn("up"),i=Nn("right"),s=Nn("down"),a=Nn("left");this.element.appendChild(r),this.element.appendChild(i),this.element.appendChild(s),this.element.appendChild(a),o(this.element,"k-widget k-navigator"),cd(this.element,"click",".k-button",ld(this._click,this));var l=this.element.parentNode.closest("[data-role]");this._keyroot=l?l:this.element,this._tabindex(this._keyroot),this._keydownHandler=ld(this._keydown,this),cd(this._keyroot,"keydown",this._keydownHandler)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.dispose()},e.prototype.dispose=function(){hd(this._keyroot,"keydown",this._keydownHandler)},e.prototype._tabindex=function(t){var e=t||this.wrapper||this.element,n=this.element,r="tabindex",o=e.getAttribute(r)||n.getAttribute(r);n.removeAttribute(r),e.setAttribute(r,isNaN(o)?0:o)},e.prototype._initOptions=function(t){this.options=f({},this.options,t)},e.prototype._pan=function(t,e){var n=this.options.panStep;this.trigger(Md,{x:t*n,y:e*n})},e.prototype._click=function(t){var e=0,n=0,r=t.currentTarget;r.matches(".k-navigator-n")?n=1:r.matches(".k-navigator-s")?n=-1:r.matches(".k-navigator-e")?e=1:r.matches(".k-navigator-w")&&(e=-1),this._pan(e,n),t.preventDefault()},e.prototype._keydown=function(t){switch(t.which){case wo.UP:this._pan(0,1),t.preventDefault();break;case wo.DOWN:this._pan(0,-1),t.preventDefault();break;case wo.RIGHT:this._pan(1,0),t.preventDefault();break;case wo.LEFT:this._pan(-1,0),t.preventDefault();
}},e}(Od);E(Ad,{name:"Navigator",panStep:1}),md(Ad,[Md]);var Dd=187,jd=189,Rd=61,Id=173,Ld="change",zd=function(t){function e(e,n){t.call(this),this.element=e,this._initOptions(n);var r=Vn("in","k-i-plus"),i=Vn("out","k-i-minus");this.element.appendChild(r),this.element.appendChild(i),o(this.element,"k-widget k-zoom-control k-button-group k-group-horizontal"),this._clickHandler=this._click.bind(this),cd(this.element,"click",".k-button",this._clickHandler);var s=this.element.parentNode.closest("[data-role]");this._keyroot=s?s:this.element,this._tabindex(this._keyroot),this._keydownHandler=this._keydown.bind(this),cd(this._keyroot,"keydown",this._keydownHandler)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.element&&hd(this.element,"click",this._clickHandler),this._keyroot&&hd(this._keyroot,"keydown",this._keydownHandler)},e.prototype._tabindex=function(t){var e=t||this.wrapper||this.element,n=this.element,r="tabindex",o=e.getAttribute(r)||n.getAttribute(r);n.removeAttribute(r),e.setAttribute(r,isNaN(o)?0:o)},e.prototype._initOptions=function(t){this.options=f({},this.options,t)},e.prototype._change=function(t){var e=this.options.zoomStep;this.trigger(Ld,{delta:t*e})},e.prototype._click=function(t){var e=t.currentTarget,n=1;x(e,"k-zoom-out")&&(n=-1),this._change(n),t.preventDefault()},e.prototype._keydown=function(t){switch(t.which){case wo.NUMPAD_PLUS:case Dd:case Rd:this._change(1);break;case wo.NUMPAD_MINUS:case jd:case Id:this._change(-1)}},e}(Od);E(zd,{name:"ZoomControl",zoomStep:1}),md(zd,[Ld]);var Fd=Math,Bd=Fd.max,Nd=Fd.min,Vd=function(t){function e(e,n){t.call(this);var r=Pf.create(e),o=Pf.create(n);r.lng+180>o.lng+180&&r.lat+90<o.lat+90?(this.se=r,this.nw=o):(this.se=o,this.nw=r)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={World:{}};return e.prototype.contains=function(t){var e=this.nw,n=this.se,r=co(t.lng,t[1]),o=co(t.lat,t[0]);return t&&r+180>=e.lng+180&&r+180<=n.lng+180&&o+90>=n.lat+90&&o+90<=e.lat+90},e.prototype.center=function(){var t=this.nw,e=this.se,n=t.lng+(e.lng-t.lng)/2,r=t.lat+(e.lat-t.lat)/2;return new Pf(r,n)},e.prototype.containsAny=function(t){for(var e=this,n=!1,r=0;r<t.length;r++)n=n||e.contains(t[r]);return n},e.prototype.include=function(t){var e=this.nw,n=this.se,r=co(t.lng,t[1]),o=co(t.lat,t[0]);e.lng=Nd(e.lng,r),e.lat=Bd(e.lat,o),n.lng=Bd(n.lng,r),n.lat=Nd(n.lat,o)},e.prototype.includeAll=function(t){for(var e=this,n=0;n<t.length;n++)e.include(t[n])},e.prototype.edges=function(){var t=this.nw,e=this.se;return{nw:this.nw,ne:new Pf(t.lat,e.lng),se:this.se,sw:new Pf(e.lat,t.lng)}},e.prototype.toArray=function(){var t=this.nw,e=this.se;return[t,new Pf(t.lat,e.lng),e,new Pf(e.lat,t.lng)]},e.prototype.overlaps=function(t){return this.containsAny(t.toArray())||t.containsAny(this.toArray())},e.create=function(t,n){return t instanceof e?t:t&&n?new e(t,n):t&&4===t.length&&!n?new e([t[0],t[1]],[t[2],t[3]]):void 0},n.World.get=function(){return new e([90,-180],[-90,180])},Object.defineProperties(e,n),e}(Yn.Class),Hd=function(t){function e(e,n){t.call(this),this.support=id(),this._initOptions(n),this.map=e;var r=document.createElement("div");o(r,"k-layer"),r.style.zIndex=this.options.zIndex,r.style.opacity=this.options.opacity,this.element=r,e.scrollElement.appendChild(this.element),this._beforeReset=this._beforeReset.bind(this),this._reset=this._reset.bind(this),this._resize=this._resize.bind(this),this._panEnd=this._panEnd.bind(this),this._activate(),this._updateAttribution()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this._deactivate()},e.prototype._initOptions=function(t){this.options=f({},this.options,t)},e.prototype.show=function(){this.reset(),this._activate(),this._applyExtent(!0)},e.prototype.hide=function(){this._deactivate(),this._setVisibility(!1)},e.prototype.reset=function(){this._beforeReset(),this._reset()},e.prototype._reset=function(){this._applyExtent()},e.prototype._beforeReset=function(){},e.prototype._resize=function(){},e.prototype._panEnd=function(){this._applyExtent()},e.prototype._applyExtent=function(){var t=this.options,e=this.map.zoom(),n=!Xr(t.minZoom)||e>=t.minZoom,r=!Xr(t.maxZoom)||e<=t.maxZoom,o=Vd.create(t.extent),i=!o||o.overlaps(this.map.extent());this._setVisibility(n&&r&&i)},e.prototype._setVisibility=function(t){this.element.style.display=t?"":"none"},e.prototype._activate=function(){var t=this.map;this._deactivate(),t.bind("beforeReset",this._beforeReset),t.bind("reset",this._reset),t.bind("resize",this._resize),t.bind("panEnd",this._panEnd)},e.prototype._deactivate=function(){var t=this.map;t.unbind("beforeReset",this._beforeReset),t.unbind("reset",this._reset),t.unbind("resize",this._resize),t.unbind("panEnd",this._panEnd)},e.prototype._updateAttribution=function(){var t=this.map.attribution;t&&t.add(this.options.attribution)},e.prototype._readData=function(){var t=this.options.data||[];return t},e.prototype._hasData=function(){return this._data&&this._data.length>0},e}(Yn.Class),Wd=Math,Ud=Nr.compile,Kd=Yn.geometry.Point,qd=function(t){function e(e,n){t.call(this,e,n),"string"==typeof this.options.subdomains&&(this.options.subdomains=this.options.subdomains.split(""));var r=this._viewType();this._view=new r(this.element,this.options)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){t.prototype.destroy.call(this),this._view.destroy(),this._view=null},e.prototype._beforeReset=function(){var t=this.map,e=t.locationToLayer(t.extent().nw).round();this._view.viewOrigin(e)},e.prototype._reset=function(){t.prototype._reset.call(this),this._updateView(),this._view.reset()},e.prototype._viewType=function(){return Gd},e.prototype._activate=function(){t.prototype._activate.call(this),this.support.mobileOS||(this._pan||(this._pan=Yn.throttle(this._render.bind(this),100)),this.map.bind("pan",this._pan))},e.prototype._deactivate=function(){t.prototype._deactivate.call(this),this._pan&&this.map.unbind("pan",this._pan)},e.prototype._updateView=function(){var t=this._view,e=this.map,n=e.extent(),r={nw:e.locationToLayer(n.nw).round(),se:e.locationToLayer(n.se).round()};t.center(e.locationToLayer(e.center())),t.extent(r),t.zoom(e.zoom())},e.prototype._resize=function(){this._render()},e.prototype._panEnd=function(e){t.prototype._panEnd.call(this,e),this._render()},e.prototype._render=function(){this._updateView(),this._view.render()},e}(Hd);E(qd,{tileSize:256,subdomains:["a","b","c"],urlTemplate:"",zIndex:1});var Gd=function(t){function e(e,n){t.call(this),this.element=e,this._initOptions(n),this.pool=new Yd}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initOptions=function(t){this.options=f({},this.options,t)},e.prototype.center=function t(t){this._center=t},e.prototype.extent=function t(t){this._extent=t},e.prototype.viewOrigin=function(t){this._viewOrigin=t},e.prototype.zoom=function t(t){this._zoom=t},e.prototype.pointToTileIndex=function(t){return new Kd(Wd.floor(t.x/this.options.tileSize),Wd.floor(t.y/this.options.tileSize))},e.prototype.tileCount=function(){var t=this.size(),e=this.pointToTileIndex(this._extent.nw),n=this._extent.nw,r=this.indexToPoint(e).translate(-n.x,-n.y);return{x:Wd.ceil((Wd.abs(r.x)+t.width)/this.options.tileSize),y:Wd.ceil((Wd.abs(r.y)+t.height)/this.options.tileSize)}},e.prototype.size=function(){var t=this._extent.nw,e=this._extent.se,n=e.clone().translate(-t.x,-t.y);return{width:n.x,height:n.y}},e.prototype.indexToPoint=function(t){var e=t.x,n=t.y;return new Kd(e*this.options.tileSize,n*this.options.tileSize)},e.prototype.subdomainText=function(){var t=this.options.subdomains;return t[this.subdomainIndex++%t.length]},e.prototype.destroy=function(){Xf(this.element),this.pool.empty()},e.prototype.reset=function(){this.pool.reset(),this.subdomainIndex=0,this.render()},e.prototype.render=function(){var t,e,n,r=this,o=this.tileCount(),i=this.pointToTileIndex(this._extent.nw);for(e=0;e<o.x;e++)for(n=0;n<o.y;n++)t=r.createTile({x:i.x+e,y:i.y+n}),t.visible||t.show()},e.prototype.createTile=function(t){var e=this.tileOptions(t),n=this.pool.get(this._center,e);return n.element.parentNode||this.element.append(n.element),n},e.prototype.tileOptions=function(t){var e=this.wrapIndex(t),n=this.indexToPoint(t),r=this._viewOrigin,o=n.clone().translate(-r.x,-r.y);return{index:e,currentIndex:t,point:n,offset:Hn(o),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}},e.prototype.wrapIndex=function(t){var e=Wd.pow(2,this._zoom);return{x:this.wrapValue(t.x,e),y:oo(t.y,0,e-1)}},e.prototype.wrapValue=function(t,e){var n=Wd.abs(t)%e,r=t;return r=t>=0?n:e-(0===n?e:n)},e}(Yn.Class),$d=function(t){function e(e,n){t.call(this),this.id=e,this.visible=!0,this._initOptions(n),this.createElement(),this.show()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){var t=this.element,e=t?t.parentNode:null;t&&(e&&e.removeChild(t),this.element=null)},e.prototype._initOptions=function(t){this.options=f({},this.options,t)},e.prototype.createElement=function(){var t=document.createElement("img");o(t,"k-layer"),t.style.position="absolute",t.style.display="block",t.style.width=this.options.size,t.style.height=this.options.size,this.element=t},e.prototype.show=function(){var t=this.element;t.style.top=Wn(this.options.offset.y),t.style.left=Wn(this.options.offset.x);var e=this.url();e&&t.setAttribute("src",e),t.style.visibility="visible",this.visible=!0},e.prototype.hide=function(){this.element.style.visibility="hidden",this.visible=!1},e.prototype.url=function(){var t=Ud(this.options.urlTemplate);return t(this.urlOptions())},e.prototype.errorUrl=function(){var t=Ud(this.options.errorUrlTemplate);return t(this.urlOptions())},e.prototype.urlOptions=function(){var t=this.options;return{zoom:t.zoom,subdomain:t.subdomain,z:t.zoom,x:t.index.x,y:t.index.y,s:t.subdomain,quadkey:t.quadkey,q:t.quadkey,culture:t.culture,c:t.culture}},e}(Yn.Class);E($d,{urlTemplate:"",errorUrlTemplate:""});var Yd=function(t){function e(){t.call(this),this._items=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this._items.length>=this.options.maxSize&&this._remove(t),this._create(e)},e.prototype.empty=function(){for(var t=this._items,e=0;e<t.length;e++)t[e].destroy();this._items=[]},e.prototype.reset=function(){for(var t=this._items,e=0;e<t.length;e++)t[e].hide()},e.prototype._create=function(t){for(var e,n=this._items,r=no(t.point.toString()+t.offset.toString()+t.zoom+t.urlTemplate),o=0;o<n.length;o++)if(n[o].id===r){e=n[o];break}return e?e.show():(e=new $d(r,t),this._items.push(e)),e},e.prototype._remove=function(t){for(var e=this._items,n=-1,r=-1,o=0;o<e.length;o++){var i=e[o].options.point.distanceTo(t);i>n&&!e[o].visible&&(r=o,n=i)}r!==-1&&(e[r].destroy(),e.splice(r,1))},e}(Yn.Class);E(Yd,{maxSize:100});var Xd=Object.assign,Zd="change",Jd=function(t){function e(e,n){t.call(this);var r=this,o=e[0]||e;r.capture=!1;var i=od(navigator.userAgent);o.addEventListener?(i.down.split(" ").forEach(function(t){o.addEventListener(t,ld(r._press,r),!0)}),i.up.split(" ").forEach(function(t){o.addEventListener(t,ld(r._release,r),!0)})):(i.down.split(" ").forEach(function(t){o.attachEvent(t,ld(r._press,r))}),i.up.split(" ").forEach(function(t){o.attachEvent(t,ld(r._release,r))})),r.bind(["press","release"],n||{})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.captureNext=function(){this.capture=!0},e.prototype.cancelCapture=function(){this.capture=!1},e.prototype._press=function(t){var e=this;e.trigger("press"),e.capture&&t.preventDefault()},e.prototype._release=function(t){var e=this;e.trigger("release"),e.capture&&(t.preventDefault(),e.cancelCapture())},e}(Od),Qd=function(t){function e(e){t.call(this);var n=this;n.forcedEnabled=!1,Xd(n,e),n.scale=1,n.horizontal?(n.measure="offsetWidth",n.scrollSize="scrollWidth",n.axis="x"):(n.measure="offsetHeight",n.scrollSize="scrollHeight",n.axis="y")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.makeVirtual=function(){Xd(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},e.prototype.virtualSize=function(t,e){this._virtualMin===t&&this._virtualMax===e||(this._virtualMin=t,this._virtualMax=e,this.update())},e.prototype.outOfBounds=function(t){return t>this.max||t<this.min},e.prototype.forceEnabled=function(){this.forcedEnabled=!0},e.prototype.getSize=function(){return this.container[this.measure]},e.prototype.getTotal=function(){return this.element[this.scrollSize]},e.prototype.rescale=function(t){this.scale=t},e.prototype.update=function(t){var e=this,n=e.virtual?e._virtualMax:e.getTotal(),r=n*e.scale,o=e.getSize();(0!==n||e.forcedEnabled)&&(e.max=e.virtual?-e._virtualMin:0,e.size=o,e.total=r,e.min=Math.min(e.max,o-r),e.minScale=o/n,e.centerOffset=(r-o)/2,e.enabled=e.forcedEnabled||r>o,t||e.trigger(Zd,e))},e}(Od),tv=function(t){function e(e){t.call(this);var n=this;n.x=new Qd(Xd({horizontal:!0},e)),n.y=new Qd(Xd({horizontal:!1},e)),n.container=e.container,n.forcedMinScale=e.minScale,n.maxScale=e.maxScale||100,n.bind(Zd,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.rescale=function(t){this.x.rescale(t),this.y.rescale(t),this.refresh()},e.prototype.centerCoordinates=function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},e.prototype.refresh=function(){var t=this;t.x.update(),t.y.update(),t.enabled=t.x.enabled||t.y.enabled,t.minScale=t.forcedMinScale||Math.min(t.x.minScale,t.y.minScale),t.fitScale=Math.max(t.x.minScale,t.y.minScale),t.trigger(Zd)},e}(Od),ev=function(t){function e(e){t.call(this),Xd(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.outOfBounds=function(){return this.dimension.outOfBounds(this.movable[this.axis])},e.prototype.dragMove=function(t){var e=this,n=e.dimension,r=e.axis,o=e.movable,i=o[r]+t;if(n.enabled){var s=t;(i<n.min&&t<0||i>n.max&&t>0)&&(s*=e.resistance),o.translateAxis(r,s),e.trigger(Zd,e)}},e}(Od),nv=function(t){function e(e){t.call(this);var n,r,o,i,s=this;Xd(s,{elastic:!0},e),o=s.elastic?.5:0,i=s.movable,s.x=n=new ev({axis:"x",dimension:s.dimensions.x,resistance:o,movable:i}),s.y=r=new ev({axis:"y",dimension:s.dimensions.y,resistance:o,movable:i}),s.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(t){s.gesture=t,s.offset=Jr(s.dimensions.container)},press:function(t){var e=t.event.target.closest("a");e&&e.matches("[data-navigate-on-press=true]")&&t.sender.cancel()},gesturechange:function(t){var e,o=s.gesture,a=o.center,l=t.center,c=t.distance/o.distance,u=s.dimensions.minScale,p=s.dimensions.maxScale;i.scale<=u&&c<1&&(c+=.8*(1-c)),i.scale*c>=p&&(c=p/i.scale);var h=i.x+s.offset.left,f=i.y+s.offset.top;e={x:(h-a.x)*c+l.x-h,y:(f-a.y)*c+l.y-f},i.scaleWith(c),n.dragMove(e.x),r.dragMove(e.y),s.dimensions.rescale(i.scale),s.gesture=t,t.preventDefault()},move:function(t){t.event.target.tagName.match(/textarea|input/i)||(n.dimension.enabled||r.dimension.enabled?(n.dragMove(t.x.delta),r.dragMove(t.y.delta),t.preventDefault()):t.touch.skip())},end:function(t){t.preventDefault()}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Yn.Class),rv=function(t,e,n){return"translate3d("+t+"px,"+e+"px,0) scale("+n+")"},ov=function(t){function e(e){t.call(this);var n=this;n.support=id(),this.transformStyle=this.support.transitions.prefix+"Transform",n.element=e,n.element.style.webkitTransformOrigin="left top",n.x=0,n.y=0,n.scale=1;var r=rv(n.x,n.y,n.scale);n.element.style[this.transformStyle]=r,n._saveCoordinates(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.translateAxis=function(t,e){this[t]+=e,this.refresh()},e.prototype.scaleTo=function(t){this.scale=t,this.refresh()},e.prototype.scaleWith=function(t){this.scale*=t,this.refresh()},e.prototype.translate=function(t){this.x+=t.x,this.y+=t.y,this.refresh()},e.prototype.moveAxis=function(t,e){this[t]=e,this.refresh()},e.prototype.moveTo=function(t){Xd(this,t),this.refresh()},e.prototype.refresh=function(){var t,e=this,n=e.x,r=e.y;e.round&&(n=Math.round(n),r=Math.round(r)),t=rv(n,r,e.scale),t!==e.coordinates&&(e.element.style[this.transformStyle]=t,e._saveCoordinates(t),e.trigger(Zd))},e.prototype._saveCoordinates=function(t){this.coordinates=t},e}(Od),iv=Yn.drawing.Group,sv=function(t){function e(e,n){t.call(this,e,n),this._pan=ld(this._pan,this),this.surface=Yn.drawing.Surface.create(this.element,{width:e.scrollElement.clientWidth,height:e.scrollElement.clientHeight}),this._initRoot(),this.movable=new ov(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseenter=this._handler("shapeMouseEnter"),this.surface.bind("mouseenter",this._mouseenter),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){t.prototype.destroy.call(this),this.surface.destroy()},e.prototype._reset=function(){t.prototype._reset.call(this),this._translateSurface(),this._data=this._readData(),this._hasData()&&this._load(this._data)},e.prototype._initRoot=function(){this._root=new iv,this.surface.draw(this._root)},e.prototype._beforeReset=function(){this.surface.clear(),this._initRoot()},e.prototype._resize=function(){this.surface.size(this.map.size())},e.prototype._readData=function(){var e=t.prototype._readData.call(this);return"FeatureCollection"===e.type?e.features:"GeometryCollection"===e.type?e.geometries:e},e.prototype._load=function(t){var e=this;this._data=t,this._clearMarkers(),this._loader||(this._loader=new av(this.map,this.options.style,this));for(var n=new iv,r=0;r<t.length;r++){var o=e._loader.parse(t[r]);o&&n.append(o)}this._root.clear(),this._root.append(n)},e.prototype.shapeCreated=function(t){var e=!1;if(t instanceof Yn.drawing.Circle&&this.map.options.renderPointsAsMarkers&&(e=Xr(this._createMarker(t))),!e){var n={layer:this,shape:t};e=this.map.trigger("shapeCreated",n)}return e},e.prototype.featureCreated=function(t){t.layer=this,this.map.trigger("shapeFeatureCreated",t)},e.prototype._createMarker=function(t){var e=this.map.markers.bind({location:t.location},t.dataItem);return e&&this._markers.push(e),e},e.prototype._clearMarkers=function(){for(var t=this,e=0;e<this._markers.length;e++)t.map.markers.remove(t._markers[e]);this._markers=[]},e.prototype._pan=function(){this._panning||(this._panning=!0,this.surface.suspendTracking())},e.prototype._panEnd=function(e){t.prototype._panEnd.call(this,e),this._translateSurface(),this.surface.resumeTracking(),this._panning=!1},e.prototype._translateSurface=function(){var t=this.map,e=t.locationToView(t.extent().nw);this.surface.translate&&(this.surface.translate(e),this.movable.moveTo({x:e.x,y:e.y}))},e.prototype._handler=function(t){var e=this;return function(n){if(n.element){var r={layer:e,layerIndex:(e.map.layers||[]).indexOf(e),shape:n.element,shapeIndex:(e._data||[]).indexOf(n.element.dataItem),originalEvent:n.originalEvent};e.map.trigger(t,r)}}},e.prototype._activate=function(){t.prototype._activate.call(this),this._panHandler=ld(this._pan,this),this.map.bind("pan",this.panHandler)},e.prototype._deactivate=function(){t.prototype._deactivate.call(this),this.map.unbind("pan",this._panHandler)},e}(Hd);E(sv,{autoBind:!0,zIndex:100});var av=function(t){function e(e,n,r){t.call(this),this.observer=r,this.locator=e,this.style=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parse=function(t){var e=new iv,n=!0;return"Feature"===t.type?(n=!1,this._loadGeometryTo(e,t.geometry,t),this._featureCreated(e,t)):this._loadGeometryTo(e,t,t),n&&e.children.length<2&&(e=e.children[0]),e},e.prototype._shapeCreated=function(t){var e=!1;return this.observer&&this.observer.shapeCreated&&(e=this.observer.shapeCreated(t)),e},e.prototype._featureCreated=function(t,e){this.observer&&this.observer.featureCreated&&this.observer.featureCreated({group:t,dataItem:e,properties:e.properties})},e.prototype._loadGeometryTo=function(t,e,n){var r,o,i=this,s=e.coordinates;switch(e.type){case"LineString":o=this._loadPolygon(t,[s],n),this._setLineFill(o);break;case"MultiLineString":for(r=0;r<s.length;r++)o=i._loadPolygon(t,[s[r]],n),i._setLineFill(o);break;case"Polygon":this._loadPolygon(t,s,n);break;case"MultiPolygon":for(r=0;r<s.length;r++)i._loadPolygon(t,s[r],n);break;case"Point":this._loadPoint(t,s,n);break;case"MultiPoint":for(r=0;r<s.length;r++)i._loadPoint(t,s[r],n)}},e.prototype._setLineFill=function(t){var e=t.segments;(e.length<4||!e[0].anchor().equals(ro(e).anchor()))&&(t.options.fill=null)},e.prototype._loadShape=function(t,e){return this._shapeCreated(e)||t.append(e),e},e.prototype._loadPolygon=function(t,e,n){var r=this._buildPolygon(e);return r.dataItem=n,this._loadShape(t,r)},e.prototype._buildPolygon=function(t){for(var e=this,n=t.length>1?Yn.drawing.MultiPath:Yn.drawing.Path,r=new n(this.style),o=0;o<t.length;o++)for(var i=0;i<t[o].length;i++){var s=e.locator.locationToView(Pf.fromLngLat(t[o][i]));0===i?r.moveTo(s.x,s.y):r.lineTo(s.x,s.y)}return r},e.prototype._loadPoint=function(t,e,n){var r=Pf.fromLngLat(e),o=this.locator.locationToView(r),i=new Yn.geometry.Circle(o,10),s=new Yn.drawing.Circle(i,this.style);return s.dataItem=n,s.location=r,this._loadShape(t,s)},e}(Yn.Class),lv=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._readData=function(){var t=this.options.data||[];return t},e.prototype._load=function(t){var e=this;if(this._data=t,this.surface.clear(),0!==t.length){var n=this.options,r=w(n.valueField),o=t.slice(0);o.sort(function(t,e){return r(e)-r(t)});for(var i,s=this._scaleType(),a=w(this.options.locationField),l=0;l<o.length;l++){var c=o[l],u=a(c),p=r(c);if(Xr(u)&&Xr(p)){i||(i=new s([0,p],[n.minSize,n.maxSize])),u=Pf.create(u);var h=e.map.locationToView(u),f=i.map(p),d=e._createSymbol({center:h,size:f,style:n.style,dataItem:c,location:u});d.dataItem=c,d.location=u,d.value=p,e._drawSymbol(d)}}}},e.prototype._scaleType=function(){var t=this.options.scale;return p(t)?t:uv[t]},e.prototype._createSymbol=function(t){var e=this.options.symbol;return p(e)||(e=pv[e]),e(t)},e.prototype._drawSymbol=function(t){var e={layer:this,shape:t},n=this.map.trigger("shapeCreated",e);n||this.surface.draw(t)},e}(sv);E(lv,{locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle",zIndex:200});var cv=function(t){function e(e,n){t.call(this),this._domain=e,this._range=n;var r=Math.sqrt(e[1])-Math.sqrt(e[0]),o=n[1]-n[0];this._ratio=o/r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t){var e=(Math.sqrt(t)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+e},e}(Yn.Class),uv={sqrt:cv},pv={circle:function(t){var e=new Yn.geometry.Circle(t.center,t.size/2);return new Yn.drawing.Circle(e,t.style)},square:function(t){var e=new Yn.drawing.Path(t.style),n=t.size/2,r=t.center;return e.moveTo(r.x-n,r.y-n).lineTo(r.x+n,r.y-n).lineTo(r.x+n,r.y+n).lineTo(r.x-n,r.y+n).close(),e}},hv="click",fv="mouseenter",dv="mouseleave",vv=Object.assign,yv=".k-marker",gv=document,mv=Math,bv=function(t){function e(e,n){t.call(this,e,n),this._markerClickHandler=ld(this._markerClick,this),cd(this.element,hv,yv,this._markerClickHandler),this.items=[],this._load(this._readData())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){t.prototype.destroy.call(this),hd(this.element,hv,this._markerClickHandler),this.clear()},e.prototype.add=function(t){var e=this;if(!r(t))return this._addOne(t);for(var n=0;n<t.length;n++)e._addOne(t[n])},e.prototype.remove=function(t){t.destroy();var e=(this.items||[]).indexOf(t);e>-1&&this.items.splice(e,1)},e.prototype.clear=function(){for(var t=this,e=0;e<this.items.length;e++)t.items[e].destroy();this.items=[]},e.prototype.update=function(t){var e=t.location();if(e){t.showAt(this.map.locationToView(e));var n={marker:t,layer:this};this.map.trigger("markerActivate",n)}},e.prototype._reset=function(){var e=this;t.prototype._reset.call(this);for(var n=this.items,r=0;r<n.length;r++)e.update(n[r])},e.prototype.bind=function(t,e){var n=wv.create(t,this.options);n.dataItem=e;var r={marker:n,layer:this},o=this.map.trigger("markerCreated",r);if(!o)return this.add(n),n},e.prototype._addOne=function(t){var e=wv.create(t,this.options);return e.addTo(this),e},e.prototype._readData=function(){var t=this.options.data||[];return t},e.prototype._load=function(t){var e=this;this._data=t,this.clear();for(var n=w(this.options.locationField),r=w(this.options.titleField),o=0;o<t.length;o++){var i=t[o];e.bind({location:n(i),title:r(i)},i)}},e.prototype._markerClick=function(t){var e=this.map.layers||[],n=t.target._kendoNode,r={layer:this,layerIndex:e.indexOf(this),marker:n,markerIndex:(this.items||[]).indexOf(n),originalEvent:t};this.map.trigger("markerClick",r)},e.prototype._markerMouseEnter=function(t){var e=this._createMarkerEventArgs(t);this.map.trigger("markerMouseEnter",e)},e.prototype._markerMouseLeave=function(t){var e=this._createMarkerEventArgs(t);this.map.trigger("markerMouseLeave",e)},e.prototype._createMarkerEventArgs=function(t){var e=t.marker,n=vv({},{layer:this,layerIndex:this.map.layers.indexOf(this),marker:e,markerIndex:(this.items||[]).indexOf(e)},t);return n},e}(Hd);E(bv,{zIndex:1e3,autoBind:!0,locationField:"location",titleField:"title"});var wv=function(t){function e(e){t.call(this),this.options=e||{}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.layer=null,this.unbindEvents(),this.hide()},e.prototype.addTo=function(t){this.layer=t.markers||t,this.layer.items.push(this),this.layer.update(this)},e.prototype.location=function(t){return t?(this.options.location=Pf.create(t).toArray(),this.layer&&this.layer.update(this),this):Pf.create(this.options.location)},e.prototype.showAt=function(t){this.render(),this.element.style.left=td(mv.round(t.x)),this.element.style.top=td(mv.round(t.y)),this.tooltip&&this.tooltip.popup&&this.tooltip.popup._position()},e.prototype.hide=function(){this.element&&(this.element.remove(),this.element=null),this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)},e.prototype.bindEvents=function(){this.element&&(this._mouseEnterHandler=ld(this._mouseEnter,this),cd(this.element,fv,yv,this._mouseEnterHandler),this._mouseLeaveHandler=ld(this._mouseLeave,this),cd(this.element,dv,yv,this._mouseLeaveHandler))},e.prototype.unbindEvents=function(){this.element&&(hd(this.element,fv,this._mouseEnterHandler),hd(this.element,dv,this._mouseLeaveHandler))},e.prototype.render=function(){if(!this.element){var t=this.options,e=this.layer,n=gv.createElement("span");o(n,"k-marker k-icon k-i-marker-"+Qf(t.shape||"pin")),n.setAttribute("title",t.title);var r=t.attributes||{};Object.keys(r).forEach(function(t){n.setAttributett(t,r[t])}),n._kendoNode=this,n.style.zIndex=t.zIndex,this.element=n,e&&e.element.appendChild(this.element),this.bindEvents(),this.renderTooltip()}},e.prototype._mouseEnter=function(t){var e=this._createEventArgs(t);this.layer._markerMouseEnter(e)},e.prototype._mouseLeave=function(t){var e=this._createEventArgs(t);this.layer._markerMouseLeave(e)},e.prototype._createEventArgs=function(t){var e={marker:this,originalEvent:t};return e},e.prototype.renderTooltip=function(){},e.create=function(t,n){return t instanceof e?t:new e(f({},n,t))},e}(Yn.Class),_v=Object.assign,xv=function(t){function e(){t.call(this);var e=this;e._tickProxy=ld(e._tick,e),e._started=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.tick=function(){},e.prototype.done=function(){},e.prototype.onEnd=function(){},e.prototype.onCancel=function(){},e.prototype.start=function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,Un(this._tickProxy)))},e.prototype.enabled=function(){return!0},e.prototype.cancel=function(){this._started=!1,this.onCancel()},e.prototype._tick=function(){var t=this;t._started&&(t.tick(),t.done()?(t._started=!1,t.onEnd()):Un(t._tickProxy))},e}(Yn.Class),kv=function(t){function e(e){t.call(this),_v(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.done=function(){return this.timePassed()>=this.duration},e.prototype.timePassed=function(){return Math.min(this.duration,wd()-this.startDate)},e.prototype.moveTo=function(t){var e=this,n=e.movable;e.initial=n[e.axis],e.delta=t.location-e.initial,e.duration="number"==typeof t.duration?t.duration:300,e.tick=e._easeProxy(t.ease),e.startDate=wd(),e.start()},e.prototype._easeProxy=function(t){var e=this;return function(){e.movable.moveAxis(e.axis,t(e.timePassed(),e.initial,e.delta,e.duration))}},e.easeOutExpo=function(t,e,n,r){return t===r?e+n:n*(-Math.pow(2,-10*t/r)+1)+e},e}(xv),Sv=Object.assign,Cv=function(t){t.preventDefault()},Ov=800,Ev=300,Tv=0,Mv="press",Pv="hold",Av="select",Dv="start",jv="move",Rv="end",Iv="cancel",Lv="tap",zv="doubleTap",Fv="release",Bv="gesturestart",Nv="gesturechange",Vv="gestureend",Hv="gesturetap",Wv={api:0,touch:0,mouse:9,pointer:9},Uv=function(t){function e(e,n){t.call(this);var r=this;r.support=id(),r.invalidZeroEvents=this.support.mobileOS&&this.support.mobileOS.android,r.axis=e,r._updateLocationData(n),r.startLocation=r.location,r.velocity=r.delta=0,r.timeStamp=wd()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.move=function(t){var e=this,n=t["page"+e.axis],r=wd(),o=r-e.timeStamp||1;!n&&this.invalidZeroEvents||(e.delta=n-e.location,e._updateLocationData(t),e.initialDelta=n-e.startLocation,e.velocity=e.delta/o,e.timeStamp=r)},e.prototype._updateLocationData=function(t){var e=this,n=e.axis;e.location=t["page"+n],e.client=t["client"+n],e.screen=t["screen"+n]},e}(Yn.Class),Kv=function(t){function e(e,n,r){t.call(this),Sv(this,{x:new Uv("X",r.location),y:new Uv("Y",r.location),type:r.type,useClickAsTap:e.useClickAsTap,threshold:e.threshold||Wv[r.type],userEvents:e,target:n,currentTarget:r.currentTarget,initialTouch:r.target,id:r.id,pressEvent:r,_clicks:e._clicks,supportDoubleTap:e.supportDoubleTap,_moved:!1,_finished:!1})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.press=function(){this._holdTimeout=setTimeout(ld(this._hold,this),this.userEvents.minHold),this._trigger(Mv,this.pressEvent)},e.prototype._tap=function(t){var e=this;e.userEvents._clicks++,1===e.userEvents._clicks&&(e._clickTimeout=setTimeout(function(){1===e.userEvents._clicks?e._trigger(Lv,t):e._trigger(zv,t),e.userEvents._clicks=0},Ev))},e.prototype._hold=function(){this._trigger(Pv,this.pressEvent)},e.prototype.move=function(t){var e=this,n="api"!==t.type&&e.userEvents._shouldNotMove;if(!e._finished&&!n){if(e.x.move(t.location),e.y.move(t.location),!e._moved){if(e._withinIgnoreThreshold())return;if(qv.current&&qv.current!==e.userEvents)return e.dispose();e._start(t)}e._finished||e._trigger(jv,t)}},e.prototype.end=function(t){this.endTime=wd(),this._finished||(this._finished=!0,this._trigger(Fv,t),
this._moved?this._trigger(Rv,t):this.useClickAsTap||(this.supportDoubleTap?this._tap(t):this._trigger(Lv,t)),clearTimeout(this._holdTimeout),this.dispose())},e.prototype.dispose=function(){var t=this.userEvents,e=t.touches||[];this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout);var n=e.indexOf(this);e.splice(n,1)},e.prototype.skip=function(){this.dispose()},e.prototype.cancel=function(){this.dispose()},e.prototype.isMoved=function(){return this._moved},e.prototype._start=function(t){clearTimeout(this._holdTimeout),this.startTime=wd(),this._moved=!0,this._trigger(Dv,t)},e.prototype._trigger=function(t,e){var n=this,r=e.event,o={touch:n,x:n.x,y:n.y,target:n.target,event:r};n.userEvents.notify(t,o)&&r.preventDefault()},e.prototype._withinIgnoreThreshold=function(){var t=this.x.initialDelta,e=this.y.initialDelta;return Math.sqrt(t*t+e*e)<=this.threshold},e}(Yn.Class),qv=function(t){function e(e,n){t.call(this);var r,o=this,i=id();this.support=i,n=n||{},this.options=n,r=o.filter=n.filter,o.threshold=n.threshold||Tv,o.minHold=n.minHold||Ov,o.touches=[],o._maxTouches=n.multiTouch?2:1,o.allowSelection=n.allowSelection,o.captureUpIfMoved=n.captureUpIfMoved,o.useClickAsTap=!n.fastTap&&!i.delayedClick(),o._clicks=0,o.supportDoubleTap=n.supportDoubleTap;var s=!i.touch||i.mouseAndTouchPresent;if(Sv(o,{element:e,surface:n.global&&s?e.ownerDocument.documentElement:n.surface||e,stopPropagation:n.stopPropagation,pressed:!1}),this._surfaceMoveHandler=ld(this._move,this),cd(o.surface,gd("move"),this._surfaceMoveHandler),this._surfaceEndHandler=ld(this._end,this),cd(o.surface,gd("up cancel"),this._surfaceEndHandler),this._elementStartHandler=ld(this._start,this),cd(e,gd("down"),r,this._elementStartHandler),o.useClickAsTap&&(this._elementClickHandler=ld(this._click,this),cd(e,gd("click"),r,this._elementClickHandler)),i.pointers||i.msPointers)if(i.browser.version<11){var a="pinch-zoom double-tap-zoom";e.style["-ms-touch-action"]=n.touchAction&&"none"!==n.touchAction?a+" "+n.touchAction:a}else e.style["touch-action"]=n.touchAction||"none";if(n.preventDragEvent&&(this._elementDragStartHandler=Cv,cd(e,gd("dragstart"),this._elementDragStartHandler)),this._elementSelectHandler=ld(this._select,this),cd(e,gd("mousedown"),r,this._elementSelectHandler),o.captureUpIfMoved&&i.eventCapture){var l=o.surface,c=ld(o.preventIfMoving,o);Gn(function(t){l.addEventListener(t,c,!0)})}o.bind([Mv,Pv,Lv,zv,Dv,jv,Rv,Fv,Iv,Bv,Nv,Vv,Hv,Av],n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventIfMoving=function(t){this._isMoved()&&t.preventDefault()},e.prototype.destroy=function(){var t=this,e=this.options,n=this.element;if(!t._destroyed){if(t._destroyed=!0,t.captureUpIfMoved&&this.support.eventCapture){var r=t.surface;Gn(function(e){r.removeEventListener(e,t.preventIfMoving)})}hd(t.surface,gd("move"),this._surfaceMoveHandler),hd(t.surface,gd("up cancel"),this._surfaceEndHandler),hd(n,gd("down"),this._elementStartHandler),t.useClickAsTap&&hd(n,gd("click"),this._elementClickHandler),e.preventDragEvent&&hd(n,gd("dragstart"),this._elementDragStartHandler),hd(n,gd("mousedown"),this._elementSelectHandler),t._disposeAll(),t.unbind(),delete t.surface,delete t.element,delete t.currentTarget}},e.prototype.capture=function(){e.current=this},e.prototype.cancel=function(){this._disposeAll(),this.trigger(Iv)},e.prototype.notify=function(t,e){var n=this,r=n.touches,o=t;if(this._isMultiTouch()){switch(o){case jv:o=Nv;break;case Rv:o=Vv;break;case Lv:o=Hv}Sv(e,{touches:r},Kn(r[0],r[1]))}return this.trigger(o,Sv(e,{type:o}))},e.prototype.press=function(t,e,n){this._apiCall("_start",t,e,n)},e.prototype.move=function(t,e){this._apiCall("_move",t,e)},e.prototype.end=function(t,e){this._apiCall("_end",t,e)},e.prototype._isMultiTouch=function(){return this.touches.length>1},e.prototype._maxTouchesReached=function(){return this.touches.length>=this._maxTouches},e.prototype._disposeAll=function(){for(var t=this.touches;t.length>0;)t.pop().dispose()},e.prototype._isMoved=function(){return _(this.touches,function(t){return t.isMoved()}).length},e.prototype._select=function(t){this.allowSelection&&!this.trigger(Av,{event:t})||t.preventDefault()},e.prototype._start=function(t){var n,r,o=this,i=0,s=o.filter,a=qn(t),l=a.length,c=t.which;if(!(c&&c>1||o._maxTouchesReached()))for(e.current=null,o.currentTarget=t.currentTarget,o.stopPropagation&&t.stopPropagation();i<l&&!o._maxTouchesReached();i++)r=a[i],n=s?r.currentTarget:o.element,n&&0===n.length||(r=new Kv(o,n,r),o.touches.push(r),r.press(),o._isMultiTouch()&&o.notify("gesturestart",{}))},e.prototype._move=function(t){this._eachTouch("move",t)},e.prototype._end=function(t){this._eachTouch("end",t)},e.prototype._click=function(t){var e={touch:{initialTouch:t.target,target:t.currentTarget,endTime:wd(),x:{location:t.pageX,client:t.clientX},y:{location:t.pageY,client:t.clientY}},x:t.pageX,y:t.pageY,target:t.currentTarget,event:t,type:"tap"};this.trigger("tap",e)&&t.preventDefault()},e.prototype._eachTouch=function(t,e){var n,r,o,i,s=this,a={},l=qn(e),c=s.touches;for(n=0;n<c.length;n++)r=c[n],a[r.id]=r;for(n=0;n<l.length;n++)o=l[n],i=a[o.id],i&&i[t](o)},e.prototype._apiCall=function(t,e,n,r){this[t]({api:!0,pageX:e,pageY:n,clientX:e,clientY:n,target:r||this.element,stopPropagation:_d,preventDefault:_d})},e.defaultThreshold=function(t){Tv=t},e.minHold=function(t){Ov=t},e}(Od),Gv=Object.assign,$v=Math.abs,Yv=500,Xv=.7,Zv=.96,Jv=10,Qv=55,ty=.5,ey=5,ny="pull",ry="change",oy="resize",iy="scroll",sy=2,ay=function(t){function e(e){t.call(this,e);var n=this;Gv(n,e),n.userEvents.bind("gestureend",n.start.bind(this)),n.tapCapture.bind("press",n.cancel.bind(this))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enabled=function(){return this.movable.scale<this.dimensions.minScale},e.prototype.done=function(){return this.dimensions.minScale-this.movable.scale<.01},e.prototype.tick=function(){var t=this.movable;t.scaleWith(1.1),this.dimensions.rescale(t.scale)},e.prototype.onEnd=function(){var t=this.movable;t.scaleTo(this.dimensions.minScale),this.dimensions.rescale(t.scale)},e}(xv),ly=function(t){function e(e){t.call(this);var n=this;Gv(n,e,{transition:new kv({axis:e.axis,movable:e.movable,onEnd:function(){n._end()}})}),n.tapCapture.bind("press",function(){n.cancel()}),n.userEvents.bind("end",ld(n.start,n)),n.userEvents.bind("gestureend",ld(n.start,n)),n.userEvents.bind("tap",ld(n.onEnd,n))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onCancel=function(){this.transition.cancel()},e.prototype.freeze=function(t){var e=this;e.cancel(),e._moveTo(t)},e.prototype.onEnd=function(){var t=this;t.paneAxis.outOfBounds()?t._snapBack():t._end()},e.prototype.done=function(){return $v(this.velocity)<1},e.prototype.start=function(e){var n,r=this;r.dimension.enabled&&(r.paneAxis.outOfBounds()?r.transition._started?(r.transition.cancel(),r.velocity=Math.min(e.touch[r.axis].velocity*r.velocityMultiplier,Qv),t.prototype.start.call(this)):r._snapBack():(n=e.touch.id===sy?0:e.touch[r.axis].velocity,r.velocity=Math.max(Math.min(n*r.velocityMultiplier,Qv),-Qv),r.tapCapture.captureNext(),t.prototype.start.call(this)))},e.prototype.tick=function(){var t=this,e=t.dimension,n=t.paneAxis.outOfBounds()?ty:t.friction,r=t.velocity*=n,o=t.movable[t.axis]+r;!t.elastic&&e.outOfBounds(o)&&(o=Math.max(Math.min(o,e.max),e.min),t.velocity=0),t.movable.moveAxis(t.axis,o)},e.prototype._end=function(){this.tapCapture.cancelCapture(),this.end()},e.prototype._snapBack=function(){var t=this,e=t.dimension,n=t.movable[t.axis]>e.max?e.max:e.min;t._moveTo(n)},e.prototype._moveTo=function(t){this.transition.moveTo({location:t,duration:Yv,ease:kv.easeOutExpo})},e}(xv),cy=function(t){function e(e){t.call(this,e);var n=this;Gv(n,e,{origin:{},destination:{},offset:{}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.tick=function(){this._updateCoordinates(),this.moveTo(this.origin)},e.prototype.done=function(){return $v(this.offset.y)<ey&&$v(this.offset.x)<ey},e.prototype.onEnd=function(){this.moveTo(this.destination),this.callback&&this.callback.call()},e.prototype.setCoordinates=function(t,e){this.offset={},this.origin=t,this.destination=e},e.prototype.setCallback=function(t){t&&p(t)?this.callback=t:t=void 0},e.prototype._updateCoordinates=function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}},e}(xv),uy=function(t){function e(e){t.call(this);var n=this,r="x"===e.axis,o=r?"horizontal":"vertical",i=$f('<div class="km-touch-scrollbar km-'+o+'-scrollbar" />');Gv(n,e,{element:i,elementSize:0,movable:new ov(i),scrollMovable:e.movable,alwaysVisible:e.alwaysVisible,size:r?"width":"height"}),n.scrollMovable.bind(ry,n.refresh.bind(n)),n.container.appendChild(i),e.alwaysVisible&&n.show()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.refresh=function(){var t=this,e=t.axis,n=t.dimension,r=n.size,o=t.scrollMovable,i=r/n.total,s=Math.round(-o[e]*i),a=Math.round(r*i);i>=1?this.element.style.display="none":this.element.style.display="",s+a>r?a=r-s:s<0&&(a+=s,s=0),t.elementSize!==a&&(t.element.style[t.size]=a+"px",t.elementSize=a),t.movable.moveAxis(e,s)},e.prototype.show=function(){this.element.style.opacity=Xv,this.element.style.visibility="visible"},e.prototype.hide=function(){this.alwaysVisible||(this.element.style.opacity=0)},e}(Yn.Class),py=function(t){function e(e,n){t.call(this);var r=this;this.element=e,this._initOptions(n);var i=nd(navigator.userAgent);r._native=r.options.useNative&&i;var s=$f('<div class="km-scroll-header"/>');if(r._native)return o(e,"km-native-scroller"),Zf(s,e),void Gv(r,{scrollElement:e,fixedContainer:e.children[0]});e.style.overflow="hidden",o(e,"km-scroll-wrapper");var a=$f('<div class="km-scroll-container"/>');Jf(e,a),Zf(s,e);var l=e.children[1],c=new Jd(e),u=new ov(l),p=new tv({element:l,container:e,forcedEnabled:r.options.zoom}),h=this.options.avoidScrolling,f=new qv(e,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:r.options.zoom,supportDoubleTap:r.options.supportDoubleTap,start:function(t){p.refresh();var e=$v(t.x.velocity),n=$v(t.y.velocity),o=2*e>=n,i=ad(r.fixedContainer,t.event.target),s=2*n>=e;!i&&!h(t)&&r.enabled&&(p.x.enabled&&o||p.y.enabled&&s)?f.capture():f.cancel()}}),d=new nv({movable:u,dimensions:p,userEvents:f,elastic:r.options.elastic}),v=new ay({movable:u,dimensions:p,userEvents:f,tapCapture:c}),y=new cy({moveTo:function(t){r.scrollTo(t.x,t.y)}});u.bind(ry,function(){r.scrollTop=-u.y,r.scrollLeft=-u.x,r.trigger(iy,{scrollTop:r.scrollTop,scrollLeft:r.scrollLeft})}),r.options.mousewheelScrolling&&(this._wheelScrollHandler=this._wheelScroll.bind(this),cd(e,"DOMMouseScroll mousewheel",this._wheelScrollHandler)),Gv(r,{movable:u,dimensions:p,zoomSnapBack:v,animatedScroller:y,userEvents:f,pane:d,tapCapture:c,pulled:!1,enabled:!0,scrollElement:l,scrollTop:0,scrollLeft:0,fixedContainer:e.children[0]}),r._initAxis("x"),r._initAxis("y"),r._wheelEnd=function(){r._wheel=!1,r.userEvents.end(0,r._wheelY)},p.refresh(),r.options.pullToRefresh&&r._initPullToRefresh()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initOptions=function(t){this.options=f({},this.options,t)},e.prototype._wheelScroll=function(t){if(!t.ctrlKey){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var e=bd(t);e&&(this._wheelY+=e,this.userEvents.move(0,this._wheelY)),t.preventDefault()}},e.prototype.makeVirtual=function(){this.dimensions.y.makeVirtual()},e.prototype.virtualSize=function(t,e){this.dimensions.y.virtualSize(t,e)},e.prototype.height=function(){return this.dimensions.y.size},e.prototype.scrollHeight=function(){return this.scrollElement.scrollHeight},e.prototype.scrollWidth=function(){return this.scrollElement.scrollWidth},e.prototype._resize=function(){this._native||this.contentResized()},e.prototype.setOptions=function(t){var e=this;this._initOptions(t),t.pullToRefresh&&e._initPullToRefresh()},e.prototype.reset=function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},e.prototype.contentResized=function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},e.prototype.zoomOut=function(){var t=this.dimensions;t.refresh(),this._scale(t.fitScale),this.movable.moveTo(t.centerCoordinates())},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.scrollTo=function(t,e){this._native?(this.scrollElement.scrollLeft($v(t)),this.scrollElement.scrollTop($v(e))):(this.dimensions.refresh(),this.movable.moveTo({x:t,y:e}))},e.prototype.animatedScrollTo=function(t,e,n){var r,o;this._native?this.scrollTo(t,e):(r={x:this.movable.x,y:this.movable.y},o={x:t,y:e},this.animatedScroller.setCoordinates(r,o),this.animatedScroller.setCallback(n),this.animatedScroller.start())},e.prototype.pullHandled=function(){},e.prototype.destroy=function(){var t=this.element;hd(t,"DOMMouseScroll mousewheel",this._wheelScrollHandler),this.userEvents&&this.userEvents.destroy()},e.prototype._scale=function(t){this.dimensions.rescale(t),this.movable.scaleTo(t)},e.prototype._initPullToRefresh=function(){},e.prototype._dragEnd=function(){},e.prototype._paneChange=function(){},e.prototype._initAxis=function(t){var e=this,n=e.movable,r=e.dimensions[t],o=e.tapCapture,i=e.pane[t],s=new uy({axis:t,movable:n,dimension:r,container:e.element,alwaysVisible:e.options.visibleScrollHints});r.bind(ry,function(){s.refresh()}),i.bind(ry,function(){s.show()}),e[t+"inertia"]=new ly({axis:t,paneAxis:i,movable:n,tapCapture:o,userEvents:e.userEvents,dimension:r,elastic:e.options.elastic,friction:e.options.friction||Zv,velocityMultiplier:e.options.velocityMultiplier||Jv,end:function(){s.hide(),e.trigger("scrollEnd",{axis:t,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})}})},e}(Od);E(py,{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}}),md(py,[ny,iy,oy]);var hy=function(t,e){void 0===e&&(e={}),this.sender=e.sender||t,this.widget=t,this.rtl=Boolean(e.rtl)};hy.prototype.notify=function(t,e){this.widget&&this.widget.trigger(t,e)};var fy=Math,dy=fy.min,vy=fy.pow,yy=Yn.geometry.Point,gy="marker",my="location",by=.9,wy=.93,_y="DOMMouseScroll mousewheel",xy=5,ky=1,Sy={bubble:lv,shape:sv,tile:qd};Sy[gy]=bv;var Cy=function(t){function e(e,n,r,o){void 0===n&&(n={}),void 0===r&&(r={}),void 0===o&&(o={}),t.call(this),this._init(e,n,r,o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){var e=this;this.scroller.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),r(this.markers)?this.markers.forEach(function(t){t.destroy()}):this.markers.destroy();for(var n=0;n<this.layers.length;n++)e.layers[n].destroy();hd(this.element,_y,this._mousewheelHandler),t.prototype.destroy.call(this)},e.prototype._init=function(t,e,n,r){void 0===e&&(e={}),void 0===n&&(n={}),void 0===r&&(r={}),this.support=id(),this.context=r,this.initObserver(r),this.initServices(r),this._initOptions(e),this._setEvents(e),this.crs=new qf,this._initElement(t),this._viewOrigin=this._getOrigin(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset(),this._mousewheelHandler=this._mousewheel.bind(this),cd(this.element,_y,this._mousewheelHandler)},e.prototype._initOptions=function(t){this.options=f({},this.options,t)},e.prototype._initElement=function(t){this.element=t,o(t,"k-map"),t.style.position="relative",t.setAttribute("data-role","map"),Xf(t);var e=$f("<div />");this.element.appendChild(e)},e.prototype.initServices=function(t){void 0===t&&(t={}),this.widgetService=new hy(this,t)},e.prototype.initObserver=function(t){void 0===t&&(t={}),this.observers=[],this.addObserver(t.observer)},e.prototype.addObserver=function(t){t&&this.observers.push(t)},e.prototype.removeObserver=function(t){var e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)},e.prototype.requiresHandlers=function(t){for(var e=this.observers,n=0;n<e.length;n++)if(e[n].requiresHandlers(t))return!0},e.prototype.trigger=function(e,n){void 0===n&&(n={}),n.sender=this;for(var r=this.observers,o=!1,i=0;i<r.length;i++)r[i].trigger(e,n)&&(o=!0);return o||t.prototype.trigger.call(this,e,n),o},e.prototype._notifyObserver=function(t,e){void 0===e&&(e={}),e.sender=this;for(var n=this.observers,r=!1,o=0;o<n.length;o++)n[o].trigger(t,e)&&(r=!0);return r},e.prototype.zoom=function(t){var e,n=this.options;if(Xr(t)){var r=fy.round(oo(t,n.minZoom,n.maxZoom));n.zoom!==r&&(n.zoom=r,this._reset()),e=this}else e=n.zoom;return e},e.prototype.center=function t(t){var e;return t?(this.options.center=Pf.create(t).toArray(),this._reset(),e=this):e=Pf.create(this.options.center),e},e.prototype.extent=function t(t){var e;return t?(this._setExtent(t),e=this):e=this._getExtent(),e},e.prototype.setOptions=function(t){void 0===t&&(t={});var e=this.element;this.destroy(),Xf(e),this._init(e,t,{},this.context),this._reset()},e.prototype.locationToLayer=function(t,e){var n=!this.options.wraparound,r=Pf.create(t);return this.crs.toPoint(r,this._layerSize(e),n)},e.prototype.layerToLocation=function(t,e){var n=!this.options.wraparound,r=yy.create(t);return this.crs.toLocation(r,this._layerSize(e),n)},e.prototype.locationToView=function(t){var e=Pf.create(t),n=this.locationToLayer(this._viewOrigin),r=this.locationToLayer(e);return r.translateWith(n.scale(-1))},e.prototype.viewToLocation=function(t,e){var n=this.locationToLayer(this._getOrigin(),e),r=yy.create(t),o=r.clone().translateWith(n);return this.layerToLocation(o,e)},e.prototype.eventOffset=function(t){var e,n,r=Jr(this.element);if(t.x&&t.x[my]||t.y&&t.y[my])e=t.x[my]-r.left,n=t.y[my]-r.top;else{var o=t.originalEvent||t;e=co(o.pageX,o.clientX)-r.left,n=co(o.pageY,o.clientY)-r.top}var i=new Yn.geometry.Point(e,n);return i},e.prototype.eventToView=function(t){var e=this.eventOffset(t);return this.locationToView(this.viewToLocation(e))},e.prototype.eventToLayer=function(t){return this.locationToLayer(this.eventToLocation(t))},e.prototype.eventToLocation=function(t){var e=this.eventOffset(t);return this.viewToLocation(e)},e.prototype.viewSize=function(){var t=this.element,e=this._layerSize(),n=t.clientWidth;return this.options.wraparound||(n=dy(e,n)),{width:n,height:dy(e,t.clientHeight)}},e.prototype.exportVisual=function(){return this._reset(),!1},e.prototype._setOrigin=function(t,e){var n,r=this.viewSize(),o=this._origin=Pf.create(t);return n=this.locationToLayer(o,e),n.x+=r.width/2,n.y+=r.height/2,this.options.center=this.layerToLocation(n,e).toArray(),this},e.prototype._getOrigin=function(t){var e,n=this.viewSize();return!t&&this._origin||(e=this.locationToLayer(this.center()),e.x-=n.width/2,e.y-=n.height/2,this._origin=this.layerToLocation(e)),this._origin},e.prototype._setExtent=function(t){var e=this,n=Vd.create(t),r=n.se.clone();this.options.wraparound&&r.lng<0&&t.nw.lng>0&&(r.lng=180+(180+r.lng));var o=new Vd(n.nw,r);this.center(o.center());var i,s=this.element.clientWidth,a=this.element.clientHeight;for(i=this.options.maxZoom;i>=this.options.minZoom;i--){var l=e.locationToLayer(o.nw,i),c=e.locationToLayer(o.se,i),u=fy.abs(c.x-l.x),p=fy.abs(c.y-l.y);if(u<=s&&p<=a)break}this.zoom(i)},e.prototype._getExtent=function(){var t=this._getOrigin(),e=this.locationToLayer(t),n=this.viewSize();e.x+=n.width,e.y+=n.height;var r=this.layerToLocation(e);return new Vd(t,r)},e.prototype._zoomAround=function(t,e){this._setOrigin(this.layerToLocation(t,e),e),this.zoom(e)},e.prototype._initControls=function(){var t=this.options.controls;t.attribution&&this._createAttribution(t.attribution),this.support.mobileOS||(t.navigator&&this._createNavigator(t.navigator),t.zoom&&this._createZoomControl(t.zoom))},e.prototype._createControlElement=function(t,e){var n=t.position||e,r="."+$n(n).replace(" ","."),i=this.element.querySelector(".k-map-controls"+r)||[];if(0===i.length){var s=document.createElement("div");o(s,"k-map-controls "+$n(n)),i=s,this.element.appendChild(i)}var a=document.createElement("div");return i.appendChild(a),a},e.prototype._createAttribution=function(t){var e=this._createControlElement(t,"bottomRight");this.attribution=new Td(e,t)},e.prototype._createNavigator=function(t){var e=this._createControlElement(t,"topLeft"),n=this.navigator=new Ad(e,t);this._navigatorPan=this._navigatorPan.bind(this),n.bind("pan",this._navigatorPan),this._navigatorCenter=this._navigatorCenter.bind(this),n.bind("center",this._navigatorCenter)},e.prototype._navigatorPan=function(t){var e=this.scroller,n=e.scrollLeft+t.x,r=e.scrollTop-t.y,o=this._virtualSize,i=this.element.clientWidth,s=this.element.clientHeight;n=oo(n,o.x.min,o.x.max-i),r=oo(r,o.y.min,o.y.max-s),this.scroller.one("scroll",ld(this._scrollEnd,this)),this.scroller.scrollTo(-n,-r)},e.prototype._navigatorCenter=function(){this.center(this.options.center)},e.prototype._createZoomControl=function(t){var e=this._createControlElement(t,"topLeft"),n=this.zoomControl=new zd(e,t);this._zoomControlChange=this._zoomControlChange.bind(this),n.bind("change",this._zoomControlChange)},e.prototype._zoomControlChange=function(t){this.trigger("zoomStart",{originalEvent:t})||(this.zoom(this.zoom()+t.delta),this.trigger("zoomEnd",{originalEvent:t}))},e.prototype._initScroller=function(){var t=this.support.mobileOS?wy:by,e=this.options.zoomable!==!1,n=this.scroller=new py(this.element.children[0],{friction:t,velocityMultiplier:xy,zoom:e,mousewheelScrolling:!1,supportDoubleTap:!0});n.bind("scroll",ld(this._scroll,this)),n.bind("scrollEnd",ld(this._scrollEnd,this)),n.userEvents.bind("gesturestart",ld(this._scaleStart,this)),n.userEvents.bind("gestureend",ld(this._scale,this)),n.userEvents.bind("doubleTap",ld(this._doubleTap,this)),n.userEvents.bind("tap",ld(this._tap,this)),this.scrollElement=n.scrollElement},e.prototype._initLayers=function(){for(var t=this,e=this.options.layers,n=this.layers=[],r=0;r<e.length;r++){var o=e[r],i=t._createLayer(o);n.push(i)}},e.prototype._createLayer=function(t){var e=t.type||"shape",n=this.options.layerDefaults[e],r=e===gy?f({},this.options.markerDefaults,t):f({},n,t),o=Sy[e],i=new o(this,r);return e===gy&&(this.markers=i),i},e.prototype._initMarkers=function(){var t=(this.options.layers||[]).filter(function(t){return t&&t.type===gy});t.length>0||(this.markers=new bv(this,this.options.markerDefaults),this.markers.add(this.options.markers))},e.prototype._scroll=function(t){var e=this.locationToLayer(this._viewOrigin).round(),n=t.sender.movable,r=new Yn.geometry.Point(n.x,n.y).scale(-1).scale(1/n.scale);e.x+=r.x,e.y+=r.y,this._scrollOffset=r,this._setOrigin(this.layerToLocation(e)),this.trigger("pan",{originalEvent:t,origin:this._getOrigin(),center:this.center()})},e.prototype._scrollEnd=function(t){this._scrollOffset&&this._panComplete()&&(this._scrollOffset=null,this._panEndTimestamp=wd(),this.trigger("panEnd",{originalEvent:t,origin:this._getOrigin(),center:this.center()}))},e.prototype._panComplete=function(){return wd()-(this._panEndTimestamp||0)>50},e.prototype._scaleStart=function(t){if(this.trigger("zoomStart",{originalEvent:t})){var e=t.touches[1];e&&e.cancel()}},e.prototype._scale=function(t){var e=this.scroller.movable.scale,n=this._scaleToZoom(e),r=new Yn.geometry.Point(t.center.x,t.center.y),o=this.viewToLocation(r,n),i=this.locationToLayer(o,n),s=i.translate(-r.x,-r.y);this._zoomAround(s,n),this.trigger("zoomEnd",{originalEvent:t})},e.prototype._scaleToZoom=function(t){var e=this._layerSize()*t,n=e/this.options.minSize,r=fy.log(n)/fy.log(2);return fy.round(r)},e.prototype._reset=function(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.trigger("beforeReset"),this.trigger("reset")},e.prototype._resetScroller=function(){var t=this.scroller,e=t.dimensions.x,n=t.dimensions.y,r=this._layerSize(),o=this.extent().nw,i=this.locationToLayer(o).round();t.movable.round=!0,t.reset(),t.userEvents.cancel();var s=this.zoom();t.dimensions.forcedMinScale=vy(2,this.options.minZoom-s),t.dimensions.maxScale=vy(2,this.options.maxZoom-s);var a={min:-i.x,max:r-i.x},l={min:-i.y,max:r-i.y};if(this.options.wraparound&&(a.max=20*r,a.min=-a.max),this.options.pannable===!1){var c=this.viewSize();a.min=l.min=0,a.max=c.width,l.max=c.height}e.makeVirtual(),n.makeVirtual(),e.virtualSize(a.min,a.max),n.virtualSize(l.min,l.max),this._virtualSize={x:a,y:l}},e.prototype._renderLayers=function(){},e.prototype._layerSize=function(t){var e=co(t,this.options.zoom);return this.options.minSize*vy(2,e)},e.prototype._tap=function(t){if(this._panComplete()){var e=this.eventOffset(t);this.trigger("click",{originalEvent:t,location:this.viewToLocation(e)})}},e.prototype._doubleTap=function(t){var e=this.options;if(e.zoomable!==!1&&!this.trigger("zoomStart",{originalEvent:t})){var n=this.zoom()+ky,r=this.eventOffset(t),o=this.viewToLocation(r),i=this.locationToLayer(o,n),s=i.translate(-r.x,-r.y);this._zoomAround(s,n),this.trigger("zoomEnd",{originalEvent:t})}},e.prototype._mousewheel=function(t){t.preventDefault();var e=O(t)>0?-1:1,n=this.options,r=this.zoom(),o=oo(r+e,n.minZoom,n.maxZoom);if(n.zoomable!==!1&&o!==r&&!this.trigger("zoomStart",{originalEvent:t})){var i=this.eventOffset(t),s=this.viewToLocation(i),a=this.locationToLayer(s,o),l=a.translate(-i.x,-i.y);this._zoomAround(l,o),this.trigger("zoomEnd",{originalEvent:t})}},e}(Od);E(Cy,{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0,renderPointsAsMarkers:!1}),md(Cy,["beforeReset","click","markerActivate","markerClick","markerCreated","markerMouseEnter","markerMouseLeave","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"]);var Oy=1.5,Ey=.4,Ty="#000",My="Arial, Helvetica, sans-serif",Py="11px "+My,Ay="12px "+My,Dy="16px "+My,jy="transparent",Ry="#fff",Iy=function(){return{icon:{border:{width:1}},label:{font:Ay,padding:3},line:{length:10,width:2},visible:!0}},Ly=function(){return{labels:{font:Ay},notes:Iy(),title:{font:Dy,margin:5}}},zy=function(){return{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4}},Fy=function(){return{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4}},By=function(){return{gap:Oy,spacing:Ey}},Ny=function(){return{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:Ry,gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}}},Vy=function(){return{border:{width:0},labels:{background:jy},opacity:.6}},Hy=function(){return{gap:Oy,spacing:Ey,target:{color:"#ff0000"}}},Wy=function(){return{border:{_brightness:.8,width:1},downColor:Ry,gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:Ty,width:1},spacing:.3}},Uy=function(){return{gap:Oy,spacing:Ey}},Ky=function(){return{margin:1}},qy=function(){return{width:2}},Gy=function(){return{gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},spacing:.3}},$y=function(){return{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5}},Yy=function(){return{markers:{visible:!1},width:2}},Xy=function(){return{gap:Oy,spacing:Ey}},Zy=function(){return{gap:Oy,spacing:Ey}},Jy=function(){return{width:1}},Qy=function(){return{gap:.5,line:{color:Ty,width:1},spacing:Ey}},tg=function(){return{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}}},eg=function(){return{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}}},ng=function(){return{labels:{color:"",background:jy,visible:!0},highlight:{border:{width:0}}}},rg=function(t){return{visible:!0,labels:{font:Py},overlay:t.gradients?{}:{gradient:"none"},area:zy(),rangeArea:Fy(),verticalRangeArea:Fy(),bar:By(),boxPlot:Ny(),bubble:Vy(),bullet:Hy(),candlestick:Wy(),column:Uy(),heatmap:ng(),pie:tg(),donut:Ky(),funnel:eg(),horizontalWaterfall:Qy(),line:qy(),notes:Iy(),ohlc:Gy(),radarArea:$y(),radarLine:Yy(),polarArea:$y(),polarLine:Yy(),rangeBar:Xy(),rangeColumn:Zy(),scatterLine:Jy(),verticalArea:zy(),verticalBoxPlot:Ny(),verticalBullet:Hy(),verticalLine:qy(),waterfall:Qy()}},og=function(){return{font:Dy}},ig=function(){return{labels:{font:Ay}}},sg=function(t){return void 0===t&&(t={}),{axisDefaults:Ly(),categoryAxis:{majorGridLines:{visible:!0}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:rg(t),title:og(),legend:ig()}};e.chartBaseTheme=sg,e.autoMajorUnit=L,e.Point=_o,e.Box=xo,e.Ring=ko,e.Sector=So,e.ShapeBuilder=Oo,e.ShapeElement=Mo,e.ChartElement=Eo,e.BoxElement=To,e.RootElement=jo,e.FloatElement=Ro,e.Text=Lo,e.TextBox=Fo,e.Title=Bo,e.AxisLabel=No,e.Axis=ei,e.Note=Wo,e.CategoryAxis=_i,e.DateCategoryAxis=Pi,e.DateValueAxis=Ri,e.NumericAxis=Di,e.LogarithmicAxis=zi,e.PolarAxis=Ni,e.RadarCategoryAxis=Bi,e.RadarNumericAxis=Hi,e.RadarLogarithmicAxis=Wi,e.CurveProcessor=qi,e.Gradients=Do,e.rectToBox=V,e.Aggregates=Xi,e.AreaChart=Za,e.AreaSegment=$a,e.AxisGroupRangeTracker=Ja,e.Bar=el,e.BarChart=ol,e.BarLabel=Qa,e.BoxPlotChart=cl,e.BoxPlot=al,e.BubbleChart=fl,e.Bullet=vl,e.BulletChart=yl,e.CandlestickChart=sl,e.Candlestick=il,e.CategoricalChart=La,e.CategoricalErrorBar=Ra,e.CategoricalPlotArea=ql,e.Chart=hu,e.ChartContainer=wl,e.ClipAnimation=Ka,e.ClusterLayout=nl,e.Crosshair=bl,e.CrosshairTooltip=ml,e.DefaultAggregates=Tl,e.DonutChart=Ec,e.DonutPlotArea=Tc,e.DonutSegment=Cc,e.ErrorBarBase=ja,e.ErrorRangeCalculator=ns,e.Highlight=Gl,e.SharedTooltip=pc,e.Legend=ic,e.LegendItem=ec,e.LegendLayout=tc,e.LineChart=Ga,e.LinePoint=Ba,e.LineSegment=Na,e.Pane=_l,e.PieAnimation=vc,e.PieChart=kc,e.PieChartMixin=_c,e.PiePlotArea=Sc,e.PieSegment=mc,e.PlotAreaBase=Sl,e.PlotAreaEventsMixin=Ol,e.PlotAreaFactory=sc,e.PointEventsMixin=za,e.RangeBar=Ml,e.RangeBarChart=Pl,e.RangeAreaPoint=Il,e.RangeAreaChart=Bl,e.ScatterChart=pl,e.ScatterErrorBar=ul,e.ScatterLineChart=yc,e.Selection=cc,e.SeriesAggregator=El,e.SeriesBinder=Zi,e.SplineSegment=Wa,e.SplineAreaSegment=Xa,e.StackWrap=rl,e.Tooltip=uc,e.OHLCChart=Vl,e.OHLCPoint=Nl,e.WaterfallChart=Wl,e.WaterfallSegment=Hl,e.XYPlotArea=gc,e.MousewheelZoom=Ql,e.ZoomSelection=Yl,e.Pannable=$l,e.ChartAxis=Gi,e.ChartPane=$i,e.ChartPlotArea=Yi,e.findAxisByName=jt,e.anyHasZIndex=Bt,e.appendIfNotNull=Gt,e.areNumbers=Wt,e.bindSegments=Yt,e.categoriesCount=zt,e.countNumbers=Rt,e.equalsIgnoreCase=Xt,e.evalOptions=Lt,e.filterSeriesByType=Zt,e.getDateField=Jt,e.getField=It,e.hasGradientOverlay=Nt,e.hasValue=Ut,e.isDateAxis=Qt,e.segmentVisible=$t,e.singleItemOrArray=te,e.createOutOfRangePoints=oe,e.ChartService=Zo,e.DomEventsBuilder=ti,e.FormatService=Yo,e.IntlService=qo,e.TemplateService=Nr,e.Sparkline=bu,e.constants=Su,e.Navigator=Ou,e.NavigatorHint=_u,e.StockChart=Tu,e.Gauge=Yu,e.LinearGauge=fp,e.LinearPointer=ep,e.ArrowLinearPointer=ip,
e.BarLinearPointer=cp,e.LinearScale=Qu,e.RadialGauge=Op,e.RadialPointer=Sp,e.RadialScale=mp,e.ArcGauge=Ap,e.RangePointer=Pp,e.ArcScale=Ep,e.CircularGauge=jp,e.Barcode=_h,e.barcodeValidator=Ye,e.QRCode=bf,e.qrcodeValidator=In,e.Map=Cy,e.addClass=o,e.removeClass=i,e.alignPathToPixel=s,e.clockwise=a,e.convertableToNumber=u,e.deepExtend=f,e.elementStyles=g,e.getSpacing=m,e.getTemplate=b,e.getter=w,e.grep=_,e.hasClasses=x,e.HashMap=Wr,e.inArray=k,e.interpolateValue=S,e.InstanceObserver=Kr,e.isArray=r,e.isFunction=p,e.isNumber=l,e.isObject=d,e.isString=c,e.map=C,e.mousewheelDelta=O,e.FontLoader=uo,e.setDefaultOptions=E,e.sparseArrayLimits=T,e.styleValue=v,e.find=M,e.elementScale=D,e.autoTextColor=j,e.createHashSet=R,e.defaultErrorHandler=I,e.keys=wo,e.append=$r,e.bindEvents=Yr,e.Class=Yn.Class,e.defined=Xr,e.deg=Zr,e.elementOffset=Jr,e.elementSize=Qr,e.eventCoordinates=to,e.eventElement=eo,e.hashKey=no,e.last=ro,e.limitValue=oo,e.logToConsole=Yn.logToConsole,e.objectKey=io,e.rad=so,e.round=ao,e.unbindEvents=lo,e.valueOrDefault=co},function(t,e,n){"use strict";function r(t){return"function"==typeof t}function o(t){return"string"==typeof t?[t]:t}function i(){this._defaultPrevented=!0}function s(){return this._defaultPrevented===!0}function a(t){return String(t).replace(Br,"&amp;").replace(Nr,"&lt;").replace(Wr,"&gt;").replace(Vr,"&quot;").replace(Hr,"&#39;")}function l(t){var e=window.console;"undefined"!=typeof e&&e.log&&e.log(t)}function c(t){var e=t.dataURI,n=t.fileName,r=e;if("string"==typeof r&&window.Blob){for(var o=r.split(";base64,"),i=o[0],s=atob(o[1]),a=new Uint8Array(s.length),l=0;l<s.length;l++)a[l]=s.charCodeAt(l);r=new Blob([a.buffer],{type:i})}if(navigator.msSaveBlob)navigator.msSaveBlob(r,n);else{var c=document.createElement("a");c.download=n,r=c.href=URL.createObjectURL(r);var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(u),setTimeout(function(){URL.revokeObjectURL(r)})}}function u(t){var e,n={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var r in n)if(n.hasOwnProperty(r)){var o=t.match(n[r]);if(o){e={},e[r]=!0,e[o[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||o[2],10);break}}return e}function p(){throw new Error("Template implementation missing.")}function h(t,e){var n,r=0;if(!e||e<=0)return t;var o=function(){var o=qr()-r,i=arguments,s=function(){t.apply(null,i),r=qr()};return r?(n&&clearTimeout(n),void(o>e?s():n=setTimeout(s,e-o))):s()};return o.cancel=function(){clearTimeout(n)},o}function f(t,e,n){void 0===n&&(n="0");for(var r=t.toString(16);e>r.length;)r=n+r;return r}function d(t,e,n){var r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function v(t){return parseFloat(parseFloat(parseInt(t,16)/255).toFixed(3))}function y(t,e){var n,r;if(null==t||"none"===t)return null;if(t instanceof Xr)return t;var o=t.toLowerCase();if(n=Yr(o))return o="transparent"===n[1]?new Zr(1,1,1,0):y(Gr[n[1]],e),o.match=[n[1]],o;if((n=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(o))?r=new Jr(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),1):(n=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(o))?r=new Jr(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16),1):(n=/^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(o))?r=new Jr(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16),v(n[4]+n[4])):(n=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(o))?r=new Jr(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),v(n[4])):(n=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(o))?r=new Jr(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),1):(n=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(o))?r=new Jr(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4])):(n=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(o))?r=new Zr(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,1):(n=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(o))&&(r=new Zr(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(n[4]))),r)r.match=n;else if(!e)throw new Error("Cannot parse color: "+o);return r}function g(t,e){return t.push.apply(t,e),t}function m(t){for(var e=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],n="";t>0;)t<e[0]?e.shift():(n+=oo[e[0]],t-=e[0]);return n}function b(){var t,e,n=new Promise(function(r,o){t=function(t){return n._state="resolved",r(t),n},e=function(t){return n._state="rejected",o(t),n}});return n._state="pending",n.resolve=t,n.reject=e,n.state=function(){return n._state},n}function w(t){return typeof t!==io}function _(){return"kdef"+so++}function x(t){return t/ao}function k(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);if(55296<=r&&r<=56319){var o=r,i=t.charCodeAt(++n);isNaN(i)||(r=1024*(o-55296)+(i-56320)+65536)}r<128?e+=uo(r):r<2048?(e+=uo(192|r>>>6),e+=uo(128|63&r)):r<65536?(e+=uo(224|r>>>12),e+=uo(128|r>>>6&63),e+=uo(128|63&r)):r<1114111&&(e+=uo(240|r>>>18),e+=uo(128|r>>>12&63),e+=uo(128|r>>>6&63),e+=uo(128|63&r))}return e}function S(t){return uo(t>>8)+uo(255&t)}function C(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<65535)e+=S(r);else{var o=(r-65536>>10)+55296,i=(r-65536&1023)+56320;e+=S(o),e+=S(i)}}return e}function O(t){for(var e="",n=0,r=k(t);n<r.length;){var o=r.charCodeAt(n++),i=r.charCodeAt(n++),s=r.charCodeAt(n++),a=o>>2,l=(3&o)<<4|i>>4,c=(15&i)<<2|s>>6,u=63&s;isNaN(i)?c=u=64:isNaN(s)&&(u=64),e=e+ho.charAt(a)+ho.charAt(l)+ho.charAt(c)+ho.charAt(u)}return e}function E(t){return w((t.x||{}).location)?{x:t.x.location,y:t.y.location}:{x:t.pageX||t.clientX||0,y:t.pageY||t.clientY||0}}function T(t){return void 0===t&&(t={}),t.touch?t.touch.initialTouch:t.target}function M(t){return""===t||null===t||"none"===t||"transparent"===t||!w(t)}function P(t){if(t)return t[t.length-1]}function A(t,e,n){return Math.max(Math.min(t,n),e)}function D(t,e){function n(t,n){for(var r=[],o=0,i=0,s=0;o<t.length&&i<n.length;)e(t[o],n[i])<=0?r[s++]=t[o++]:r[s++]=n[i++];return o<t.length&&r.push.apply(r,t.slice(o)),i<n.length&&r.push.apply(r,n.slice(i)),r}return t.length<2?t.slice():function t(e){if(e.length<=1)return e;var r=Math.floor(e.length/2),o=e.slice(0,r),i=e.slice(r);return o=t(o),i=t(i),n(o,i)}(t)}function j(t){return Promise.all(t)}function R(t){return t*ao}function I(t){return t?Math.pow(10,t):1}function L(t,e){var n=I(e);return Math.round(t*n)/n}function z(t,e){return w(t)?t:e}function F(t,e){for(var n in e)for(var r=n.trim().split(" "),o=0;o<r.length;o++)t.addEventListener(r[o],e[n],!1)}function B(t){var e=t.getBoundingClientRect(),n=document.documentElement;return{top:e.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||0),left:e.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}}function N(t,e){for(var n={},r=window.getComputedStyle(t)||{},o=Array.isArray(e)?e:[e],i=0;i<o.length;i++){var s=o[i];n[s]=r[s]}return n}function V(t){return isNaN(t)?t:t+"px"}function H(t,e){if(!e){var n=N(t,["width","height"]);return{width:parseInt(n.width,10),height:parseInt(n.height,10)}}var r=e.width,o=e.height;w(r)&&(t.style.width=V(r)),w(o)&&(t.style.height=V(o))}function W(t,e){void 0===e&&(e={});for(var n in e)for(var r=n.trim().split(" "),o=0;o<r.length;o++)t.removeEventListener(r[o],e[n],!1)}function U(t){var e=N(t,["paddingLeft","paddingTop"]),n=e.paddingLeft,r=e.paddingTop;return{top:parseFloat(r),left:parseFloat(n)}}function K(t){var e=t.match(yo);if(null===e||2!==e.length)return fo.unit();var n=e[1].split(",").map(function(t){return parseFloat(t)});return new(Function.prototype.bind.apply(fo,[null].concat(n)))}function q(t){var e=getComputedStyle(t).transform;return"none"===e?fo.unit():K(e)}function G(t){if(!t)return fo.unit();for(var e=q(t),n=t.parentElement;n;){var r=q(n);e=e.multiplyCopy(r),n=n.parentElement}return e.b=e.c=e.e=e.f=0,e}function $(t){return String(t).replace(mo,bo)}function Y(t){var e=[];for(var n in t)e.push(n+t[n]);return e.sort().join("")}function X(t){for(var e=2166136261,n=0;n<t.length;++n)e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e^=t.charCodeAt(n);return e>>>0}function Z(){return{width:0,height:0,baseline:0}}function J(t,e,n){return _o.current.measure(t,e,n)}function Q(t){return function(e){return this[t]!==e&&(this[t]=e,this.geometryChange()),this}}function tt(t){return function(){return this[t]}}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n],o=r.charAt(0).toUpperCase()+r.substring(1,r.length);t["set"+o]=Q(r),t["get"+o]=tt(r)}}function nt(t){return t&&"function"==typeof t.matrix?t.matrix():t}function rt(t){return null===t?null:t instanceof Ao?t:new Ao(t)}function ot(t,e,n,r){var o=0,i=0;return r&&(o=Math.atan2(r.c*n,r.a*e),0!==r.b&&(i=Math.atan2(r.d*n,r.b*e))),{x:o,y:i}}function it(t){var e="_"+t;return function(t){return w(t)?(this._observerField(e,t),this.geometryChange(),this):this[e]}}function st(t,e){for(var n=0;n<e.length;n++)t[e[n]]=it(e[n])}function at(t,e,n){return void 0===n&&(n=Ho),0===L(Math.abs(t-e),n)}function lt(t,e,n){return t<e||at(t,e,n)}function ct(t,e,n,r){var o=e.x-t.x,i=r.x-n.x,s=e.y-t.y,a=r.y-n.y,l=t.x-n.x,c=t.y-n.y,u=o*a-i*s,p=(o*c-s*l)/u,h=(i*c-a*l)/u;if(p>=0&&p<=1&&h>=0&&h<=1)return new To(t.x+h*o,t.y+h*s)}function ut(t,e,n,r,o,i){var s=L((o-t)/n,3),a=L((i-e)/r,3);return L(x(Math.atan2(a,s)))}function pt(t){var e=t.x1,n=t.y1,r=t.x2,o=t.y2,i=t.rx,s=t.ry,a=t.largeArc,l=t.swipe,c=t.rotation;void 0===c&&(c=0);var u=R(c),p=Math.cos(u),h=Math.sin(u),f=p*(e-r)/2+h*(n-o)/2,d=-h*(e-r)/2+p*(n-o)/2,v=a!==l?1:-1,y=Math.pow(f,2),g=Math.pow(d,2),m=Math.pow(i,2),b=Math.pow(s,2),w=y/m+g/b;w>1&&(w=Math.sqrt(y/m+g/b),i*=w,m=Math.pow(i,2),s*=w,b=Math.pow(s,2));var _=v*Math.sqrt((m*b-m*g-b*y)/(m*g+b*y));isNaN(_)&&(_=0);var k=_*(i*d)/s,S=-_*(s*f)/i,C=p*k-h*S+(e+r)/2,O=h*k+p*S+(n+o)/2,E=(f-k)/i,T=(d-S)/s,M=-(f+k)/i,P=-(d+S)/s,A=(T>=0?1:-1)*x(Math.acos(E/Math.sqrt(E*E+T*T))),D=L((E*M+T*P)/(Math.sqrt(E*E+T*T)*Math.sqrt(M*M+P*P)),10),j=(E*P-T*M>=0?1:-1)*x(Math.acos(D));!l&&j>0&&(j-=360),l&&j<0&&(j+=360);var I=A+j,z=I>=0?1:-1;return I=Math.abs(I)%360*z,{center:new To(C,O),startAngle:A,endAngle:I,radiusX:i,radiusY:s,xRotation:c}}function ht(t,e){for(var n=t;n<e;)n+=90;return n}function ft(t,e,n){var r=x(Math.atan2(e.y-t.y,e.x-t.x)),o=n.transformCopy(rt().rotate(-r,t));return o.x<t.x}function dt(t,e,n){var r=1-t;return Math.pow(r,3)*n[0][e]+3*Math.pow(r,2)*t*n[1][e]+3*Math.pow(t,2)*r*n[2][e]+Math.pow(t,3)*n[3][e]}function vt(t,e){return[-t[0][e]+3*t[1][e]-3*t[2][e]+t[3][e],3*(t[0][e]-2*t[1][e]+t[2][e]),3*(-t[0][e]+t[1][e]),t[0][e]]}function yt(t){return t<0?-1:1}function gt(t,e,n){var r=Math.sqrt(Math.pow(e,2)-4*t*n);return[(-e+r)/(2*t),(-e-r)/(2*t)]}function mt(t,e,n,r){if(0===t)return gt(e,n,r);var o,i,s,a,l,c,u,p=(3*t*n-Math.pow(e,2))/(3*Math.pow(t,2)),h=(2*Math.pow(e,3)-9*t*e*n+27*Math.pow(t,2)*r)/(27*Math.pow(t,3)),f=Math.pow(p/3,3)+Math.pow(h/2,2),d=new ei(0,1),v=-e/(3*t);f<0?(o=new ei(-h/2,Math.sqrt(-f)).nthRoot(3),i=new ei(-h/2,-Math.sqrt(-f)).nthRoot(3)):(o=-h/2+Math.sqrt(f),o=new ei(yt(o)*Math.pow(Math.abs(o),1/3)),i=-h/2-Math.sqrt(f),i=new ei(yt(i)*Math.pow(Math.abs(i),1/3))),s=o.add(i),c=o.add(i).multiplyConstant(-.5),u=o.add(i.negate()).multiplyConstant(Math.sqrt(3)/2),a=c.add(d.multiply(u)),l=c.add(d.negate().multiply(u));var y=[];return s.isReal()&&y.push(L(s.real+v,Ho)),a.isReal()&&y.push(L(a.real+v,Ho)),l.isReal()&&y.push(L(l.real+v,Ho)),y}function bt(t,e,n,r,o){for(var i,s=vt(t,r),a=mt(s[0],s[1],s[2],s[3]-e[r]),l=0;l<a.length;l++)if(0<=a[l]&&a[l]<=1&&(i=dt(a[l],n,t),Math.abs(i-e[n])<=o))return!0}function wt(t,e,n){for(var r,o,i=vt(t,"x"),s=mt(i[0],i[1],i[2],i[3]-e.x),a=0,l=0;l<s.length;l++)r=dt(s[l],"y",t),o=at(r,e.y)||r>e.y,o&&((0===s[l]||1===s[l])&&n.bottomRight().x>e.x||0<s[l]&&s[l]<1)&&a++;return a}function _t(t,e,n){var r;if(t.x!==e.x){var o=Math.min(t.x,e.x),i=Math.max(t.x,e.x),s=Math.min(t.y,e.y),a=Math.max(t.y,e.y),l=o<=n.x&&n.x<i;r=s===a?n.y<=s&&l:l&&(a-s)*((t.x-e.x)*(t.y-e.y)>0?n.x-o:i-n.x)/(i-o)+s-n.y>=0}return r?1:0}function xt(t){var e="_"+t;return function(t){return w(t)?(this._observerField(e,To.create(t)),this.geometryChange(),this):this[e]}}function kt(t,e){for(var n=0;n<e.length;n++)t[e[n]]=xt(e[n])}function St(t){for(var e=t.length,n=lo,r=co,o=0;o<e;o++)r=Math.max(r,t[o]),n=Math.min(n,t[o]);return{min:n,max:r}}function Ct(t,e,n){for(var r=e?0:1,o=0;o<t.length;o+=2)t.splice(o+r,0,n)}function Ot(t,e){if(t&&e)return e.scaleCopy(2).translate(-t.x,-t.y)}function Et(t,e,n){var r=e.clone().scale(2/3);return{controlOut:r.clone().translateWith(t.scaleCopy(si)),controlIn:r.translateWith(n.scaleCopy(si))}}function Tt(t){var e=[];return t.replace(li,function(t,n){e.push(parseFloat(n))}),e}function Mt(t,e){var n,r=new To;return e.replace(ai,function(e,o,i,s){var a=o.toLowerCase(),l=a===o,c=Tt(i.trim());if(a===ci&&(l?(r.x+=c[0],r.y+=c[1]):(r.x=c[0],r.y=c[1]),t.moveTo(r.x,r.y),c.length>2&&(a="l",c.splice(0,2))),ii[a])ii[a](t,{parameters:c,position:r,isRelative:l,previousCommand:n}),s&&s.toLowerCase()===ui&&t.close();else if(a!==ci)throw new Error("Error while parsing SVG path. Unsupported command: "+a);n=a}),t}function Pt(t,e,n){for(var r,o=0;o<t.length;o++){var i=t[o];if(i.visible()){var s=e?i.bbox(n):i.rawBBox();s&&(r=r?Po.union(r,s):s)}}return r}function At(t,e){for(var n,r=0;r<t.length;r++){var o=t[r];if(o.visible()){var i=o.clippedBBox(e);i&&(n=n?Po.union(n,i):i)}}return n}function Dt(t,e,n){var r=n.transform()||rt(),o=r.matrix();o.e+=t.x-e.origin.x,o.f+=t.y-e.origin.y,r.matrix(o),n.transform(r)}function jt(t,e,n,r,o){var i;return i="start"===n?e.origin[r]:"end"===n?e.origin[r]+e.size[o]-t:e.origin[r]+(e.size[o]-t)/2}function Rt(t,e,n,r,o){var i;return i="start"===n?e.origin[r]+e.size[o]-t:"end"===n?e.origin[r]:e.origin[r]+(e.size[o]-t)/2}function It(t,e,n,r,o){for(var i=0;i<t.length;i++){var s=t[i].clippedBBox();if(s){var a=s.origin.clone();a[r]=jt(s.size[o],e,n||"start",r,o),Dt(a,s,t[i])}}}function Lt(t,e,n){It(t,e,n,"x","width")}function zt(t,e,n){It(t,e,n,"y","height")}function Ft(t,e,n,r){if(t.length>1)for(var o=new To,i=t[0].bbox,s=1;s<t.length;s++){var a=t[s].element,l=t[s].bbox;o[e]=i.origin[e]+i.size[r],o[n]=l.origin[n],Dt(o,l,a),l.origin[e]=o[e],i=l}}function Bt(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],o=r.clippedBBox();o&&e.push({element:r,bbox:o})}return e}function Nt(t){Ft(Bt(t),"x","y","width")}function Vt(t){Ft(Bt(t),"y","x","height")}function Ht(t,e,n){for(var r,o,i=e.size[n],s=[],a=[],l=0,c=function(){a.push({element:r,bbox:o})},u=0;u<t.length;u++)if(r=t[u],o=r.clippedBBox()){var p=o.size[n];l+p>i?a.length?(s.push(a),a=[],c(),l=p):(c(),s.push(a),a=[],l=0):(c(),l+=p)}return a.length&&s.push(a),s}function Wt(t,e,n,r,o){for(var i=Ht(t,e,o),s=e.origin.clone(),a=[],l=0;l<i.length;l++){var c=i[l],u=c[0];s[r]=u.bbox.origin[r],Dt(s,u.bbox,u.element),u.bbox.origin[n]=s[n],Ft(c,n,r,o),a.push([]);for(var p=0;p<c.length;p++)a[l].push(c[p].element)}return a}function Ut(t,e){return Wt(t,e,"x","y","width")}function Kt(t,e){return Wt(t,e,"y","x","height")}function qt(t,e){var n=t.clippedBBox();if(n){var r=n.size,o=e.size;if(o.width<r.width||o.height<r.height){var i=Math.min(o.width/r.width,o.height/r.height),s=t.transform()||rt();s.scale(i,i),t.transform(s)}}}function Gt(t){return function(e){return w(e)?(this.options.set(t,e),this):this.options.get(t)}}function $t(t,e){for(var n=0;n<e.length;n++)t[e[n]]=Gt(e[n])}function Yt(t){return.5-Math.cos(t*Math.PI)/2}function Xt(t){return t}function Zt(t,e,n,r){var o=1.70158,i=0,s=r;return 0===t?n:1===t?n+r:(i||(i=.5),s<Math.abs(r)?(s=r,o=i/4):o=i/(2*Math.PI)*Math.asin(r/s),s*Math.pow(2,-10*t)*Math.sin((Number(t)-o)*(1.1*Math.PI)/i)+r+n)}function Jt(t,e){return w(e)&&null!==e?" "+t+'="'+e+'" ':""}function Qt(t){for(var e="",n=0;n<t.length;n++)e+=Jt(t[n][0],t[n][1]);return e}function te(t){for(var e="",n=0;n<t.length;n++){var r=t[n][1];w(r)&&(e+=t[n][0]+":"+r+";")}if(""!==e)return e}function ee(t,e){return"clip"===t||"fill"===t&&(!e||"Gradient"===e.nodeType)}function ne(){var t=document.getElementsByTagName("base")[0],e=document.location.href,n="";if(t&&!(Kr.browser||{}).msie){var r=e.indexOf("#");r!==-1&&(e=e.substring(0,r)),n=e}return n}function re(t){if(!t||"string"!=typeof t||!gs.test(t))return t;var e=re._element;return gs.lastIndex=0,t.replace(gs,function(t){return e.innerHTML=t,e.textContent||e.innerText})}function oe(t){var e;try{e=t.getScreenCTM?t.getScreenCTM():null}catch(t){}if(e){var n=-e.e%1,r=-e.f%1,o=t.style;0===n&&0===r||(o.left=n+"px",o.top=r+"px")}}function ie(t,e){var n=e.segments;if(0!==n.length){var r=n[0],o=r.anchor();t.moveTo(o.x,o.y);for(var i=1;i<n.length;i++){r=n[i],o=r.anchor();var s=n[i-1],a=s.controlOut(),l=r.controlIn();a&&l?t.bezierCurveTo(a.x,a.y,l.x,l.y,o.x,o.y):t.lineTo(o.x,o.y)}e.options.closed&&t.closePath()}}function se(t,e){return t._zIndex<e._zIndex?1:t._zIndex>e._zIndex?-1:0}function ae(t,e){for(var n=0;n<e.length;n++){var r=e[n],o=y(r.color());o.a*=r.opacity(),t.addColorStop(r.offset(),o.toCssRgba())}}function le(t){var e=new os({skipBaseHref:!0}),n=t.clippedBBox(),r=t;if(n){var o=n.getOrigin(),i=new wi;i.transform(rt().translate(-o.x,-o.y)),i.children.push(t),r=i}e.load([r]);var s="<?xml version='1.0' ?><svg xmlns='"+Hi+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+e.render()+"</svg>";return e.destroy(),s}function ce(t,e){var n={width:"800px",height:"600px",cors:"Anonymous"},r=t,o=t.clippedBBox();if(o){var i=o.getOrigin();r=new wi,r.transform(rt().translate(-i.x,-i.y)),r.children.push(t);var s=o.getSize();n.width=s.width+"px",n.height=s.height+"px"}var a=Object.assign(n,e),l=document.createElement("div"),c=l.style;c.display="none",c.width=a.width,c.height=a.height,document.body.appendChild(l);var u=new Ws(l,a);u.suspendTracking(),u.draw(r);var p=u.image(),h=function(){u.destroy(),document.body.removeChild(l)};return p.then(h,h),p}function ue(t,e){var n=le(t);return e&&e.raw||(n="data:image/svg+xml;base64,"+O(n)),b().resolve(n)}function pe(t){function e(){return w>=_}function n(){return w<_?t[w++]:0}function r(e){x(w),t[w++]=255&e,w>_&&(_=w)}function o(){return n()<<8|n()}function i(t){r(t>>8),r(t)}function s(){var t=o();return t>=32768?t-65536:t}function a(t){i(t<0?t+65536:t)}function l(){return 65536*o()+o()}function c(t){i(t>>>16&65535),i(65535&t)}function u(){var t=l();return t>=2147483648?t-4294967296:t}function p(t){c(t<0?t+4294967296:t)}function h(){return l()/65536}function f(t){c(Math.round(65536*t))}function d(){return u()/65536}function v(t){p(Math.round(65536*t))}function y(t){return b(t,n)}function g(t){return String.fromCharCode.apply(String,y(t))}function m(t){for(var e=0;e<t.length;++e)r(t.charCodeAt(e))}function b(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=e();return n}var w=0,_=0;null==t?t=Js?new Uint8Array(256):[]:_=t.length;var x=Js?function(e){if(e>=t.length){var n=new Uint8Array(Math.max(e+256,2*t.length));n.set(t,0),t=n}}:function(){},k=Js?function(){return new Uint8Array(t.buffer,0,_)}:function(){return t},S=Js?function(e){if("string"==typeof e)return m(e);var n=e.length;x(w+n),t.set(e,w),w+=n,w>_&&(_=w)}:function(t){if("string"==typeof t)return m(t);for(var e=0;e<t.length;++e)r(t[e])},C=Js?function(e,n){if(t.buffer.slice)return new Uint8Array(t.buffer.slice(e,e+n));var r=new Uint8Array(n);return r.set(new Uint8Array(t.buffer,e,n)),r}:function(e,n){return t.slice(e,e+n)},O={eof:e,readByte:n,writeByte:r,readShort:o,writeShort:i,readLong:l,writeLong:c,readFixed:h,writeFixed:f,readShort_:s,writeShort_:a,readLong_:u,writeLong_:p,readFixed_:d,writeFixed_:v,read:y,write:S,readString:g,writeString:m,times:b,get:k,slice:C,offset:function(t){return null!=t?(w=t,O):w},skip:function(t){w+=t},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return _},saveExcursion:function(t){var e=w;try{return t()}finally{w=e}},writeBase64:function(t){window.atob?m(window.atob(t)):S(Qs.decode(t))},base64:function(){return Qs.encode(k())}};return O}function he(t){for(var e,n,r=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function fe(t){return t.map(function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t)}).join("")}function de(t){for(var e=window.atob(t),n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}function ve(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t[n];return e}function ye(t){return window.atob?de(t):ve(Qs.decode(t))}function ge(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function me(t){return Object.keys(t).sort(function(t,e){return t-e}).map(parseFloat)}function be(){for(var t="",e=String(ha),n=0;n<e.length;++n)t+=String.fromCharCode(e.charCodeAt(n)-48+65);return++ha,t}function we(){return!0}function _e(){function t(){for(var e=arguments,r=0;r<arguments.length;++r){var o=e[r];if(void 0===o)throw new Error("Cannot output undefined to PDF");if(o instanceof Oa)o.beforeRender(t),o.render(t);else if(Ca(o))je(o,t);else if(De(o))Re(o,t);else if("number"==typeof o){if(isNaN(o))throw new Error("Cannot output NaN to PDF");var i=o.toFixed(7);i.indexOf(".")>=0&&(i=i.replace(/\.?0+$/,"")),"-0"==i&&(i="0"),n.writeString(i)}else/string|boolean/.test(typeof o)?n.writeString(String(o)):"function"==typeof o.get?n.write(o.get()):"object"==typeof o&&(o?t(new Aa(o)):n.writeString("null"))}}var e=0,n=pe();return t.writeData=function(t){n.write(t)},t.withIndent=function(n){++e,n(t),--e},t.indent=function(){t(ga,Me("",2*e,"  ")),t.apply(null,arguments)},t.offset=function(){return n.offset()},t.toString=function(){throw new Error("FIX CALLER")},t.get=function(){return n.get()},t.stream=function(){return n},t}function xe(t,e){var n=t.beforeRender,r=t.render;t.beforeRender=function(){},t.render=function(t){t(e," 0 R")},t.renderFull=function(o){t._offset=o.offset(),o(e," 0 obj "),n.call(t,o),r.call(t,o),o(" endobj")}}function ke(t){if("function"!=typeof t){var e=t;t=function(t,n){return t in e?e[t]:n}}var n=t("paperSize",ba.a4);if(!n)return{};if("string"==typeof n&&(n=ba[n.toLowerCase()],null==n))throw new Error("Unknown paper size");n[0]=Fe(n[0]),n[1]=Fe(n[1]),t("landscape",!1)&&(n=[Math.max(n[0],n[1]),Math.min(n[0],n[1])]);var r=t("margin");return r&&("string"==typeof r||"number"==typeof r?(r=Fe(r,0),r={left:r,top:r,right:r,bottom:r}):r={left:Fe(r.left,0),top:Fe(r.top,0),right:Fe(r.right,0),bottom:Fe(r.bottom,0)},t("addMargin")&&(n[0]+=r.left+r.right,n[1]+=r.top+r.bottom)),{paperSize:n,margin:r}}function Se(t,e){function n(){window.console&&(window.console.error?window.console.error("Cannot load URL: %s",t):window.console.log("Cannot load URL: %s",t)),e(null)}var r;if(ya.msie&&(r=/^data:.*?;base64,/i.exec(t)))return void e(ye(t.substr(r[0].length)));var o=new XMLHttpRequest;o.open("GET",t,!0),Js&&(o.responseType="arraybuffer"),o.onload=function(){200==o.status||304==o.status?e(Js?new Uint8Array(o.response):new window.VBArray(o.responseBody).toArray()):n()},o.onerror=n,o.send(null)}function Ce(t,e){var n=wa[t];n?e(n):Se(t,function(n){if(null==n)throw new Error("Cannot load font from "+t);var r=new da(n);wa[t]=r,e(r)})}function Oe(){_a={}}function Ee(t,e,n,r){function o(t){u.src=t,u.complete&&!ya.msie?a.call(u):(u.onload=a,u.onerror=s)}function i(){e||(e={width:u.width,height:u.height});var o=document.createElement("canvas");o.width=e.width,o.height=e.height;var i=o.getContext("2d");i.drawImage(u,0,0,e.width,e.height);var a;try{a=i.getImageData(0,0,e.width,e.height)}catch(t){return void s()}finally{l&&URL.revokeObjectURL(l)}for(var c=!1,p=pe(),h=pe(),f=a.data,d=0;d<f.length;){p.writeByte(f[d++]),p.writeByte(f[d++]),p.writeByte(f[d++]);var v=f[d++];v<255&&(c=!0),h.writeByte(v)}if(c||r.keepPNG)u=new za(e.width,e.height,p,h);else{var y=o.toDataURL("image/jpeg",r.jpegQuality);y=y.substr(y.indexOf(";base64,")+8);var g=pe();g.writeBase64(y),u=new La(g)}n(_a[t]=u)}function s(){n(_a[t]="ERROR")}function a(){if(e){var r=c&&"image/svg+xml"===c.type||/^data:image\/svg\+xml;/i.test(this.src.substring(0,19)),o=e.width>=u.width||e.height>=u.height;!r&&o&&(e=null)}if(!e&&c&&/^image\/jpe?g$/i.test(c.type)){var s=new FileReader;s.onload=function(){try{var e=new La(pe(new Uint8Array(this.result)));URL.revokeObjectURL(l),n(_a[t]=e)}catch(t){i()}},s.readAsArrayBuffer(c)}else i()}var l,c,u=_a[t];if(u)n(u);else if(u=new Image,/^data:/i.test(t)||(u.crossOrigin="Anonymous"),Js&&!/^data:/i.test(t)){var p=new XMLHttpRequest;p.onload=function(){c=p.response,l=URL.createObjectURL(c),o(l)},p.onerror=s,p.open("GET",t,!0),p.responseType="blob",p.send()}else o(t)}function Te(t){return function(e,n){function r(){0===--o&&n()}var o=e.length,i=o;if(0===o)return n();for(;i-- >0;)t(e[i],r)}}function Me(t,e,n){for(;t.length<e;)t=n+t;return t}function Pe(t,e){return Me(String(t),e,"0")}function Ae(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function De(t){return t instanceof Date}function je(t,e){e("["),t.length>0&&e.withIndent(function(){for(var n=0;n<t.length;++n)n>0&&n%8===0?e.indent(t[n]):e(" ",t[n])}),e(" ]")}function Re(t,e){e("(D:",Pe(t.getUTCFullYear(),4),Pe(t.getUTCMonth()+1,2),Pe(t.getUTCDate(),2),Pe(t.getUTCHours(),2),Pe(t.getUTCMinutes(),2),Pe(t.getUTCSeconds(),2),"Z)")}function Ie(t){return t*(72/25.4)}function Le(t){return Ie(10*t)}function ze(t){return 72*t}function Fe(t,e){if("number"==typeof t)return t;if("string"==typeof t){var n;if(n=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(t)){var r=parseFloat(n[1]);if(!isNaN(r))return"pt"==n[2]?r:{mm:Ie,cm:Le,in:ze}[n[2]](r)}}if(null!=e)return e;throw new Error("Can't parse unit: "+t)}function Be(t){return Ae(Pa,t)?Pa[t]:Pa[t]=new Ma(t)}function Ne(t){return t.map(function(t){return Ca(t)?Ne(t):"number"==typeof t?(Math.round(1e3*t)/1e3).toFixed(3):t}).join(" ")}function Ve(t,e,n,r,o,i,s){var a=Ne([e,n,r,o,i,s]),l=t.GRAD_COL_FUNCTIONS[a];return l||(l=t.GRAD_COL_FUNCTIONS[a]=t.attach(new Aa({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[e,n,r],C1:[o,i,s]}))),l}function He(t,e,n){var r=Ne([e,n]),o=t.GRAD_OPC_FUNCTIONS[r];return o||(o=t.GRAD_OPC_FUNCTIONS[r]=t.attach(new Aa({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[e],C1:[n]}))),o}function We(t,e){function n(t){return 1==t.length?t[0]:{FunctionType:3,Functions:t,Domain:[0,1],Bounds:p,Encode:h}}var r,o,i,s,a,l=!1,c=[],u=[],p=[],h=[];for(r=1;r<e.length;++r)o=e[r-1],i=e[r],s=o.color,a=i.color,u.push(Ve(t,s.r,s.g,s.b,a.r,a.g,a.b)),(s.a<1||a.a<1)&&(l=!0),p.push(i.offset),h.push(0,1);if(l)for(r=1;r<e.length;++r)o=e[r-1],i=e[r],s=o.color,a=i.color,c.push(He(t,s.a,a.a));return p.pop(),{hasAlpha:l,colors:n(u),opacities:l?n(c):null}}function Ue(t,e,n,r,o,i){var s,a;if(!i){var l=[e].concat(r);n.forEach(function(t){l.push(t.offset,t.color.r,t.color.g,t.color.b)}),a=Ne(l),s=t.GRAD_COL[a]}return s||(s=new Aa({Type:Be("Shading"),ShadingType:e?3:2,ColorSpace:Be("DeviceRGB"),Coords:r,Domain:[0,1],Function:o,Extend:[!0,!0]}),t.attach(s),s._resourceName="S"+ ++ma,a&&(t.GRAD_COL[a]=s)),s}function Ke(t,e,n,r,o,i){var s,a;if(!i){var l=[e].concat(r);n.forEach(function(t){l.push(t.offset,t.color.a)}),a=Ne(l),s=t.GRAD_OPC[a]}return s||(s=new Aa({Type:Be("ExtGState"),AIS:!1,CA:1,ca:1,SMask:{Type:Be("Mask"),S:Be("Luminosity"),G:t.attach(new Da("/a0 gs /s0 sh",{Type:Be("XObject"),Subtype:Be("Form"),FormType:1,BBox:i?[i.left,i.top+i.height,i.left+i.width,i.top]:[0,1,1,0],Group:{Type:Be("Group"),S:Be("Transparency"),CS:Be("DeviceGray"),I:!0},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:Be("DeviceGray"),Coords:r,Domain:[0,1],ShadingType:e?3:2,Function:o,Extend:[!0,!0]}}}}))}}),t.attach(s),s._resourceName="O"+ ++ma,a&&(t.GRAD_OPC[a]=s)),s}function qe(t,e,n){var r="radial"==e.type,o=We(t,e.stops),i=r?[e.start.x,e.start.y,e.start.r,e.end.x,e.end.y,e.end.r]:[e.start.x,e.start.y,e.end.x,e.end.y],s=Ue(t,r,e.stops,i,o.colors,e.userSpace&&n),a=o.hasAlpha?Ke(t,r,e.stops,i,o.opacities,e.userSpace&&n):null;return{hasAlpha:o.hasAlpha,shading:s,opacity:a}}function Ge(t){return t.replace(/^\s*(['"])(.*)\1\s*$/,"$2")}function $e(t){var e=/^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i,n=e.exec(t);if(!n)return{fontSize:12,fontFamily:"sans-serif"};var r=n[8]?parseInt(n[8],10):12;return{italic:n[2]&&"italic"==n[2].toLowerCase(),variant:n[4],bold:n[6]&&/bold|700/i.test(n[6]),fontSize:r,lineHeight:n[12]?"normal"==n[12]?r:parseInt(n[12],10):null,fontFamily:n[14].split(/\s*,\s*/g).map(Ge)}}function Ye(t){function e(e){return t.bold&&(e+="|bold"),t.italic&&(e+="|italic"),e.toLowerCase()}var n,r,o=t.fontFamily;if(o instanceof Array)for(var i=0;i<o.length&&(n=e(o[i]),!(r=Ha[n]));++i);else r=Ha[o.toLowerCase()];for(;"function"==typeof r;)r=r();return r||(r="Times-Roman"),r}function Xe(t,e){t=t.toLowerCase(),Ha[t]=function(){return Ha[e]},Ha[t+"|bold"]=function(){return Ha[e+"|bold"]},Ha[t+"|italic"]=function(){return Ha[e+"|italic"]},Ha[t+"|bold|italic"]=function(){return Ha[e+"|bold|italic"]}}function Ze(t,e){if(1==arguments.length)for(var n in t)Ae(t,n)&&Ze(n,t[n]);else switch(t=t.toLowerCase(),Ha[t]=e,t){case"dejavu sans":Ha["sans-serif"]=e;break;case"dejavu sans|bold":Ha["sans-serif|bold"]=e;break;case"dejavu sans|italic":Ha["sans-serif|italic"]=e;break;case"dejavu sans|bold|italic":Ha["sans-serif|bold|italic"]=e;break;case"dejavu serif":Ha.serif=e;break;case"dejavu serif|bold":Ha["serif|bold"]=e;break;case"dejavu serif|italic":Ha["serif|italic"]=e;break;case"dejavu serif|bold|italic":Ha["serif|bold|italic"]=e;break;case"dejavu mono":Ha.monospace=e;break;case"dejavu mono|bold":Ha["monospace|bold"]=e;break;case"dejavu mono|italic":Ha["monospace|italic"]=e;break;case"dejavu mono|bold|italic":Ha["monospace|bold|italic"]=e}}function Je(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],s=t[4],a=t[5],l=e[0],c=e[1],u=e[2],p=e[3],h=e[4],f=e[5];return[n*l+r*u,n*c+r*p,o*l+i*u,o*c+i*p,s*l+a*u+h,s*c+a*p+f]}function Qe(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]}function tn(t,e){function n(t,e,n){return n||(n=s),n.pdf&&null!=n.pdf[t]?n.pdf[t]:e}function r(){function r(t){var e=t.options,r=Sn(t),i=r.bbox;t=r.root;var s=n("paperSize",n("paperSize","auto"),e),a=!1;if("auto"==s)if(i){var l=i.getSize();s=[l.width,l.height],a=!0;var c=i.getOrigin();r=new wi,r.transform(new fo(1,0,0,1,-c.x,-c.y)),r.append(t),t=r}else s="A4";var u;u=o.addPage({paperSize:s,margin:n("margin",n("margin"),e),addMargin:a,landscape:n("landscape",n("landscape",!1),e)}),sn(t,u,o)}if(!(--c>0)){var o=new Sa({producer:n("producer"),title:n("title"),author:n("author"),subject:n("subject"),keywords:n("keywords"),creator:n("creator"),date:n("date"),autoPrint:n("autoPrint")});a?t.children.forEach(r):r(t),e(o.render(),o)}}var o=[],i={},s=t.options,a=n("multiPage"),l=n("imgDPI");Oe(),t.traverse(function(t){on({Image:function(t){var e=t.src();if(l){var n=t.bbox().size,r=i[e];n={width:Math.ceil(n.width*l/72),height:Math.ceil(n.height*l/72)},r&&(n.width=Math.max(r.width,n.width),n.height=Math.max(r.height,n.height)),i[e]=n}else i[e]=null},Text:function(t){var e=$e(t.options.font),n=Ye(e);o.indexOf(n)<0&&o.push(n)}},t)});var c=2;xa(o,r),ka(i,r,{jpegQuality:n("jpegQuality",.92),keepPNG:n("keepPNG",!1)})}function en(t,e){tn(t,function(t){e("data:application/pdf;base64,"+t.base64())})}function nn(t,e){tn(t,function(t){e(new window.Blob([t.get()],{type:"application/pdf"}))})}function rn(t,e,n,r){window.Blob&&!Kr.browser.safari?nn(t,function(t){c({dataURI:t,fileName:e}),r&&r(t)}):en(t,function(t){c({dataURI:t,fileName:e,proxyURL:n}),r&&r(t)})}function on(t,e){var n=t[e.nodeType];return n?n.call.apply(n,arguments):e;
}function sn(t,e,n){t.options._pdfDebug&&e.comment("BEGIN: "+t.options._pdfDebug);var r=t.transform(),o=t.opacity();if(e.save(),null!=o&&o<1&&e.setOpacity(o),an(t,e,n),ln(t,e,n),r){var i=r.matrix();e.transform(i.a,i.b,i.c,i.d,i.e,i.f)}cn(t,e,n),on({Path:vn,MultiPath:yn,Circle:gn,Arc:mn,Text:bn,Image:_n,Group:wn,Rect:xn},t,e,n),e.restore(),t.options._pdfDebug&&e.comment("END: "+t.options._pdfDebug)}function an(t,e){var n=t.stroke&&t.stroke();if(n){var r=n.color;if(r){if(r=kn(r),null==r)return;e.setStrokeColor(r.r,r.g,r.b),1!=r.a&&e.setStrokeOpacity(r.a)}var o=n.width;if(null!=o){if(0===o)return;e.setLineWidth(o)}var i=n.dashType;i&&e.setDashPattern(Ka[i],0);var s=n.lineCap;s&&e.setLineCap(qa[s]);var a=n.lineJoin;a&&e.setLineJoin(Ga[a]);var l=n.opacity;null!=l&&e.setStrokeOpacity(l)}}function ln(t,e){var n=t.fill&&t.fill();if(n&&!(n instanceof Pi)){var r=n.color;if(r){if(r=kn(r),null==r)return;e.setFillColor(r.r,r.g,r.b),1!=r.a&&e.setFillOpacity(r.a)}var o=n.opacity;null!=o&&e.setFillOpacity(o)}}function cn(t,e,n){var r=t.clip();r&&(dn(r,e,n),e.clip())}function un(t){return t&&(t instanceof Pi||t.color&&!/^(none|transparent)$/i.test(t.color)&&(null==t.width||t.width>0)&&(null==t.opacity||t.opacity>0))}function pn(t,e,n,r){var o=t.fill();if(o instanceof Pi){r?e.clipStroke():e.clip();var i,s,a=o instanceof ji;a?(i={x:o.center().x,y:o.center().y,r:0},s={x:o.center().x,y:o.center().y,r:o.radius()}):(i={x:o.start().x,y:o.start().y},s={x:o.end().x,y:o.end().y});var l=o.stops.elements().map(function(t){var e=t.offset();e=/%$/.test(e)?parseFloat(e)/100:parseFloat(e);var n=kn(t.color());return n.a*=t.opacity(),{offset:e,color:n}});l.unshift(l[0]),l.push(l[l.length-1]);var c={userSpace:o.userSpace(),type:a?"radial":"linear",start:i,end:s,stops:l},u=t.rawBBox(),p=u.topLeft(),h=u.getSize();return u={left:p.x,top:p.y,width:h.width,height:h.height},e.gradient(c,u),!0}}function hn(t,e,n){un(t.fill())&&un(t.stroke())?pn(t,e,n,!0)||e.fillStroke():un(t.fill())?pn(t,e,n,!1)||e.fill():un(t.stroke())?e.stroke():e.nop()}function fn(t,e){var n=t.segments;if(4==n.length&&t.options.closed){for(var r=[],o=0;o<n.length;++o){if(n[o].controlIn())return!1;r[o]=n[o].anchor()}var i=r[0].y==r[1].y&&r[1].x==r[2].x&&r[2].y==r[3].y&&r[3].x==r[0].x||r[0].x==r[1].x&&r[1].y==r[2].y&&r[2].x==r[3].x&&r[3].y==r[0].y;if(i)return e.rect(r[0].x,r[0].y,r[2].x-r[0].x,r[2].y-r[0].y),!0}}function dn(t,e,n){var r=t.segments;if(0!==r.length&&!fn(t,e,n)){for(var o,i=0;i<r.length;++i){var s=r[i],a=s.anchor();if(o){var l=o.controlOut(),c=s.controlIn();l&&c?e.bezier(l.x,l.y,c.x,c.y,a.x,a.y):e.lineTo(a.x,a.y)}else e.moveTo(a.x,a.y);o=s}t.options.closed&&e.close()}}function vn(t,e,n){dn(t,e,n),hn(t,e,n)}function yn(t,e,n){for(var r=t.paths,o=0;o<r.length;++o)dn(r[o],e,n);hn(t,e,n)}function gn(t,e,n){var r=t.geometry();e.circle(r.center.x,r.center.y,r.radius),hn(t,e,n)}function mn(t,e,n){var r=t.geometry().curvePoints();e.moveTo(r[0].x,r[0].y);for(var o=1;o<r.length;)e.bezier(r[o].x,r[o++].y,r[o].x,r[o++].y,r[o].x,r[o++].y);hn(t,e,n)}function bn(t,e){var n,r=$e(t.options.font),o=t._position;t.fill()&&t.stroke()?n=Ua.fillAndStroke:t.fill()?n=Ua.fill:t.stroke()&&(n=Ua.stroke),e.transform(1,0,0,-1,o.x,o.y+r.fontSize),e.beginText(),e.setFont(Ye(r),r.fontSize),e.setTextRenderingMode(n),e.showText(t.content(),t._pdfRect?t._pdfRect.width():null),e.endText()}function wn(t,e,n){t._pdfLink&&e.addLink(t._pdfLink.url,t._pdfLink);for(var r=t.children,o=0;o<r.length;++o)sn(r[o],e,n)}function _n(t,e){var n=t.src();if(n){var r=t.rect(),o=r.getOrigin(),i=r.getSize();e.transform(i.width,0,0,-i.height,o.x,o.y+i.height),e.drawImage(n)}}function xn(t,e,n){var r=t.geometry(),o=r.cornerRadius,i=o[0],s=o[1];0===i&&0===s?(e.rect(r.origin.x,r.origin.y,r.size.width,r.size.height),hn(t,e,n)):vn(pi.fromRect(r,t.options),e,n)}function kn(t){var e=y(t,!0);return e?e.toRGB():null}function Sn(t){function e(t){return a=!0,t}function n(t){return t.visible()&&t.opacity()>0&&(un(t.fill())||un(t.stroke()))}function r(t){for(var e=[],n=0;n<t.length;++n){var r=s(t[n]);null!=r&&e.push(r)}return e}function o(t,e){var n=l,r=c;t.transform()&&(c=c.multiplyCopy(t.transform().matrix()));var o=t.clip();o&&(o=o.bbox(),o&&(o=o.bbox(c),l=l?Po.intersect(l,o):o));try{return e()}finally{l=n,c=r}}function i(t){if(null==l)return!1;var e=t.rawBBox().bbox(c);return l&&e&&(e=Po.intersect(e,l)),e}function s(s){return o(s,function(){if(!(s instanceof wi||s instanceof hi)){var o=i(s);if(!o)return e(null);u=u?Po.union(u,o):o}return on({Path:function(t){return 0!==t.segments.length&&n(t)?t:e(null)},MultiPath:function(t){if(!n(t))return e(null);var o=new hi(t.options);return o.paths=r(t.paths),0===o.paths.length?e(null):o},Circle:function(t){return n(t)?t:e(null)},Arc:function(t){return n(t)?t:e(null)},Text:function(t){return/\S/.test(t.content())&&n(t)?t:e(null)},Image:function(t){return t.visible()&&t.opacity()>0?t:e(null)},Group:function(n){if(!(n.visible()&&n.opacity()>0))return e(null);var o=new wi(n.options);return o.children=r(n.children),o._pdfLink=n._pdfLink,n===t||0!==o.children.length||n._pdfLink?o:e(null)},Rect:function(t){return n(t)?t:e(null)}},s)})}var a,l=!1,c=fo.unit(),u=null;do a=!1,t=s(t);while(t&&a);return{root:t,bbox:u}}function Cn(t,e){var n=b();for(var r in e)"margin"==r&&t.options.pdf&&t.options.pdf._ignoreMargin||t.options.set("pdf."+r,e[r]);return en(t,n.resolve),n}function On(t,e){var n=b();for(var r in e)"margin"==r&&t.options.pdf&&t.options.pdf._ignoreMargin||t.options.set("pdf."+r,e[r]);return window.Blob&&!Kr.browser.safari?nn(t,n.resolve):en(t,n.resolve),n}function En(t){return Array.prototype.slice.call(t)}function Tn(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function Mn(t,e){t.classList?t.classList.remove(e):t.className=t.className.split(/\s+/).reduce(function(t,n){return n!=e&&t.push(n),t},[]).join(" ")}function Pn(t,e){Object.keys(e).forEach(function(n){t.style[n]=e[n]})}function An(t,e){if(t.closest)return t.closest(e);for(;t&&!/^\[object (?:HTML)?Document\]$/.test(String(t));){if(1==t.nodeType&&nl(t,e))return t;t=t.parentNode}}function Dn(t){return"number"==typeof t?{x:t,y:t}:Array.isArray(t)?{x:t[0],y:t[1]}:{x:t.x,y:t.y}}function jn(t,e){function n(t){var n=new wi,r=t.getBoundingClientRect();return cr(n,[s.x,0,0,s.y,-r.left*s.x,-r.top*s.y]),Ja._clipbox=!1,Ja._matrix=fo.unit(),Ja._stackingContext={element:t,group:n},e.avoidLinks===!0?Ja._avoidLinks="a":Ja._avoidLinks=e.avoidLinks,Tn(t,"k-pdf-export"),Dr(t,n),Mn(t,"k-pdf-export"),n}function r(t){if(null!=t)return"string"==typeof t&&(t=p(t.replace(/^\s+|\s+$/g,""))),"function"==typeof t?function(e){var n=t(e);if(n&&"string"==typeof n){var r=document.createElement("div");r.innerHTML=n,n=r.firstElementChild}return n}:function(){return t.cloneNode(!0)}}function o(t,e,n,o,i,s,a){function l(){("-"!=n||i)&&u(w);var e=f();w.parentNode.insertBefore(e,w),e.appendChild(w),g&&b.forEach(function(t,e){var n=g({element:t,pageNum:e+1,totalPages:b.length});n&&t.appendChild(n)}),Kn(b,t.bind(null,{pages:b,container:_}))}function c(t){if(a.keepTogether&&nl(t,a.keepTogether)&&t.offsetHeight<=i-x)return!0;var e=t.tagName;return!(/^h[1-6]$/i.test(e)&&t.offsetHeight>=i-x)&&(t.getAttribute("data-kendo-chart")||/^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(t.tagName))}function u(t){if("TABLE"==t.tagName&&Pn(t,{tableLayout:"fixed"}),!c(t)){var e=Jn(t),r=parseFloat(Qn(e,"padding-bottom")),o=parseFloat(Qn(e,"border-bottom-width")),s=x;x+=r+o;for(var a=!0,l=t.firstChild;l;l=l.nextSibling)if(1==l.nodeType){if(a=!1,nl(l,n)){h(l);continue}if(!i){u(l);continue}if(!/^(?:static|relative)$/.test(Qn(Jn(l),"position")))continue;var p=d(l);1==p?h(l):p&&c(l)?h(l):u(l)}else 3==l.nodeType&&i&&(v(l,a),a=!1);x=s}}function p(t){var e=t.parentNode,n=e.firstChild;if(t===n)return!0;if(t===e.children[0]){if(7==n.nodeType||8==n.nodeType)return!0;if(3==n.nodeType)return!/\S/.test(n.data)}return!1}function h(t){if(1==t.nodeType&&t!==w&&p(t))return h(t.parentNode);var e,n,r,o,i;e=An(t,"table"),n=e&&e.querySelector("colgroup"),a.repeatHeaders&&(r=e&&e.querySelector("thead"),o=An(t,".k-grid.k-widget"),o&&o.querySelector(".k-auto-scrollable")&&(i=o.querySelector(".k-grid-header")));var s=f(),l=m.createRange();l.setStartBefore(w),l.setEndBefore(t),s.appendChild(l.extractContents()),w.parentNode.insertBefore(s,w),y(t.parentNode),e&&(e=An(t,"table"),a.repeatHeaders&&r&&e.insertBefore(r.cloneNode(!0),e.firstChild),n&&e.insertBefore(n.cloneNode(!0),e.firstChild)),a.repeatHeaders&&i&&(o=An(t,".k-grid.k-widget"),o.insertBefore(i.cloneNode(!0),o.firstChild))}function f(){var t=m.createElement("KENDO-PDF-PAGE");return Pn(t,{display:"block",boxSizing:"content-box",width:o?o+"px":"auto",padding:s.top+"px "+s.right+"px "+s.bottom+"px "+s.left+"px",position:"relative",height:i?i+"px":"auto",overflow:i||o?"hidden":"visible",clear:"both"}),a&&a.pageClassName&&(t.className=a.pageClassName),b.push(t),t}function d(t){var e=t.getBoundingClientRect();if(0===e.width||0===e.height)return 0;var n=w.getBoundingClientRect().top,r=i-x;return e.height>r?3:e.top-n>r?1:e.bottom-n>r?2:0}function v(t,e){if(/\S/.test(t.data)){var n=t.data.length,r=m.createRange();r.selectNodeContents(t);var o=d(r);if(o){var i=t;if(1==o)h(e?t.parentNode:t);else if(function e(n,o,i){return r.setEnd(t,o),n==o||o==i?o:d(r)?e(n,n+o>>1,o):e(o,o+i>>1,i)}(0,n>>1,n),!/\S/.test(r.toString())&&e)h(t.parentNode);else{i=t.splitText(r.endOffset);var s=f();r.setStartBefore(w),s.appendChild(r.extractContents()),w.parentNode.insertBefore(s,w),y(i.parentNode)}v(i)}}}function y(t){var e=An(t,"li");e&&(e.setAttribute("kendo-no-bullet","1"),y(e.parentNode))}var g=r(a.template),m=e.ownerDocument,b=[],w=a._destructive?e:rl(e),_=m.createElement("KENDO-PDF-DOCUMENT"),x=0;En(w.querySelectorAll("tfoot")).forEach(function(t){t.parentNode.appendChild(t)}),En(w.querySelectorAll("ol")).forEach(function(t){En(t.children).forEach(function(t,e){t.setAttribute("kendo-split-index",e)})}),Pn(_,{display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"}),o&&(Pn(_,{width:o+"px",paddingLeft:s.left+"px",paddingRight:s.right+"px"}),Pn(w,{overflow:"hidden"})),e.parentNode.insertBefore(_,e),_.appendChild(w),a.beforePageBreak?Un([_],function(){a.beforePageBreak(_,l)}):Un([_],l)}e||(e={});var i=b();if(!t)return i.reject("No element to export");if("function"!=typeof window.getComputedStyle)throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");Ze(In(t.ownerDocument));var s=Dn(e.scale||1);return Kn([t],function(){var r=e&&e.forcePageBreak,a=e&&e.paperSize&&"auto"!=e.paperSize,l=ke(function(t,n){return"paperSize"==t?a?e[t]:"A4":t in e?e[t]:n}),c=a&&l.paperSize[0],u=a&&l.paperSize[1],p=e.margin&&l.margin,h=Boolean(p);if(r||u){p||(p={left:0,top:0,right:0,bottom:0}),c&&(c/=s.x),u&&(u/=s.y),p.left/=s.x,p.right/=s.x,p.top/=s.y,p.bottom/=s.y;var f=new wi({pdf:{multiPage:!0,paperSize:a?l.paperSize:"auto",_ignoreMargin:h}});o(function(t){if(e.progress){var r=!1,o=0;!function s(){if(o<t.pages.length){var a=n(t.pages[o]);f.append(a),e.progress({page:a,pageNum:++o,totalPages:t.pages.length,cancel:function(){r=!0}}),r?t.container.parentNode.removeChild(t.container):setTimeout(s)}else t.container.parentNode.removeChild(t.container),i.resolve(f)}()}else t.pages.forEach(function(t){f.append(n(t))}),t.container.parentNode.removeChild(t.container),i.resolve(f)},t,r,c?c-p.left-p.right:null,u?u-p.top-p.bottom:null,p,e)}else i.resolve(n(t))}),i}function Rn(t){var e=new wi;return Ja._clipbox=!1,Ja._matrix=fo.unit(),Ja._stackingContext={element:t,group:e},Gn(t,Jn(t),e),3==t.firstChild.nodeType?Pr(t,t.firstChild,e):wr(t,e),$n(),e}function In(t){function e(t){if(t){var e=null;try{e=t.cssRules}catch(t){}e&&r(t,e)}}function n(t){var e=Qn(t.style,"src");if(e)return il(e).reduce(function(t,e){var n=sl(e);return n&&t.push(n),t},[]);var n=sl(t.cssText);return n?[n]:[]}function r(t,r){for(var i=0;i<r.length;++i){var s=r[i];switch(s.type){case 3:e(s.styleSheet);break;case 5:var a=s.style,l=il(Qn(a,"font-family")),c=/^([56789]00|bold)$/i.test(Qn(a,"font-weight")),u="italic"==Qn(a,"font-style"),p=n(s);p.length>0&&o(t,l,c,u,p[0])}}}function o(t,e,n,r,o){/^data:/i.test(o)||/^[^\/:]+:\/\//.test(o)||/^\//.test(o)||(o=String(t.href).replace(/[^\/]*$/,"")+o),e.forEach(function(t){t=t.replace(/^(['"]?)(.*?)\1$/,"$2"),n&&(t+="|bold"),r&&(t+="|italic"),i[t]=o})}null==t&&(t=document);for(var i={},s=0;s<t.styleSheets.length;++s)e(t.styleSheets[s]);return i}function Ln(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function zn(t){return t="_counter_"+t,Ja[t]}function Fn(t){var e=[],n=Ja;for(t="_counter_"+t;n;)Ln(n,t)&&e.push(n[t]),n=Object.getPrototypeOf(n);return e.reverse()}function Bn(t,e){var n=Ja;for(t="_counter_"+t;n&&!Ln(n,t);)n=Object.getPrototypeOf(n);n||(n=Ja._root),n[t]=(n[t]||0)+(null==e?1:e)}function Nn(t,e){t="_counter_"+t,Ja[t]=null==e?0:e}function Vn(t,e,n){for(var r=0;r<t.length;){var o=t[r++],i=parseFloat(t[r]);isNaN(i)?e(o,n):(e(o,i),++r)}}function Hn(t){var e=Qn(t,"counter-reset");e&&Vn(il(e,/^\s+/),Nn,0);var n=Qn(t,"counter-increment");n&&Vn(il(n,/^\s+/),Bn,1)}function Wn(t,e){var n=y(t,!0);return n&&(n=n.toRGB(),e?n=n.toCssRgba():0===n.a&&(n=null)),n}function Un(t,e){function n(){--r<=0&&e()}var r=0;t.forEach(function(t){for(var e=t.querySelectorAll("img"),o=0;o<e.length;++o){var i=e[o];i.complete||(r++,i.onload=i.onerror=n)}}),r||n()}function Kn(t,e){function n(t){Za[t]||(Za[t]=!0,o.push(t))}function r(){--i<=0&&Un(t,e)}var o=[];t.forEach(function t(e){/^img$/i.test(e.tagName)&&n(e.src),ol(Qn(Jn(e),"background-image")).forEach(function(t){"url"==t.type&&n(t.url)}),e.children&&En(e.children).forEach(t)});var i=o.length;0===i&&r(),o.forEach(function(t){var e=Za[t]=new window.Image;/^data:/i.test(t)||(e.crossOrigin="Anonymous"),e.src=t,e.complete?r():(e.onload=r,e.onerror=function(){Za[t]=null,r()})})}function qn(t){var e="";do{var n=t%26;e=String.fromCharCode(97+n)+e,t=Math.floor(t/26)}while(t>0);return e}function Gn(t,e,n){Ja=Object.create(Ja),Ja[t.tagName.toLowerCase()]={element:t,style:e};var r=Qn(e,"text-decoration");if(r&&"none"!=r){var o=Qn(e,"color");r.split(/\s+/g).forEach(function(t){Ja[t]||(Ja[t]=o)})}Zn(e)&&(Ja._stackingContext={element:t,group:n})}function $n(){Ja=Object.getPrototypeOf(Ja)}function Yn(t){if(null!=Ja._clipbox){var e=t.bbox(Ja._matrix);Ja._clipbox?Ja._clipbox=Po.intersect(Ja._clipbox,e):Ja._clipbox=e}}function Xn(){var t=Ja._clipbox;return null==t||(t?0===t.width()||0===t.height():void 0)}function Zn(t){function e(e){return Qn(t,e)}if("none"!=e("transform")||"static"!=e("position")||"auto"!=e("z-index")||e("opacity")<1)return!0}function Jn(t,e){return window.getComputedStyle(t,e||null)}function Qn(t,e,n){var r=t.getPropertyValue(e);return null!=r&&""!==r||(Ya.webkit?r=t.getPropertyValue("-webkit-"+e):Ya.mozilla?r=t.getPropertyValue("-moz-"+e):Ya.opera?r=t.getPropertyValue("-o-"+e):tl&&(r=t.getPropertyValue("-ms-"+e))),arguments.length>2&&(null==r||""===r)?n:r}function tr(t,e,n,r){t.setProperty(e,n,r),Ya.webkit?t.setProperty("-webkit-"+e,n,r):Ya.mozilla?t.setProperty("-moz-"+e,n,r):Ya.opera?t.setProperty("-o-"+e,n,r):tl&&(t.setProperty("-ms-"+e,n,r),e="ms"+e.replace(/(^|-)([a-z])/g,function(t,e,n){return e+n.toUpperCase()}),t[e]=n)}function er(t,e){return e="border-"+e,{width:parseFloat(Qn(t,e+"-width")),style:Qn(t,e+"-style"),color:Wn(Qn(t,e+"-color"),!0)}}function nr(t,e){var n=t.style.cssText,r=e();return t.style.cssText=n,r}function rr(t,e){var n=Qn(t,"border-"+e+"-radius").split(/\s+/g).map(parseFloat);return 1==n.length&&n.push(n[0]),hr({x:n[0],y:n[1]})}function or(t){var e=t.getBoundingClientRect();return e=ir(e,"border-*-width",t),e=ir(e,"padding-*",t)}function ir(t,e,n){var r,o,i,s,a;return"string"==typeof e?(r=Jn(n),o=parseFloat(Qn(r,e.replace("*","top"))),i=parseFloat(Qn(r,e.replace("*","right"))),s=parseFloat(Qn(r,e.replace("*","bottom"))),a=parseFloat(Qn(r,e.replace("*","left")))):"number"==typeof e&&(o=i=s=a=e),{top:t.top+o,right:t.right-i,bottom:t.bottom-s,left:t.left+a,width:t.right-t.left-i-a,height:t.bottom-t.top-s-o}}function sr(t){var e=Qn(t,"transform");if("none"==e)return null;var n=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(e);if(n){var r=Qn(t,"transform-origin");return n=n[1].split(/\s*,\s*/g).map(parseFloat),r=r.split(/\s+/g).map(parseFloat),{matrix:n,origin:r}}}function ar(t){return 180*t/Math.PI%360}function lr(t){var e=parseFloat(t);return/grad$/.test(t)?Math.PI*e/200:/rad$/.test(t)?e:/turn$/.test(t)?Math.PI*e*2:/deg$/.test(t)?Math.PI*e/180:void 0}function cr(t,e){return e=new fo(e[0],e[1],e[2],e[3],e[4],e[5]),t.transform(e),e}function ur(t,e){t.clip(e)}function pr(t,e,n,r){for(var o=new qo([e,n],r).curvePoints(),i=1;i<o.length;)t.curveTo(o[i++],o[i++],o[i++])}function hr(t){return(t.x<=0||t.y<=0)&&(t.x=t.y=0),t}function fr(t,e,n,r,o){var i=Math.max(0,e.x),s=Math.max(0,e.y),a=Math.max(0,n.x),l=Math.max(0,n.y),c=Math.max(0,r.x),u=Math.max(0,r.y),p=Math.max(0,o.x),h=Math.max(0,o.y),f=Math.min(t.width/(i+a),t.height/(l+u),t.width/(c+p),t.height/(h+s));return f<1&&(i*=f,s*=f,a*=f,l*=f,c*=f,u*=f,p*=f,h*=f),{tl:{x:i,y:s},tr:{x:a,y:l},br:{x:c,y:u},bl:{x:p,y:h}}}function dr(t,e,n){var r=Jn(t),o=rr(r,"top-left"),i=rr(r,"top-right"),s=rr(r,"bottom-left"),a=rr(r,"bottom-right");if("padding"==n||"content"==n){var l=er(r,"top"),c=er(r,"right"),u=er(r,"bottom"),p=er(r,"left");if(o.x-=p.width,o.y-=l.width,i.x-=c.width,i.y-=l.width,a.x-=c.width,a.y-=u.width,s.x-=p.width,s.y-=u.width,"content"==n){var h=parseFloat(Qn(r,"padding-top")),f=parseFloat(Qn(r,"padding-right")),d=parseFloat(Qn(r,"padding-bottom")),v=parseFloat(Qn(r,"padding-left"));o.x-=v,o.y-=h,i.x-=f,i.y-=h,a.x-=f,a.y-=d,s.x-=v,s.y-=d}}return"number"==typeof n&&(o.x-=n,o.y-=n,i.x-=n,i.y-=n,a.x-=n,a.y-=n,s.x-=n,s.y-=n),vr(e,o,i,a,s)}function vr(t,e,n,r,o){var i=fr(t,e,n,r,o),s=i.tl,a=i.tr,l=i.br,c=i.bl,u=new pi({fill:null,stroke:null});return u.moveTo(t.left,t.top+s.y),s.x&&pr(u,t.left+s.x,t.top+s.y,{startAngle:-180,endAngle:-90,radiusX:s.x,radiusY:s.y}),u.lineTo(t.right-a.x,t.top),a.x&&pr(u,t.right-a.x,t.top+a.y,{startAngle:-90,endAngle:0,radiusX:a.x,radiusY:a.y}),u.lineTo(t.right,t.bottom-l.y),l.x&&pr(u,t.right-l.x,t.bottom-l.y,{startAngle:0,endAngle:90,radiusX:l.x,radiusY:l.y}),u.lineTo(t.left+c.x,t.bottom),c.x&&pr(u,t.left+c.x,t.bottom-c.y,{startAngle:90,endAngle:180,radiusX:c.x,radiusY:c.y}),u.close()}function yr(t,e){var n=String(parseFloat(t));switch(e){case"decimal-leading-zero":return n.length<2&&(n="0"+n),n;case"lower-roman":return m(t).toLowerCase();case"upper-roman":return m(t).toUpperCase();case"lower-latin":case"lower-alpha":return qn(t-1);case"upper-latin":case"upper-alpha":return qn(t-1).toUpperCase();default:return n}}function gr(t,e){function n(t,e,n){return n?(n=n.replace(/^\s*(["'])(.*)\1\s*$/,"$2"),Fn(t).map(function(t){return yr(t,e)}).join(n)):yr(zn(t)||0,e)}var r,o=il(e,/^\s+/),i=[];return o.forEach(function(e){var o;(r=/^\s*(["'])(.*)\1\s*$/.exec(e))?i.push(r[2].replace(/\\([0-9a-f]{4})/gi,function(t,e){return String.fromCharCode(parseInt(e,16))})):(r=/^\s*counter\((.*?)\)\s*$/.exec(e))?(o=il(r[1]),i.push(n(o[0],o[1]))):(r=/^\s*counters\((.*?)\)\s*$/.exec(e))?(o=il(r[1]),i.push(n(o[0],o[2],o[1]))):(r=/^\s*attr\((.*?)\)\s*$/.exec(e))?i.push(t.getAttribute(r[1])||""):i.push(e)}),i.join("")}function mr(t){if(t.cssText)return t.cssText;for(var e=[],n=0;n<t.length;++n)e.push(t[n]+": "+Qn(t,t[n]));return e.join(";\n")}function br(t,e){function n(e,n){var o=Jn(t,e),i=o.content;if(Hn(o),i&&"normal"!=i&&"none"!=i&&"0px"!=o.width){var s=t.ownerDocument.createElement(Xa);s.style.cssText=mr(o),s.textContent=gr(t,i),t.insertBefore(s,n),r.push(s)}}if(t.tagName==Xa)return void wr(t,e);var r=[];if(n(":before",t.firstChild),n(":after",null),r.length>0){var o=t.className;t.className+=" kendo-pdf-hide-pseudo-elements",wr(t,e),t.className=o,r.forEach(function(e){t.removeChild(e)})}else wr(t,e)}function wr(t,e){function n(e){if(/^td$/i.test(t.tagName)){var n=Ja.table;if(n&&"collapse"==Qn(n.style,"border-collapse")){var r=er(n.style,"left").width,o=er(n.style,"top").width;if(0===r&&0===o)return e;var i=n.element.getBoundingClientRect(),s=n.element.rows[0].cells[0],a=s.getBoundingClientRect();if(a.top==i.top||a.left==i.left)return En(e).map(function(t){return{left:t.left+r,top:t.top+o,right:t.right+r,bottom:t.bottom+o,height:t.height,width:t.width}})}}return e}function r(t,n,r,o,i,s,a,l){function c(e,n,o){var i=Math.PI/2*e/(e+r),s={x:n.x-e,y:n.y-r},a=new pi({fill:{color:t},stroke:null}).moveTo(0,0);cr(a,o),pr(a,0,n.y,{startAngle:-90,endAngle:-ar(i),radiusX:n.x,radiusY:n.y}),s.x>0&&s.y>0?(a.lineTo(s.x*Math.cos(i),n.y-s.y*Math.sin(i)),pr(a,0,n.y,{startAngle:-ar(i),endAngle:-90,radiusX:s.x,radiusY:s.y,anticlockwise:!0})):s.x>0?a.lineTo(s.x,r).lineTo(0,r):a.lineTo(s.x,r).lineTo(s.x,0),p.append(a.close())}if(!(r<=0)){var u,p=new wi;cr(p,l),e.append(p),hr(s),hr(a),u=new pi({fill:{color:t},stroke:null}),p.append(u),u.moveTo(s.x?Math.max(s.x,o):0,0).lineTo(n-(a.x?Math.max(a.x,i):0),0).lineTo(n-Math.max(a.x,i),r).lineTo(Math.max(s.x,o),r).close(),s.x&&c(o,s,[-1,0,0,1,s.x,0]),a.x&&c(i,a,[1,0,0,1,n-a.x,0])}}function o(t){var n=new wi;if(ur(n,vr(t,f,d,y,v)),e.append(n),b){var r=new pi({fill:{color:b.toCssRgba()},stroke:null});r.moveTo(t.left,t.top).lineTo(t.right,t.top).lineTo(t.right,t.bottom).lineTo(t.left,t.bottom).close(),n.append(r)}for(var o=x.length;--o>=0;)i(n,t,x[o],k[o%k.length],S[o%S.length],C[o%C.length],O[o%O.length])}function i(e,n,r,o,i,s,a){function l(e,n,r,l,c){function u(){for(;m.origin.x>n.left;)m.origin.x-=r}function p(){for(;m.origin.y>n.top;)m.origin.y-=l}function h(){for(;m.origin.x<n.right;)c(e,m.clone()),m.origin.x+=r}var f,d=r/l,v=n;if("content-box"==s?(v=ir(v,"border-*-width",t),v=ir(v,"padding-*",t)):"padding-box"==s&&(v=ir(v,"border-*-width",t)),!/^\s*auto(\s+auto)?\s*$/.test(a))if("contain"==a)f=Math.min(v.width/r,v.height/l),r*=f,l*=f;else if("cover"==a)f=Math.max(v.width/r,v.height/l),r*=f,l*=f;else{var y=a.split(/\s+/g);r=/%$/.test(y[0])?v.width*parseFloat(y[0])/100:parseFloat(y[0]),l=1==y.length||"auto"==y[1]?r/d:/%$/.test(y[1])?v.height*parseFloat(y[1])/100:parseFloat(y[1])}var g=String(i);switch(g){case"bottom":g="50% 100%";break;case"top":g="50% 0";break;case"left":g="0 50%";break;case"right":g="100% 50%";break;case"center":g="50% 50%"}g=g.split(/\s+/),1==g.length&&(g[1]="50%"),/%$/.test(g[0])?g[0]=parseFloat(g[0])/100*(v.width-r):g[0]=parseFloat(g[0]),/%$/.test(g[1])?g[1]=parseFloat(g[1])/100*(v.height-l):g[1]=parseFloat(g[1]);var m=new Po([v.left+g[0],v.top+g[1]],[r,l]);if("no-repeat"==o)c(e,m);else if("repeat-x"==o)u(),h();else if("repeat-y"==o)for(p();m.origin.y<n.bottom;)c(e,m.clone()),m.origin.y+=l;else if("repeat"==o){u(),p();for(var b=m.origin.clone();m.origin.y<n.bottom;)m.origin.x=b.x,h(),m.origin.y+=l}}if(r&&"none"!=r)if("url"==r.type){var c=Za[r.url];c&&c.width>0&&c.height>0&&l(e,n,c.width,c.height,function(t,e){t.append(new mi(r.url,e))})}else{if("linear"!=r.type)return;l(e,n,n.width,n.height,_r(r))}}function s(){function n(n){nr(t,function(){t.style.position="relative";var r=t.ownerDocument.createElement(Xa);r.style.position="absolute",r.style.boxSizing="border-box","outside"==i?(r.style.width="6em",r.style.left="-6.8em",r.style.textAlign="right"):r.style.left="0px",n(r),t.insertBefore(r,t.firstChild),Dr(r,e),t.removeChild(r)})}function r(e){var n=t.parentNode.children,r=t.getAttribute("kendo-split-index");if(null!=r)return e(0|r,n.length);for(var o=0;o<n.length;++o)if(n[o]===t)return e(o,n.length)}var o=Qn(l,"list-style-type");if("none"!=o){var i=Qn(l,"list-style-position");switch(o){case"circle":case"disc":case"square":n(function(t){t.style.fontSize="60%",t.style.lineHeight="200%",t.style.paddingRight="0.5em",t.style.fontFamily="DejaVu Serif",t.innerHTML={disc:"",circle:"",square:""}[o]});break;case"decimal":case"decimal-leading-zero":n(function(t){r(function(e){++e,"decimal-leading-zero"==o&&e<10&&(e="0"+e),t.innerHTML=e+"."})});break;case"lower-roman":case"upper-roman":n(function(t){r(function(e){e=m(e+1),"upper-roman"==o&&(e=e.toUpperCase()),t.innerHTML=e+"."})});break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":n(function(t){r(function(e){e=qn(e),/^upper/i.test(o)&&(e=e.toUpperCase()),t.innerHTML=e+"."})})}}}function a(n,i,s){function a(t){return{x:t.y,y:t.x}}if(0!==n.width&&0!==n.height){o(n);var l=h.width>0&&(i&&"ltr"==g||s&&"rtl"==g),m=u.width>0&&(s&&"ltr"==g||i&&"rtl"==g);if(0!==c.width||0!==h.width||0!==u.width||0!==p.width){if(c.color==u.color&&c.color==p.color&&c.color==h.color&&c.width==u.width&&c.width==p.width&&c.width==h.width&&l&&m){n=ir(n,c.width/2);var b=dr(t,n,c.width/2);return b.options.stroke={color:c.color,width:c.width},void e.append(b)}if(0===f.x&&0===d.x&&0===y.x&&0===v.x&&c.width<2&&h.width<2&&u.width<2&&p.width<2)return c.width>0&&e.append(new pi({stroke:{width:c.width,color:c.color}}).moveTo(n.left,n.top+c.width/2).lineTo(n.right,n.top+c.width/2)),p.width>0&&e.append(new pi({stroke:{width:p.width,color:p.color}}).moveTo(n.left,n.bottom-p.width/2).lineTo(n.right,n.bottom-p.width/2)),l&&e.append(new pi({stroke:{width:h.width,color:h.color}}).moveTo(n.left+h.width/2,n.top).lineTo(n.left+h.width/2,n.bottom)),void(m&&e.append(new pi({stroke:{width:u.width,color:u.color}}).moveTo(n.right-u.width/2,n.top).lineTo(n.right-u.width/2,n.bottom)));var w=fr(n,f,d,y,v),_=w.tl,x=w.tr,k=w.br,S=w.bl;r(c.color,n.width,c.width,h.width,u.width,_,x,[1,0,0,1,n.left,n.top]),r(p.color,n.width,p.width,u.width,h.width,k,S,[-1,0,0,-1,n.right,n.bottom]),r(h.color,n.height,h.width,p.width,c.width,a(S),a(_),[0,-1,1,0,n.left,n.bottom]),r(u.color,n.height,u.width,c.width,p.width,a(x),a(k),[0,1,-1,0,n.right,n.top])}}}var l=Jn(t),c=er(l,"top"),u=er(l,"right"),p=er(l,"bottom"),h=er(l,"left"),f=rr(l,"top-left"),d=rr(l,"top-right"),v=rr(l,"bottom-left"),y=rr(l,"bottom-right"),g=Qn(l,"direction"),b=Qn(l,"background-color");b=Wn(b);var w,_,x=ol(Qn(l,"background-image")),k=il(Qn(l,"background-repeat")),S=il(Qn(l,"background-position")),C=il(Qn(l,"background-origin")),O=il(Qn(l,"background-size"));tl&&(w=l.textOverflow,"ellipsis"==w&&(_=t.style.textOverflow,t.style.textOverflow="clip")),Ya.msie&&Ya.version<10&&(S=il(t.currentStyle.backgroundPosition));var E=ir(t.getBoundingClientRect(),"border-*-width",t);!function(){var t=Qn(l,"clip"),n=/^\s*rect\((.*)\)\s*$/.exec(t);if(n){var r=n[1].split(/[ ,]+/g),o="auto"==r[0]?E.top:parseFloat(r[0])+E.top,i="auto"==r[1]?E.right:parseFloat(r[1])+E.left,s="auto"==r[2]?E.bottom:parseFloat(r[2])+E.top,a="auto"==r[3]?E.left:parseFloat(r[3])+E.left,c=new wi,u=(new pi).moveTo(a,o).lineTo(i,o).lineTo(i,s).lineTo(a,s).close();ur(c,u),e.append(c),e=c,Yn(u)}}();var T,M,P,A=Qn(l,"display");if("table-row"==A)for(T=[],M=0,P=t.children;M<P.length;++M)T.push(P[M].getBoundingClientRect());else T=t.getClientRects(),1==T.length&&(T=[t.getBoundingClientRect()]);for(T=n(T),M=0;M<T.length;++M)a(T[M],0===M,M==T.length-1);if("A"==t.tagName&&t.href&&!/^#?$/.test(t.getAttribute("href"))&&(!Ja._avoidLinks||!nl(t,Ja._avoidLinks))){var D=document.createRange();D.selectNodeContents(t),En(D.getClientRects()).forEach(function(n){var r=new wi;r._pdfLink={url:t.href,top:n.top,right:n.right,bottom:n.bottom,left:n.left},e.append(r)})}return T.length>0&&"list-item"==A&&!t.getAttribute("kendo-no-bullet")&&s(T[0]),function(){function n(){var n=dr(t,E,"padding"),r=new wi;ur(r,n),e.append(r),e=r,Yn(n)}Cr(t)?n():/^(hidden|auto|scroll)/.test(Qn(l,"overflow"))?n():/^(hidden|auto|scroll)/.test(Qn(l,"overflow-x"))?n():/^(hidden|auto|scroll)/.test(Qn(l,"overflow-y"))&&n()}(),xr(t,e)||Mr(t,e),tl&&"ellipsis"==w&&(t.style.textOverflow=_),e}function _r(t){return function(e,n){var r=n.width(),o=n.height();switch(t.type){case"linear":var i=null!=t.angle?t.angle:Math.PI;switch(t.to){case"top":i=0;break;case"left":i=-Math.PI/2;break;case"bottom":i=Math.PI;break;case"right":i=Math.PI/2;break;case"top left":case"left top":i=-Math.atan2(o,r);break;case"top right":case"right top":i=Math.atan2(o,r);break;case"bottom left":case"left bottom":i=Math.PI+Math.atan2(o,r);break;case"bottom right":case"right bottom":i=Math.PI-Math.atan2(o,r)}t.reverse&&(i-=Math.PI),i%=2*Math.PI,i<0&&(i+=2*Math.PI);var s=Math.abs(r*Math.sin(i))+Math.abs(o*Math.cos(i)),a=Math.atan(r*Math.tan(i)/o),l=Math.sin(a),c=Math.cos(a),u=Math.abs(l)+Math.abs(c),p=u/2*l,h=u/2*c;i>Math.PI/2&&i<=3*Math.PI/2&&(p=-p,h=-h);var f=[],d=0,v=t.stops.map(function(e,n){var r=e.percent;r?r=parseFloat(r)/100:e.length?r=parseFloat(e.length)/s:0===n?r=0:n==t.stops.length-1&&(r=1);var o={color:e.color.toCssRgba(),offset:r};return null!=r?(d=r,f.forEach(function(t,e){var n=t.stop;n.offset=t.left+(d-t.left)*(e+1)/(f.length+1)}),f=[]):f.push({left:d,stop:o}),o}),y=[.5-p,.5+h],g=[.5+p,.5-h];e.append(pi.fromRect(n).stroke(null).fill(new Di({start:y,end:g,stops:v,userSpace:!1})));break;case"radial":window.console&&window.console.log&&window.console.log("Radial gradients are not yet supported in HTML renderer")}}}function xr(t,e){var n;if(t._kendoExportVisual)n=t._kendoExportVisual();else if(window.kendo&&window.kendo.jQuery&&t.getAttribute(window.kendo.attr("role"))){var r=window.kendo.widgetInstance(window.kendo.jQuery(t));r&&(r.exportDOMVisual||r.exportVisual)&&(n=r.exportDOMVisual?r.exportDOMVisual():r.exportVisual())}if(!n)return!1;var o=new wi;o.children.push(n);var i=t.getBoundingClientRect();return o.transform(rt().translate(i.left,i.top)),e.append(o),!0}function kr(t,e,n){var r=or(t),o=new Po([r.left,r.top],[r.width,r.height]),i=new mi(e,o);ur(i,dr(t,r,"content")),n.append(i)}function Sr(t,e){var n=Jn(t),r=Jn(e),o=parseFloat(Qn(n,"z-index")),i=parseFloat(Qn(r,"z-index")),s=Qn(n,"position"),a=Qn(r,"position");return isNaN(o)&&isNaN(i)?/static|absolute/.test(s)&&/static|absolute/.test(a)?0:"static"==s?-1:"static"==a?1:0:isNaN(o)?0===i?0:i>0?-1:1:isNaN(i)?0===o?0:o>0?1:-1:parseFloat(o)-parseFloat(i)}function Cr(t){return/^(?:textarea|select|input)$/i.test(t.tagName)}function Or(t){return t.selectedOptions&&t.selectedOptions.length>0?t.selectedOptions[0]:t.options[t.selectedIndex]}function Er(t,e){var n=Jn(t),r=Qn(n,"color"),o=t.getBoundingClientRect();"checkbox"==t.type?(e.append(pi.fromRect(new Po([o.left+1,o.top+1],[o.width-2,o.height-2])).stroke(r,1)),t.checked&&e.append((new pi).stroke(r,1.2).moveTo(o.left+.22*o.width,o.top+.55*o.height).lineTo(o.left+.45*o.width,o.top+.75*o.height).lineTo(o.left+.78*o.width,o.top+.22*o.width))):(e.append(new Vo(new Ro([(o.left+o.right)/2,(o.top+o.bottom)/2],Math.min(o.width-2,o.height-2)/2)).stroke(r,1)),t.checked&&e.append(new Vo(new Ro([(o.left+o.right)/2,(o.top+o.bottom)/2],Math.min(o.width-8,o.height-8)/2)).fill(r).stroke(null)))}function Tr(t,e){var n=t.tagName.toLowerCase();if("input"==n&&("checkbox"==t.type||"radio"==t.type))return Er(t,e);var r,o=t.parentNode,i=t.ownerDocument,s=i.createElement(Xa);if(s.style.cssText=mr(Jn(t)),"input"==n&&(s.style.whiteSpace="pre"),"select"!=n&&"textarea"!=n||(s.style.overflow="auto"),"select"==n)if(t.multiple)for(var a=0;a<t.options.length;++a)r=i.createElement(Xa),r.style.cssText=mr(Jn(t.options[a])),r.style.display="block",r.textContent=t.options[a].textContent,s.appendChild(r);else r=Or(t),r&&(s.textContent=r.textContent);else s.textContent=t.value;o.insertBefore(s,t),s.scrollLeft=t.scrollLeft,s.scrollTop=t.scrollTop,t.style.display="none",Mr(s,e),t.style.display="",o.removeChild(s)}function Mr(t,e){switch(Ja._stackingContext.element===t&&(Ja._stackingContext.group=e),t.tagName.toLowerCase()){case"img":kr(t,t.src,e);break;case"svg":var n=(new window.XMLSerializer).serializeToString(t),r="data:image/svg+xml;base64,"+O(n);kr(t,r,e);break;case"canvas":try{kr(t,t.toDataURL("image/png"),e)}catch(t){}break;case"textarea":case"input":case"select":Tr(t,e);break;default:for(var o=[],i=[],s=[],a=t.firstChild;a;a=a.nextSibling)switch(a.nodeType){case 3:/\S/.test(a.data)&&Pr(t,a,e);break;case 1:var l=Jn(a),c=Qn(l,"float"),u=Qn(l,"position");
"static"!=u?s.push(a):"none"!=c?i.push(a):o.push(a)}D(o,Sr).forEach(function(t){Dr(t,e)}),D(i,Sr).forEach(function(t){Dr(t,e)}),D(s,Sr).forEach(function(t){Dr(t,e)})}}function Pr(t,e,n){function r(t){if(tl||Ya.chrome){for(var e=t.getClientRects(),n={top:1/0,right:-(1/0),bottom:-(1/0),left:1/0},r=!1,o=0;o<e.length;++o){var i=e[o];i.width<=1||i.bottom===x||(n.left=Math.min(i.left,n.left),n.top=Math.min(i.top,n.top),n.right=Math.max(i.right,n.right),n.bottom=Math.max(i.bottom,n.bottom),r=!0)}return r?(n.width=n.right-n.left,n.height=n.bottom-n.top,n):t.getBoundingClientRect()}return t.getBoundingClientRect()}function o(){var t,n=c,o=l.substr(c).search(/\S/);if(c+=o,o<0||c>=u)return!0;v.setStart(e,c),v.setEnd(e,c+1),t=r(v);var s=!1;if((g||m>1)&&(o=l.substr(c).search(/\s/),o>=0)){v.setEnd(e,c+o);var a=r(v);a.bottom==t.bottom&&(t=a,s=!0,c+=o)}if(!s){if(o=function n(o,i,s){v.setEnd(e,i);var a=r(v);return a.bottom!=t.bottom&&o<i?n(o,o+i>>1,i):a.right!=t.right?(t=a,i<s?n(i,i+s>>1,s):i):i}(c,Math.min(u,c+_),u),o==c)return!0;if(c=o,o=v.toString().search(/\s+$/),0===o)return!1;o>0&&(v.setEnd(e,v.startOffset+o),t=r(v))}tl&&(t=v.getClientRects()[0]);var p=v.toString();if(/^(?:pre|pre-wrap)$/i.test(b)){if(/\t/.test(p)){var h=0;for(o=n;o<v.startOffset;++o){var f=l.charCodeAt(o);9==f?h+=8-h%8:10==f||13==f?h=0:h++}for(;(o=p.search("\t"))>=0;){var d="        ".substr(0,8-(h+o)%8);p=p.substr(0,o)+d+p.substr(o+1)}}}else p=p.replace(/\s+/g," ");s||(x=t.bottom),i(p,t)}function i(t,e){if(tl&&!isNaN(h)){var r=al(f),o=(e.top+e.bottom-r)/2;e={top:o,right:e.right,bottom:o+r,left:e.left,height:r,width:e.right-e.left}}switch(w){case"uppercase":t=t.toUpperCase();break;case"lowercase":t=t.toLowerCase();break;case"capitalize":t=t.replace(/(?:^|\s)\S/g,function(t){return t.toUpperCase()})}var i=new el(t,new Po([e.left,e.top],[e.width,e.height]),{font:f,fill:{color:d}});n.append(i)}function s(t){function e(e,r){if(e){var o=p/12,i=new pi({stroke:{width:o,color:e}});r-=o,i.moveTo(t.left,r).lineTo(t.right,r),n.append(i)}}e(k,t.bottom),e(S,t.bottom-t.height/2.7),e(C,t.top)}if(!Xn()){var a=Jn(t);if(!(parseFloat(Qn(a,"text-indent"))<-500)){var l=e.data,c=0,u=l.search(/\S\s*$/)+1;if(u){var p=Qn(a,"font-size"),h=Qn(a,"line-height"),f=[Qn(a,"font-style"),Qn(a,"font-variant"),Qn(a,"font-weight"),p,Qn(a,"font-family")].join(" ");if(p=parseFloat(p),h=parseFloat(h),0!==p){var d=Qn(a,"color"),v=t.ownerDocument.createRange(),y=Qn(a,"text-align"),g="justify"==y,m=Qn(a,"column-count",1),b=Qn(a,"white-space"),w=Qn(a,"text-transform"),_=t.getBoundingClientRect().width/p*5;0===_&&(_=500);for(var x=null,k=Ja.underline,S=Ja["line-through"],C=Ja.overline,O=k||S||C;!o(););O&&(v.selectNode(e),En(v.getClientRects()).forEach(s))}}}}}function Ar(t,e,n){var r;"auto"!=n?(r=Ja._stackingContext.group,n=parseFloat(n)):(r=e,n=0);for(var o=r.children,i=0;i<o.length&&!(null!=o[i]._dom_zIndex&&o[i]._dom_zIndex>n);++i);var s=new wi;if(r.insert(i,s),s._dom_zIndex=n,r!==e&&Ja._clipbox){var a=Ja._matrix.invert(),l=Ja._clipbox.transformCopy(a);ur(s,pi.fromRect(l))}return s}function Dr(t,e){var n=Jn(t);if(Hn(n),!/^(style|script|link|meta|iframe|col|colgroup)$/i.test(t.tagName)&&null!=Ja._clipbox){var r=parseFloat(Qn(n,"opacity")),o=Qn(n,"visibility"),i=Qn(n,"display");if(0!==r&&"hidden"!=o&&"none"!=i){var s,a=sr(n),l=Qn(n,"z-index");(a||r<1)&&"auto"==l&&(l=0),s=Ar(t,e,l),r<1&&s.opacity(r*s.opacity()),Gn(t,n,s),a?nr(t,function(){tr(t.style,"transform","none","important"),tr(t.style,"transition","none","important"),"static"==Qn(n,"position")&&tr(t.style,"position","relative","important");var e=t.getBoundingClientRect(),r=e.left+a.origin[0],o=e.top+a.origin[1],i=[1,0,0,1,-r,-o];i=jr(i,a.matrix),i=jr(i,[1,0,0,1,r,o]),i=cr(s,i),Ja._matrix=Ja._matrix.multiplyCopy(i),br(t,s)}):br(t,s),$n()}}}function jr(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],s=t[4],a=t[5],l=e[0],c=e[1],u=e[2],p=e[3],h=e[4],f=e[5];return[n*l+r*u,n*c+r*p,o*l+i*u,o*c+i*p,s*l+a*u+h,s*c+a*p+f]}Object.defineProperty(e,"__esModule",{value:!0});var Rr=n(45),Ir=function(){},Lr=function(t){function e(){t.call(this),this._events={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(t,e,n){var i=arguments,s=this,a=o(t),l=r(e),c=a.length;if(void 0===e){for(var u in t)s.bind(u,t[u]);return this}for(var p=function(t){var r=a[t],o=l?e:e[r];if(o){if(n){var c=o;o=function(){s.unbind(r,o),c.apply(s,i)},o.original=c}var u=s._events[r]=s._events[r]||[];u.push(o)}},h=0;h<c;h++)p(h);return this},e.prototype.one=function(t,e){return this.bind(t,e,!0)},e.prototype.first=function(t,e){for(var n=this,i=o(t),s=r(e),a=0,l=i.length;a<l;a++){var c=i[a],u=s?e:e[c];if(u){var p=n._events[c]=n._events[c]||[];p.unshift(u)}}return this},e.prototype.trigger=function(t,e){var n=this;void 0===e&&(e={});var r=this._events[t];if(r){var o=r.length;e.sender=this,e._defaultPrevented=!1,e.preventDefault=i,e.isDefaultPrevented=s,r=r.slice();for(var a=0;a<o;a++)r[a].call(n,e);return e._defaultPrevented===!0}return!1},e.prototype.unbind=function(t,e){var n=this._events[t];if(void 0===t)this._events={};else if(n)if(e)for(var r=n.length-1;r>=0;r--)n[r]!==e&&n[r].original!==e||n.splice(r,1);else this._events[t]=[];return this},e}(Ir),zr=function(t){var e="undefined"!=typeof window?window:{},n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};(zr=function(t){return n.call(e,t)})(t)},Fr=zr,Br=/&/g,Nr=/</g,Vr=/"/g,Hr=/'/g,Wr=/>/g,Ur={},Kr={get browser(){return"undefined"==typeof window||Ur?Ur:Ur=u(window.navigator.userAgent)}},qr=Date.now||function(){return(new Date).getTime()},Gr={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},$r=Kr.browser,Yr=function(t){var e=Object.keys(Gr);e.push("transparent");var n=new RegExp("^("+e.join("|")+")(\\W|$)","i");return Yr=function(t){return n.exec(t)},n.exec(t)},Xr=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toHSV=function(){return this},e.prototype.toRGB=function(){return this},e.prototype.toHex=function(t){return this.toBytes().toHex(t)},e.prototype.toBytes=function(){return this},e.prototype.toCss=function(t){return"#"+this.toHex(t)},e.prototype.toCssRgba=function(){var t=this.toBytes();return"rgba("+t.r+", "+t.g+", "+t.b+", "+parseFloat(Number(this.a).toFixed(3))+")"},e.prototype.toDisplay=function(){return $r.msie&&$r.version<9?this.toCss():this.toCssRgba()},e.prototype.equals=function(t){return t===this||null!==t&&this.toCssRgba()===y(t).toCssRgba()},e.prototype.diff=function(t){if(null===t)return NaN;var e=this.toBytes(),n=t.toBytes();return Math.sqrt(Math.pow(.3*(e.r-n.r),2)+Math.pow(.59*(e.g-n.g),2)+Math.pow(.11*(e.b-n.b),2))},e.prototype.clone=function(){var t=this.toBytes();return t===this&&(t=new Jr(t.r,t.g,t.b,t.a)),t},e}(Ir),Zr=function(t){function e(e,n,r,o){t.call(this),this.r=e,this.g=n,this.b=r,this.a=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toHSV=function(){var t,e,n=this,r=n.r,o=n.g,i=n.b,s=Math.min(r,o,i),a=Math.max(r,o,i),l=a-s,c=a;return 0===l?new Qr(0,0,c,this.a):(0!==a?(e=l/a,t=r===a?(o-i)/l:o===a?2+(i-r)/l:4+(r-o)/l,t*=60,t<0&&(t+=360)):(e=0,t=-1),new Qr(t,e,c,this.a))},e.prototype.toHSL=function(){var t,e,n=this,r=n.r,o=n.g,i=n.b,s=Math.max(r,o,i),a=Math.min(r,o,i),l=(s+a)/2;if(s===a)t=e=0;else{var c=s-a;switch(e=l>.5?c/(2-s-a):c/(s+a),s){case r:t=(o-i)/c+(o<i?6:0);break;case o:t=(i-r)/c+2;break;case i:t=(r-o)/c+4}}return new to(60*t,100*e,100*l,this.a)},e.prototype.toBytes=function(){return new Jr(255*this.r,255*this.g,255*this.b,this.a)},e}(Xr),Jr=function(t){function e(e,n,r,o){t.call(this,Math.round(e),Math.round(n),Math.round(r),o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toRGB=function(){return new t(this.r/255,this.g/255,this.b/255,this.a)},e.prototype.toHSV=function(){return this.toRGB().toHSV()},e.prototype.toHSL=function(){return this.toRGB().toHSL()},e.prototype.toHex=function(t){var e=f(this.r,2)+f(this.g,2)+f(this.b,2);return t&&t.alpha&&(e+=f(Math.round(255*this.a),2)),e},e.prototype.toBytes=function(){return this},e}(Zr),Qr=function(t){function e(e,n,r,o){t.call(this),this.h=e,this.s=n,this.v=r,this.a=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toRGB=function(){var t,e,n,r=this,o=r.h,i=r.s,s=r.v;if(0===i)t=e=n=s;else{o/=60;var a=Math.floor(o),l=o-a,c=s*(1-i),u=s*(1-i*l),p=s*(1-i*(1-l));switch(a){case 0:t=s,e=p,n=c;break;case 1:t=u,e=s,n=c;break;case 2:t=c,e=s,n=p;break;case 3:t=c,e=u,n=s;break;case 4:t=p,e=c,n=s;break;default:t=s,e=c,n=u}}return new Zr(t,e,n,this.a)},e.prototype.toHSL=function(){return this.toRGB().toHSL()},e.prototype.toBytes=function(){return this.toRGB().toBytes()},e}(Xr),to=function(t){function e(e,n,r,o){t.call(this),this.h=e,this.s=n,this.l=r,this.a=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toRGB=function(){var t,e,n,r=this.h/360,o=this.s/100,i=this.l/100;if(0===o)t=e=n=i;else{var s=i<.5?i*(1+o):i+o-i*o,a=2*i-s;t=d(a,s,r+1/3),e=d(a,s,r),n=d(a,s,r-1/3)}return new Zr(t,e,n,this.a)},e.prototype.toHSV=function(){return this.toRGB().toHSV()},e.prototype.toBytes=function(){return this.toRGB().toBytes()},e}(Xr),eo=180,no=function(t){function e(n){var r=this;if(t.call(this),1===arguments.length)for(var o=e.formats,i=this.resolveColor(n),s=0;s<o.length;s++){var a=o[s].re,l=o[s].process,c=a.exec(i);if(c){var u=l(c);r.r=u[0],r.g=u[1],r.b=u[2]}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toHex=function(){var t=this.padDigit,e=this.r.toString(16),n=this.g.toString(16),r=this.b.toString(16);return"#"+t(e)+t(n)+t(r)},e.prototype.resolveColor=function(t){var n=t||"black";return"#"===n.charAt(0)&&(n=n.substr(1,6)),n=n.replace(/ /g,""),n=n.toLowerCase(),n=e.namedColors[n]||n},e.prototype.normalizeByte=function(t){return t<0||isNaN(t)?0:t>255?255:t},e.prototype.padDigit=function(t){return 1===t.length?"0"+t:t},e.prototype.brightness=function(t){var e=Math.round;return this.r=e(this.normalizeByte(this.r*t)),this.g=e(this.normalizeByte(this.g*t)),this.b=e(this.normalizeByte(this.b*t)),this},e.prototype.percBrightness=function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)},e.prototype.isDark=function(){return this.percBrightness()<eo},e.fromBytes=function(t,e,n,r){return new Jr(t,e,n,null!=r?r:1)},e.fromRGB=function(t,e,n,r){return new Zr(t,e,n,null!=r?r:1)},e.fromHSV=function(t,e,n,r){return new Qr(t,e,n,null!=r?r:1)},e.fromHSL=function(t,e,n,r){return new to(t,e,n,null!=r?r:1)},e}(Ir);no.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],no.namedColors=Gr;var ro=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.observers=function(){return this._observers=this._observers||[],this._observers},e.prototype.addObserver=function(t){return this._observers?this._observers.push(t):this._observers=[t],this},e.prototype.removeObserver=function(t){var e=this.observers(),n=e.indexOf(t);return n!==-1&&e.splice(n,1),this},e.prototype.trigger=function(t,e){var n=this._observers;if(n&&!this._suspended)for(var r=0;r<n.length;r++){var o=n[r];o[t]&&o[t](e)}return this},e.prototype.optionsChange=function(t){void 0===t&&(t={}),t.element=this,this.trigger("optionsChange",t)},e.prototype.geometryChange=function(){this.trigger("geometryChange",{element:this})},e.prototype.suspend=function(){return this._suspended=(this._suspended||0)+1,this},e.prototype.resume=function(){return this._suspended=Math.max((this._suspended||0)-1,0),this},e.prototype._observerField=function(t,e){this[t]&&this[t].removeObserver(this),this[t]=e,e.addObserver(this)},e}(Ir),oo={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"},io="undefined",so=1,ao=Math.PI/180,lo=Number.MAX_VALUE,co=-Number.MAX_VALUE,uo=String.fromCharCode,po="",ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",fo=function(t){function e(e,n,r,o,i,s){void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s=0),t.call(this),this.a=e,this.b=n,this.c=r,this.d=o,this.e=i,this.f=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.multiplyCopy=function(t){return new e(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)},e.prototype.invert=function(){var t=this,n=t.a,r=t.b,o=t.c,i=t.d,s=t.e,a=t.f,l=n*i-r*o;return 0===l?null:new e(i/l,-r/l,-o/l,n/l,(o*a-i*s)/l,(r*s-n*a)/l)},e.prototype.clone=function(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)},e.prototype.equals=function(t){return!!t&&(this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f)},e.prototype.round=function(t){return this.a=L(this.a,t),this.b=L(this.b,t),this.c=L(this.c,t),this.d=L(this.d,t),this.e=L(this.e,t),this.f=L(this.f,t),this},e.prototype.toArray=function(t){var e=[this.a,this.b,this.c,this.d,this.e,this.f];if(w(t))for(var n=0;n<e.length;n++)e[n]=L(e[n],t);return e},e.prototype.toString=function(t,e){return void 0===e&&(e=","),this.toArray(t).join(e)},e.translate=function(t,n){return new e(1,0,0,1,t,n)},e.unit=function(){return new e(1,0,0,1,0,0)},e.rotate=function(t,n,r){var o=new e;return o.a=Math.cos(R(t)),o.b=Math.sin(R(t)),o.c=-o.b,o.d=o.a,o.e=n-n*o.a+r*o.b||0,o.f=r-r*o.a-n*o.b||0,o},e.scale=function(t,n){return new e(t,0,0,n,0,0)},e}(Ir);fo.IDENTITY=fo.unit();var vo,yo=/matrix\((.*)\)/,go=function(t){function e(e){t.call(this),this._size=e,this._length=0,this._map={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.put=function(t,e){var n=this._map,r={key:t,value:e};n[t]=r,this._head?(this._tail.newer=r,r.older=this._tail,this._tail=r):this._head=this._tail=r,this._length>=this._size?(n[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},e.prototype.get=function(t){var e=this._map[t];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value},e}(Ir),mo=/\r?\n|\r|\t/g,bo=" ",wo={baselineMarkerSize:1};"undefined"!=typeof document&&(vo=document.createElement("div"),vo.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var _o=function(t){function e(e){t.call(this),this._cache=new go(1e3),this.options=Object.assign({},wo,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.measure=function(t,e,n){if(void 0===n&&(n={}),"undefined"==typeof t||null===t)return Z();var r=Y(e),o=X(t+r),i=this._cache.get(o);if(i)return i;var s=Z(),a=n.box||vo,l=this._baselineMarker().cloneNode(!1);for(var c in e){var u=e[c];"undefined"!=typeof u&&(a.style[c]=u)}var p=n.normalizeText!==!1?$(t):String(t);return a.textContent=p,a.appendChild(l),document.body.appendChild(a),p.length&&(s.width=a.offsetWidth-this.options.baselineMarkerSize,s.height=a.offsetHeight,s.baseline=l.offsetTop+this.options.baselineMarkerSize),s.width>0&&s.height>0&&this._cache.put(o,s),a.parentNode.removeChild(a),s},e.prototype._baselineMarker=function(){var t=document.createElement("div");return t.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",t},e}(Ir);_o.current=new _o;var xo,ko,So=Object.freeze({append:g,arabicToRoman:m,createPromise:b,defined:w,definitionId:_,deg:x,encodeBase64:O,eventCoordinates:E,eventElement:T,isTransparent:M,last:P,limitValue:A,mergeSort:D,now:qr,promiseAll:j,rad:R,round:L,valueOrDefault:z,bindEvents:F,elementOffset:B,elementSize:H,elementStyles:N,unbindEvents:W,elementPadding:U,elementScale:G,DEG_TO_RAD:ao,MAX_NUM:lo,MIN_NUM:co,LRUCache:go,TextMetrics:_o,measureText:J,objectKey:Y,hashKey:X,normalizeText:$}),Co={}.toString,Oo=function(t){function e(e,n){var r=this;void 0===n&&(n=""),t.call(this),this.prefix=n;for(var o in e){var i=e[o];i=r._wrap(i,o),r[o]=i}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){for(var e=t.split("."),n=this;e.length&&n;){var r=e.shift();n=n[r]}return n},e.prototype.set=function(t,e){var n=this.get(t);n!==e&&(this._set(t,this._wrap(e,t)),this.optionsChange({field:this.prefix+t,value:e}))},e.prototype._set=function(t,n){var r=this,o=t.indexOf(".")>=0,i=this,s=t;if(o){for(var a=s.split("."),l=this.prefix;a.length>1;){s=a.shift(),l+=s+".";var c=i[s];c||(c=new e({},l),c.addObserver(r),i[s]=c),i=c}s=a[0]}i._clear(s),i[s]=n},e.prototype._clear=function(t){var e=this[t];e&&e.removeObserver&&e.removeObserver(this)},e.prototype._wrap=function(t,n){var r=Co.call(t),o=t;return null!==o&&w(o)&&"[object Object]"===r&&(t instanceof e||t instanceof Ir||(o=new e(o,this.prefix+n+".")),o.addObserver(this)),o},e}(ro),Eo=function(t,e){var n=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t);return et(n.prototype,e),n},To=function(t){function e(e,n){t.call(this),this.x=e||0,this.y=n||0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={ZERO:{}};return e.prototype.equals=function(t){return t&&t.x===this.x&&t.y===this.y},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.rotate=function(t,n){var r=e.create(n)||e.ZERO;return this.transform(fo.rotate(t,r.x,r.y))},e.prototype.translate=function(t,e){return this.x+=t,this.y+=e,this.geometryChange(),this},e.prototype.translateWith=function(t){return this.translate(t.x,t.y)},e.prototype.move=function(t,e){return this.x=this.y=0,this.translate(t,e)},e.prototype.scale=function(t,e){return void 0===e&&(e=t),this.x*=t,this.y*=e,this.geometryChange(),this},e.prototype.scaleCopy=function(t,e){return this.clone().scale(t,e)},e.prototype.transform=function(t){var e=nt(t),n=this,r=n.x,o=n.y;return this.x=e.a*r+e.c*o+e.e,this.y=e.b*r+e.d*o+e.f,this.geometryChange(),this},e.prototype.transformCopy=function(t){var e=this.clone();return t&&e.transform(t),e},e.prototype.distanceTo=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},e.prototype.round=function(t){return this.x=L(this.x,t),this.y=L(this.y,t),this.geometryChange(),this},e.prototype.toArray=function(t){var e=w(t),n=e?L(this.x,t):this.x,r=e?L(this.y,t):this.y;return[n,r]},e.prototype.toString=function(t,e){void 0===e&&(e=" ");var n=this,r=n.x,o=n.y;return w(t)&&(r=L(r,t),o=L(o,t)),r+e+o},e.create=function(t,n){if(w(t))return t instanceof e?t:1===arguments.length&&2===t.length?new e(t[0],t[1]):new e(t,n)},e.min=function(){for(var t=arguments,n=lo,r=lo,o=0;o<arguments.length;o++){var i=t[o];n=Math.min(i.x,n),r=Math.min(i.y,r)}return new e(n,r)},e.max=function(){for(var t=arguments,n=co,r=co,o=0;o<arguments.length;o++){var i=t[o];n=Math.max(i.x,n),r=Math.max(i.y,r)}return new e(n,r)},e.minPoint=function(){return new e(co,co)},e.maxPoint=function(){return new e(lo,lo)},n.ZERO.get=function(){return new e(0,0)},Object.defineProperties(e,n),e}(Eo(ro,["x","y"])),Mo=function(t){function e(e,n){t.call(this),this.width=e||0,this.height=n||0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={ZERO:{}};return e.prototype.equals=function(t){return t&&t.width===this.width&&t.height===this.height},e.prototype.clone=function(){return new e(this.width,this.height)},e.prototype.toArray=function(t){var e=w(t),n=e?L(this.width,t):this.width,r=e?L(this.height,t):this.height;return[n,r]},e.create=function(t,n){if(w(t))return t instanceof e?t:1===arguments.length&&2===t.length?new e(t[0],t[1]):new e(t,n)},n.ZERO.get=function(){return new e(0,0)},Object.defineProperties(e,n),e}(Eo(ro,["width","height"])),Po=function(t){function e(e,n,r){void 0===e&&(e=new To),void 0===n&&(n=new Mo),void 0===r&&(r=0),t.call(this),this.setOrigin(e),this.setSize(n),this.setCornerRadius(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.origin.clone(),this.size.clone())},e.prototype.equals=function(t){return t&&t.origin.equals(this.origin)&&t.size.equals(this.size)},e.prototype.setOrigin=function(t){return this._observerField("origin",To.create(t)),this.geometryChange(),this},e.prototype.getOrigin=function(){return this.origin},e.prototype.setCornerRadius=function(t){return this.cornerRadius=Array.isArray(t)?t:[t,t],this.geometryChange(),this},e.prototype.getCornerRadius=function(){return this.cornerRadius},e.prototype.setSize=function(t){return this._observerField("size",Mo.create(t)),this.geometryChange(),this},e.prototype.getSize=function(){return this.size},e.prototype.width=function(){return this.size.width},e.prototype.height=function(){return this.size.height},e.prototype.topLeft=function(){return this.origin.clone()},e.prototype.bottomRight=function(){return this.origin.clone().translate(this.width(),this.height())},e.prototype.topRight=function(){return this.origin.clone().translate(this.width(),0)},e.prototype.bottomLeft=function(){return this.origin.clone().translate(0,this.height())},e.prototype.center=function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},e.prototype.bbox=function(t){var n=this.topLeft().transformCopy(t),r=this.topRight().transformCopy(t),o=this.bottomRight().transformCopy(t),i=this.bottomLeft().transformCopy(t);return e.fromPoints(n,r,o,i)},e.prototype.transformCopy=function(t){return e.fromPoints(this.topLeft().transform(t),this.bottomRight().transform(t))},e.prototype.expand=function(t,e){return void 0===e&&(e=t),this.size.width+=2*t,this.size.height+=2*e,this.origin.translate(-t,-e),this},e.prototype.expandCopy=function(t,e){return this.clone().expand(t,e)},e.prototype.containsPoint=function(t){var e=this.origin,n=this.bottomRight();return!(t.x<e.x||t.y<e.y||n.x<t.x||n.y<t.y)},e.prototype._isOnPath=function(t,e){var n=this.expandCopy(e,e),r=this.expandCopy(-e,-e);return n.containsPoint(t)&&!r.containsPoint(t)},e.fromPoints=function(){var t=To.min.apply(null,arguments),n=To.max.apply(null,arguments),r=new Mo(n.x-t.x,n.y-t.y);return new e(t,r)},e.union=function(t,n){return e.fromPoints(To.min(t.topLeft(),n.topLeft()),To.max(t.bottomRight(),n.bottomRight()))},e.intersect=function(t,n){var r={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y},o={left:n.topLeft().x,top:n.topLeft().y,right:n.bottomRight().x,bottom:n.bottomRight().y};if(r.left<=o.right&&o.left<=r.right&&r.top<=o.bottom&&o.top<=r.bottom)return e.fromPoints(new To(Math.max(r.left,o.left),Math.max(r.top,o.top)),new To(Math.min(r.right,o.right),Math.min(r.bottom,o.bottom)))},e}(ro),Ao=function(t){function e(e){void 0===e&&(e=fo.unit()),t.call(this),this._matrix=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this._matrix.clone())},e.prototype.equals=function(t){return t&&t._matrix.equals(this._matrix)},e.prototype.translate=function(t,e){return this._matrix=this._matrix.multiplyCopy(fo.translate(t,e)),this._optionsChange(),this},e.prototype.scale=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=null);var r=n;return r&&(r=To.create(r),this._matrix=this._matrix.multiplyCopy(fo.translate(r.x,r.y))),this._matrix=this._matrix.multiplyCopy(fo.scale(t,e)),r&&(this._matrix=this._matrix.multiplyCopy(fo.translate(-r.x,-r.y))),this._optionsChange(),this},e.prototype.rotate=function(t,e){var n=To.create(e)||To.ZERO;return this._matrix=this._matrix.multiplyCopy(fo.rotate(t,n.x,n.y)),this._optionsChange(),this},e.prototype.multiply=function(t){var e=nt(t);return this._matrix=this._matrix.multiplyCopy(e),this._optionsChange(),this},e.prototype.matrix=function(t){return t?(this._matrix=t,this._optionsChange(),this):this._matrix},e.prototype._optionsChange=function(){this.optionsChange({field:"transform",value:this})},e}(ro),Do=function(t){function e(e){t.call(this),this._initOptions(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={nodeType:{}};return n.nodeType.get=function(){return"Rect"},e.prototype._initOptions=function(t){void 0===t&&(t={});var e=t.clip,n=t.transform;n&&(t.transform=rt(n)),e&&!e.id&&(e.id=_()),this.options=new Oo(t),this.options.addObserver(this)},e.prototype.transform=function(t){return w(t)?void this.options.set("transform",rt(t)):this.options.get("transform")},e.prototype.parentTransform=function(){for(var t,e=this;e.parent;){e=e.parent;var n=e.transform();n&&(t=n.matrix().multiplyCopy(t||fo.unit()))}if(t)return rt(t)},e.prototype.currentTransform=function(t){void 0===t&&(t=this.parentTransform());var e,n=this.transform(),r=nt(n),o=nt(t);if(e=r&&o?o.multiplyCopy(r):r||o)return rt(e)},e.prototype.visible=function(t){return w(t)?(this.options.set("visible",t),this):this.options.get("visible")!==!1},e.prototype.clip=function(t){var e=this.options;return w(t)?(t&&!t.id&&(t.id=_()),e.set("clip",t),this):e.get("clip")},e.prototype.opacity=function(t){return w(t)?(this.options.set("opacity",t),this):z(this.options.get("opacity"),1)},e.prototype.clippedBBox=function(t){var e=this._clippedBBox(t);if(e){var n=this.clip();return n?Po.intersect(e,n.bbox(t)):e}},e.prototype.containsPoint=function(t,e){if(this.visible()){var n=this.currentTransform(e),r=t;return n&&(r=t.transformCopy(n.matrix().invert())),this._hasFill()&&this._containsPoint(r)||this._isOnPath&&this._hasStroke()&&this._isOnPath(r)}return!1},e.prototype._hasFill=function(){var t=this.options.fill;return t&&!M(t.color)},e.prototype._hasStroke=function(){var t=this.options.stroke;return t&&t.width>0&&!M(t.color)},e.prototype._clippedBBox=function(t){return this.bbox(t)},Object.defineProperties(e.prototype,n),e}(ro),jo=Math.PI/2,Ro=function(t){function e(e,n){void 0===e&&(e=new To),void 0===n&&(n=0),t.call(this),this.setCenter(e),this.setRadius(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setCenter=function(t){return this._observerField("center",To.create(t)),this.geometryChange(),this},e.prototype.getCenter=function(){return this.center},e.prototype.equals=function(t){return t&&t.center.equals(this.center)&&t.radius===this.radius},e.prototype.clone=function(){return new e(this.center.clone(),this.radius)},e.prototype.pointAt=function(t){return this._pointAt(R(t))},e.prototype.bbox=function(t){for(var e=this,n=ot(this.center,this.radius,this.radius,t),r=To.maxPoint(),o=To.minPoint(),i=0;i<4;i++){var s=e._pointAt(n.x+i*jo).transformCopy(t),a=e._pointAt(n.y+i*jo).transformCopy(t),l=new To(s.x,a.y);r=To.min(r,l),o=To.max(o,l)}return Po.fromPoints(r,o)},e.prototype._pointAt=function(t){var e=this,n=e.center,r=e.radius;return new To(n.x+r*Math.cos(t),n.y+r*Math.sin(t))},e.prototype.containsPoint=function(t){var e=this,n=e.center,r=e.radius,o=Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)<=Math.pow(r,2);return o},e.prototype._isOnPath=function(t,e){var n=this,r=n.center,o=n.radius,i=r.distanceTo(t);return o-e<=i&&i<=o+e},e}(Eo(ro,["radius"])),Io="Gradient",Lo=function(t){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fill=function(t,e){var n=this.options;if(w(t)){if(t&&t.nodeType!==Io){var r={color:t};w(e)&&(r.opacity=e),n.set("fill",r)}else n.set("fill",t);return this}return n.get("fill")},e.prototype.stroke=function(t,e,n){return w(t)?(this.options.set("stroke.color",t),w(e)&&this.options.set("stroke.width",e),w(n)&&this.options.set("stroke.opacity",n),this):this.options.get("stroke")},e}(t)},zo=fo.IDENTITY.toString(),Fo=function(t){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,
e.prototype.bbox=function t(e){var t,n=nt(this.currentTransform(e)),r=n?n.toString():zo;this._bboxCache&&this._matrixHash===r?t=this._bboxCache.clone():(t=this._bbox(n),this._bboxCache=t?t.clone():null,this._matrixHash=r);var o=this.options.get("stroke.width");return o&&t&&t.expand(o/2),t},e.prototype.geometryChange=function(){delete this._bboxCache,this.trigger("geometryChange",{element:this})},e}(t)},Bo=function(t,e){void 0===e&&(e=["geometry"]);var n=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t);return st(n.prototype,e),n},No="#000",Vo=function(t){function e(e,n){void 0===e&&(e=new Ro),void 0===n&&(n={}),t.call(this,n),this.geometry(e),w(this.options.stroke)||this.stroke(No)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={nodeType:{}};return n.nodeType.get=function(){return"Circle"},e.prototype.rawBBox=function(){return this._geometry.bbox()},e.prototype._bbox=function(t){return this._geometry.bbox(t)},e.prototype._containsPoint=function(t){return this.geometry().containsPoint(t)},e.prototype._isOnPath=function(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)},Object.defineProperties(e.prototype,n),e}(Lo(Fo(Bo(Do)))),Ho=10,Wo=45,Uo=Math.pow,Ko=["radiusX","radiusY","startAngle","endAngle","anticlockwise"],qo=function(t){function e(e,n){void 0===e&&(e=new To),void 0===n&&(n={}),t.call(this),this.setCenter(e),this.radiusX=n.radiusX,this.radiusY=n.radiusY||n.radiusX,this.startAngle=n.startAngle,this.endAngle=n.endAngle,this.anticlockwise=n.anticlockwise||!1,this.xRotation=n.xRotation}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})},e.prototype.setCenter=function(t){return this._observerField("center",To.create(t)),this.geometryChange(),this},e.prototype.getCenter=function(){return this.center},e.prototype.pointAt=function(t){var e=this.center,n=R(t);return new To(e.x+this.radiusX*Math.cos(n),e.y+this.radiusY*Math.sin(n))},e.prototype.curvePoints=function t(){var e,n=this,r=this.startAngle,o=this.anticlockwise?-1:1,t=[this.pointAt(r)],i=this._arcInterval(),s=i.endAngle-i.startAngle,a=Math.ceil(s/Wo),l=s/a,c=r;this.xRotation&&(e=rt().rotate(this.xRotation,this.center));for(var u=1;u<=a;u++){var p=c+o*l,h=n._intervalCurvePoints(c,p,e);t.push(h.cp1,h.cp2,h.p2),c=p}return t},e.prototype.bbox=function(t){for(var e=this,n=this._arcInterval(),r=n.startAngle,o=n.endAngle,i=ot(this.center,this.radiusX,this.radiusY,t),s=x(i.x),a=x(i.y),l=this.pointAt(o).transformCopy(t),c=ht(s,r),u=ht(a,r),p=this.pointAt(r).transformCopy(t),h=To.min(p,l),f=To.max(p,l);c<o||u<o;){var d=void 0;c<o&&(d=e.pointAt(c).transformCopy(t),c+=90);var v=void 0;u<o&&(v=e.pointAt(u).transformCopy(t),u+=90),p=new To(d.x,v.y),h=To.min(h,p),f=To.max(f,p)}return Po.fromPoints(h,f)},e.prototype._arcInterval=function(){var t=this,e=t.startAngle,n=t.endAngle,r=t.anticlockwise;if(r){var o=e;e=n,n=o}return(e>n||r&&e===n)&&(n+=360),{startAngle:e,endAngle:n}},e.prototype._intervalCurvePoints=function(t,e,n){var r=this.pointAt(t),o=this.pointAt(e),i=this._derivativeAt(t),s=this._derivativeAt(e),a=(R(e)-R(t))/3,l=new To(r.x+a*i.x,r.y+a*i.y),c=new To(o.x-a*s.x,o.y-a*s.y);return n&&(r.transform(n),o.transform(n),l.transform(n),c.transform(n)),{p1:r,cp1:l,cp2:c,p2:o}},e.prototype._derivativeAt=function(t){var e=R(t);return new To(-this.radiusX*Math.sin(e),this.radiusY*Math.cos(e))},e.prototype.containsPoint=function t(e){var t,n=this._arcInterval(),r=n.endAngle-n.startAngle,o=this,i=o.center,s=o.radiusX,a=o.radiusY,l=i.distanceTo(e),c=Math.atan2(e.y-i.y,e.x-i.x),u=s*a/Math.sqrt(Uo(s,2)*Uo(Math.sin(c),2)+Uo(a,2)*Uo(Math.cos(c),2)),p=this.pointAt(this.startAngle).round(Ho),h=this.pointAt(this.endAngle).round(Ho),f=ct(i,e.round(Ho),p,h);if(r<180)t=f&&lt(i.distanceTo(f),l)&&lt(l,u);else{var d=ut(i.x,i.y,s,a,e.x,e.y);360!==d&&(d=(360+d)%360);var v=n.startAngle<=d&&d<=n.endAngle;t=v&&lt(l,u)||!v&&(!f||f.equals(e))}return t},e.prototype._isOnPath=function(t,e){var n=this._arcInterval(),r=this.center,o=ut(r.x,r.y,this.radiusX,this.radiusY,t.x,t.y);360!==o&&(o=(360+o)%360);var i=n.startAngle<=o&&o<=n.endAngle;return i&&this.pointAt(o).distanceTo(t)<=e},e.fromPoints=function(t,n,r,o,i,s,a){var l=pt({x1:t.x,y1:t.y,x2:n.x,y2:n.y,rx:r,ry:o,largeArc:i,swipe:s,rotation:a});return new e(l.center,{startAngle:l.startAngle,endAngle:l.endAngle,radiusX:l.radiusX,radiusY:l.radiusY,xRotation:l.xRotation,anticlockwise:0===s})},e}(Eo(ro,Ko)),Go=[].push,$o=[].pop,Yo=[].splice,Xo=[].shift,Zo=[].slice,Jo=[].unshift,Qo=function(t){function e(e){void 0===e&&(e=[]),t.call(this),this.length=0,this._splice(0,e.length,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.elements=function(t){return t?(this._splice(0,this.length,t),this._change(),this):this.slice(0)},e.prototype.push=function(){var t=arguments,e=Go.apply(this,t);return this._add(t),e},e.prototype.slice=function(){return Zo.call(this)},e.prototype.pop=function(){var t=this.length,e=$o.apply(this);return t&&this._remove([e]),e},e.prototype.splice=function(t,e){var n=Zo.call(arguments,2),r=this._splice(t,e,n);return this._change(),r},e.prototype.shift=function(){var t=this.length,e=Xo.apply(this);return t&&this._remove([e]),e},e.prototype.unshift=function(){var t=arguments,e=Jo.apply(this,t);return this._add(t),e},e.prototype.indexOf=function(t){for(var e=this,n=this.length,r=0;r<n;r++)if(e[r]===t)return r;return-1},e.prototype._splice=function(t,e,n){var r=Yo.apply(this,[t,e].concat(n));return this._clearObserver(r),this._setObserver(n),r},e.prototype._add=function(t){this._setObserver(t),this._change()},e.prototype._remove=function(t){this._clearObserver(t),this._change()},e.prototype._setObserver=function(t){for(var e=this,n=0;n<t.length;n++)t[n].addObserver(e)},e.prototype._clearObserver=function(t){for(var e=this,n=0;n<t.length;n++)t[n].removeObserver(e)},e.prototype._change=function(){},e}(ro),ti=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._change=function(){this.geometryChange()},e}(Qo),ei=function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=0),t.call(this),this.real=e,this.img=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.add=function(t){return new e(L(this.real+t.real,Ho),L(this.img+t.img,Ho))},e.prototype.addConstant=function(t){return new e(this.real+t,this.img)},e.prototype.negate=function(){return new e(-this.real,-this.img)},e.prototype.multiply=function(t){return new e(this.real*t.real-this.img*t.img,this.real*t.img+this.img*t.real)},e.prototype.multiplyConstant=function(t){return new e(this.real*t,this.img*t)},e.prototype.nthRoot=function(t){var n=Math.atan2(this.img,this.real),r=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),o=Math.pow(r,1/t);return new e(o*Math.cos(n/t),o*Math.sin(n/t))},e.prototype.equals=function(t){return this.real===t.real&&this.img===t.img},e.prototype.isReal=function(){return 0===this.img},e}(Ir),ni=function(t,e){var n=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t);return kt(n.prototype,e),n},ri=["anchor","controlIn","controlOut"],oi=function(t){function e(e,n,r){t.call(this),this.anchor(e||new To),this.controlIn(n),this.controlOut(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bboxTo=function(t,e){var n,r=this.anchor().transformCopy(e),o=t.anchor().transformCopy(e);return n=this.controlOut()&&t.controlIn()?this._curveBoundingBox(r,this.controlOut().transformCopy(e),t.controlIn().transformCopy(e),o):this._lineBoundingBox(r,o)},e.prototype._lineBoundingBox=function(t,e){return Po.fromPoints(t,e)},e.prototype._curveBoundingBox=function(t,e,n,r){var o=[t,e,n,r],i=this._curveExtremesFor(o,"x"),s=this._curveExtremesFor(o,"y"),a=St([i.min,i.max,t.x,r.x]),l=St([s.min,s.max,t.y,r.y]);return Po.fromPoints(new To(a.min,l.min),new To(a.max,l.max))},e.prototype._curveExtremesFor=function(t,e){var n=this._curveExtremes(t[0][e],t[1][e],t[2][e],t[3][e]);return{min:dt(n.min,e,t),max:dt(n.max,e,t)}},e.prototype._curveExtremes=function(t,e,n,r){var o=t-3*e+3*n-r,i=-2*(t-2*e+n),s=t-e,a=Math.sqrt(i*i-4*o*s),l=0,c=1;0===o?0!==i&&(l=c=-s/i):isNaN(a)||(l=(-i+a)/(2*o),c=(-i-a)/(2*o));var u=Math.max(Math.min(l,c),0);(u<0||u>1)&&(u=0);var p=Math.min(Math.max(l,c),1);return(p>1||p<0)&&(p=1),{min:u,max:p}},e.prototype._intersectionsTo=function(t,e){var n;return n=this.controlOut()&&t.controlIn()?wt([this.anchor(),this.controlOut(),t.controlIn(),t.anchor()],e,this.bboxTo(t)):_t(this.anchor(),t.anchor(),e)},e.prototype._isOnCurveTo=function(t,e,n,r){var o=this.bboxTo(t).expand(n,n);if(o.containsPoint(e)){var i=this.anchor(),s=this.controlOut(),a=t.controlIn(),l=t.anchor();if("start"===r&&i.distanceTo(e)<=n)return!ft(i,s,e);if("end"===r&&l.distanceTo(e)<=n)return!ft(l,a,e);var c=[i,s,a,l];if(bt(c,e,"x","y",n)||bt(c,e,"y","x",n))return!0;var u=rt().rotate(45,e),p=[i.transformCopy(u),s.transformCopy(u),a.transformCopy(u),l.transformCopy(u)];return bt(p,e,"x","y",n)||bt(p,e,"y","x",n)}},e.prototype._isOnLineTo=function(t,e,n){var r=this.anchor(),o=t.anchor(),i=x(Math.atan2(o.y-r.y,o.x-r.x)),s=new Po([r.x,r.y-n/2],[r.distanceTo(o),n]);return s.containsPoint(e.transformCopy(rt().rotate(-i,r)))},e.prototype._isOnPathTo=function(t,e,n,r){var o;return o=this.controlOut()&&t.controlIn()?this._isOnCurveTo(t,e,n/2,r):this._isOnLineTo(t,e,n)},e}(ni(ro,ri)),ii={l:function(t,e){for(var n=e.parameters,r=e.position,o=0;o<n.length;o+=2){var i=new To(n[o],n[o+1]);e.isRelative&&i.translateWith(r),t.lineTo(i.x,i.y),r.x=i.x,r.y=i.y}},c:function(t,e){for(var n=e.parameters,r=e.position,o=0;o<n.length;o+=6){var i=new To(n[o],n[o+1]),s=new To(n[o+2],n[o+3]),a=new To(n[o+4],n[o+5]);e.isRelative&&(s.translateWith(r),i.translateWith(r),a.translateWith(r)),t.curveTo(i,s,a),r.x=a.x,r.y=a.y}},v:function(t,e){var n=e.isRelative?0:e.position.x;Ct(e.parameters,!0,n),this.l(t,e)},h:function(t,e){var n=e.isRelative?0:e.position.y;Ct(e.parameters,!1,n),this.l(t,e)},a:function(t,e){for(var n=e.parameters,r=e.position,o=0;o<n.length;o+=7){var i=n[o],s=n[o+1],a=n[o+2],l=n[o+3],c=n[o+4],u=new To(n[o+5],n[o+6]);e.isRelative&&u.translateWith(r),r.x===u.x&&r.y===u.y||(t.arcTo(u,i,s,l,c,a),r.x=u.x,r.y=u.y)}},s:function(t,e){var n,r=e.parameters,o=e.position,i=e.previousCommand;"s"!==i&&"c"!==i||(n=P(P(t.paths).segments).controlIn());for(var s=0;s<r.length;s+=4){var a=new To(r[s],r[s+1]),l=new To(r[s+2],r[s+3]),c=void 0;e.isRelative&&(a.translateWith(o),l.translateWith(o)),c=n?Ot(n,o):o.clone(),n=a,t.curveTo(c,a,l),o.x=l.x,o.y=l.y}},q:function(t,e){for(var n=e.parameters,r=e.position,o=0;o<n.length;o+=4){var i=new To(n[o],n[o+1]),s=new To(n[o+2],n[o+3]);e.isRelative&&(i.translateWith(r),s.translateWith(r));var a=Et(r,i,s);t.curveTo(a.controlOut,a.controlIn,s),r.x=s.x,r.y=s.y}},t:function(t,e){var n,r=e.parameters,o=e.position,i=e.previousCommand;if("q"===i||"t"===i){var s=P(P(t.paths).segments);n=s.controlIn().clone().translateWith(o.scaleCopy(-1/3)).scale(1.5)}for(var a=0;a<r.length;a+=2){var l=new To(r[a],r[a+1]);e.isRelative&&l.translateWith(o),n=n?Ot(n,o):o.clone();var c=Et(o,n,l);t.curveTo(c.controlOut,c.controlIn,l),o.x=l.x,o.y=l.y}}},si=1/3,ai=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,li=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,ci="m",ui="z",pi=function(t){function e(e){t.call(this,e),this.segments=new ti,this.segments.addObserver(this),w(this.options.stroke)||(this.stroke("#000"),w(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={nodeType:{}};return e.parse=function(t,e){return hi.parse(t,e)},n.nodeType.get=function(){return"Path"},e.prototype.moveTo=function(t,e){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(t,e),this},e.prototype.lineTo=function(t,e){var n=w(e)?new To(t,e):t,r=new oi(n);return this.segments.push(r),this},e.prototype.curveTo=function(t,e,n){if(this.segments.length>0){var r=P(this.segments),o=new oi(n,e);this.suspend(),r.controlOut(t),this.resume(),this.segments.push(o)}return this},e.prototype.arc=function t(e,n,r,o,i){if(this.segments.length>0){var s=P(this.segments),a=s.anchor(),l=R(e),c=new To(a.x-r*Math.cos(l),a.y-o*Math.sin(l)),t=new qo(c,{startAngle:e,endAngle:n,radiusX:r,radiusY:o,anticlockwise:i});this._addArcSegments(t)}return this},e.prototype.arcTo=function(t,e,n,r,o,i){if(this.segments.length>0){var s=P(this.segments),a=s.anchor(),l=qo.fromPoints(a,To.create(t),e,n,r,o,i);this._addArcSegments(l)}return this},e.prototype._addArcSegments=function(t){var e=this;this.suspend();for(var n=t.curvePoints(),r=1;r<n.length;r+=3)e.curveTo(n[r],n[r+1],n[r+2]);this.resume(),this.geometryChange()},e.prototype.close=function(){return this.options.closed=!0,this.geometryChange(),this},e.prototype.rawBBox=function(){return this._bbox()},e.prototype._containsPoint=function(t){for(var e,n,r=this.segments,o=r.length,i=0,s=1;s<o;s++)e=r[s-1],n=r[s],i+=e._intersectionsTo(n,t);return!this.options.closed&&r[0].anchor().equals(r[o-1].anchor())||(i+=_t(r[0].anchor(),r[o-1].anchor(),t)),i%2!==0},e.prototype._isOnPath=function(t,e){var n=this.segments,r=n.length,o=e||this.options.stroke.width;if(r>1){if(n[0]._isOnPathTo(n[1],t,o,"start"))return!0;for(var i=2;i<=r-2;i++)if(n[i-1]._isOnPathTo(n[i],t,o))return!0;if(n[r-2]._isOnPathTo(n[r-1],t,o,"end"))return!0}return!1},e.prototype._bbox=function(t){var e,n=this.segments,r=n.length;if(1===r){var o=n[0].anchor().transformCopy(t);e=new Po(o,Mo.ZERO)}else if(r>0)for(var i=1;i<r;i++){var s=n[i-1].bboxTo(n[i],t);e=e?Po.union(e,s):s}return e},e.fromRect=function(t,n){var r=new e(n),o=t.cornerRadius,i=o[0],s=o[1];if(0===i&&0===s)r.moveTo(t.topLeft()).lineTo(t.topRight()).lineTo(t.bottomRight()).lineTo(t.bottomLeft()).close();else{var a=t.origin,l=a.x,c=a.y,u=t.width(),p=t.height();i=A(i,0,u/2),s=A(s,0,p/2),r.moveTo(l+i,c).lineTo(l+u-i,c).arcTo([l+u,c+s],i,s,!1).lineTo(l+u,c+p-s).arcTo([l+u-i,c+p],i,s,!1).lineTo(l+i,c+p).arcTo([l,c+p-s],i,s,!1).lineTo(l,c+s).arcTo([l+i,c],i,s,!1)}return r},e.fromPoints=function(t,n){if(t){for(var r=new e(n),o=0;o<t.length;o++){var i=To.create(t[o]);i&&(0===o?r.moveTo(i):r.lineTo(i))}return r}},e.fromArc=function(t,n){var r=new e(n),o=t.startAngle,i=t.pointAt(o);return r.moveTo(i.x,i.y),r.arc(o,t.endAngle,t.radiusX,t.radiusY,t.anticlockwise),r},Object.defineProperties(e.prototype,n),e}(Lo(Fo(Do))),hi=function(t){function e(e){t.call(this,e),this.paths=new ti,this.paths.addObserver(this),w(this.options.stroke)||this.stroke("#000")}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={nodeType:{}};return e.parse=function(t,n){var r=new e(n);return Mt(r,t)},n.nodeType.get=function(){return"MultiPath"},e.prototype.moveTo=function(t,e){var n=new pi;return n.moveTo(t,e),this.paths.push(n),this},e.prototype.lineTo=function(t,e){return this.paths.length>0&&P(this.paths).lineTo(t,e),this},e.prototype.curveTo=function(t,e,n){return this.paths.length>0&&P(this.paths).curveTo(t,e,n),this},e.prototype.arc=function(t,e,n,r,o){return this.paths.length>0&&P(this.paths).arc(t,e,n,r,o),this},e.prototype.arcTo=function(t,e,n,r,o,i){return this.paths.length>0&&P(this.paths).arcTo(t,e,n,r,o,i),this},e.prototype.close=function(){return this.paths.length>0&&P(this.paths).close(),this},e.prototype._bbox=function(t){return Pt(this.paths,!0,t)},e.prototype.rawBBox=function(){return Pt(this.paths,!1)},e.prototype._containsPoint=function(t){for(var e=this.paths,n=0;n<e.length;n++)if(e[n]._containsPoint(t))return!0;return!1},e.prototype._isOnPath=function(t){for(var e=this.paths,n=this.options.stroke.width,r=0;r<e.length;r++)if(e[r]._isOnPath(t,n))return!0;return!1},e.prototype._clippedBBox=function(t){return At(this.paths,this.currentTransform(t))},Object.defineProperties(e.prototype,n),e}(Lo(Fo(Do))),fi="#000",di=function(t){function e(e,n){void 0===e&&(e=new qo),void 0===n&&(n={}),t.call(this,n),this.geometry(e),w(this.options.stroke)||this.stroke(fi)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={nodeType:{}};return n.nodeType.get=function(){return"Arc"},e.prototype._bbox=function(t){return this._geometry.bbox(t)},e.prototype.rawBBox=function(){return this.geometry().bbox()},e.prototype.toPath=function(){var t=new pi,e=this.geometry().curvePoints();if(e.length>0){t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n+=3)t.curveTo(e[n],e[n+1],e[n+2])}return t},e.prototype._containsPoint=function(t){return this.geometry().containsPoint(t)},e.prototype._isOnPath=function(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)},Object.defineProperties(e.prototype,n),e}(Lo(Fo(Bo(Do)))),vi="12px sans-serif",yi="#000",gi=function(t){function e(e,n,r){void 0===n&&(n=new To),void 0===r&&(r={}),t.call(this,r),this.content(e),this.position(n),this.options.font||(this.options.font=vi),w(this.options.fill)||this.fill(yi)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={nodeType:{}};return n.nodeType.get=function(){return"Text"},e.prototype.content=function(t){return w(t)?(this.options.set("content",t),this):this.options.get("content")},e.prototype.measure=function(){var t=J(this.content(),{font:this.options.get("font")});return t},e.prototype.rect=function(){var t=this.measure(),e=this.position().clone();return new Po(e,[t.width,t.height])},e.prototype.bbox=function(t){var e=nt(this.currentTransform(t));return this.rect().bbox(e)},e.prototype.rawBBox=function(){return this.rect().bbox()},e.prototype._containsPoint=function(t){return this.rect().containsPoint(t)},Object.defineProperties(e.prototype,n),e}(Lo(ni(Do,["position"]))),mi=function(t){function e(e,n,r){void 0===n&&(n=new Po),void 0===r&&(r={}),t.call(this,r),this.src(e),this.rect(n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={nodeType:{}};return n.nodeType.get=function(){return"Image"},e.prototype.src=function(t){return w(t)?(this.options.set("src",t),this):this.options.get("src")},e.prototype.bbox=function(t){var e=nt(this.currentTransform(t));return this._rect.bbox(e)},e.prototype.rawBBox=function(){return this._rect.bbox()},e.prototype._containsPoint=function(t){return this._rect.containsPoint(t)},e.prototype._hasFill=function(){return this.src()},Object.defineProperties(e.prototype,n),e}(Bo(Do,["rect"])),bi=function(t,e){return function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.traverse=function(t){for(var n=this[e],r=0;r<n.length;r++){var o=n[r];o.traverse?o.traverse(t):t(o)}return this},n}(t)},wi=function(t){function e(e){t.call(this,e),this.children=[]}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={nodeType:{}};return n.nodeType.get=function(){return"Group"},e.prototype.childrenChange=function(t,e,n){this.trigger("childrenChange",{action:t,items:e,index:n})},e.prototype.append=function(){return g(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this},e.prototype.insert=function(t,e){return this.children.splice(t,0,e),e.parent=this,this.childrenChange("add",[e],t),this},e.prototype.insertAt=function(t,e){return this.insert(e,t)},e.prototype.remove=function(t){var e=this.children.indexOf(t);return e>=0&&(this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)),this},e.prototype.removeAt=function(t){if(0<=t&&t<this.children.length){var e=this.children[t];this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)}return this},e.prototype.clear=function(){var t=this.children;return this.children=[],this._reparent(t,null),this.childrenChange("remove",t,0),this},e.prototype.bbox=function(t){return Pt(this.children,!0,this.currentTransform(t))},e.prototype.rawBBox=function(){return Pt(this.children,!1)},e.prototype._clippedBBox=function(t){return At(this.children,this.currentTransform(t))},e.prototype.currentTransform=function(t){return Do.prototype.currentTransform.call(this,t)||null},e.prototype.containsPoint=function(t,e){if(this.visible())for(var n=this.children,r=this.currentTransform(e),o=0;o<n.length;o++)if(n[o].containsPoint(t,r))return!0;return!1},e.prototype._reparent=function(t,e){for(var n=this,r=0;r<t.length;r++){var o=t[r],i=o.parent;i&&i!==n&&i.remove&&i.remove(o),o.parent=e}},Object.defineProperties(e.prototype,n),e}(bi(Do,"children")),_i={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},xi=function(t,e){t.forEach(e)},ki=function(t,e){for(var n=t.length,r=n-1;r>=0;r--)e(t[r],r)},Si=function(t){function e(e,n){t.call(this,Object.assign({},_i,n)),this._rect=e,this._fieldMap={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.rect=function(t){return t?(this._rect=t,this):this._rect},e.prototype._initMap=function(){var t=this.options,e=this._fieldMap;"horizontal"===t.orientation?(e.sizeField="width",e.groupsSizeField="height",e.groupAxis="x",e.groupsAxis="y"):(e.sizeField="height",e.groupsSizeField="width",e.groupAxis="y",e.groupsAxis="x"),t.reverse?(this.forEach=ki,this.justifyAlign=Rt):(this.forEach=xi,this.justifyAlign=jt)},e.prototype.reflow=function(){var t=this;if(this._rect&&0!==this.children.length){this._initMap(),this.options.transform&&this.transform(null);for(var e,n,r,o=this.options,i=this._rect,s=this._initGroups(),a=s.groups,l=s.groupsSize,c=this._fieldMap,u=c.sizeField,p=c.groupsSizeField,h=c.groupAxis,f=c.groupsAxis,d=new To,v=new To,y=new Mo,g=jt(l,i,o.alignContent,f,p),m=function(t,i){var s=n.elements[i];v[h]=e,v[f]=jt(t.size[p],r,o.alignItems,f,p),Dt(v,t,s),e+=t.size[u]+o.spacing},b=0;b<a.length;b++)n=a[b],d[h]=e=t.justifyAlign(n.size,i,o.justifyContent,h,u),d[f]=g,y[u]=n.size,y[p]=n.lineSize,r=new Po(d,y),t.forEach(n.bboxes,m),g+=n.lineSize+o.lineSpacing;if(!o.wrap&&n.size>i.size[u]){var w=i.size[u]/r.size[u],_=r.topLeft().scale(w,w),x=r.size[p]*w,k=jt(x,i,o.alignContent,f,p),S=rt();"x"===h?S.translate(i.origin.x-_.x,k-_.y):S.translate(k-_.x,i.origin.y-_.y),S.scale(w,w),this.transform(S)}}},e.prototype._initGroups=function(){for(var t=this,e=this,n=e.options,r=e.children,o=n.lineSpacing,i=n.wrap,s=n.spacing,a=this._fieldMap.sizeField,l=this._newGroup(),c=[],u=function(){c.push(l),p+=l.lineSize+o},p=-o,h=0;h<r.length;h++){var f=r[h],d=r[h].clippedBBox();f.visible()&&d&&(i&&l.size+d.size[a]+s>t._rect.size[a]?0===l.bboxes.length?(t._addToGroup(l,d,f),u(),l=t._newGroup()):(u(),l=t._newGroup(),t._addToGroup(l,d,f)):t._addToGroup(l,d,f))}return l.bboxes.length&&u(),{groups:c,groupsSize:p}},e.prototype._addToGroup=function(t,e,n){t.size+=e.size[this._fieldMap.sizeField]+this.options.spacing,t.lineSize=Math.max(e.size[this._fieldMap.groupsSizeField],t.lineSize),t.bboxes.push(e),t.elements.push(n)},e.prototype._newGroup=function(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}},e}(wi),Ci=function(t){function e(e,n){void 0===e&&(e=new Po),void 0===n&&(n={}),t.call(this,n),this.geometry(e),w(this.options.stroke)||this.stroke("#000")}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={nodeType:{}};return n.nodeType.get=function(){return"Rect"},e.prototype._bbox=function(t){return this._geometry.bbox(t)},e.prototype.rawBBox=function(){return this._geometry.bbox()},e.prototype._containsPoint=function(t){return this._geometry.containsPoint(t)},e.prototype._isOnPath=function(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)},Object.defineProperties(e.prototype,n),e}(Lo(Fo(Bo(Do)))),Oi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._change=function(){this.optionsChange({field:"stops"})},e}(Qo),Ei=function(t,e){var n=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t);return $t(n.prototype,e),n},Ti=["offset","color","opacity"],Mi=function(t){function e(e,n,r){t.call(this),this.options=new Oo({offset:e,color:n,opacity:w(r)?r:1}),this.options.addObserver(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t){if(w(t)){var n;return n=t instanceof e?t:t.length>1?new e(t[0],t[1],t[2]):new e(t.offset,t.color,t.opacity)}},e}(Ei(ro,Ti)),Pi=function(t){function e(e){void 0===e&&(e={}),t.call(this),this.stops=new Oi(this._createStops(e.stops)),this.stops.addObserver(this),this._userSpace=e.userSpace,this.id=_()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={nodeType:{}};return n.nodeType.get=function(){return"Gradient"},e.prototype.userSpace=function(t){return w(t)?(this._userSpace=t,this.optionsChange(),this):this._userSpace},e.prototype._createStops=function(t){void 0===t&&(t=[]);for(var e=[],n=0;n<t.length;n++)e.push(Mi.create(t[n]));return e},e.prototype.addStop=function(t,e,n){this.stops.push(new Mi(t,e,n))},e.prototype.removeStop=function(t){var e=this.stops.indexOf(t);e>=0&&this.stops.splice(e,1)},e.prototype.optionsChange=function(t){this.trigger("optionsChange",{field:"gradient"+(t?"."+t.field:""),value:this})},e.prototype.geometryChange=function(){this.optionsChange()},Object.defineProperties(e.prototype,n),e}(ro),Ai=["start","end"],Di=function(t){function e(e){void 0===e&&(e={}),t.call(this,e),this.start(e.start||new To),this.end(e.end||new To(1,0))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ni(Pi,Ai)),ji=function(t){function e(e){void 0===e&&(e={}),t.call(this,e),this.center(e.center||new To),this._radius=w(e.radius)?e.radius:1,this._fallbackFill=e.fallbackFill}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.radius=function(t){return w(t)?(this._radius=t,this.geometryChange(),this):this._radius},e.prototype.fallbackFill=function(t){return w(t)?(this._fallbackFill=t,this.optionsChange(),this):this._fallbackFill},e}(ni(Pi,["center"])),Ri=Object.freeze({swing:Yt,linear:Xt,easeOutElastic:Zt}),Ii=function(t){function e(){t.call(this),this._items=[]}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={current:{}};return n.current.get=function(){return xo||(xo=new e),xo},e.prototype.register=function(t,e){this._items.push({name:t,type:e})},e.prototype.create=function(t,e){var n,r=this._items;if(e&&e.type)for(var o=e.type.toLowerCase(),i=0;i<r.length;i++)if(r[i].name.toLowerCase()===o){n=r[i];break}if(n)return new n.type(t,e)},Object.defineProperties(e,n),e}(Ir),Li=function(t){function e(e,n){t.call(this),this.options=Object.assign({},this.options,n),this.element=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={options:{}};return e.create=function(t,e,n){return Ii.current.create(t,e,n)},n.options.get=function(){return this._options||{duration:500,easing:"swing"}},n.options.set=function(t){this._options=t},e.prototype.setup=function(){},e.prototype.step=function(){},e.prototype.play=function(){var t=this,e=this.options,n=e.duration,r=e.delay;void 0===r&&(r=0);var o=Ri[e.easing],i=qr()+r,s=i+n;0===n?(this.step(1),this.abort()):setTimeout(function(){var e=function(){if(!t._stopped){var r=qr(),a=A(r-i,0,n),l=a/n,c=o(l,a,0,1,n);t.step(c),r<s?Fr(e):t.abort()}};e()},r)},e.prototype.abort=function(){this._stopped=!0},e.prototype.destroy=function(){this.abort()},Object.defineProperties(e.prototype,n),e}(Ir),zi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={current:{}};return n.current.get=function(){return ko||(ko=new e),ko},e.prototype.parse=function(t,e){var n=new hi(e);return Mt(n,t)},Object.defineProperties(e,n),e}(Ir),Fi=function(t){function e(e){t.call(this),this.childNodes=[],this.parent=null,e&&(this.srcElement=e,this.observe())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){var t=this;this.srcElement&&this.srcElement.removeObserver(this);for(var e=this.childNodes,n=0;n<e.length;n++)t.childNodes[n].destroy();this.parent=null},e.prototype.load=function(){},e.prototype.observe=function(){this.srcElement&&this.srcElement.addObserver(this)},e.prototype.append=function(t){this.childNodes.push(t),t.parent=this},e.prototype.insertAt=function(t,e){this.childNodes.splice(e,0,t),t.parent=this},e.prototype.remove=function(t,e){for(var n=this,r=t+e,o=t;o<r;o++)n.childNodes[o].removeSelf();this.childNodes.splice(t,e)},e.prototype.removeSelf=function(){this.clear(),this.destroy()},e.prototype.clear=function(){this.remove(0,this.childNodes.length)},e.prototype.invalidate=function(){this.parent&&this.parent.invalidate()},e.prototype.geometryChange=function(){this.invalidate()},e.prototype.optionsChange=function(){this.invalidate()},e.prototype.childrenChange=function(t){"add"===t.action?this.load(t.items,t.index):"remove"===t.action&&this.remove(t.index,t.items.length),this.invalidate()},e}(Ir),Bi=["click","mouseenter","mouseleave","mousemove","resize"],Ni=function(t){function e(e,n){t.call(this),this.options=Object.assign({},n),this.element=e,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new wi,H(e,this.options),this.bind(Bi,this.options),this._enableTracking()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.draw=function(t){this._visual.children.push(t)},e.prototype.clear=function(){this._visual.children=[]},e.prototype.destroy=function(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()},e.prototype.eventTarget=function(t){for(var e,n=this,r=T(t);!e&&r&&(e=r._kendoNode,r!==n.element);)r=r.parentElement;if(e)return e.srcElement},e.prototype.exportVisual=function(){return this._visual},e.prototype.getSize=function(){return H(this.element)},e.prototype.currentSize=function(t){return t?void(this._size=t):this._size},e.prototype.setSize=function(t){H(this.element,t),this.currentSize(t),this._resize()},e.prototype.resize=function(t){var e=this.getSize(),n=this.currentSize();(t||(e.width>0||e.height>0)&&(!n||e.width!==n.width||e.height!==n.height))&&(this.currentSize(e),this._resize(e,t),this.trigger("resize",e))},e.prototype.size=function(t){return t?void this.setSize(t):this.getSize()},e.prototype.suspendTracking=function(){this._suspendedTracking=!0},e.prototype.resumeTracking=function(){this._suspendedTracking=!1},e.prototype._enableTracking=function(){},e.prototype._resize=function(){},e.prototype._handler=function(t){var e=this;return function(n){var r=e.eventTarget(n);r&&!e._suspendedTracking&&e.trigger(t,{element:r,originalEvent:n,type:t})}},e.prototype._elementOffset=function(){var t=this.element,e=U(t),n=B(t),r=n.left,o=n.top;return{left:r+e.left,top:o+e.top}},e.prototype._surfacePoint=function(t){var e=this._elementOffset(),n=E(t),r=n.x-e.left,o=n.y-e.top,i=G(this.element).invert(),s=new To(r,o).transform(i);return s},e}(Lr),Vi={},Hi="http://www.w3.org/2000/svg",Wi="none",Ui=function(t,e){
t.innerHTML=e};if("undefined"!=typeof document){var Ki="<svg xmlns='"+Hi+"'></svg>",qi=document.createElement("div"),Gi="undefined"!=typeof DOMParser;qi.innerHTML=Ki,Gi&&qi.firstChild.namespaceURI!==Hi&&(Ui=function(t,e){var n=new DOMParser,r=n.parseFromString(e,"text/xml"),o=document.adoptNode(r.documentElement);t.innerHTML="",t.appendChild(o)})}var $i=Ui,Yi="transform",Xi={clip:"clip-path",fill:"fill"},Zi=function(t){function e(e,n){t.call(this,e),this.definitions={},this.options=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),t.prototype.destroy.call(this)},e.prototype.load=function(t,e){for(var n=this,r=0;r<t.length;r++){var o=t[r],i=o.children,s=new Vi[o.nodeType](o,n.options);w(e)?n.insertAt(s,e):n.append(s),s.createDefinitions(),i&&i.length>0&&s.load(i);var a=n.element;a&&s.attachTo(a,e)}},e.prototype.root=function t(){for(var t=this;t.parent;)t=t.parent;return t},e.prototype.attachTo=function(t,e){var n=document.createElement("div");$i(n,"<svg xmlns='"+Hi+"' version='1.1'>"+this.render()+"</svg>");var r=n.firstChild.firstChild;r&&(w(e)?t.insertBefore(r,t.childNodes[e]||null):t.appendChild(r),this.setElement(r))},e.prototype.setElement=function(t){this.element&&(this.element._kendoNode=null),this.element=t,this.element._kendoNode=this;for(var e=this.childNodes,n=0;n<e.length;n++){var r=t.childNodes[n];e[n].setElement(r)}},e.prototype.clear=function(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");for(var t=this.childNodes,e=0;e<t.length;e++)t[e].destroy();this.childNodes=[]},e.prototype.removeSelf=function(){if(this.element){var e=this.element.parentNode;e&&e.removeChild(this.element),this.element=null}t.prototype.removeSelf.call(this)},e.prototype.template=function(){return this.renderChildren()},e.prototype.render=function(){return this.template()},e.prototype.renderChildren=function(){for(var t=this.childNodes,e="",n=0;n<t.length;n++)e+=t[n].render();return e},e.prototype.optionsChange=function(e){var n=e.field,r=e.value;"visible"===n?this.css("display",r?"":Wi):Xi[n]&&ee(n,r)?this.updateDefinition(n,r):"opacity"===n?this.attr("opacity",r):"cursor"===n?this.css("cursor",r):"id"===n&&(r?this.attr("id",r):this.removeAttr("id")),t.prototype.optionsChange.call(this,e)},e.prototype.attr=function(t,e){this.element&&this.element.setAttribute(t,e)},e.prototype.allAttr=function(t){for(var e=this,n=0;n<t.length;n++)e.attr(t[n][0],t[n][1])},e.prototype.css=function(t,e){this.element&&(this.element.style[t]=e)},e.prototype.allCss=function(t){for(var e=this,n=0;n<t.length;n++)e.css(t[n][0],t[n][1])},e.prototype.removeAttr=function(t){this.element&&this.element.removeAttribute(t)},e.prototype.mapTransform=function(t){var e=[];return t&&e.push([Yi,"matrix("+t.matrix().toString(6)+")"]),e},e.prototype.renderTransform=function(){return Qt(this.mapTransform(this.srcElement.transform()))},e.prototype.transformChange=function(t){t?this.allAttr(this.mapTransform(t)):this.removeAttr(Yi)},e.prototype.mapStyle=function(){var t=this.srcElement.options,e=[["cursor",t.cursor]];return t.visible===!1&&e.push(["display",Wi]),e},e.prototype.renderStyle=function(){return Jt("style",te(this.mapStyle(!0)))},e.prototype.renderOpacity=function(){return Jt("opacity",this.srcElement.options.opacity)},e.prototype.renderId=function(){return Jt("id",this.srcElement.options.id)},e.prototype.createDefinitions=function(){var t=this.srcElement,e=this.definitions;if(t){var n,r=t.options;for(var o in Xi){var i=r.get(o);i&&ee(o,i)&&(e[o]=i,n=!0)}n&&this.definitionChange({action:"add",definitions:e})}},e.prototype.definitionChange=function(t){this.parent&&this.parent.definitionChange(t)},e.prototype.updateDefinition=function(t,e){var n=this.definitions,r=n[t],o=Xi[t],i={};r&&(i[t]=r,this.definitionChange({action:"remove",definitions:i}),delete n[t]),e?(i[t]=e,this.definitionChange({action:"add",definitions:i}),n[t]=e,this.attr(o,this.refUrl(e.id))):r&&this.removeAttr(o)},e.prototype.clearDefinitions=function(){var t=this.definitions;this.definitionChange({action:"remove",definitions:t}),this.definitions={}},e.prototype.renderDefinitions=function(){return Qt(this.mapDefinitions())},e.prototype.mapDefinitions=function(){var t=this,e=this.definitions,n=[];for(var r in e)n.push([Xi[r],t.refUrl(e[r].id)]);return n},e.prototype.refUrl=function(t){var e=(this.options||{}).skipBaseHref,n=this.baseUrl().replace(/'/g,"\\'"),r=e?"":n;return"url("+r+"#"+t+")"},e.prototype.baseUrl=function(){return ne()},e}(Fi),Ji=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.template=function(){return"<stop "+this.renderOffset()+" "+this.renderStyle()+" />"},e.prototype.renderOffset=function(){return Jt("offset",this.srcElement.offset())},e.prototype.mapStyle=function(){var t=this.srcElement;return[["stop-color",t.color()],["stop-opacity",t.opacity()]]},e.prototype.optionsChange=function(t){"offset"===t.field?this.attr(t.field,t.value):"color"!==t.field&&"opacity"!==t.field||this.css("stop-"+t.field,t.value)},e}(Zi),Qi=function(t){function e(e){t.call(this,e),this.id=e.id,this.loadStops()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.loadStops=function(){for(var t=this,e=this.srcElement.stops,n=this.element,r=0;r<e.length;r++){var o=new Ji(e[r]);t.append(o),n&&o.attachTo(n)}},e.prototype.optionsChange=function(t){"gradient.stops"===t.field?(Fi.prototype.clear.call(this),this.loadStops()):"gradient"===t.field&&this.allAttr(this.mapCoordinates())},e.prototype.renderCoordinates=function(){return Qt(this.mapCoordinates())},e.prototype.mapSpace=function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]},e}(Zi),ts=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.template=function(){return"<linearGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</linearGradient>"},e.prototype.mapCoordinates=function(){var t=this.srcElement,e=t.start(),n=t.end(),r=[["x1",e.x],["y1",e.y],["x2",n.x],["y2",n.y],this.mapSpace()];return r},e}(Qi),es=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.template=function(){return"<radialGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</radialGradient>"},e.prototype.mapCoordinates=function(){var t=this.srcElement,e=t.center(),n=t.radius(),r=[["cx",e.x],["cy",e.y],["r",n],this.mapSpace()];return r},e}(Qi),ns=function(t){function e(e){t.call(this),this.srcElement=e,this.id=e.id,this.load([e])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.template=function(){return"<clipPath id='"+this.id+"'>"+this.renderChildren()+"</clipPath>"},e}(Zi),rs=function(t){function e(){t.call(this),this.definitionMap={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.attachTo=function(t){this.element=t},e.prototype.template=function(){return"<defs>"+this.renderChildren()+"</defs>"},e.prototype.definitionChange=function(t){var e=t.definitions,n=t.action;"add"===n?this.addDefinitions(e):"remove"===n&&this.removeDefinitions(e)},e.prototype.createDefinition=function(t,e){var n;return"clip"===t?n=ns:"fill"===t&&(e instanceof Di?n=ts:e instanceof ji&&(n=es)),new n(e)},e.prototype.addDefinitions=function(t){var e=this;for(var n in t)e.addDefinition(n,t[n])},e.prototype.addDefinition=function(t,e){var n=this,r=n.element,o=n.definitionMap,i=e.id,s=o[i];if(s)s.count++;else{var a=this.createDefinition(t,e);o[i]={element:a,count:1},this.append(a),r&&a.attachTo(this.element)}},e.prototype.removeDefinitions=function(t){var e=this;for(var n in t)e.removeDefinition(t[n])},e.prototype.removeDefinition=function(t){var e=this.definitionMap,n=t.id,r=e[n];r&&(r.count--,0===r.count&&(this.remove(this.childNodes.indexOf(r.element),1),delete e[n]))},e}(Zi),os=function(t){function e(e){t.call(this),this.options=e,this.defs=new rs}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.attachTo=function(t){this.element=t,this.defs.attachTo(t.firstElementChild)},e.prototype.clear=function(){Fi.prototype.clear.call(this)},e.prototype.template=function(){return this.defs.render()+this.renderChildren()},e.prototype.definitionChange=function(t){this.defs.definitionChange(t)},e}(Zi),is={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},ss="solid",as="butt",ls={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},cs=" ",us=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.geometryChange=function(){this.attr("d",this.renderData()),this.invalidate()},e.prototype.optionsChange=function(e){switch(e.field){case"fill":e.value?this.allAttr(this.mapFill(e.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:e.value}));break;case"stroke":e.value?this.allAttr(this.mapStroke(e.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(e.value);break;default:var n=ls[e.field];n&&this.attr(n,e.value)}t.prototype.optionsChange.call(this,e)},e.prototype.content=function(){this.element&&(this.element.textContent=this.srcElement.content())},e.prototype.renderData=function(){return this.printPath(this.srcElement)},e.prototype.printPath=function(t){var e=this,n=t.segments,r=n.length;if(r>0){for(var o,i,s=[],a=1;a<r;a++){var l=e.segmentType(n[a-1],n[a]);l!==i&&(i=l,s.push(l)),"L"===l?s.push(e.printPoints(n[a].anchor())):s.push(e.printPoints(n[a-1].controlOut(),n[a].controlIn(),n[a].anchor()))}return o="M"+this.printPoints(n[0].anchor())+cs+s.join(cs),t.options.closed&&(o+="Z"),o}},e.prototype.printPoints=function(){for(var t=arguments,e=t.length,n=[],r=0;r<e;r++)n.push(t[r].toString(3));return n.join(" ")},e.prototype.segmentType=function(t,e){return t.controlOut()&&e.controlIn()?"C":"L"},e.prototype.mapStroke=function(t){var e=[];return t&&!M(t.color)?(e.push(["stroke",t.color]),e.push(["stroke-width",t.width]),e.push(["stroke-linecap",this.renderLinecap(t)]),e.push(["stroke-linejoin",t.lineJoin]),w(t.opacity)&&e.push(["stroke-opacity",t.opacity]),w(t.dashType)&&e.push(["stroke-dasharray",this.renderDashType(t)])):e.push(["stroke",Wi]),e},e.prototype.renderStroke=function(){return Qt(this.mapStroke(this.srcElement.options.stroke))},e.prototype.renderDashType=function(t){var e=t.dashType,n=t.width;if(void 0===n&&(n=1),e&&e!==ss){for(var r=is[e.toLowerCase()],o=[],i=0;i<r.length;i++)o.push(r[i]*n);return o.join(" ")}},e.prototype.renderLinecap=function(t){var e=t.dashType,n=t.lineCap;return e&&"solid"!==e?as:n},e.prototype.mapFill=function(t){var e=[];return t&&"Gradient"===t.nodeType||(t&&!M(t.color)?(e.push(["fill",t.color]),w(t.opacity)&&e.push(["fill-opacity",t.opacity])):e.push(["fill",Wi])),e},e.prototype.renderFill=function(){return Qt(this.mapFill(this.srcElement.options.fill))},e.prototype.template=function(){return"<path "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" "+Jt("d",this.renderData())+this.renderStroke()+this.renderFill()+this.renderDefinitions()+this.renderTransform()+"></path>"},e}(Zi),ps=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderData=function(){return this.printPath(this.srcElement.toPath())},e}(us),hs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.geometryChange=function(){var t=this.center();this.attr("cx",t.x),this.attr("cy",t.y),this.attr("r",this.radius()),this.invalidate()},e.prototype.center=function(){return this.srcElement.geometry().center},e.prototype.radius=function(){return this.srcElement.geometry().radius},e.prototype.template=function(){return"<circle "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+"cx='"+this.center().x+"' cy='"+this.center().y+"' r='"+this.radius()+"'"+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+this.renderTransform()+" ></circle>"},e}(us),fs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.template=function(){return"<g"+(this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions())+">"+this.renderChildren()+"</g>"},e.prototype.optionsChange=function(e){"transform"===e.field&&this.transformChange(e.value),t.prototype.optionsChange.call(this,e)},e}(Zi),ds=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.geometryChange=function(){this.allAttr(this.mapPosition()),this.invalidate()},e.prototype.optionsChange=function(e){"src"===e.field&&this.allAttr(this.mapSource()),t.prototype.optionsChange.call(this,e)},e.prototype.mapPosition=function(){var t=this.srcElement.rect(),e=t.topLeft();return[["x",e.x],["y",e.y],["width",t.width()+"px"],["height",t.height()+"px"]]},e.prototype.renderPosition=function(){return Qt(this.mapPosition())},e.prototype.mapSource=function(t){var e=this.srcElement.src();return t&&(e=a(e)),[["xlink:href",e]]},e.prototype.renderSource=function(){return Qt(this.mapSource(!0))},e.prototype.template=function(){return"<image preserveAspectRatio='none' "+this.renderId()+" "+this.renderStyle()+" "+this.renderTransform()+" "+this.renderOpacity()+this.renderPosition()+" "+this.renderSource()+" "+this.renderDefinitions()+"></image>"},e}(us),vs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderData=function(){var t=this,e=this.srcElement.paths;if(e.length>0){for(var n=[],r=0;r<e.length;r++)n.push(t.printPath(e[r]));return n.join(" ")}},e}(us),ys=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.geometryChange=function(){var t=this.srcElement.geometry();this.attr("x",t.origin.x),this.attr("y",t.origin.y),this.attr("width",t.size.width),this.attr("height",t.size.height),this.attr("rx",t.cornerRadius[0]),this.attr("ry",t.cornerRadius[1]),this.invalidate()},e.prototype.size=function(){return this.srcElement.geometry().size},e.prototype.origin=function(){return this.srcElement.geometry().origin},e.prototype.rx=function(){return this.srcElement.geometry().cornerRadius[0]},e.prototype.ry=function(){return this.srcElement.geometry().cornerRadius[1]},e.prototype.template=function(){return"<rect "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" x='"+this.origin().x+"' y='"+this.origin().y+"' rx='"+this.rx()+"' ry='"+this.ry()+"' width='"+this.size().width+"' height='"+this.size().height+"' "+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+" "+this.renderTransform()+" />"},e}(us),gs=/&(?:[a-zA-Z]+|#\d+);/g;"undefined"!=typeof document&&(re._element=document.createElement("span"));var ms=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.geometryChange=function(){var t=this.pos();this.attr("x",t.x),this.attr("y",t.y),this.invalidate()},e.prototype.optionsChange=function(e){"font"===e.field?(this.attr("style",te(this.mapStyle())),this.geometryChange()):"content"===e.field&&t.prototype.content.call(this,this.srcElement.content()),t.prototype.optionsChange.call(this,e)},e.prototype.mapStyle=function(e){var n=t.prototype.mapStyle.call(this,e),r=this.srcElement.options.font;return e&&(r=a(r)),n.push(["font",r],["white-space","pre"]),n},e.prototype.pos=function t(){var t=this.srcElement.position(),e=this.srcElement.measure();return t.clone().setY(t.y+e.baseline)},e.prototype.renderContent=function(){var t=this.srcElement.content();return t=re(t),t=a(t),$(t)},e.prototype.renderTextAnchor=function(){var t;return!(this.options||{}).rtl||Kr.browser.msie||Kr.browser.edge||(t="end"),Jt("text-anchor",t)},e.prototype.template=function(){return"<text "+this.renderId()+" "+this.renderTextAnchor()+" "+this.renderStyle()+" "+this.renderOpacity()+"x='"+this.pos().x+"' y='"+this.pos().y+"' "+this.renderStroke()+" "+this.renderTransform()+" "+this.renderDefinitions()+this.renderFill()+">"+this.renderContent()+"</text>"},e}(us);Vi.Arc=ps,Vi.Circle=hs,Vi.Group=fs,Vi.Image=ds,Vi.MultiPath=vs,Vi.Path=us,Vi.Rect=ys,Vi.Text=ms;var bs="rtl",ws=function(t){function e(e,n){t.call(this,e,n),this._root=new os(Object.assign({rtl:N(e,"direction").direction===bs},this.options)),$i(this.element,this._template()),this._rootElement=this.element.firstElementChild,oe(this._rootElement),this._root.attachTo(this._rootElement),F(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={type:{}};return n.type.get=function(){return"svg"},e.prototype.destroy=function(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,W(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),t.prototype.destroy.call(this)},e.prototype.translate=function(t){var e=Math.round(t.x)+" "+Math.round(t.y)+" "+this._size.width+" "+this._size.height;this._offset=t,this._rootElement.setAttribute("viewBox",e)},e.prototype.draw=function(e){t.prototype.draw.call(this,e),this._root.load([e])},e.prototype.clear=function(){t.prototype.clear.call(this),this._root.clear()},e.prototype.svg=function(){return"<?xml version='1.0' ?>"+this._template()},e.prototype.exportVisual=function(){var t=this,e=t._visual,n=t._offset;if(n){var r=new wi;r.children.push(e),r.transform(rt().translate(-n.x,-n.y)),e=r}return e},e.prototype._resize=function(){this._offset&&this.translate(this._offset)},e.prototype._template=function(){return"<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+Hi+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+this._root.render()+"</svg>"},Object.defineProperties(e.prototype,n),e}(Ni),_s={},xs=function(t){function e(e){t.call(this,e),e&&this.initClip()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initClip=function(){var t=this.srcElement.clip();t&&(this.clip=t,t.addObserver(this))},e.prototype.clear=function(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),t.prototype.clear.call(this)},e.prototype.clearClip=function(){this.clip&&(this.clip.removeObserver(this),delete this.clip)},e.prototype.setClip=function(t){this.clip&&(t.beginPath(),ie(t,this.clip),t.clip())},e.prototype.optionsChange=function(e){"clip"===e.field&&(this.clearClip(),this.initClip()),t.prototype.optionsChange.call(this,e)},e.prototype.setTransform=function(t){if(this.srcElement){var e=this.srcElement.transform();e&&t.transform.apply(t,e.matrix().toArray(6))}},e.prototype.loadElements=function(t,e,n){for(var r=this,o=0;o<t.length;o++){var i=t[o],s=i.children,a=new _s[i.nodeType](i,n);s&&s.length>0&&a.load(s,e,n),w(e)?r.insertAt(a,e):r.append(a)}},e.prototype.load=function(t,e,n){this.loadElements(t,e,n),this.invalidate()},e.prototype.setOpacity=function(t){if(this.srcElement){var e=this.srcElement.opacity();w(e)&&this.globalAlpha(t,e)}},e.prototype.globalAlpha=function(t,e){var n=e;n&&t.globalAlpha&&(n*=t.globalAlpha),t.globalAlpha=n},e.prototype.visible=function(){var t=this.srcElement;return!t||t&&t.options.visible!==!1},e}(Fi),ks=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderTo=function(t){if(this.visible()){t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t);for(var e=this.childNodes,n=0;n<e.length;n++){var r=e[n];r.visible()&&r.renderTo(t)}t.restore()}},e}(bi(xs,"childNodes")),Ss=1e3/60,Cs=function(t){function e(e,n){t.call(this),this.canvas=e,this.size=n,this.ctx=e.getContext("2d");var r=this._invalidate.bind(this);this.invalidate=h(function(){Fr(r)},Ss)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){t.prototype.destroy.call(this),this.canvas=null,this.ctx=null},e.prototype.load=function(t,e,n){this.loadElements(t,e,n),this._invalidate()},e.prototype._rescale=function(t){var e=this,n=e.canvas,r=e.size;n.width=r.width*t,n.height=r.height*t,this.ctx.scale(t,t)},e.prototype._devicePixelRatio=function(){return"number"==typeof window.devicePixelRatio?window.devicePixelRatio:1},e.prototype._invalidate=function(t){if(this.ctx){var e=t&&t.fixedScale,n=e?1:this._devicePixelRatio();this._rescale(n),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx)}},e}(bi(ks,"childNodes")),Os=function(t){function e(){t.call(this),this.shapes=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._add=function(t,e){this.shapes.push({bbox:e,shape:t}),t._quadNode=this},e.prototype.pointShapes=function(t){for(var e=this.shapes,n=e.length,r=[],o=0;o<n;o++)e[o].bbox.containsPoint(t)&&r.push(e[o].shape);return r},e.prototype.insert=function(t,e){this._add(t,e)},e.prototype.remove=function(t){for(var e=this.shapes,n=e.length,r=0;r<n;r++)if(e[r].shape===t){e.splice(r,1);break}},e}(Ir),Es=Object.freeze({Circle:Ro,Arc:qo,Rect:Po,Point:To,Segment:oi,Matrix:fo,Size:Mo,toMatrix:nt,Transformation:Ao,transform:rt}),Ts=function(t){function e(e){t.call(this),this.children=[],this.rect=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.inBounds=function t(e){var n=this.rect,r=n.bottomRight(),o=e.bottomRight(),t=n.origin.x<=e.origin.x&&n.origin.y<=e.origin.y&&o.x<=r.x&&o.y<=r.y;return t},e.prototype.pointShapes=function(e){for(var n=this.children,r=n.length,o=t.prototype.pointShapes.call(this,e),i=0;i<r;i++)g(o,n[i].pointShapes(e));return o},e.prototype.insert=function(t,e){var n=this.children,r=!1;if(this.inBounds(e)){if(this.shapes.length<4)this._add(t,e);else{n.length||this._initChildren();for(var o=0;o<n.length;o++)if(n[o].insert(t,e)){r=!0;break}r||this._add(t,e)}r=!0}return r},e.prototype._initChildren=function(){var t=this,n=t.rect,r=t.children,o=n.center(),i=n.width()/2,s=n.height()/2;r.push(new e(new Po([n.origin.x,n.origin.y],[i,s])),new e(new Po([o.x,n.origin.y],[i,s])),new e(new Po([n.origin.x,o.y],[i,s])),new e(new Po([o.x,o.y],[i,s])))},e}(Os),Ms=3e3,Ps=1e4,As=75,Ds=function(t){function e(){t.call(this),this.initRoots()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initRoots=function(){this.rootMap={},this.root=new Os,this.rootElements=[]},e.prototype.clear=function(){for(var t=this,e=this.rootElements,n=0;n<e.length;n++)t.remove(e[n]);this.initRoots()},e.prototype.pointShape=function(t){var e=(this.rootMap[Math.floor(t.x/Ms)]||{})[Math.floor(t.y/Ms)],n=this.root.pointShapes(t);e&&(n=n.concat(e.pointShapes(t))),this.assignZindex(n),n.sort(se);for(var r=0;r<n.length;r++)if(n[r].containsPoint(t))return n[r]},e.prototype.assignZindex=function(t){for(var e=this,n=0;n<t.length;n++){for(var r=t[n],o=0,i=Math.pow(Ps,As),s=[];r;)s.push(r),r=r.parent;for(;s.length;)r=s.pop(),o+=((r.parent?r.parent.children:e.rootElements).indexOf(r)+1)*i,i/=Ps;t[n]._zIndex=o}},e.prototype.optionsChange=function(t){"transform"!==t.field&&"stroke.width"!==t.field||this.bboxChange(t.element)},e.prototype.geometryChange=function(t){this.bboxChange(t.element)},e.prototype.bboxChange=function(t){var e=this;if("Group"===t.nodeType)for(var n=0;n<t.children.length;n++)e.bboxChange(t.children[n]);else t._quadNode&&t._quadNode.remove(t),this._insertShape(t)},e.prototype.add=function(t){var e=Array.isArray(t)?t.slice(0):[t];g(this.rootElements,e),this._insert(e)},e.prototype.childrenChange=function(t){var e=this;if("remove"===t.action)for(var n=0;n<t.items.length;n++)e.remove(t.items[n]);else this._insert(Array.prototype.slice.call(t.items,0))},e.prototype._insert=function(t){for(var e,n=this;t.length>0;)e=t.pop(),e.addObserver(n),"Group"===e.nodeType?g(t,e.children):n._insertShape(e)},e.prototype._insertShape=function(t){var e=t.bbox();if(e){var n=this.getSectors(e),r=n[0][0],o=n[1][0];if(this.inRoot(n))this.root.insert(t,e);else{var i=this.rootMap;i[r]||(i[r]={}),i[r][o]||(i[r][o]=new Ts(new Po([r*Ms,o*Ms],[Ms,Ms]))),i[r][o].insert(t,e)}}},e.prototype.remove=function(t){var e=this;if(t.removeObserver(this),"Group"===t.nodeType)for(var n=t.children,r=0;r<n.length;r++)e.remove(n[r]);else t._quadNode&&(t._quadNode.remove(t),delete t._quadNode)},e.prototype.inRoot=function(t){return t[0].length>1||t[1].length>1},e.prototype.getSectors=function(t){for(var e=t.bottomRight(),n=Math.floor(e.x/Ms),r=Math.floor(e.y/Ms),o=[[],[]],i=Math.floor(t.origin.x/Ms);i<=n;i++)o[0].push(i);for(var s=Math.floor(t.origin.y/Ms);s<=r;s++)o[1].push(s);return o},e}(Ir),js=function(t){t.bind("mouseenter",this._mouseenter.bind(this)),t.bind("mouseleave",this._mouseleave.bind(this)),this.element=t.element};js.prototype.clear=function(){this._resetCursor()},js.prototype.destroy=function(){this._resetCursor(),delete this.element},js.prototype._mouseenter=function(t){var e=this._shapeCursor(t);e?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(e)):this._resetCursor()},js.prototype._mouseleave=function(){this._resetCursor()},js.prototype._shapeCursor=function(t){for(var e=t.element;e&&!w(e.options.cursor);)e=e.parent;if(e)return e.options.cursor},js.prototype._getCursor=function(){if(this.element)return this.element.style.cursor},js.prototype._setCursor=function(t){this.element&&(this.element.style.cursor=t,this._current=t)},js.prototype._resetCursor=function(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)};var Rs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderTo=function(t){t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),this.renderPoints(t,this.srcElement),this.setLineDash(t),this.setLineCap(t),this.setLineJoin(t),this.setFill(t),this.setStroke(t),t.restore()},e.prototype.setFill=function(t){var e=this.srcElement.options.fill,n=!1;return e&&("Gradient"===e.nodeType?(this.setGradientFill(t,e),n=!0):M(e.color)||(t.fillStyle=e.color,t.save(),this.globalAlpha(t,e.opacity),t.fill(),t.restore(),n=!0)),n},e.prototype.setGradientFill=function(t,e){var n,r=this.srcElement.rawBBox();if(e instanceof Di){var o=e.start(),i=e.end();n=t.createLinearGradient(o.x,o.y,i.x,i.y)}else if(e instanceof ji){var s=e.center();n=t.createRadialGradient(s.x,s.y,0,s.x,s.y,e.radius())}ae(n,e.stops),t.save(),e.userSpace()||t.transform(r.width(),0,0,r.height(),r.origin.x,r.origin.y),t.fillStyle=n,t.fill(),t.restore()},e.prototype.setStroke=function(t){var e=this.srcElement.options.stroke;if(e&&!M(e.color)&&e.width>0)return t.strokeStyle=e.color,t.lineWidth=z(e.width,1),t.save(),this.globalAlpha(t,e.opacity),t.stroke(),t.restore(),!0},e.prototype.dashType=function(){var t=this.srcElement.options.stroke;if(t&&t.dashType)return t.dashType.toLowerCase()},e.prototype.setLineDash=function(t){var e=this.dashType();if(e&&e!==ss){var n=is[e];t.setLineDash?t.setLineDash(n):(t.mozDash=n,t.webkitLineDash=n)}},e.prototype.setLineCap=function(t){var e=this.dashType(),n=this.srcElement.options.stroke;e&&e!==ss?t.lineCap=as:n&&n.lineCap&&(t.lineCap=n.lineCap)},e.prototype.setLineJoin=function(t){var e=this.srcElement.options.stroke;e&&e.lineJoin&&(t.lineJoin=e.lineJoin)},e.prototype.renderPoints=function(t,e){ie(t,e)},e}(xs),Is=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderPoints=function(t){var e=this.srcElement.toPath();ie(t,e)},e}(Rs),Ls=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderPoints=function(t){var e=this.srcElement.geometry(),n=e.center,r=e.radius;t.arc(n.x,n.y,r,0,2*Math.PI)},e}(Rs),zs=function(t){function e(e,n){t.call(this,e),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=b();var r=this.img=new Image;n&&!/^data:/i.test(e.src())&&(r.crossOrigin=n),r.src=e.src(),r.complete?this.onLoad():(r.onload=this.onLoad,r.onerror=this.onError)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderTo=function(t){"resolved"===this.loading.state()&&(t.save(),this.setTransform(t),this.setClip(t),this.drawImage(t),t.restore())},e.prototype.optionsChange=function(e){"src"===e.field?(this.loading=b(),this.img.src=this.srcElement.src()):t.prototype.optionsChange.call(this,e)},e.prototype.onLoad=function(){this.loading.resolve(),this.invalidate()},e.prototype.onError=function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))},e.prototype.drawImage=function(t){var e=this.srcElement.rect(),n=e.topLeft();t.drawImage(this.img,n.x,n.y,e.width(),e.height())},e}(Rs),Fs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderPoints=function(t){for(var e=this.srcElement.paths,n=0;n<e.length;n++)ie(t,e[n])},e}(Rs),Bs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderPoints=function(e){var n=this.srcElement.geometry(),r=n.cornerRadius,o=r[0],i=r[1];if(0===o&&0===i){var s=n.origin,a=n.size;e.rect(s.x,s.y,a.width,a.height)}else t.prototype.renderPoints.call(this,e,pi.fromRect(n))},e}(Rs),Ns=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.renderTo=function(t){var e=this.srcElement,n=e.position(),r=e.measure();t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),t.font=e.options.font,t.textAlign="left",this.setFill(t)&&t.fillText(e.content(),n.x,n.y+r.baseline),this.setStroke(t)&&(this.setLineDash(t),t.strokeText(e.content(),n.x,n.y+r.baseline)),t.restore()},e}(Rs);_s.Arc=Is,_s.Circle=Ls,_s.Group=ks,_s.Image=zs,_s.MultiPath=Fs,_s.Path=Rs,_s.Rect=Bs,_s.Text=Ns;var Vs,Hs,Ws=function(t){function e(e,n){t.call(this,e,n),this.element.innerHTML=this._template(this);var r=this.element.firstElementChild,o=H(e);r.width=o.width,r.height=o.height,this._rootElement=r,this._root=new Cs(r,o),this._mouseTrackHandler=this._trackMouse.bind(this),F(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={type:{}};return n.type.get=function(){return"canvas"},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),
this._cursor&&(this._cursor.destroy(),delete this._cursor),W(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})},e.prototype.draw=function(e){t.prototype.draw.call(this,e),this._root.load([e],void 0,this.options.cors),this._searchTree&&this._searchTree.add([e])},e.prototype.clear=function(){t.prototype.clear.call(this),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()},e.prototype.eventTarget=function(t){if(this._searchTree){var e=this._surfacePoint(t),n=this._searchTree.pointShape(e);return n}},e.prototype.image=function(){var t=this,e=t._root,n=t._rootElement,r=[];e.traverse(function(t){t.loading&&r.push(t.loading)});var o=b(),i=function(){e._invalidate({fixedScale:!0});try{var t=n.toDataURL();o.resolve(t)}catch(t){o.reject(t)}};return j(r).then(i,i),o},e.prototype.suspendTracking=function(){t.prototype.suspendTracking.call(this),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)},e.prototype.resumeTracking=function(){if(t.prototype.resumeTracking.call(this),!this._searchTree){this._searchTree=new Ds;for(var e=this._root.childNodes,n=[],r=0;r<e.length;r++)n.push(e[r].srcElement);this._searchTree.add(n)}},e.prototype._resize=function(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()},e.prototype._template=function(){return"<canvas style='width: 100%; height: 100%;'></canvas>"},e.prototype._enableTracking=function(){this._searchTree=new Ds,this._cursor=new js(this),t.prototype._enableTracking.call(this)},e.prototype._trackMouse=function(t){if(!this._suspendedTracking){var e=this.eventTarget(t);if("click"!==t.type){var n=this._currentShape;n&&n!==e&&this.trigger("mouseleave",{element:n,originalEvent:t,type:"mouseleave"}),e&&n!==e&&this.trigger("mouseenter",{element:e,originalEvent:t,type:"mouseenter"}),this.trigger("mousemove",{element:e,originalEvent:t,type:"mousemove"}),this._currentShape=e}else e&&this.trigger("click",{element:e,originalEvent:t,type:"click"})}},Object.defineProperties(e.prototype,n),e}(Ni),Us=function(){return"undefined"!=typeof document},Ks=function(){return Us()&&document.createElement("canvas").getContext},qs=function(){return Us()&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")},Gs=function(t){function e(){t.call(this),this._items=[{name:"svg",type:ws},{name:"canvas",type:Ws}]}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={support:{},current:{}};return n.support.get=function(){return Hs||(Hs={canvas:Ks(),svg:qs()}),Hs},n.current.get=function(){return Vs||(Vs=new e),Vs},e.prototype.create=function(t,e){var n=this._items,r=n[0];if(e&&e.type)for(var o=e.type.toLowerCase(),i=0;i<n.length;i++)if(n[i].name===o){r=n[i];break}return r?new r.type(t,e):void l("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG and Canvas. User agent: "+navigator.userAgent)},Object.defineProperties(e,n),e}(Ir),$s=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={support:{}};return n.support.get=function(){return Gs.support},e.create=function(t,e){return Gs.current.create(t,e)},Object.defineProperties(e,n),e}(Ni),Ys=Object.freeze({Surface:ws,RootNode:os,Node:Zi,GroupNode:fs,ArcNode:ps,CircleNode:hs,RectNode:ys,ImageNode:ds,TextNode:ms,PathNode:us,MultiPathNode:vs,DefinitionNode:rs,ClipNode:ns,GradientStopNode:Ji,LinearGradientNode:ts,RadialGradientNode:es,exportGroup:le}),Xs=Object.freeze({Surface:Ws,RootNode:Cs,Node:xs,GroupNode:ks,ArcNode:Is,CircleNode:Ls,RectNode:Bs,ImageNode:zs,TextNode:Ns,PathNode:Rs,MultiPathNode:Fs}),Zs=Object.freeze({svg:Ys,canvas:Xs,util:So,HasObservers:ro,PathParser:zi,parsePath:Mt,BaseNode:Fi,OptionsStore:Oo,Surface:$s,SurfaceFactory:Gs,exportImage:ce,exportSVG:ue,QuadNode:Ts,ShapesQuadTree:Ds,Element:Do,Circle:Vo,Arc:di,Path:pi,MultiPath:hi,Text:gi,Image:mi,Group:wi,Layout:Si,Rect:Ci,align:Lt,vAlign:zt,stack:Nt,vStack:Vt,wrap:Ut,vWrap:Kt,fit:qt,LinearGradient:Di,RadialGradient:ji,GradientStop:Mi,Gradient:Pi,Animation:Li,AnimationFactory:Ii}),Js="undefined"!=typeof Uint8Array&&Kr.browser&&(!Kr.browser.msie||Kr.browser.version>9),Qs=function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(e){for(var n=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=0,o=n.length,i=[];r<o;){var s=t.indexOf(n.charAt(r++)),a=t.indexOf(n.charAt(r++)),l=t.indexOf(n.charAt(r++)),c=t.indexOf(n.charAt(r++)),u=s<<2|a>>>4,p=(15&a)<<4|l>>>2,h=(3&l)<<6|c;i.push(u),64!=l&&i.push(p),64!=c&&i.push(h)}return i},encode:function(e){for(var n=0,r=e.length,o="";n<r;){var i=e[n++],s=e[n++],a=e[n++],l=i>>>2,c=(3&i)<<4|s>>>4,u=(15&s)<<2|a>>>6,p=63&a;n-r==2?u=p=64:n-r==1&&(p=64),o+=t.charAt(l)+t.charAt(c)+t.charAt(u)+t.charAt(p)}return o}}}(),ta=function(t){this.raw=t,this.scalerType=t.readLong(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort();for(var e=this.tables={},n=0;n<this.tableCount;++n){var r={tag:t.readString(4),checksum:t.readLong(),offset:t.readLong(),length:t.readLong()};e[r.tag]=r}};ta.prototype.readTable=function(t,e){var n=this.tables[t];if(!n)throw new Error("Table "+t+" not found in directory");return this[t]=n.table=new e(this,n)},ta.prototype.render=function(t){var e=this,n=Object.keys(t).length,r=Math.pow(2,Math.floor(Math.log(n)/Math.LN2)),o=16*r,i=Math.floor(Math.log(r)/Math.LN2),s=16*n-o,a=pe();a.writeLong(this.scalerType),a.writeShort(n),a.writeShort(o),a.writeShort(i),a.writeShort(s);var l=16*n,c=a.offset()+l,u=null,p=pe();for(var h in t)if(ge(t,h)){var f=t[h];for(a.writeString(h),a.writeLong(e.checksum(f)),a.writeLong(c),a.writeLong(f.length),p.write(f),"head"==h&&(u=c),c+=f.length;c%4;)p.writeByte(0),c++}a.write(p.get());var d=this.checksum(a.get()),v=2981146554-d;return a.offset(u+8),a.writeLong(v),a.get()},ta.prototype.checksum=function(t){t=pe(t);for(var e=0;!t.eof();)e+=t.readLong();return 4294967295&e};var ea=function(t,e){this.definition=e,this.length=e.length,this.offset=e.offset,this.file=t,this.rawData=t.raw,this.parse(t.raw)};ea.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)},ea.prototype.parse=function(){};var na=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parse=function(t){t.offset(this.offset),this.version=t.readLong(),this.revision=t.readLong(),this.checkSumAdjustment=t.readLong(),this.magicNumber=t.readLong(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.read(8),this.modified=t.read(8),this.xMin=t.readShort_(),this.yMin=t.readShort_(),this.xMax=t.readShort_(),this.yMax=t.readShort_(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort_(),this.indexToLocFormat=t.readShort_(),this.glyphDataFormat=t.readShort_()},e.prototype.render=function(t){var e=pe();return e.writeLong(this.version),e.writeLong(this.revision),e.writeLong(0),e.writeLong(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.write(this.created),e.write(this.modified),e.writeShort_(this.xMin),e.writeShort_(this.yMin),e.writeShort_(this.xMax),e.writeShort_(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort_(this.fontDirectionHint),e.writeShort_(t),e.writeShort_(this.glyphDataFormat),e.get()},e}(ea),ra=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parse=function(t){t.offset(this.offset);var e=this.file.head.indexToLocFormat;0===e?this.offsets=t.times(this.length/2,function(){return 2*t.readShort()}):this.offsets=t.times(this.length/4,t.readLong)},e.prototype.offsetOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.render=function(t){for(var e=pe(),n=t[t.length-1]>65535,r=0;r<t.length;++r)n?e.writeLong(t[r]):e.writeShort(t[r]/2);return{format:n?1:0,table:e.get()}},e}(ea),oa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parse=function(t){t.offset(this.offset),this.version=t.readLong(),this.ascent=t.readShort_(),this.descent=t.readShort_(),this.lineGap=t.readShort_(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort_(),this.minRightSideBearing=t.readShort_(),this.xMaxExtent=t.readShort_(),this.caretSlopeRise=t.readShort_(),this.caretSlopeRun=t.readShort_(),this.caretOffset=t.readShort_(),t.skip(8),this.metricDataFormat=t.readShort_(),this.numOfLongHorMetrics=t.readShort()},e.prototype.render=function(t){var e=pe();return e.writeLong(this.version),e.writeShort_(this.ascent),e.writeShort_(this.descent),e.writeShort_(this.lineGap),e.writeShort(this.advanceWidthMax),e.writeShort_(this.minLeftSideBearing),e.writeShort_(this.minRightSideBearing),e.writeShort_(this.xMaxExtent),e.writeShort_(this.caretSlopeRise),e.writeShort_(this.caretSlopeRun),e.writeShort_(this.caretOffset),e.write([0,0,0,0,0,0,0,0]),e.writeShort_(this.metricDataFormat),e.writeShort(t.length),e.get()},e}(ea),ia=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parse=function(t){t.offset(this.offset),this.version=t.readLong(),this.numGlyphs=t.readShort(),this.maxPoints=t.readShort(),this.maxContours=t.readShort(),this.maxComponentPoints=t.readShort(),this.maxComponentContours=t.readShort(),this.maxZones=t.readShort(),this.maxTwilightPoints=t.readShort(),this.maxStorage=t.readShort(),this.maxFunctionDefs=t.readShort(),this.maxInstructionDefs=t.readShort(),this.maxStackElements=t.readShort(),this.maxSizeOfInstructions=t.readShort(),this.maxComponentElements=t.readShort(),this.maxComponentDepth=t.readShort()},e.prototype.render=function(t){var e=pe();return e.writeLong(this.version),e.writeShort(t.length),e.writeShort(this.maxPoints),e.writeShort(this.maxContours),e.writeShort(this.maxComponentPoints),e.writeShort(this.maxComponentContours),e.writeShort(this.maxZones),e.writeShort(this.maxTwilightPoints),e.writeShort(this.maxStorage),e.writeShort(this.maxFunctionDefs),e.writeShort(this.maxInstructionDefs),e.writeShort(this.maxStackElements),e.writeShort(this.maxSizeOfInstructions),e.writeShort(this.maxComponentElements),e.writeShort(this.maxComponentDepth),e.get()},e}(ea),sa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parse=function(t){t.offset(this.offset);var e=this.file,n=e.hhea;this.metrics=t.times(n.numOfLongHorMetrics,function(){return{advance:t.readShort(),lsb:t.readShort_()}});var r=e.maxp.numGlyphs-e.hhea.numOfLongHorMetrics;this.leftSideBearings=t.times(r,t.readShort_)},e.prototype.forGlyph=function(t){var e=this.metrics,n=e.length;return t<n?e[t]:{advance:e[n-1].advance,lsb:this.leftSideBearings[t-n]}},e.prototype.render=function(t){for(var e=this,n=pe(),r=0;r<t.length;++r){var o=e.forGlyph(t[r]);n.writeShort(o.advance),n.writeShort_(o.lsb)}return n.get()},e}(ea),aa=function(){var t=function(t){this.raw=t},e={compound:{}};e.compound.get=function(){return!1},t.prototype.render=function(){return this.raw.get()},Object.defineProperties(t.prototype,e);var n=1,r=8,o=32,i=64,s=128,a=function(t){this.raw=t;for(var e=this.glyphIds=[],a=this.idOffsets=[];;){var l=t.readShort();if(a.push(t.offset()),e.push(t.readShort()),!(l&o))break;t.skip(l&n?4:2),l&s?t.skip(8):l&i?t.skip(4):l&r&&t.skip(2)}},l={compound:{}};return l.compound.get=function(){return!0},a.prototype.render=function(t){for(var e=this,n=pe(this.raw.get()),r=0;r<this.glyphIds.length;++r){var o=e.glyphIds[r];n.offset(e.idOffsets[r]),n.writeShort(t[o])}return n.get()},Object.defineProperties(a.prototype,l),function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.parse=function(){this.cache={}},n.prototype.glyphFor=function(e){var n=this.cache;if(ge(n,e))return n[e];var r=this.file.loca,o=r.lengthOf(e);if(0===o)return n[e]=null;var i=this.rawData,s=this.offset+r.offsetOf(e),l=pe(i.slice(s,o)),c=l.readShort_(),u=l.readShort_(),p=l.readShort_(),h=l.readShort_(),f=l.readShort_(),d=n[e]=c<0?new a(l):new t(l);return d.numberOfContours=c,d.xMin=u,d.yMin=p,d.xMax=h,d.yMax=f,d},n.prototype.render=function(t,e,n){for(var r=pe(),o=[],i=0;i<e.length;++i){var s=e[i],a=t[s];r.offset()%2&&r.writeByte(0),o.push(r.offset()),a&&r.write(a.render(n))}return r.offset()%2&&r.writeByte(0),o.push(r.offset()),{table:r.get(),offsets:o}},n}(ea)}(),la=function(){var t=function(t,e){this.text=t,this.length=t.length,this.platformID=e.platformID,this.platformSpecificID=e.platformSpecificID,this.languageID=e.languageID,this.nameID=e.nameID};return function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.parse=function(e){e.offset(this.offset),e.readShort();for(var n=e.readShort(),r=this.offset+e.readShort(),o=e.times(n,function(){return{platformID:e.readShort(),platformSpecificID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:e.readShort()+r}}),i=this.strings={},s=0;s<o.length;++s){var a=o[s];e.offset(a.offset);var l=e.readString(a.length);i[a.nameID]||(i[a.nameID]=[]),i[a.nameID].push(new t(l,a))}this.postscriptEntry=i[6][0],this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},n.prototype.render=function(e){var n=this,r=this.strings,o=0;for(var i in r)ge(r,i)&&(o+=r[i].length);var s=pe(),a=pe();s.writeShort(0),s.writeShort(o),s.writeShort(6+12*o);for(i in r)if(ge(r,i))for(var l=6==i?[new t(e,n.postscriptEntry)]:r[i],c=0;c<l.length;++c){var u=l[c];s.writeShort(u.platformID),s.writeShort(u.platformSpecificID),s.writeShort(u.languageID),s.writeShort(u.nameID),s.writeShort(u.length),s.writeShort(a.offset()),a.writeString(u.text)}return s.write(a.get()),s.get()},n}(ea)}(),ca=function(){var t=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);return function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.parse=function(t){var e=this;t.offset(this.offset),this.format=t.readLong(),this.italicAngle=t.readFixed_(),this.underlinePosition=t.readShort_(),this.underlineThickness=t.readShort_(),this.isFixedPitch=t.readLong(),this.minMemType42=t.readLong(),this.maxMemType42=t.readLong(),this.minMemType1=t.readLong(),this.maxMemType1=t.readLong();var n;switch(this.format){case 65536:case 196608:break;case 131072:n=t.readShort(),this.glyphNameIndex=t.times(n,t.readShort),this.names=[];for(var r=this.offset+this.length;t.offset()<r;)e.names.push(t.readString(t.readByte()));break;case 151552:n=t.readShort(),this.offsets=t.read(n);break;case 262144:this.map=t.times(this.file.maxp.numGlyphs,t.readShort)}},n.prototype.glyphFor=function(e){switch(this.format){case 65536:return t[e]||".notdef";case 131072:var n=this.glyphNameIndex[e];return n<t.length?t[n]:this.names[n-t.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[e]||65535}},n.prototype.render=function(e){var n=this;if(196608==this.format)return this.raw();var r=pe(this.rawData.slice(this.offset,32));r.writeLong(131072),r.offset(32);for(var o=[],i=[],s=0;s<e.length;++s){var a=e[s],l=n.glyphFor(a),c=t.indexOf(l);c>=0?o.push(c):(o.push(t.length+i.length),i.push(l))}for(r.writeShort(e.length),s=0;s<o.length;++s)r.writeShort(o[s]);for(s=0;s<i.length;++s)r.writeByte(i[s].length),r.writeString(i[s]);return r.get()},n}(ea)}(),ua=function(){function t(t,e){function n(n){return e[t[n]]}for(var r=me(t),o=[],i=[],s=null,a=null,l=0;l<r.length;++l){var c=r[l],u=n(c),p=u-c;null!=s&&p===a||(s&&i.push(s),o.push(c),a=p),s=c}s&&i.push(s),i.push(65535),o.push(65535);var h=o.length,f=2*h,d=2*Math.pow(2,Math.floor(Math.log(h)/Math.LN2)),v=Math.log(d/2)/Math.LN2,y=f-d,g=[],m=[],b=[];for(l=0;l<h;++l){var w=o[l],_=i[l];if(65535==w){g.push(0),m.push(0);break}var x=n(w);if(w-x>=32768){g.push(0),m.push(2*(b.length+h-l));for(var k=w;k<=_;++k)b.push(n(k))}else g.push(x-w),m.push(0)}var S=pe();return S.writeShort(3),S.writeShort(1),S.writeLong(12),S.writeShort(4),S.writeShort(16+8*h+2*b.length),S.writeShort(0),S.writeShort(f),S.writeShort(d),S.writeShort(v),S.writeShort(y),i.forEach(S.writeShort),S.writeShort(0),o.forEach(S.writeShort),g.forEach(S.writeShort_),m.forEach(S.writeShort),b.forEach(S.writeShort),S.get()}var e=function(t,e,n){var r=this;r.platformID=t.readShort(),r.platformSpecificID=t.readShort(),r.offset=e+t.readLong(),t.saveExcursion(function(){var e;switch(t.offset(r.offset),r.format=t.readShort(),r.format){case 0:r.length=t.readShort(),r.language=t.readShort();for(var o=0;o<256;++o)n[o]=t.readByte();break;case 4:r.length=t.readShort(),r.language=t.readShort();var i=t.readShort()/2;t.skip(6);var s=t.times(i,t.readShort);t.skip(2);var a=t.times(i,t.readShort),l=t.times(i,t.readShort_),c=t.times(i,t.readShort),u=(r.length+r.offset-t.offset())/2,p=t.times(u,t.readShort);for(o=0;o<i;++o){var h=a[o],f=s[o];for(e=h;e<=f;++e){var d;if(0===c[o])d=e+l[o];else{var v=c[o]/2-(i-o)+(e-h);d=p[v]||0,0!==d&&(d+=l[o])}n[e]=65535&d}}break;case 6:r.length=t.readShort(),r.language=t.readShort(),e=t.readShort();for(var y=t.readShort();y-- >0;)n[e++]=t.readShort();break;case 12:t.readShort(),r.length=t.readLong(),r.language=t.readLong();for(var g=t.readLong();g-- >0;){e=t.readLong();for(var m=t.readLong(),b=t.readLong();e<=m;)n[e++]=b++}break;default:window.console&&window.console.error("Unhandled CMAP format: "+r.format)}})};return function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),r.prototype=Object.create(n&&n.prototype),r.prototype.constructor=r,r.prototype.parse=function(t){var n=this,r=n.offset;t.offset(r),n.codeMap={},n.version=t.readShort();var o=t.readShort();n.tables=t.times(o,function(){return new e(t,r,n.codeMap)})},r.render=function(e,n){var r=pe();return r.writeShort(0),r.writeShort(1),r.write(t(e,n)),r.get()},r}(ea)}(),pa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parse=function(t){t.offset(this.offset),this.version=t.readShort(),this.averageCharWidth=t.readShort_(),this.weightClass=t.readShort(),this.widthClass=t.readShort(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort_(),this.ySubscriptYSize=t.readShort_(),this.ySubscriptXOffset=t.readShort_(),this.ySubscriptYOffset=t.readShort_(),this.ySuperscriptXSize=t.readShort_(),this.ySuperscriptYSize=t.readShort_(),this.ySuperscriptXOffset=t.readShort_(),this.ySuperscriptYOffset=t.readShort_(),this.yStrikeoutSize=t.readShort_(),this.yStrikeoutPosition=t.readShort_(),this.familyClass=t.readShort_(),this.panose=t.times(10,t.readByte),this.charRange=t.times(4,t.readLong),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort_(),this.descent=t.readShort_(),this.lineGap=t.readShort_(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=t.times(2,t.readLong),this.version>1&&(this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()))},e.prototype.render=function(){return this.raw()},e}(ea),ha=1e5,fa=function(t){this.font=t,this.subset={},this.unicodes={},this.ogid2ngid={0:0},this.ngid2ogid={0:0},this.ncid2ogid={},this.next=this.firstChar=1,this.nextGid=1,this.psName=be()+"+"+this.font.psName};fa.prototype.use=function(t){var e=this;if("string"==typeof t)return he(t).reduce(function(t,n){return t+String.fromCharCode(e.use(n))},"");var n=e.unicodes[t];if(!n){n=e.next++,e.subset[n]=t,e.unicodes[t]=n;var r=e.font.cmap.codeMap[t];if(r&&(e.ncid2ogid[n]=r,null==e.ogid2ngid[r])){var o=e.nextGid++;e.ogid2ngid[r]=o,e.ngid2ogid[o]=r}}return n},fa.prototype.encodeText=function(t){return this.use(t)},fa.prototype.glyphIds=function(){return me(this.ogid2ngid)},fa.prototype.glyphsFor=function(t,e){var n=this;e||(e={});for(var r=0;r<t.length;++r){var o=t[r];if(!e[o]){var i=e[o]=n.font.glyf.glyphFor(o);i&&i.compound&&n.glyphsFor(i.glyphIds,e)}}return e},fa.prototype.render=function(){var t=this,e=this.glyphsFor(this.glyphIds());for(var n in e)if(ge(e,n)&&(n=parseInt(n,10),null==t.ogid2ngid[n])){var r=t.nextGid++;t.ogid2ngid[n]=r,t.ngid2ogid[r]=n}var o=me(this.ngid2ogid),i=o.map(function(t){return this.ngid2ogid[t]},this),s=this.font,a=s.glyf.render(e,i,this.ogid2ngid),l=s.loca.render(a.offsets);this.lastChar=this.next-1;var c={cmap:ua.render(this.ncid2ogid,this.ogid2ngid),glyf:a.table,loca:l.table,hmtx:s.hmtx.render(i),hhea:s.hhea.render(i),maxp:s.maxp.render(i),post:s.post.render(i),name:s.name.render(this.psName),head:s.head.render(l.format),"OS/2":s.os2.render()};return this.font.directory.render(c)},fa.prototype.cidToGidMap=function(){for(var t=this,e=pe(),n=0,r=this.firstChar;r<this.next;++r){for(;n<r;)e.writeShort(0),n++;var o=t.ncid2ogid[r];if(o){var i=t.ogid2ngid[o];e.writeShort(i)}else e.writeShort(0);n++}return e.get()};var da=function(t,e){var n=this,r=n.contents=pe(t);if("ttcf"==r.readString(4)){var o,i=function(){r.offset(o),n.parse()};if(!e)throw new Error("Must specify a name for TTC files");r.readLong();for(var s=r.readLong(),a=0;a<s;++a)if(o=r.readLong(),r.saveExcursion(i),n.psName==e)return;throw new Error("Font "+e+" not found in collection")}r.offset(0),n.parse()};da.prototype.parse=function(){var t=this.directory=new ta(this.contents);this.head=t.readTable("head",na),this.loca=t.readTable("loca",ra),this.hhea=t.readTable("hhea",oa),this.maxp=t.readTable("maxp",ia),this.hmtx=t.readTable("hmtx",sa),this.glyf=t.readTable("glyf",aa),this.name=t.readTable("name",la),this.post=t.readTable("post",ca),this.cmap=t.readTable("cmap",ua),this.os2=t.readTable("OS/2",pa),this.psName=this.name.postscriptName,this.ascent=this.os2.ascent||this.hhea.ascent,this.descent=this.os2.descent||this.hhea.descent,this.lineGap=this.os2.lineGap||this.hhea.lineGap,this.scale=1e3/this.head.unitsPerEm},da.prototype.widthOfGlyph=function(t){return this.hmtx.forGlyph(t).advance*this.scale},da.prototype.makeSubset=function(){return new fa(this)};var va=Rr.deflate,ya=Kr.browser,ga="\n",ma=0,ba={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]},wa={"Times-Roman":!0,"Times-Bold":!0,"Times-Italic":!0,"Times-BoldItalic":!0,Helvetica:!0,"Helvetica-Bold":!0,"Helvetica-Oblique":!0,"Helvetica-BoldOblique":!0,Courier:!0,"Courier-Bold":!0,"Courier-Oblique":!0,"Courier-BoldOblique":!0,Symbol:!0,ZapfDingbats:!0},_a={},xa=Te(Ce),ka=function(t,e,n){function r(){0===--i&&e()}n=Object.assign({jpegQuality:.92,keepPNG:!1},n);var o=Object.keys(t),i=o.length;return 0===i?e():void o.forEach(function(e){Ee(e,t[e],r,n)})},Sa=function(t){function e(e,n){return t&&null!=t[e]?t[e]:n}var n=this,r=_e(),o=0,i=[];n.getOption=e,n.attach=function(t){return i.indexOf(t)<0&&(xe(t,++o),i.push(t)),t},n.pages=[],n.FONTS={},n.IMAGES={},n.GRAD_COL_FUNCTIONS={},n.GRAD_OPC_FUNCTIONS={},n.GRAD_COL={},n.GRAD_OPC={};var s=n.attach(new ja),a=n.attach(new Ra);if(e("autoPrint")){var l={};l.JavaScript=new Aa({Names:[new Ea("JS"),n.attach(new Aa({S:Be("JavaScript"),JS:new Ea("print(true);")}))]}),s.props.Names=new Aa(l)}s.setPages(a);var c=n.attach(new Aa({Producer:new Ea(e("producer","Kendo UI PDF Generator"),!0),Title:new Ea(e("title",""),!0),Author:new Ea(e("author",""),!0),Subject:new Ea(e("subject",""),!0),Keywords:new Ea(e("keywords",""),!0),Creator:new Ea(e("creator","Kendo UI PDF Generator"),!0),CreationDate:e("date",new Date)}));n.addPage=function(t){var e=ke(function(e,n){return t&&null!=t[e]?t[e]:n}),r=e.paperSize,o=e.margin,i=r[0],s=r[1];o&&(i-=o.left+o.right,s-=o.top+o.bottom);var l=new Da(_e(),null,!0),c={Contents:n.attach(l),Parent:a,MediaBox:[0,0,r[0],r[1]]},u=new Va(n,c);return u._content=l,a.addPage(n.attach(u)),u.transform(1,0,0,-1,0,r[1]),o&&(u.translate(o.left,o.top),u.rect(0,0,i,s),u.clip()),n.pages.push(u),u},n.render=function(){var t;for(r("%PDF-1.4",ga,"%",ga,ga),t=0;t<i.length;++t)i[t].renderFull(r),r(ga,ga);var e=r.offset();for(r("xref",ga,0," ",i.length+1,ga),r("0000000000 65535 f ",ga),t=0;t<i.length;++t)r(Pe(i[t]._offset,10)," 00000 n ",ga);return r(ga),r("trailer",ga),r(new Aa({Size:i.length+1,Root:s,Info:c}),ga,ga),r("startxref",ga,e,ga),r("%%EOF",ga),r.stream().offset(0)},n.loadFonts=xa,n.loadImages=ka};Sa.prototype.getFont=function(t){var e=this.FONTS[t];if(!e){if(e=wa[t],!e)throw new Error("Font "+t+" has not been loaded");e=e===!0?this.attach(new Fa(t)):this.attach(new Ba(this,e)),this.FONTS[t]=e}return e},Sa.prototype.getImage=function(t){var e=this.IMAGES[t];if(!e){if(e=_a[t],!e)throw new Error("Image "+t+" has not been loaded");if("ERROR"===e)return null;e=this.IMAGES[t]=this.attach(e.asStream(this))}return e},Sa.prototype.getOpacityGS=function(t,e){var n=parseFloat(t).toFixed(3);t=parseFloat(n),n+=e?"S":"F";var r=this._opacityGSCache||(this._opacityGSCache={}),o=r[n];if(!o){var i={Type:Be("ExtGState")};e?i.CA=t:i.ca=t,o=this.attach(new Aa(i)),o._resourceName=Be("GS"+ ++ma),r[n]=o}return o},Sa.prototype.dict=function(t){return new Aa(t)},Sa.prototype.name=function(t){return Be(t)},Sa.prototype.stream=function(t,e){return new Da(e,t)};var Ca=Array.isArray||function(t){return t instanceof Array},Oa=function(){};Oa.prototype.beforeRender=function(){};var Ea=function(t){function e(e,n){t.call(this),this.value=e,this.utf16be=Boolean(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this.value;if(this.utf16be)e=po+C(e),e=e.replace(/([\(\)\\])/g,"\\$1"),t("(",e,")");else{for(var n=[40],r=0;r<e.length;++r){var o=255&e.charCodeAt(r);40!=o&&41!=o&&92!=o||n.push(92),n.push(o)}n.push(41),t.writeData(n)}},e.prototype.toString=function(){return this.value},e}(Oa),Ta=function(t){function e(e){t.call(this,e),this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this;t("<");for(var n=0;n<this.value.length;++n)t(Pe(e.value.charCodeAt(n).toString(16),4));t(">")},e}(Ea),Ma=function(t){function e(e){t.call(this),this.name=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.get=function(t){return Be(t)},e.prototype.render=function(t){t("/"+this.escape())},e.prototype.escape=function(){return this.name.replace(/[^\x21-\x7E]/g,function(t){return"#"+Pe(t.charCodeAt(0).toString(16),2)})},e.prototype.toString=function(){return this.name},e}(Oa),Pa={},Aa=function(t){function e(e){t.call(this),this.props=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this.props,n=!0;t("<<"),t.withIndent(function(){for(var r in e)Ae(e,r)&&!/^_/.test(r)&&(n=!1,t.indent(Be(r)," ",e[r]))}),n||t.indent(),t(">>")},e}(Oa),Da=function(t){function e(e,n,r){if(t.call(this),"string"==typeof e){var o=pe();o.write(e),e=o}this.data=e,this.props=n||{},this.compress=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this.data.get(),n=this.props;this.compress&&we()&&(n.Filter?n.Filter instanceof Array||(n.Filter=[n.Filter]):n.Filter=[],n.Filter.unshift(Be("FlateDecode")),e=va(e)),n.Length=e.length,t(new Aa(n)," stream",ga),t.writeData(e),t(ga,"endstream")},e}(Oa),ja=function(t){function e(){t.call(this,{Type:Be("Catalog")})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setPages=function(t){this.props.Pages=t},e}(Aa),Ra=function(t){function e(){t.call(this,{Type:Be("Pages"),Kids:[],Count:0})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addPage=function(t){this.props.Kids.push(t),this.props.Count++},e}(Aa),Ia=[192,193,194,195,197,198,199,201,202,203,205,206,207],La=function(t){t.offset(0);var e,n,r,o,i=t.readShort();if(65496!=i)throw new Error("Invalid JPEG image");for(;!t.eof();){var s=t.readByte();if(255!=s)throw new Error("Invalid JPEG image");var a=t.readByte(),l=t.readShort();if(Ia.indexOf(a)>=0){o=t.readByte(),n=t.readShort(),e=t.readShort(),r=t.readByte();break}t.skip(l-2)}if(null==r)throw new Error("Invalid JPEG image");var c={Type:Be("XObject"),Subtype:Be("Image"),Width:e,Height:n,BitsPerComponent:o,Filter:Be("DCTDecode")};switch(r){case 1:c.ColorSpace=Be("DeviceGray");break;case 3:c.ColorSpace=Be("DeviceRGB");break;case 4:c.ColorSpace=Be("DeviceCMYK"),c.Decode=[1,0,1,0,1,0,1,0]}this.asStream=function(){t.offset(0);var e=new Da(t,c);return e._resourceName=Be("I"+ ++ma),e}},za=function(t,e,n,r){this.asStream=function(o){var i=new Da(r,{Type:Be("XObject"),Subtype:Be("Image"),Width:t,Height:e,BitsPerComponent:8,ColorSpace:Be("DeviceGray")},!0),s=new Da(n,{Type:Be("XObject"),Subtype:Be("Image"),Width:t,Height:e,BitsPerComponent:8,ColorSpace:Be("DeviceRGB"),
SMask:o.attach(i)},!0);return s._resourceName=Be("I"+ ++ma),s}},Fa=function(t){function e(e){t.call(this,{Type:Be("Font"),Subtype:Be("Type1"),BaseFont:Be(e)}),this._resourceName=Be("F"+ ++ma)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.encodeText=function(t){return new Ea(String(t))},e}(Aa),Ba=function(t){function e(e,n,r){t.call(this,{}),r=this.props,r.Type=Be("Font"),r.Subtype=Be("Type0"),r.Encoding=Be("Identity-H"),this._pdf=e,this._font=n,this._sub=n.makeSubset(),this._resourceName=Be("F"+ ++ma);var o=n.head;this.name=n.psName;var i=this.scale=n.scale;this.bbox=[o.xMin*i,o.yMin*i,o.xMax*i,o.yMax*i],this.italicAngle=n.post.italicAngle,this.ascent=n.ascent*i,this.descent=n.descent*i,this.lineGap=n.lineGap*i,this.capHeight=n.os2.capHeight||this.ascent,this.xHeight=n.os2.xHeight||0,this.stemV=0,this.familyClass=(n.os2.familyClass||0)>>8,this.isSerif=this.familyClass>=1&&this.familyClass<=7,this.isScript=10==this.familyClass,this.flags=(n.post.isFixedPitch?1:0)|(this.isSerif?2:0)|(this.isScript?8:0)|(0!==this.italicAngle?64:0)|32}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.encodeText=function(t){return new Ta(this._sub.encodeText(String(t)))},e.prototype.getTextWidth=function(t,e){for(var n=this,r=0,o=this._font.cmap.codeMap,i=0;i<e.length;++i){var s=o[e.charCodeAt(i)];r+=n._font.widthOfGlyph(s||0)}return r*t/1e3},e.prototype.beforeRender=function(){var e=this,n=e._sub,r=n.render(),o=new Da(pe(r),{Length1:r.length},!0),i=e._pdf.attach(new t({Type:Be("FontDescriptor"),FontName:Be(e._sub.psName),FontBBox:e.bbox,Flags:e.flags,StemV:e.stemV,ItalicAngle:e.italicAngle,Ascent:e.ascent,Descent:e.descent,CapHeight:e.capHeight,XHeight:e.xHeight,FontFile2:e._pdf.attach(o)})),s=n.ncid2ogid,a=n.firstChar,l=n.lastChar,c=[];!function t(n,r){if(n<=l){var o=s[n];null==o?t(n+1):(r||c.push(n,r=[]),r.push(e._font.widthOfGlyph(o)),t(n+1,r))}}(a);var u=new t({Type:Be("Font"),Subtype:Be("CIDFontType2"),BaseFont:Be(e._sub.psName),CIDSystemInfo:new t({Registry:new Ea("Adobe"),Ordering:new Ea("Identity"),Supplement:0}),FontDescriptor:i,FirstChar:a,LastChar:l,DW:Math.round(e._font.widthOfGlyph(0)),W:c,CIDToGIDMap:e._pdf.attach(e._makeCidToGidMap())}),p=e.props;p.BaseFont=Be(e._sub.psName),p.DescendantFonts=[e._pdf.attach(u)];var h=new Na(a,l,n.subset),f=new Da(_e(),null,!0);f.data(h),p.ToUnicode=e._pdf.attach(f)},e.prototype._makeCidToGidMap=function(){return new Da(pe(this._sub.cidToGidMap()),null,!0)},e}(Aa),Na=function(t){function e(e,n,r){t.call(this),this.firstChar=e,this.lastChar=n,this.map=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){t.indent("/CIDInit /ProcSet findresource begin"),t.indent("12 dict begin"),t.indent("begincmap"),t.indent("/CIDSystemInfo <<"),t.indent("  /Registry (Adobe)"),t.indent("  /Ordering (UCS)"),t.indent("  /Supplement 0"),t.indent(">> def"),t.indent("/CMapName /Adobe-Identity-UCS def"),t.indent("/CMapType 2 def"),t.indent("1 begincodespacerange"),t.indent("  <0000><ffff>"),t.indent("endcodespacerange");var e=this;t.indent(e.lastChar-e.firstChar+1," beginbfchar"),t.withIndent(function(){for(var n=e.firstChar;n<=e.lastChar;++n){var r=e.map[n],o=fe([r]);t.indent("<",Pe(n.toString(16),4),">","<");for(var i=0;i<o.length;++i)t(Pe(o.charCodeAt(i).toString(16),4));t(">")}}),t.indent("endbfchar"),t.indent("endcmap"),t.indent("CMapName currentdict /CMap defineresource pop"),t.indent("end"),t.indent("end")},e}(Oa),Va=function(t){function e(e,n){t.call(this,n),this._pdf=e,this._rcount=0,this._textMode=!1,this._fontResources={},this._gsResources={},this._xResources={},this._patResources={},this._shResources={},this._opacity=1,this._matrix=[1,0,0,1,0,0],this._annotations=[],this._font=null,this._fontSize=null,this._contextStack=[],n=this.props,n.Type=Be("Page"),n.ProcSet=[Be("PDF"),Be("Text"),Be("ImageB"),Be("ImageC"),Be("ImageI")],n.Resources=new t({Font:new t(this._fontResources),ExtGState:new t(this._gsResources),XObject:new t(this._xResources),Pattern:new t(this._patResources),Shading:new t(this._shResources)}),n.Annots=this._annotations}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._out=function(){this._content.data.apply(null,arguments)},e.prototype.transform=function(t,e,n,r,o,i){Qe(arguments)||(this._matrix=Je(arguments,this._matrix),this._out(t," ",e," ",n," ",r," ",o," ",i," cm"),this._out(ga))},e.prototype.translate=function(t,e){this.transform(1,0,0,1,t,e)},e.prototype.scale=function(t,e){this.transform(t,0,0,e,0,0)},e.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t);this.transform(e,n,-n,e,0,0)},e.prototype.beginText=function(){this._textMode=!0,this._out("BT",ga)},e.prototype.endText=function(){this._textMode=!1,this._out("ET",ga)},e.prototype._requireTextMode=function(){if(!this._textMode)throw new Error("Text mode required; call page.beginText() first")},e.prototype._requireFont=function(){if(!this._font)throw new Error("No font selected; call page.setFont() first")},e.prototype.setFont=function(t,e){this._requireTextMode(),null==t?t=this._font:t instanceof Ba||(t=this._pdf.getFont(t)),null==e&&(e=this._fontSize),this._fontResources[t._resourceName]=t,this._font=t,this._fontSize=e,this._out(t._resourceName," ",e," Tf",ga)},e.prototype.setTextLeading=function(t){this._requireTextMode(),this._out(t," TL",ga)},e.prototype.setTextRenderingMode=function(t){this._requireTextMode(),this._out(t," Tr",ga)},e.prototype.showText=function(t,e){if(this._requireFont(),t.length>1&&e&&this._font instanceof Ba){var n=this._font.getTextWidth(this._fontSize,t),r=e/n*100;this._out(r," Tz ")}this._out(this._font.encodeText(t)," Tj",ga)},e.prototype.showTextNL=function(t){this._requireFont(),this._out(this._font.encodeText(t)," '",ga)},e.prototype.addLink=function(e,n){var r=this._toPage({x:n.left,y:n.bottom}),o=this._toPage({x:n.right,y:n.top});this._annotations.push(new t({Type:Be("Annot"),Subtype:Be("Link"),Rect:[r.x,r.y,o.x,o.y],Border:[0,0,0],A:new t({Type:Be("Action"),S:Be("URI"),URI:new Ea(e)})}))},e.prototype.setStrokeColor=function(t,e,n){this._out(t," ",e," ",n," RG",ga)},e.prototype.setOpacity=function(t){this.setFillOpacity(t),this.setStrokeOpacity(t),this._opacity*=t},e.prototype.setStrokeOpacity=function(t){if(t<1){var e=this._pdf.getOpacityGS(this._opacity*t,!0);this._gsResources[e._resourceName]=e,this._out(e._resourceName," gs",ga)}},e.prototype.setFillColor=function(t,e,n){this._out(t," ",e," ",n," rg",ga)},e.prototype.setFillOpacity=function(t){if(t<1){var e=this._pdf.getOpacityGS(this._opacity*t,!1);this._gsResources[e._resourceName]=e,this._out(e._resourceName," gs",ga)}},e.prototype.gradient=function t(t,e){this.save(),this.rect(e.left,e.top,e.width,e.height),this.clip(),t.userSpace||this.transform(e.width,0,0,e.height,e.left,e.top);var n,r=qe(this._pdf,t,e),o=r.shading._resourceName;this._shResources[o]=r.shading,r.hasAlpha&&(n=r.opacity._resourceName,this._gsResources[n]=r.opacity,this._out("/"+n+" gs ")),this._out("/"+o+" sh",ga),this.restore()},e.prototype.setDashPattern=function(t,e){this._out(t," ",e," d",ga)},e.prototype.setLineWidth=function(t){this._out(t," w",ga)},e.prototype.setLineCap=function(t){this._out(t," J",ga)},e.prototype.setLineJoin=function(t){this._out(t," j",ga)},e.prototype.setMitterLimit=function(t){this._out(t," M",ga)},e.prototype.save=function(){this._contextStack.push(this._context()),this._out("q",ga)},e.prototype.restore=function(){this._out("Q",ga),this._context(this._contextStack.pop())},e.prototype.moveTo=function(t,e){this._out(t," ",e," m",ga)},e.prototype.lineTo=function(t,e){this._out(t," ",e," l",ga)},e.prototype.bezier=function(t,e,n,r,o,i){this._out(t," ",e," ",n," ",r," ",o," ",i," c",ga)},e.prototype.bezier1=function(t,e,n,r){this._out(t," ",e," ",n," ",r," y",ga)},e.prototype.bezier2=function(t,e,n,r){this._out(t," ",e," ",n," ",r," v",ga)},e.prototype.close=function(){this._out("h",ga)},e.prototype.rect=function(t,e,n,r){this._out(t," ",e," ",n," ",r," re",ga)},e.prototype.ellipse=function(t,e,n,r){function o(e){return t+e}function i(t){return e+t}var s=.5522847498307936;this.moveTo(o(0),i(r)),this.bezier(o(n*s),i(r),o(n),i(r*s),o(n),i(0)),this.bezier(o(n),i(-r*s),o(n*s),i(-r),o(0),i(-r)),this.bezier(o(-n*s),i(-r),o(-n),i(-r*s),o(-n),i(0)),this.bezier(o(-n),i(r*s),o(-n*s),i(r),o(0),i(r))},e.prototype.circle=function(t,e,n){this.ellipse(t,e,n,n)},e.prototype.stroke=function(){this._out("S",ga)},e.prototype.nop=function(){this._out("n",ga)},e.prototype.clip=function(){this._out("W n",ga)},e.prototype.clipStroke=function(){this._out("W S",ga)},e.prototype.closeStroke=function(){this._out("s",ga)},e.prototype.fill=function(){this._out("f",ga)},e.prototype.fillStroke=function(){this._out("B",ga)},e.prototype.drawImage=function(t){var e=this._pdf.getImage(t);e&&(this._xResources[e._resourceName]=e,this._out(e._resourceName," Do",ga))},e.prototype.comment=function(t){var e=this;t.split(/\r?\n/g).forEach(function(t){e._out("% ",t,ga)})},e.prototype._context=function(t){return null==t?{opacity:this._opacity,matrix:this._matrix}:(this._opacity=t.opacity,void(this._matrix=t.matrix))},e.prototype._toPage=function(t){var e=this._matrix,n=e[0],r=e[1],o=e[2],i=e[3],s=e[4],a=e[5];return{x:n*t.x+o*t.y+s,y:r*t.x+i*t.y+a}},e}(Aa),Ha={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};Xe("Times New Roman","serif"),Xe("Courier New","monospace"),Xe("Arial","sans-serif"),Xe("Helvetica","sans-serif"),Xe("Verdana","sans-serif"),Xe("Tahoma","sans-serif"),Xe("Georgia","sans-serif"),Xe("Monaco","monospace"),Xe("Andale Mono","monospace");var Wa={fill:0,stroke:1,fillAndStroke:2,invisible:3,fillAndClip:4,strokeAndClip:5,fillStrokeClip:6,clip:7},Ua=Wa,Ka={dash:[4],dashDot:[4,2,1,2],dot:[1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2],solid:[]},qa={butt:0,round:1,square:2},Ga={miter:0,round:1,bevel:2},$a=Object.freeze({Document:Sa,BinaryStream:pe,defineFont:Ze,parseFontDef:$e,getFontURL:Ye,loadFonts:xa,loadImages:ka,getPaperOptions:ke,clearImageCache:Oe,TEXT_RENDERING_MODE:Wa,exportPDF:Cn,exportPDFToBlob:On,saveAs:rn,toDataURL:en,toBlob:nn,render:tn}),Ya=Kr.browser||{},Xa="KENDO-PSEUDO-ELEMENT",Za={},Ja={};Ja._root=Ja;var Qa="undefined"!=typeof window,tl=!!Qa&&(Ya.msie||Ya.edge),el=function(t){function e(e,n,r){t.call(this,e,n.getOrigin(),r),this._pdfRect=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.rect=function(){return this._pdfRect},e.prototype.rawBBox=function(){return this._pdfRect},e}(gi),nl="undefined"!=typeof Element&&Element.prototype&&function(t){return t.matches?function(t,e){return t.matches(e)}:t.webkitMatchesSelector?function(t,e){return t.webkitMatchesSelector(e)}:t.mozMatchesSelector?function(t,e){return t.mozMatchesSelector(e)}:t.msMatchesSelector?function(t,e){return t.msMatchesSelector(e)}:function(t){return[].indexOf.call(document.querySelectorAll(t),this)!==-1}}(Element.prototype),rl=function(t){return t?function e(n){var r=n.cloneNode(!1);if(1==n.nodeType){var o,i=t(n),s=t(r),a=i.data();for(o in a)s.data(o,a[o]);for(/^canvas$/i.test(n.tagName)?r.getContext("2d").drawImage(n,0,0):/^(?:input|select|textarea|option)$/i.test(n.tagName)&&(r.removeAttribute("id"),r.removeAttribute("name"),/^textarea$/i.test(n.tagName)||(r.value=n.value),r.checked=n.checked,r.selected=n.selected),o=n.firstChild;o;o=o.nextSibling)r.appendChild(e(o))}return r}:function(t){var e=function t(e){var n=e.cloneNode(!1);e._kendoExportVisual&&(n._kendoExportVisual=e._kendoExportVisual);for(var r=e.firstChild;r;r=r.nextSibling)n.appendChild(t(r));return n}(t),n=t.querySelectorAll("canvas");n.length&&En(e.querySelectorAll("canvas")).forEach(function(t,e){t.getContext("2d").drawImage(n[e],0,0)});var r=t.querySelectorAll("input, select, textarea, option");return En(e.querySelectorAll("input, select, textarea, option")).forEach(function(t,e){t.removeAttribute("id"),t.removeAttribute("name"),/^textarea$/i.test(t.tagName)||(t.value=r[e].value),t.checked=r[e].checked,t.selected=r[e].selected}),e}}("undefined"!=typeof window&&window.kendo&&window.kendo.jQuery),ol=function(){function t(t){function f(){var e=s.exec(t);e&&(t=t.substr(e[1].length))}function d(e){f();var n=e.exec(t);if(n)return t=t.substr(n[1].length),n[1]}function v(){var e,o,i=y(t,!0);if(i){var s=/^#[0-9a-f]+/i.exec(t)||/^rgba?\(.*?\)/i.exec(t)||/^..*?\b/.exec(t);return t=t.substr(s[0].length),i=i.toRGB(),(e=d(r))||(o=d(n)),{color:i,length:e,percent:o}}}function g(e){var r,s,u,p=[],h=!1;if(d(a)){if(r=d(i),"0"==r&&(r="0deg"),r?(r=lr(r),d(c)):(s=d(o),"to"==s?s=d(o):s&&/^-/.test(e)&&(h=!0),u=d(o),d(c)),/-moz-/.test(e)&&null==r&&null==s){var f=d(n),y=d(n);h=!0,"0%"==f?s="left":"100%"==f&&(s="right"),"0%"==y?u="top":"100%"==y&&(u="bottom"),d(c)}for(;t&&!d(l);){var g=v();if(!g)break;p.push(g),d(c)}return{type:"linear",angle:r,to:s&&u?s+" "+u:s?s:u?u:null,stops:p,reverse:h}}}function m(){if(d(a)){var t=d(p);return t=t.replace(/^['"]+|["']+$/g,""),d(l),{type:"url",url:t}}}var b=t;if(Ln(h,b))return h[b];var w;return(w=d(e))?w=g(w):(w=d(u))&&(w=m()),h[b]=w||{type:"none"}}var e=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/,n=/^([-0-9.]+%)/,r=/^([-0-9.]+px)/,o=/^(left|right|top|bottom|to|center)\W/,i=/^([-0-9.]+(deg|grad|rad|turn)|0)/,s=/^(\s+)/,a=/^(\()/,l=/^(\))/,c=/^(,)/,u=/^(url)\(/,p=/^(.*?)\)/,h={},f={};return function(e){return Ln(f,e)?f[e]:f[e]=il(e).map(t)}}(),il=function(){var t={};return function(e,n){function r(t){return s=t.exec(e.substr(c))}function o(t){return t.replace(/^\s+|\s+$/g,"")}n||(n=/^\s*,\s*/);var i=e+n;if(Ln(t,i))return t[i];for(var s,a=[],l=0,c=0,u=0,p=!1;c<e.length;)!p&&r(/^[\(\[\{]/)?(u++,c++):!p&&r(/^[\)\]\}]/)?(u--,c++):!p&&r(/^[\"\']/)?(p=s[0],c++):"'"==p&&r(/^\\\'/)?c+=2:'"'==p&&r(/^\\\"/)?c+=2:"'"==p&&r(/^\'/)?(p=!1,c++):'"'==p&&r(/^\"/)?(p=!1,c++):r(n)?(!p&&!u&&c>l&&(a.push(o(e.substring(l,c))),l=c+s[0].length),c+=s[0].length):c++;return l<c&&a.push(o(e.substring(l,c))),t[i]=a}}(),sl=function(t){return function(e){var n=t[e];if(!n){var r;(r=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(e))?n=t[e]=r[2]:(r=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(e))&&(n=t[e]=r[2])}return n}}(Object.create(null)),al=function(t){return function(e){var n=t[e];return null==n&&(n=t[e]=J("Mapq",{font:e}).height),n}}(Object.create(null));e.drawing=Zs,e.geometry=Es,e.pdf=$a,e.exportPDF=Cn,e.exportImage=ce,e.exportSVG=ue,e.animationFrame=Fr,e.Class=Ir,e.Color=no,e.htmlEncode=a,e.logToConsole=l,e.Observable=Lr,e.saveAs=c,e.support=Kr,e.template=p,e.throttle=h,e.parseColor=y,e.namedColors=Gr,e.Animation=Li,e.AnimationFactory=Ii,e.Arc=di,e.BaseNode=Fi,e.Circle=Vo,e.Element=Do,e.Gradient=Pi,e.GradientStop=Mi,e.Group=wi,e.Image=mi,e.Layout=Si,e.LinearGradient=Di,e.MultiPath=hi,e.HasObservers=ro,e.OptionsStore=Oo,e.Path=pi,e.PathParser=zi,e.QuadNode=Ts,e.RadialGradient=ji,e.Rect=Ci,e.ShapesQuadTree=Ds,e.Surface=$s,e.SurfaceFactory=Gs,e.Text=gi,e.align=Lt,e.fit=qt,e.stack=Nt,e.vAlign=zt,e.vStack=Vt,e.vWrap=Kt,e.wrap=Ut,e.drawDOM=jn,e.drawText=Rn,e.getFontFaces=In},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function n(t){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var r=n.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var o in r)e(r,o)&&(t[o]=r[o])}}return t}function r(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)}function o(t){var e,n,r,o,i,s=t.length,a=0;for(o=0;o<s;o++)n=t.charCodeAt(o),55296===(64512&n)&&o+1<s&&(r=t.charCodeAt(o+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),i=0,o=0;i<a;o++)n=t.charCodeAt(o),55296===(64512&n)&&o+1<s&&(r=t.charCodeAt(o+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|63&n):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|63&n):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|63&n);return e}function i(t,e){if(e<65534&&(t.subarray&&me()||!t.subarray&&ge()))return String.fromCharCode.apply(null,r(t,e));for(var n="",o=0;o<e;o++)n+=String.fromCharCode(t[o]);return n}function s(t){return i(t,t.length)}function a(t){for(var e=new Uint8Array(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e}function l(t,e){var n,r,o,s,a=e||t.length,l=new Array(2*a);for(r=0,n=0;n<a;)if(o=t[n++],o<128)l[r++]=o;else if(s=be(o),s>4)l[r++]=65533,n+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&n<a;)o=o<<6|63&t[n++],s--;s>1?l[r++]=65533:o<65536?l[r++]=o:(o-=65536,l[r++]=55296|o>>10&1023,l[r++]=56320|1023&o)}return i(l,r)}function c(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0?e:0===n?e:n+be(t[n])>e?n:e}function u(t,e,n,r){for(var o=65535&t|0,i=t>>>16&65535|0,s=0;0!==n;){s=n>2e3?2e3:n,n-=s;do o=o+e[r++]|0,i=i+o|0;while(--s);o%=65521,i%=65521}return o|i<<16|0}function p(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}function h(t,e,n,r){var o=we(),i=r+n;t^=-1;for(var s=r;s<i;s++)t=t>>>8^o[255&(t^e[s])];return t^-1}function f(t,e){var n,r,o,i,s,a,l,c,u,p,h,f,d,v,y,g,m,b,w,_,x,k,S,C,O;n=t.state,r=t.next_in,C=t.input,o=r+(t.avail_in-5),i=t.next_out,O=t.output,s=i-(e-t.avail_out),a=i+(t.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,p=n.wnext,h=n.window,f=n.hold,d=n.bits,v=n.lencode,y=n.distcode,g=(1<<n.lenbits)-1,m=(1<<n.distbits)-1;t:do{d<15&&(f+=C[r++]<<d,d+=8,f+=C[r++]<<d,d+=8),b=v[f&g];e:for(;;){if(w=b>>>24,f>>>=w,d-=w,w=b>>>16&255,0===w)O[i++]=65535&b;else{if(!(16&w)){if(0===(64&w)){b=v[(65535&b)+(f&(1<<w)-1)];continue e}if(32&w){n.mode=xe;break t}t.msg="invalid literal/length code",n.mode=_e;break t}_=65535&b,w&=15,w&&(d<w&&(f+=C[r++]<<d,d+=8),_+=f&(1<<w)-1,f>>>=w,d-=w),d<15&&(f+=C[r++]<<d,d+=8,f+=C[r++]<<d,d+=8),b=y[f&m];n:for(;;){if(w=b>>>24,f>>>=w,d-=w,w=b>>>16&255,!(16&w)){if(0===(64&w)){b=y[(65535&b)+(f&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=_e;break t}if(x=65535&b,w&=15,d<w&&(f+=C[r++]<<d,d+=8,d<w&&(f+=C[r++]<<d,d+=8)),x+=f&(1<<w)-1,x>l){t.msg="invalid distance too far back",n.mode=_e;break t}if(f>>>=w,d-=w,w=i-s,x>w){if(w=x-w,w>u&&n.sane){t.msg="invalid distance too far back",n.mode=_e;break t}if(k=0,S=h,0===p){if(k+=c-w,w<_){_-=w;do O[i++]=h[k++];while(--w);k=i-x,S=O}}else if(p<w){if(k+=c+p-w,w-=p,w<_){_-=w;do O[i++]=h[k++];while(--w);if(k=0,p<_){w=p,_-=w;do O[i++]=h[k++];while(--w);k=i-x,S=O}}}else if(k+=p-w,w<_){_-=w;do O[i++]=h[k++];while(--w);k=i-x,S=O}for(;_>2;)O[i++]=S[k++],O[i++]=S[k++],O[i++]=S[k++],_-=3;_&&(O[i++]=S[k++],_>1&&(O[i++]=S[k++]))}else{k=i-x;do O[i++]=O[k++],O[i++]=O[k++],O[i++]=O[k++],_-=3;while(_>2);_&&(O[i++]=O[k++],_>1&&(O[i++]=O[k++]))}break}}break}}while(r<o&&i<a);_=d>>3,r-=_,d-=_<<3,f&=(1<<d)-1,t.next_in=r,t.next_out=i,t.avail_in=r<o?5+(o-r):5-(r-o),t.avail_out=i<a?257+(a-i):257-(i-a),n.hold=f,n.bits=d}function d(t,e,n,r,o,i,s,a){var l,c,u,p,h,f,d,v,y,g=a.bits,m=0,b=0,w=0,_=0,x=0,k=0,S=0,C=0,O=0,E=0,T=null,M=0,P=ve(ke+1),A=ve(ke+1),D=null,j=0;for(m=0;m<=ke;m++)P[m]=0;for(b=0;b<r;b++)P[e[n+b]]++;for(x=g,_=ke;_>=1&&0===P[_];_--);if(x>_&&(x=_),0===_)return o[i++]=20971520,o[i++]=20971520,a.bits=1,0;for(w=1;w<_&&0===P[w];w++);for(x<w&&(x=w),C=1,m=1;m<=ke;m++)if(C<<=1,C-=P[m],C<0)return-1;if(C>0&&(t===Oe||1!==_))return-1;for(A[1]=0,m=1;m<ke;m++)A[m+1]=A[m]+P[m];for(b=0;b<r;b++)0!==e[n+b]&&(s[A[e[n+b]]++]=b);if(t===Oe?(T=D=s,f=19):t===Ee?(T=Me,M-=257,D=Pe,j-=257,f=256):(T=Ae,D=De,f=-1),E=0,b=0,m=w,h=i,k=x,S=0,u=-1,O=1<<x,p=O-1,t===Ee&&O>Se||t===Te&&O>Ce)return 1;for(;;){d=m-S,s[b]<f?(v=0,y=s[b]):s[b]>f?(v=D[j+s[b]],y=T[M+s[b]]):(v=96,y=0),l=1<<m-S,c=1<<k,w=c;do c-=l,o[h+(E>>S)+c]=d<<24|v<<16|y|0;while(0!==c);for(l=1<<m-1;E&l;)l>>=1;if(0!==l?(E&=l-1,E+=l):E=0,b++,0===--P[m]){if(m===_)break;m=e[n+s[b]]}if(m>x&&(E&p)!==u){for(0===S&&(S=x),h+=w,k=m-S,C=1<<k;k+S<_&&(C-=P[k+S],!(C<=0));)k++,C<<=1;if(O+=1<<k,t===Ee&&O>Se||t===Te&&O>Ce)return 1;u=E&p,o[u]=x<<24|k<<16|h-i|0}}return 0!==E&&(o[h+E]=m-S<<24|64<<16|0),a.bits=x,0}function v(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=ve(320),this.work=ve(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Ge,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=ye(On),e.distcode=e.distdyn=ye(En),e.sane=1,e.back=-1,Be):He}function m(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,g(t)):He}function b(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?He:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,m(t))):He}function w(t,e){var n,r;return t?(r=new y,t.state=r,r.window=null,n=b(t,e),n!==Be&&(t.state=null),n):He}function _(t){if(Tn){var e;for(Rt=ye(512),It=ye(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(d(Re,t.lens,0,288,Rt,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;d(Ie,t.lens,0,32,It,0,t.work,{bits:5}),Tn=!1}t.lencode=Rt,t.lenbits=9,t.distcode=It,t.distbits=5}function x(t,e,n,r){var o,i=t.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=de(i.wsize)),r>=i.wsize?(he(i.window,e,n-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),he(i.window,e,n-r,o,i.wnext),r-=o,r?(he(i.window,e,n-r,r,0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0}function k(t,e){var n,r,o,i,s,a,l,c,p,y,g,m,b,w,k,S,C,O,E,T,M,P,A,D,j=0,R=de(4),I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return He;n=t.state,n.mode===on&&(n.mode=sn),s=t.next_out,o=t.output,l=t.avail_out,i=t.next_in,r=t.input,a=t.avail_in,c=n.hold,p=n.bits,y=a,g=l,P=Be;t:for(;;)switch(n.mode){case Ge:if(0===n.wrap){n.mode=sn;break}for(;p<16;){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}if(2&n.wrap&&35615===c){n.check=0,R[0]=255&c,R[1]=c>>>8&255,n.check=h(n.check,R,2,0),c=0,p=0,n.mode=$e;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=kn;break}if((15&c)!==qe){t.msg="unknown compression method",n.mode=kn;break}if(c>>>=4,p-=4,M=(15&c)+8,0===n.wbits)n.wbits=M;else if(M>n.wbits){t.msg="invalid window size",n.mode=kn;break}n.dmax=1<<M,t.adler=n.check=1,n.mode=512&c?nn:on,c=0,p=0;break;case $e:for(;p<16;){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}if(n.flags=c,(255&n.flags)!==qe){t.msg="unknown compression method",n.mode=kn;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=kn;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(R[0]=255&c,R[1]=c>>>8&255,n.check=h(n.check,R,2,0)),c=0,p=0,n.mode=Ye;case Ye:for(;p<32;){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}n.head&&(n.head.time=c),512&n.flags&&(R[0]=255&c,R[1]=c>>>8&255,R[2]=c>>>16&255,R[3]=c>>>24&255,n.check=h(n.check,R,4,0)),c=0,p=0,n.mode=Xe;case Xe:for(;p<16;){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(R[0]=255&c,R[1]=c>>>8&255,n.check=h(n.check,R,2,0)),c=0,p=0,n.mode=Ze;case Ze:if(1024&n.flags){for(;p<16;){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(R[0]=255&c,R[1]=c>>>8&255,n.check=h(n.check,R,2,0)),c=0,p=0}else n.head&&(n.head.extra=null);n.mode=Je;case Je:if(1024&n.flags&&(m=n.length,m>a&&(m=a),m&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),he(n.head.extra,r,i,m,M)),512&n.flags&&(n.check=h(n.check,r,m,i)),a-=m,i+=m,n.length-=m),n.length))break t;n.length=0,n.mode=Qe;case Qe:if(2048&n.flags){if(0===a)break t;m=0;do M=r[i+m++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M));while(M&&m<a);if(512&n.flags&&(n.check=h(n.check,r,m,i)),a-=m,i+=m,M)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=tn;case tn:if(4096&n.flags){if(0===a)break t;m=0;do M=r[i+m++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M));while(M&&m<a);if(512&n.flags&&(n.check=h(n.check,r,m,i)),a-=m,i+=m,M)break t}else n.head&&(n.head.comment=null);n.mode=en;case en:if(512&n.flags){for(;p<16;){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}if(c!==(65535&n.check)){t.msg="header crc mismatch",n.mode=kn;break}c=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=on;break;case nn:for(;p<32;){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}t.adler=n.check=v(c),c=0,p=0,n.mode=rn;case rn:if(0===n.havedict)return t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=a,n.hold=c,n.bits=p,Ve;t.adler=n.check=1,n.mode=on;case on:if(e===ze||e===Fe)break t;case sn:if(n.last){c>>>=7&p,p-=7&p,n.mode=wn;break}for(;p<3;){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}switch(n.last=1&c,c>>>=1,p-=1,3&c){case 0:n.mode=an;break;case 1:if(_(n),n.mode=fn,e===Fe){c>>>=2,p-=2;break t}break;case 2:n.mode=un;break;case 3:t.msg="invalid block type",n.mode=kn}c>>>=2,p-=2;break;case an:for(c>>>=7&p,p-=7&p;p<32;){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}if((65535&c)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=kn;break}if(n.length=65535&c,c=0,p=0,n.mode=ln,e===Fe)break t;case ln:n.mode=cn;case cn:if(m=n.length){if(m>a&&(m=a),m>l&&(m=l),0===m)break t;he(o,r,i,m,s),a-=m,i+=m,l-=m,s+=m,n.length-=m;break}n.mode=on;break;case un:for(;p<14;){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}if(n.nlen=(31&c)+257,c>>>=5,p-=5,n.ndist=(31&c)+1,c>>>=5,p-=5,n.ncode=(15&c)+4,c>>>=4,p-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=kn;break}n.have=0,n.mode=pn;case pn:for(;n.have<n.ncode;){for(;p<3;){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}n.lens[I[n.have++]]=7&c,c>>>=3,p-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},P=d(je,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,P){t.msg="invalid code lengths set",n.mode=kn;break}n.have=0,n.mode=hn;case hn:for(;n.have<n.nlen+n.ndist;){for(;j=n.lencode[c&(1<<n.lenbits)-1],k=j>>>24,S=j>>>16&255,C=65535&j,!(k<=p);){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}if(C<16)c>>>=k,p-=k,n.lens[n.have++]=C;else{if(16===C){for(D=k+2;p<D;){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}if(c>>>=k,p-=k,0===n.have){t.msg="invalid bit length repeat",n.mode=kn;break}M=n.lens[n.have-1],m=3+(3&c),c>>>=2,p-=2}else if(17===C){for(D=k+3;p<D;){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}c>>>=k,p-=k,M=0,m=3+(7&c),c>>>=3,p-=3}else{for(D=k+7;p<D;){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}c>>>=k,p-=k,M=0,m=11+(127&c),c>>>=7,p-=7}if(n.have+m>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=kn;break}for(;m--;)n.lens[n.have++]=M}}if(n.mode===kn)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=kn;break}if(n.lenbits=9,A={bits:n.lenbits},P=d(Re,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,P){t.msg="invalid literal/lengths set",n.mode=kn;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},P=d(Ie,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,P){t.msg="invalid distances set",n.mode=kn;break}if(n.mode=fn,e===Fe)break t;case fn:n.mode=dn;case dn:if(a>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=a,n.hold=c,n.bits=p,f(t,g),s=t.next_out,o=t.output,l=t.avail_out,i=t.next_in,r=t.input,a=t.avail_in,c=n.hold,p=n.bits,n.mode===on&&(n.back=-1);break}for(n.back=0;j=n.lencode[c&(1<<n.lenbits)-1],k=j>>>24,S=j>>>16&255,C=65535&j,!(k<=p);){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}if(S&&0===(240&S)){for(O=k,E=S,T=C;j=n.lencode[T+((c&(1<<O+E)-1)>>O)],k=j>>>24,S=j>>>16&255,C=65535&j,!(O+k<=p);){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}c>>>=O,p-=O,n.back+=O}if(c>>>=k,p-=k,n.back+=k,n.length=C,0===S){n.mode=bn;break}if(32&S){n.back=-1,n.mode=on;break}if(64&S){t.msg="invalid literal/length code",n.mode=kn;break}n.extra=15&S,n.mode=vn;case vn:if(n.extra){for(D=n.extra;p<D;){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=yn;case yn:for(;j=n.distcode[c&(1<<n.distbits)-1],k=j>>>24,S=j>>>16&255,C=65535&j,!(k<=p);){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}if(0===(240&S)){for(O=k,E=S,T=C;j=n.distcode[T+((c&(1<<O+E)-1)>>O)],k=j>>>24,S=j>>>16&255,C=65535&j,!(O+k<=p);){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}c>>>=O,p-=O,n.back+=O}if(c>>>=k,p-=k,n.back+=k,64&S){t.msg="invalid distance code",n.mode=kn;break}n.offset=C,n.extra=15&S,n.mode=gn;case gn:if(n.extra){for(D=n.extra;p<D;){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=kn;break}n.mode=mn;case mn:if(0===l)break t;if(m=g-l,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=kn;break}m>n.wnext?(m-=n.wnext,b=n.wsize-m):b=n.wnext-m,m>n.length&&(m=n.length),w=n.window}else w=o,b=s-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do o[s++]=w[b++];while(--m);0===n.length&&(n.mode=dn);break;case bn:if(0===l)break t;o[s++]=n.length,l--,n.mode=dn;break;case wn:if(n.wrap){for(;p<32;){if(0===a)break t;a--,c|=r[i++]<<p,p+=8}if(g-=l,t.total_out+=g,n.total+=g,g&&(t.adler=n.check=n.flags?h(n.check,o,g,s-g):u(n.check,o,g,s-g)),g=l,(n.flags?c:v(c))!==n.check){t.msg="incorrect data check",n.mode=kn;break}c=0,p=0}n.mode=_n;case _n:if(n.wrap&&n.flags){for(;p<32;){if(0===a)break t;a--,c+=r[i++]<<p,p+=8}if(c!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=kn;break}c=0,p=0}n.mode=xn;case xn:P=Ne;break t;case kn:P=We;break t;case Sn:return Ue;case Cn:default:return He}return t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=a,n.hold=c,n.bits=p,(n.wsize||g!==t.avail_out&&n.mode<kn&&(n.mode<wn||e!==Le))&&x(t,t.output,t.next_out,g-t.avail_out),y-=t.avail_in,g-=t.avail_out,t.total_in+=y,t.total_out+=g,n.total+=g,n.wrap&&g&&(t.adler=n.check=n.flags?h(n.check,o,g,t.next_out-g):u(n.check,o,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===on?128:0)+(n.mode===fn||n.mode===ln?256:0),(0===y&&0===g||e===Le)&&P===Be&&(P=Ke),P}function S(t){if(!t||!t.state)return He;var e=t.state;return e.window&&(e.window=null),t.state=null,Be}function C(t,e){var n;return t&&t.state?(n=t.state,0===(2&n.wrap)?He:(n.head=e,e.done=!1,Be)):He}function O(t,e){var n,r,o,i=e.length;return t&&t.state?(n=t.state,0!==n.wrap&&n.mode!==rn?He:n.mode===rn&&(r=1,r=u(r,e,i,0),r!==n.check)?We:(o=x(t,e,i,i))?(n.mode=Sn,Ue):(n.havedict=1,Be)):He}function E(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function T(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}function M(t,e){var n=new An(e);if(n.push(t,!0),n.err)throw n.msg||Mn[n.err];return n.result}function P(t,e){return e=e||{},
e.raw=!0,M(t,e)}function A(t){for(var e=t.length;--e>=0;)t[e]=0}function D(t,e,n,r,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=t&&t.length}function j(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function R(t){return t<256?Rn[t]:Rn[256+(t>>>7)]}function I(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function L(t,e,n){t.bi_valid>tr-n?(t.bi_buf|=e<<t.bi_valid&65535,I(t,t.bi_buf),t.bi_buf=e>>tr-t.bi_valid,t.bi_valid+=n-tr):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function z(t,e,n){L(t,n[2*e],n[2*e+1])}function F(t,e){var n=0;do n|=1&t,t>>>=1,n<<=1;while(--e>0);return n>>>1}function B(t){16===t.bi_valid?(I(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function N(t,e){var n,r,o,i,s,a,l=e.dyn_tree,c=e.max_code,u=e.stat_desc.static_tree,p=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,d=e.stat_desc.max_length,v=0;for(i=0;i<=Qn;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<Jn;n++)r=t.heap[n],i=l[2*l[2*r+1]+1]+1,i>d&&(i=d,v++),l[2*r+1]=i,r>c||(t.bl_count[i]++,s=0,r>=f&&(s=h[r-f]),a=l[2*r],t.opt_len+=a*(i+s),p&&(t.static_len+=a*(u[2*r+1]+s)));if(0!==v){do{for(i=d-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[d]--,v-=2}while(v>0);for(i=d;0!==i;i--)for(r=t.bl_count[i];0!==r;)o=t.heap[--n],o>c||(l[2*o+1]!==i&&(t.opt_len+=(i-l[2*o+1])*l[2*o],l[2*o+1]=i),r--)}}function V(t,e,n){var r,o,i=new Array(Qn+1),s=0;for(r=1;r<=Qn;r++)i[r]=s=s+n[r-1]<<1;for(o=0;o<=e;o++){var a=t[2*o+1];0!==a&&(t[2*o]=F(i[a]++,a))}}function H(){var t,e,n,r,o,i=new Array(Qn+1);for(Dn=new Array(2*(Yn+2)),A(Dn),jn=new Array(2*Xn),A(jn),Rn=new Array(ur),A(Rn),In=new Array(qn-Kn+1),A(In),Ln=new Array(Gn),A(Ln),zn=new Array(Xn),A(zn),n=0,r=0;r<Gn-1;r++)for(Ln[r]=n,t=0;t<1<<sr[r];t++)In[n++]=r;for(In[n-1]=r,o=0,r=0;r<16;r++)for(zn[r]=o,t=0;t<1<<ar[r];t++)Rn[o++]=r;for(o>>=7;r<Xn;r++)for(zn[r]=o<<7,t=0;t<1<<ar[r]-7;t++)Rn[256+o++]=r;for(e=0;e<=Qn;e++)i[e]=0;for(t=0;t<=143;)Dn[2*t+1]=8,t++,i[8]++;for(;t<=255;)Dn[2*t+1]=9,t++,i[9]++;for(;t<=279;)Dn[2*t+1]=7,t++,i[7]++;for(;t<=287;)Dn[2*t+1]=8,t++,i[8]++;for(V(Dn,Yn+1,i),t=0;t<Xn;t++)jn[2*t+1]=5,jn[2*t]=F(t,5);Fn=new D(Dn,sr,$n+1,Yn,Qn),Bn=new D(jn,ar,0,Xn,Qn),Nn=new D(new Array(0),lr,0,Zn,er)}function W(t){var e;for(e=0;e<Yn;e++)t.dyn_ltree[2*e]=0;for(e=0;e<Xn;e++)t.dyn_dtree[2*e]=0;for(e=0;e<Zn;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*nr]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function U(t){t.bi_valid>8?I(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function K(t,e,n,r){U(t),r&&(I(t,n),I(t,~n)),he(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function q(t,e,n,r){var o=2*e,i=2*n;return t[o]<t[i]||t[o]===t[i]&&r[e]<=r[n]}function G(t,e,n){for(var r=t.heap[n],o=n<<1;o<=t.heap_len&&(o<t.heap_len&&q(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!q(e,r,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=r}function $(t,e,n){var r,o,i,s,a=0;if(0!==t.last_lit)do r=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],o=t.pending_buf[t.l_buf+a],a++,0===r?z(t,o,e):(i=In[o],z(t,i+$n+1,e),s=sr[i],0!==s&&(o-=Ln[i],L(t,o,s)),r--,i=R(r),z(t,i,n),s=ar[i],0!==s&&(r-=zn[i],L(t,r,s)));while(a<t.last_lit);z(t,nr,e)}function Y(t,e){var n,r,o,i=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=Jn,n=0;n<l;n++)0!==i[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):i[2*n+1]=0;for(;t.heap_len<2;)o=t.heap[++t.heap_len]=c<2?++c:0,i[2*o]=1,t.depth[o]=0,t.opt_len--,a&&(t.static_len-=s[2*o+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)G(t,i,n);o=l;do n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],G(t,i,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,i[2*o]=i[2*n]+i[2*r],t.depth[o]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,i[2*n+1]=i[2*r+1]=o,t.heap[1]=o++,G(t,i,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],N(t,e),V(i,c,t.bl_count)}function X(t,e,n){var r,o,i=-1,s=e[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)o=s,s=e[2*(r+1)+1],++a<l&&o===s||(a<c?t.bl_tree[2*o]+=a:0!==o?(o!==i&&t.bl_tree[2*o]++,t.bl_tree[2*rr]++):a<=10?t.bl_tree[2*or]++:t.bl_tree[2*ir]++,a=0,i=o,0===s?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))}function Z(t,e,n){var r,o,i=-1,s=e[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=n;r++)if(o=s,s=e[2*(r+1)+1],!(++a<l&&o===s)){if(a<c){do z(t,o,t.bl_tree);while(0!==--a)}else 0!==o?(o!==i&&(z(t,o,t.bl_tree),a--),z(t,rr,t.bl_tree),L(t,a-3,2)):a<=10?(z(t,or,t.bl_tree),L(t,a-3,3)):(z(t,ir,t.bl_tree),L(t,a-11,7));a=0,i=o,0===s?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}}function J(t){var e;for(X(t,t.dyn_ltree,t.l_desc.max_code),X(t,t.dyn_dtree,t.d_desc.max_code),Y(t,t.bl_desc),e=Zn-1;e>=3&&0===t.bl_tree[2*cr[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function Q(t,e,n,r){var o;for(L(t,e-257,5),L(t,n-1,5),L(t,r-4,4),o=0;o<r;o++)L(t,t.bl_tree[2*cr[o]+1],3);Z(t,t.dyn_ltree,e-1),Z(t,t.dyn_dtree,n-1)}function tt(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return ie;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return se;for(e=32;e<$n;e++)if(0!==t.dyn_ltree[2*e])return se;return ie}function et(t){pr||(H(),pr=!0),t.l_desc=new j(t.dyn_ltree,Fn),t.d_desc=new j(t.dyn_dtree,Bn),t.bl_desc=new j(t.bl_tree,Nn),t.bi_buf=0,t.bi_valid=0,W(t)}function nt(t,e,n,r){L(t,(Hn<<1)+(r?1:0),3),K(t,e,n,!0)}function rt(t){L(t,Wn<<1,3),z(t,nr,Dn),B(t)}function ot(t,e,n,r){var o,i,s=0;t.level>0?(t.strm.data_type===ae&&(t.strm.data_type=tt(t)),Y(t,t.l_desc),Y(t,t.d_desc),s=J(t),o=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&e!==-1?nt(t,e,n,r):t.strategy===re||i===o?(L(t,(Wn<<1)+(r?1:0),3),$(t,Dn,jn)):(L(t,(Un<<1)+(r?1:0),3),Q(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),$(t,t.dyn_ltree,t.dyn_dtree)),W(t),r&&U(t)}function it(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(In[n]+$n+1)]++,t.dyn_dtree[2*R(e)]++),t.last_lit===t.lit_bufsize-1}function st(t,e){return t.msg=Mn[e],e}function at(t){return(t<<1)-(t>4?9:0)}function lt(t){for(var e=t.length;--e>=0;)t[e]=0}function ct(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(he(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function ut(t,e){ot(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ct(t.strm)}function pt(t,e){t.pending_buf[t.pending++]=e}function ht(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function ft(t,e,n,r){var o=t.avail_in;return o>r&&(o=r),0===o?0:(t.avail_in-=o,he(e,t.input,t.next_in,o,n),1===t.state.wrap?t.adler=u(t.adler,e,o,n):2===t.state.wrap&&(t.adler=h(t.adler,e,o,n)),t.next_in+=o,t.total_in+=o,o)}function dt(t,e){var n,r,o=t.max_chain_length,i=t.strstart,s=t.prev_length,a=t.nice_match,l=t.strstart>t.w_size-xr?t.strstart-(t.w_size-xr):0,c=t.window,u=t.w_mask,p=t.prev,h=t.strstart+_r,f=c[i+s-1],d=c[i+s];t.prev_length>=t.good_match&&(o>>=2),a>t.lookahead&&(a=t.lookahead);do if(n=e,c[n+s]===d&&c[n+s-1]===f&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do;while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<h);if(r=_r-(h-i),i=h-_r,r>s){if(t.match_start=e,s=r,r>=a)break;f=c[i+s-1],d=c[i+s]}}while((e=p[e&u])>l&&0!==--o);return s<=t.lookahead?s:t.lookahead}function vt(t){var e,n,r,o,i,s=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-xr)){he(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,n=t.hash_size,e=n;do r=t.head[--e],t.head[e]=r>=s?r-s:0;while(--n);n=s,e=n;do r=t.prev[--e],t.prev[e]=r>=s?r-s:0;while(--n);o+=s}if(0===t.strm.avail_in)break;if(n=ft(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=n,t.lookahead+t.insert>=wr)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+wr-1])&t.hash_mask,t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<wr)););}while(t.lookahead<xr&&0!==t.strm.avail_in)}function yt(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(vt(t),0===t.lookahead&&e===Lt)return Ar;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,ut(t,!1),0===t.strm.avail_out))return Ar;if(t.strstart-t.block_start>=t.w_size-xr&&(ut(t,!1),0===t.strm.avail_out))return Ar}return t.insert=0,e===Nt?(ut(t,!0),0===t.strm.avail_out?jr:Rr):t.strstart>t.block_start&&(ut(t,!1),0===t.strm.avail_out)?Ar:Ar}function gt(t,e){for(var n,r;;){if(t.lookahead<xr){if(vt(t),t.lookahead<xr&&e===Lt)return Ar;if(0===t.lookahead)break}if(n=0,t.lookahead>=wr&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+wr-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-xr&&(t.match_length=dt(t,n)),t.match_length>=wr)if(r=it(t,t.strstart-t.match_start,t.match_length-wr),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=wr){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+wr-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=it(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(ut(t,!1),0===t.strm.avail_out))return Ar}return t.insert=t.strstart<wr-1?t.strstart:wr-1,e===Nt?(ut(t,!0),0===t.strm.avail_out?jr:Rr):t.last_lit&&(ut(t,!1),0===t.strm.avail_out)?Ar:Dr}function mt(t,e){for(var n,r,o;;){if(t.lookahead<xr){if(vt(t),t.lookahead<xr&&e===Lt)return Ar;if(0===t.lookahead)break}if(n=0,t.lookahead>=wr&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+wr-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=wr-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-xr&&(t.match_length=dt(t,n),t.match_length<=5&&(t.strategy===te||t.match_length===wr&&t.strstart-t.match_start>4096)&&(t.match_length=wr-1)),t.prev_length>=wr&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-wr,r=it(t,t.strstart-1-t.prev_match,t.prev_length-wr),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+wr-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=wr-1,t.strstart++,r&&(ut(t,!1),0===t.strm.avail_out))return Ar}else if(t.match_available){if(r=it(t,0,t.window[t.strstart-1]),r&&ut(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return Ar}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=it(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<wr-1?t.strstart:wr-1,e===Nt?(ut(t,!0),0===t.strm.avail_out?jr:Rr):t.last_lit&&(ut(t,!1),0===t.strm.avail_out)?Ar:Dr}function bt(t,e){for(var n,r,o,i,s=t.window;;){if(t.lookahead<=_r){if(vt(t),t.lookahead<=_r&&e===Lt)return Ar;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=wr&&t.strstart>0&&(o=t.strstart-1,r=s[o],r===s[++o]&&r===s[++o]&&r===s[++o])){i=t.strstart+_r;do;while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<i);t.match_length=_r-(i-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=wr?(n=it(t,1,t.match_length-wr),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=it(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(ut(t,!1),0===t.strm.avail_out))return Ar}return t.insert=0,e===Nt?(ut(t,!0),0===t.strm.avail_out?jr:Rr):t.last_lit&&(ut(t,!1),0===t.strm.avail_out)?Ar:Dr}function wt(t,e){for(var n;;){if(0===t.lookahead&&(vt(t),0===t.lookahead)){if(e===Lt)return Ar;break}if(t.match_length=0,n=it(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(ut(t,!1),0===t.strm.avail_out))return Ar}return t.insert=0,e===Nt?(ut(t,!0),0===t.strm.avail_out?jr:Rr):t.last_lit&&(ut(t,!1),0===t.strm.avail_out)?Ar:Dr}function _t(t,e,n,r,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=o}function xt(t){t.window_size=2*t.w_size,lt(t.head);var e=Lr();t.max_lazy_match=e[t.level].max_lazy,t.good_match=e[t.level].good_length,t.nice_match=e[t.level].nice_length,t.max_chain_length=e[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=wr-1,t.match_available=0,t.ins_h=0}function kt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=le,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=ve(2*mr),this.dyn_dtree=ve(2*(2*yr+1)),this.bl_tree=ve(2*(2*gr+1)),lt(this.dyn_ltree),lt(this.dyn_dtree),lt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=ve(br+1),this.heap=ve(2*vr+1),lt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=ve(2*vr+1),lt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function St(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=ae,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Sr:Mr,t.adler=2===e.wrap?0:1,e.last_flush=Lt,et(e),Wt):st(t,Gt)}function Ct(t){var e=St(t);return e===Wt&&xt(t.state),e}function Ot(t,e){return t&&t.state?2!==t.state.wrap?Gt:(t.state.gzhead=e,Wt):Gt}function Et(t,e,n,r,o,i){if(!t)return Gt;var s=1;if(e===Qt&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>hr||n!==le||r<8||r>15||e<0||e>9||i<0||i>re)return st(t,Gt);8===r&&(r=9);var a=new kt;return t.state=a,a.strm=t,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+wr-1)/wr),a.window=de(2*a.w_size),a.head=ve(a.hash_size),a.prev=ve(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=de(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=i,a.method=n,Ct(t)}function Tt(t,e){var n,r,o,i;if(!t||!t.state||e>Vt||e<0)return t?st(t,Gt):Gt;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||r.status===Pr&&e!==Nt)return st(t,0===t.avail_out?Yt:Gt);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===Sr)if(2===r.wrap)t.adler=0,pt(r,31),pt(r,139),pt(r,8),r.gzhead?(pt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),pt(r,255&r.gzhead.time),pt(r,r.gzhead.time>>8&255),pt(r,r.gzhead.time>>16&255),pt(r,r.gzhead.time>>24&255),pt(r,9===r.level?2:r.strategy>=ee||r.level<2?4:0),pt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(pt(r,255&r.gzhead.extra.length),pt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=h(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Cr):(pt(r,0),pt(r,0),pt(r,0),pt(r,0),pt(r,0),pt(r,9===r.level?2:r.strategy>=ee||r.level<2?4:0),pt(r,Ir),r.status=Mr);else{var s=le+(r.w_bits-8<<4)<<8,a=-1;a=r.strategy>=ee||r.level<2?0:r.level<6?1:6===r.level?2:3,s|=a<<6,0!==r.strstart&&(s|=kr),s+=31-s%31,r.status=Mr,ht(r,s),0!==r.strstart&&(ht(r,t.adler>>>16),ht(r,65535&t.adler)),t.adler=1}if(r.status===Cr)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(t.adler=h(t.adler,r.pending_buf,r.pending-o,o)),ct(t),o=r.pending,r.pending!==r.pending_buf_size));)pt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(t.adler=h(t.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=Or)}else r.status=Or;if(r.status===Or)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(t.adler=h(t.adler,r.pending_buf,r.pending-o,o)),ct(t),o=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,pt(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>o&&(t.adler=h(t.adler,r.pending_buf,r.pending-o,o)),0===i&&(r.gzindex=0,r.status=Er)}else r.status=Er;if(r.status===Er)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(t.adler=h(t.adler,r.pending_buf,r.pending-o,o)),ct(t),o=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,pt(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>o&&(t.adler=h(t.adler,r.pending_buf,r.pending-o,o)),0===i&&(r.status=Tr)}else r.status=Tr;if(r.status===Tr&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ct(t),r.pending+2<=r.pending_buf_size&&(pt(r,255&t.adler),pt(r,t.adler>>8&255),t.adler=0,r.status=Mr)):r.status=Mr),0!==r.pending){if(ct(t),0===t.avail_out)return r.last_flush=-1,Wt}else if(0===t.avail_in&&at(e)<=at(n)&&e!==Nt)return st(t,Yt);if(r.status===Pr&&0!==t.avail_in)return st(t,Yt);if(0!==t.avail_in||0!==r.lookahead||e!==Lt&&r.status!==Pr){var l=r.strategy===ee?wt(r,e):r.strategy===ne?bt(r,e):Lr()[r.level].func(r,e);if(l!==jr&&l!==Rr||(r.status=Pr),l===Ar||l===jr)return 0===t.avail_out&&(r.last_flush=-1),Wt;if(l===Dr&&(e===zt?rt(r):e!==Vt&&(nt(r,0,0,!1),e===Bt&&(lt(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ct(t),0===t.avail_out))return r.last_flush=-1,Wt}return e!==Nt?Wt:r.wrap<=0?Ut:(2===r.wrap?(pt(r,255&t.adler),pt(r,t.adler>>8&255),pt(r,t.adler>>16&255),pt(r,t.adler>>24&255),pt(r,255&t.total_in),pt(r,t.total_in>>8&255),pt(r,t.total_in>>16&255),pt(r,t.total_in>>24&255)):(ht(r,t.adler>>>16),ht(r,65535&t.adler)),ct(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?Wt:Ut)}function Mt(t){var e;return t&&t.state?(e=t.state.status,e!==Sr&&e!==Cr&&e!==Or&&e!==Er&&e!==Tr&&e!==Mr&&e!==Pr?st(t,Gt):(t.state=null,e===Mr?st(t,$t):Wt)):Gt}function Pt(t,e){var n,r,o,i,s,a,l,c,p=e.length;if(!t||!t.state)return Gt;if(n=t.state,i=n.wrap,2===i||1===i&&n.status!==Sr||n.lookahead)return Gt;for(1===i&&(t.adler=u(t.adler,e,p,0)),n.wrap=0,p>=n.w_size&&(0===i&&(lt(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=de(n.w_size),he(c,e,p-n.w_size,n.w_size,0),e=c,p=n.w_size),s=t.avail_in,a=t.next_in,l=t.input,t.avail_in=p,t.next_in=0,t.input=e,vt(n);n.lookahead>=wr;){r=n.strstart,o=n.lookahead-(wr-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+wr-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++;while(--o);n.strstart=r,n.lookahead=wr-1,vt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=wr-1,n.match_available=0,t.next_in=a,t.input=l,t.avail_in=s,n.wrap=i,Wt}function At(t,e){var n=new Fr(e);if(n.push(t,!0),n.err)throw n.msg||Mn[n.err];return n.result}function Dt(t,e){return e=e||{},e.raw=!0,At(t,e)}function jt(t,e){return e=e||{},e.gzip=!0,At(t,e)}var Rt,It,Lt=0,zt=1,Ft=2,Bt=3,Nt=4,Vt=5,Ht=6,Wt=0,Ut=1,Kt=2,qt=-1,Gt=-2,$t=-3,Yt=-5,Xt=0,Zt=1,Jt=9,Qt=-1,te=1,ee=2,ne=3,re=4,oe=0,ie=0,se=1,ae=2,le=8,ce={arraySet:function(t,e,n,r,o){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+r),o);for(var i=0;i<r;i++)t[o+i]=e[n+i]},flattenChunks:function(t){var e,n,r,o,i,s;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(s=new Uint8Array(r),o=0,e=0,n=t.length;e<n;e++)i=t[e],s.set(i,o),o+=i.length;return s},Buf8:function(t){return new Uint8Array(t)},Buf16:function(t){return new Uint16Array(t)},Buf32:function(t){return new Int32Array(t)}},ue={arraySet:function(t,e,n,r,o){for(var i=0;i<r;i++)t[o+i]=e[n+i]},flattenChunks:function(t){return[].concat.apply([],t)},Buf8:function(t){return new Array(t)},Buf16:function(t){return new Array(t)},Buf32:function(t){return new Array(t)}},pe=function(){var t="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;return pe=function(){return t},t},he=function(t,e,n,r,o){return(he=pe()?ce.arraySet:ue.arraySet)(t,e,n,r,o)},fe=function(t){return(fe=pe()?ce.flattenChunks:ue.flattenChunks)(t)},de=function(t){return(de=pe()?ce.Buf8:ue.Buf8)(t)},ve=function(t){return(ve=pe()?ce.Buf16:ue.Buf16)(t)},ye=function(t){return(ye=pe()?ce.Buf32:ue.Buf32)(t)},ge=function(){var t=!0;try{String.fromCharCode.apply(null,[0])}catch(e){t=!1}return ge=function(){return t},t},me=function(){var t=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){t=!1}return me=function(){return t},t},be=function(t){for(var e=de(256),n=0;n<256;n++)e[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;return e[254]=e[254]=1,be=function(t){return e[t]},e[t]},we=function(){var t=p();return we=function(){return t},t},_e=30,xe=12,ke=15,Se=852,Ce=592,Oe=0,Ee=1,Te=2,Me=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Pe=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],De=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],je=0,Re=1,Ie=2,Le=4,ze=5,Fe=6,Be=0,Ne=1,Ve=2,He=-2,We=-3,Ue=-4,Ke=-5,qe=8,Ge=1,$e=2,Ye=3,Xe=4,Ze=5,Je=6,Qe=7,tn=8,en=9,nn=10,rn=11,on=12,sn=13,an=14,ln=15,cn=16,un=17,pn=18,hn=19,fn=20,dn=21,vn=22,yn=23,gn=24,mn=25,bn=26,wn=27,_n=28,xn=29,kn=30,Sn=31,Cn=32,On=852,En=592,Tn=!0,Mn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Pn=Object.prototype.toString,An=function t(e){if(!(this instanceof t))return new t(e);this.options=n({chunkSize:16384,windowBits:0,to:""},e||{});var r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,0===r.windowBits&&(r.windowBits=-15)),!(r.windowBits>=0&&r.windowBits<16)||e&&e.windowBits||(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&0===(15&r.windowBits)&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var i=w(this.strm,r.windowBits);if(i!==Wt)throw new Error(Mn[i]);if(this.header=new T,C(this.strm,this.header),r.dictionary&&("string"==typeof r.dictionary?r.dictionary=o(r.dictionary):"[object ArrayBuffer]"===Pn.call(r.dictionary)&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(i=O(this.strm,r.dictionary),i!==Wt)))throw new Error(Mn[i])};An.prototype.push=function(t,e){var n,i,s,u,p,h,f=this.strm,d=this.options.chunkSize,v=this.options.dictionary,y=!1;if(this.ended)return!1;i=e===~~e?e:e===!0?Nt:Lt,"string"==typeof t?f.input=a(t):"[object ArrayBuffer]"===Pn.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=de(d),f.next_out=0,f.avail_out=d),n=k(f,Lt),n===Kt&&v&&(h="string"==typeof v?o(v):"[object ArrayBuffer]"===Pn.call(v)?new Uint8Array(v):v,n=O(this.strm,h)),n===Yt&&y===!0&&(n=Wt,y=!1),n!==Ut&&n!==Wt)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==Ut&&(0!==f.avail_in||i!==Nt&&i!==Ft)||("string"===this.options.to?(s=c(f.output,f.next_out),u=f.next_out-s,p=l(f.output,s),f.next_out=u,f.avail_out=d-u,u&&he(f.output,f.output,s,u,0),this.onData(p)):this.onData(r(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(y=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==Ut);return n===Ut&&(i=Nt),i===Nt?(n=S(this.strm),this.onEnd(n),this.ended=!0,n===Wt):i!==Ft||(this.onEnd(Wt),f.avail_out=0,!0)},An.prototype.onData=function(t){this.chunks.push(t)},An.prototype.onEnd=function(t){t===Wt&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=fe(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Dn,jn,Rn,In,Ln,zn,Fn,Bn,Nn,Vn=M,Hn=0,Wn=1,Un=2,Kn=3,qn=258,Gn=29,$n=256,Yn=$n+1+Gn,Xn=30,Zn=19,Jn=2*Yn+1,Qn=15,tr=16,er=7,nr=256,rr=16,or=17,ir=18,sr=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ar=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],lr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],cr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ur=512,pr=!1,hr=9,fr=29,dr=256,vr=dr+1+fr,yr=30,gr=19,mr=2*vr+1,br=15,wr=3,_r=258,xr=_r+wr+1,kr=32,Sr=42,Cr=69,Or=73,Er=91,Tr=103,Mr=113,Pr=666,Ar=1,Dr=2,jr=3,Rr=4,Ir=3,Lr=function(){var t=[new _t(0,0,0,0,yt),new _t(4,4,8,4,gt),new _t(4,5,16,8,gt),new _t(4,6,32,32,gt),new _t(4,4,16,16,mt),new _t(8,16,32,32,mt),new _t(8,16,128,128,mt),new _t(8,32,128,256,mt),new _t(32,128,258,1024,mt),new _t(32,258,258,4096,mt)];return Lr=function(){return t},t},zr=Object.prototype.toString,Fr=function(t){this.options=n({level:Qt,method:le,chunkSize:16384,windowBits:15,memLevel:8,strategy:oe,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var r=Et(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Wt)throw new Error(Mn[r]);if(e.header&&Ot(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?o(e.dictionary):"[object ArrayBuffer]"===zr.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=Pt(this.strm,i),r!==Wt)throw new Error(Mn[r]);this._dict_set=!0}};Fr.prototype.push=function(t,e){var n,i,a=this.strm,l=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:e===!0?Nt:Lt,"string"==typeof t?a.input=o(t):"[object ArrayBuffer]"===zr.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=de(l),a.next_out=0,a.avail_out=l),n=Tt(a,i),n!==Ut&&n!==Wt)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||i!==Nt&&i!==Ft)||("string"===this.options.to?this.onData(s(r(a.output,a.next_out))):this.onData(r(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&n!==Ut);return i===Nt?(n=Mt(this.strm),this.onEnd(n),this.ended=!0,n===Wt):i!==Ft||(this.onEnd(Wt),a.avail_out=0,!0)},Fr.prototype.onData=function(t){this.chunks.push(t)},Fr.prototype.onEnd=function(t){t===Wt&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=fe(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},t.Deflate=Fr,t.Inflate=An,t.Z_BEST_COMPRESSION=Jt,t.Z_BEST_SPEED=Zt,t.Z_BINARY=ie,t.Z_BLOCK=Vt,t.Z_BUF_ERROR=Yt,t.Z_DATA_ERROR=$t,t.Z_DEFAULT_COMPRESSION=Qt,t.Z_DEFAULT_STRATEGY=oe,t.Z_DEFLATED=le,t.Z_ERRNO=qt,t.Z_FILTERED=te,t.Z_FINISH=Nt,t.Z_FIXED=re,t.Z_FULL_FLUSH=Bt,t.Z_HUFFMAN_ONLY=ee,t.Z_NEED_DICT=Kt,t.Z_NO_COMPRESSION=Xt,t.Z_NO_FLUSH=Lt,t.Z_OK=Wt,t.Z_PARTIAL_FLUSH=zt,t.Z_RLE=ne,t.Z_STREAM_END=Ut,t.Z_STREAM_ERROR=Gt,t.Z_SYNC_FLUSH=Ft,t.Z_TEXT=se,t.Z_TREES=Ht,t.Z_UNKNOWN=ae,t.deflate=At,t.deflateRaw=Dt,t.gzip=jt,t.inflate=M,t.inflateRaw=P,t.ungzip=Vn,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.chartDefaultTheme=void 0;var r=n(43);e.chartDefaultTheme=function(){return Object.assign({},(0,r.chartBaseTheme)(),{axisDefaults:{crosshair:{color:"rgba(0, 0, 0, 0.5)"},labels:{color:"rgb(101, 101, 101)",font:"12px serif"},line:{color:"rgba(0, 0, 0, 0.08)"},majorGridLines:{color:"rgba(0, 0, 0, 0.08)"},minorGridLines:{color:"rgba(0, 0, 0, 0.04)"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},title:{color:"rgb(101, 101, 101)",font:"14px serif"}},chartArea:{background:"rgb(255, 255, 255)"},legend:{inactiveItems:{labels:{color:"rgba(102, 102, 102, 0.5)"},markers:{color:"rgba(102, 102, 102, 0.5)"}},labels:{color:"rgb(101, 101, 101)",font:"14px serif"}},seriesDefaults:{boxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},bullet:{target:{color:"rgb(101, 101, 101)"}},candlestick:{downColor:"rgb(101, 101, 101)",line:{color:"rgb(101, 101, 101)"}},errorBars:{color:"rgba(0, 0, 0, 0.5)"},horizontalWaterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},icon:{border:{color:"rgba(0, 0, 0, 0.08)"}},labels:{background:"rgb(255, 255, 255)",color:"rgb(101, 101, 101)",opacity:.8,font:"12px serif"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},verticalBoxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},verticalBullet:{target:{color:"rgb(101, 101, 101)"}},waterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},area:{opacity:.8}},title:{color:"rgb(101, 101, 101)",font:"16px serif"},seriesColors:["rgb(255, 99, 88)","rgb(255, 210, 70)","rgb(120, 210, 55)","rgb(40, 180, 200)","rgb(45, 115, 245)","rgb(170, 70, 190)"]})}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.ConfigurationService=function(){function t(){n(this,t),this.store={}}return r(t,[{key:"push",value:function(t){this.store=t}},{key:"set",value:function(t,e){for(var n=this.store,r=t.split("."),o=r.shift();r.length>0;)n=n[o]=n[o]||{},o=r.shift();n[o]=e}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(49);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(50);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DataVizComponent=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(4);e.DataVizComponent=function(t){function e(t,n,i,s){r(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));
return a.extendOptions(n),a.themeService=i,a.intlService=s,a}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyWidget()}},{key:"getThemeOptions",value:function(){return this.themeService?(this.themeService.loadTheme(),this.themeService.getThemeOptions()):{}}},{key:"initWidget",value:function(){this.widget=this.createWidget(this.element,this.options,this.getThemeOptions(),this.intlService,this.instanceObserver)}},{key:"destroyWidget",value:function(){this.widget&&(this.widget.destroy(),this.widget=null)}},{key:"createWidget",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=this.getWidgetConstructor(),s=new i(t,e,n,{intlService:r,observer:o,sender:this});return s}},{key:"getWidgetConstructor",value:function(){}},{key:"setOptions",value:function(t){this.widget&&(this.options=t,this.widget.setOptions(t,this.getThemeOptions()))}},{key:"refresh",value:function(){this.themeService&&this.themeService.reset(),this.setOptions(this.options)}}]),e}(a.Component)},function(t,e,n){"use strict";function r(t){var e=t.id,n=void 0===e?"":e,r=t.widgetOptions,i=void 0===r?"":r,s=t.componentOptions,a=void 0===s?{}:s,l=t.services,c=void 0===l?{themeService:{},intlService:{}}:l,u=t.componentConstructor,p=(0,o.getElementByDataId)(n);if(p){var h=JSON.parse(i),f=(0,o.getComponentInstance)(n),d=(0,o.extend)(h,a);if(f)(0,o.setComponentOptions)(f,d);else{c.intlService&&(d.locale=d.locale||{},d.locale.name=n,c.intlService.setLocale(d.locale));var v=new u(p,d,c.themeService,c.intlService);(0,o.setComponentInstance)(n,v)}}}Object.defineProperty(e,"__esModule",{value:!0}),e.initOrUpdateDataVizComponent=r;var o=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Barcode=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(48),l=n(43);e.Barcode=function(t){function e(t,n,i,s){r(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,s));return a.extendOptions(n),a.initWidget(),a}return i(e,t),s(e,[{key:"getWidgetConstructor",value:function(){return l.Barcode}}]),e}(a.DataVizComponent)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(53);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e,n){(0,i.initOrUpdateDataVizComponent)({id:t,widgetOptions:e,componentOptions:n,services:{themeService:new o.ThemeService,intlService:o.IntlService},componentConstructor:s.QRCode})}Object.defineProperty(e,"__esModule",{value:!0}),e.initOrUpdateQRCode=r;var o=n(37),i=n(48),s=n(54)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.QRCode=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(48),l=n(43);e.QRCode=function(t){function e(t,n,i,s){r(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,s));return a.extendOptions(n),a.initWidget(),a}return i(e,t),s(e,[{key:"getWidgetConstructor",value:function(){return l.QRCode}}]),e}(a.DataVizComponent)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(56);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,o.initComponent)(i.Breadcrumb,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initBreadcrumb=r;var o=n(4),i=n(57)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Breadcrumb=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},c=n(4),u=(0,c.toDataAttr)("index"),p=1;e.Breadcrumb=function(t){function e(t,n){o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.options={dotNetInstance:null,mode:"",debounceDelay:p},r.extendOptions(n),r.collapsibleItems=[],r.setCollapsibleItems(),r.bindEvents(),r}return s(e,t),a(e,[{key:"destroy",value:function(){this.unbindEvents(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){var t=this;this.debouncedResize=(0,c.debounce)(function(e){t.onResize(e)},this.options.debounceDelay).bind(this),window.addEventListener("resize",this.debouncedResize)}},{key:"unbindEvents",value:function(){window.removeEventListener("resize",this.debouncedResize),this.debouncedResize=null}},{key:"getItems",value:function(){var t=Array.from(this.element.querySelector(".k-breadcrumb-container").children);return t}},{key:"setCollapsibleItems",value:function(){var t=this,e=this.getItems(),n=e.slice(1,e.length-1).map(function(e){var n=(0,c.parseAttrToInt)(u,e),r=t.getItemWidth(n);return{index:n,offsetWidth:r,expanded:!0}});this.collapsibleItems=n}},{key:"setItemDisplay",value:function(t,e){var n=this.getItemByIndex(t.index),r="wrap"===this.options.mode?2:1;if(t.index===r)for(var o=n.children,i=1;i<o.length;i++)o[i].style.display=e;else n.style.display=e}},{key:"getWidths",value:function(){var t=this.getItems(),e=t.map(function(t){return t.offsetWidth}).reduce(function(t,e){return t+e},0),n=this.element.offsetWidth;return{totalItemsWidth:e,elementOffsetWidth:n}}},{key:"getItemWidth",value:function(t){var e=this.getItemByIndex(t),n=e.offsetWidth;return n}},{key:"getItemByIndex",value:function(t){var e=this.element.querySelector((0,c.toAttrValueQuerySelector)(u,t));return e}},{key:"collapseItem",value:function(t){this.setItemDisplay(t,"none"),t.expanded=!1}},{key:"expandItem",value:function(t){this.setItemDisplay(t,""),t.expanded=!0}},{key:"onResize",value:function(){if("auto"===this.options.mode&&this.collapsibleItems.length){var t=this.getWidths(),e=t.totalItemsWidth,n=t.elementOffsetWidth,o=this.collapsibleItems.find(function(t){return t.expanded}),i=[].concat(r(this.collapsibleItems)).reverse().find(function(t){return!t.expanded});o&&e>=n?(this.collapseItem(o),this.onResize()):i&&e+i.offsetWidth<n&&(this.expandItem(i),this.onResize())}}},{key:"handleChange",value:function(t){var e=this;t&&(this.setCollapsibleItems(),this.collapsibleItems.forEach(function(t){return e.expandItem(t)})),this.onResize()}}]),e}(c.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(59);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e,n){var r=(0,p.getElementByDataId)(t);if(r){var o=JSON.parse(e),s=(0,p.getComponentInstance)(t),a=(0,p.extend)(o,n);if(s)(0,p.setComponentOptions)(s,a);else{a.locale.name=t,u.IntlService.setLocale(a.locale);var l=i(r,a,new u.ThemeService,u.IntlService);(0,p.setComponentInstance)(t,l)}}}function o(t){(0,p.destroyComponent)(t)}function i(t,e,n,r){var o="stockchart"===e._constructor?a.StockChart:s.Chart,i=new o(t,e,n,r);return i}Object.defineProperty(e,"__esModule",{value:!0}),e.initOrUpdateChart=r,e.destroyChart=o;var s=n(60),a=n(62),l=n(63),c=n(43),u=n(37),p=n(4);c.TemplateService.register(u.TemplateService),c.DomEventsBuilder.register(l.DomEventsBuilder)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Chart=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(4),c=n(43),u=n(61),p="mouseleave";e.Chart=function(t){function e(t,n,i,s){r(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return a.options={seriesTooltipPopupId:"",crosshairTooltips:{},jsinterop:{onObserverShowCrosshairTooltip:"",onObserverShowTooltip:"",onObserverSeriesClick:""}},a.onMouseLeave=function(t){a.hideElements(t)},a.onObserverShowTooltip=function(t){a.showTooltip(t)},a.onObserverHideTooltip=function(t){a.hideTooltip(t)},a.onObserverSeriesClick=function(t){var e=a.createSeriesClickEventArgs(t);a.invokeSeriesClickAsync(e)},a.extendOptions(n),a.themeService=i,a.createInstanceObserver(),a.chartInstance=a.createChart(a.element,a.options,a.getThemeOptions(),s,a.chartInstanceObserver),a.bindEvents(),a}return i(e,t),a(e,[{key:"destroy",value:function(){this.unbindEvents(),this.destroyInstanceObserver(),this.chartInstance&&(this.chartInstance.destroy(),this.chartInstance=null)}},{key:"bindEvents",value:function(){this.element.addEventListener(p,this.onMouseLeave)}},{key:"unbindEvents",value:function(){this.element.removeEventListener(p,this.onMouseLeave)}},{key:"getThemeOptions",value:function(){return this.themeService.loadTheme(),this.themeService.getThemeOptions()}},{key:"createChart",value:function(t,e,n,r,o){var i=this.getChartConstructor(),s=new i(t,e,n,{intlService:r,observer:o,sender:this});return s}},{key:"getChartConstructor",value:function(){return c.Chart}},{key:"setOptions",value:function(t){this.chartInstance&&(this.options=t,this.chartInstance.setOptions(t,this.getThemeOptions()))}},{key:"refresh",value:function(){this.themeService.reset(),this.setOptions(this.options)}},{key:"createInstanceObserver",value:function(){this.chartInstanceObserver=new u.ChartInstanceObserver(this)}},{key:"destroyInstanceObserver",value:function(){this.chartInstanceObserver=null}},{key:"trigger",value:function(){}},{key:"requiresHandlers",value:function(){return!1}},{key:"invokeShowCrosshairTooltipAsync",value:function(t){return this.invokeMethodAsync(this.options.jsinterop.onObserverShowCrosshairTooltip,t)}},{key:"invokeShowSeriesTooltipAsync",value:function(t){return this.invokeMethodAsync(this.options.jsinterop.onObserverShowTooltip,t)}},{key:"invokeSeriesClickAsync",value:function(t){return this.invokeMethodAsync(this.options.jsinterop.onObserverSeriesClick,t)}},{key:"showTooltip",value:function(t){t.crosshair?this.showCrosshairTooltip(t):this.showSeriesTooltip(t)}},{key:"hideTooltip",value:function(t){t.crosshair?this.hideCrosshairTooltip(t):this.hideSeriesTooltip(t)}},{key:"showCrosshairTooltip",value:function(t){var e=this.getCrosshairTooltipPopup(t);if(e){e.options.elementAlign={horizontal:"center",vertical:"center"},this.setTooltipPosition(t.anchor,e);var n=this.getCrosshairTooltipTemplateContext(t);this.invokeShowCrosshairTooltipAsync(n)}}},{key:"hideCrosshairTooltip",value:function(t){var e=this.getCrosshairTooltipPopup(t);e&&e.close()}},{key:"showSeriesTooltip",value:function(t){var e=this.getSeriesTooltipPopup();this.setTooltipPosition(t.anchor,e);var n=this.getSeriesTooltipTemplateContext(t);this.invokeShowSeriesTooltipAsync(n)}},{key:"hideSeriesTooltip",value:function(){var t=this.getSeriesTooltipPopup();t&&t.close()}},{key:"getTooltipAnchorRect",value:function(t){var e=this.getTooltipAnchorOffset(t);return{x:0,y:0,width:0,height:0,top:e.top,left:e.left,right:e.right,bottom:e.bottom}}},{key:"getTooltipAnchorOffset",value:function(t){return t?t.point:{top:0,left:0}}},{key:"getCrosshairTooltipPopup",value:function(t){var e=this.getCrosshairAxisKey(t),n=this.getCrosshairTooltip(e);if(n)return(0,l.getComponentInstance)(n.popupId)}},{key:"getSeriesTooltipPopup",value:function(){return(0,l.getComponentInstance)(this.options.seriesTooltipPopupId)}},{key:"setTooltipPosition",value:function(t,e){if(e&&t){var n=this.getTooltipAnchorRect(t);e.options.anchorAlign=t.align,e.options.anchorRect=n,e.positionElement()}}},{key:"getCrosshairTooltipTemplateContext",value:function(t){var e=((t.options||{}).tooltip||{}).format||t.format,n=t.point,r={formattedValue:e&&n&&n.formatValue?n.formatValue(e):String(t.value),axisKey:this.getCrosshairAxisKey(t)},o=this.extendWithTooltipStyling(r,t);return o}},{key:"getCrosshairAxisKey",value:function(t){var e=t.axisName,n=t.axisIndex;return""+e+n}},{key:"getCrosshairTooltip",value:function(t){var e=this.options.crosshairTooltips;return e?e[t]:{}}},{key:"getSeriesTooltipTemplateContext",value:function(t){if(t.shared)return this.getSeriesTooltipSharedTemplateContext(t);var e=this.createSeriesTooltipTemplatePoint(t.point,t.format),n=s({},e),r=this.extendWithTooltipStyling(n,t);return r}},{key:"getSeriesTooltipSharedTemplateContext",value:function(t){var e=t.points.filter(function(t){return(0,l.isDefined)(t.series.name)}).length>0,n=t.series.length>1,r=1;e&&r++,n&&r++;var o=this.createTooltipTemplatePoints(t),i={category:t.category,categoryText:t.categoryText,points:o,showSeriesColorMarker:n,showSeriesName:e,headerColumnColSpan:r},s=this.extendWithTooltipStyling(i,t);return s}},{key:"createTooltipTemplatePoints",value:function(t){var e=this,n=t.points?t.points.map(function(n){return e.createSeriesTooltipTemplatePoint(n,t.format)}):[];return n}},{key:"createSeriesTooltipTemplatePoint",value:function(t,e){var n=this.convertToSeriesPoint(t),r=((t.options||{}).tooltip||{}).format||e,o=s({},n,{formattedValue:r&&t.formatValue?t.formatValue(r):String(t.value)});return o}},{key:"hideElements",value:function(t){var e=t.relatedTarget,n=e&&Boolean(e.closest(".k-chart-tooltip")),r=(0,l.ownsElement)(this.element,e);e&&(n||r)||this.chartInstance.hideElements()}},{key:"createSeriesClickEventArgs",value:function(t){var e=this.convertToSeriesPoint(t.point);return e}},{key:"convertToSeriesPoint",value:function(t){var e=void 0,n=(0,l.isObject)(t.dataItem)?Object.getPrototypeOf(t.dataItem):null;(0,l.isObject)(t.dataItem)&&n&&n!==Object.prototype&&(e=(0,l.extend)({},n,t.dataItem));var r={dataItem:e,category:t.category,categoryIndex:t.categoryIx,seriesIndex:t.series.index,seriesColor:t.series.color,seriesName:t.series.name||"",percentage:t.percentage,pointIndex:t.pointIx||t.index};return r}},{key:"extendWithTooltipStyling",value:function(t,e){return(0,l.extend)(t,{tooltipStyle:(0,l.stringifyToStyle)(e.style),tooltipClass:e.className||""})}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ChartInstanceObserver=void 0;var s=n(43);e.ChartInstanceObserver=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.handlerMap={showTooltip:"onObserverShowTooltip",hideTooltip:"onObserverHideTooltip",seriesClick:"onObserverSeriesClick"},i}return i(e,t),e}(s.InstanceObserver)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.StockChart=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(43),c=n(60),u=n(6),p={autoBindElements:!0,liveDrag:!1,partialRedraw:!0,tooltip:{visible:!1},seriesDefaults:{tooltip:{visible:!1}}};e.StockChart=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,[{key:"getChartConstructor",value:function(){return l.StockChart}},{key:"extendOptions",value:function(t){this.applyNavigatorDefaults(t),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"extendOptions",this).call(this,t)}},{key:"setOptions",value:function(t){this.applyNavigatorDefaults(t);var n=this.getThemeOptions();this.chartInstance.applyOptions(t,n),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setOptions",this).call(this,t)}},{key:"applyNavigatorDefaults",value:function(t){(0,u.deepExtend)(t.navigator,p)}}]),e}(c.Chart)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.DomEventsBuilder=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(64);var i=n(65);e.DomEventsBuilder=function(){function t(){r(this,t)}return o(t,null,[{key:"create",value:function(t,e){var n=window.Hammer,r=new n(t,{recognizers:[[n.Tap],[n.Pan],[n.Pinch],[n.Press,{time:0}]]});return new i.DomEvents(r,e)}}]),t}()},function(t,e,n){var r;/*! Hammer.JS - v2.0.7 - 2016-04-22
	 * http://hammerjs.github.io/
	 *
	 * Copyright (c) 2016 Jorik Tangelder;
	 * Licensed under the MIT license */
!function(o,i,s,a){"use strict";function l(t,e,n){return setTimeout(f(t,n),e)}function c(t,e,n){return!!Array.isArray(t)&&(u(t,n[e],n),!0)}function u(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==a)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function p(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),t.apply(this,arguments)}}function h(t,e,n){var r,o=e.prototype;r=t.prototype=Object.create(o),r.constructor=t,r._super=o,n&&vt(r,n)}function f(t,e){return function(){return t.apply(e,arguments)}}function d(t,e){return typeof t==mt?t.apply(e?e[0]||a:a,e):t}function v(t,e){return t===a?e:t}function y(t,e,n){u(w(e),function(e){t.addEventListener(e,n,!1)})}function g(t,e,n){u(w(e),function(e){t.removeEventListener(e,n,!1)})}function m(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function b(t,e){return t.indexOf(e)>-1}function w(t){return t.trim().split(/\s+/g)}function _(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function x(t){return Array.prototype.slice.call(t,0)}function k(t,e,n){for(var r=[],o=[],i=0;i<t.length;){var s=e?t[i][e]:t[i];_(o,s)<0&&r.push(t[i]),o[i]=s,i++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function S(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),i=0;i<yt.length;){if(n=yt[i],r=n?n+o:e,r in t)return r;i++}return a}function C(){return St++}function O(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}function E(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){d(t.options.enable,[t])&&n.handler(e)},this.init()}function T(t){var e,n=t.options.inputClass;return new(e=n?n:Et?H:Tt?K:Ot?G:V)(t,M)}function M(t,e,n){var r=n.pointers.length,o=n.changedPointers.length,i=e&Rt&&r-o===0,s=e&(Lt|zt)&&r-o===0;n.isFirst=!!i,n.isFinal=!!s,i&&(t.session={}),n.eventType=e,P(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function P(t,e){var n=t.session,r=e.pointers,o=r.length;n.firstInput||(n.firstInput=j(e)),o>1&&!n.firstMultiple?n.firstMultiple=j(e):1===o&&(n.firstMultiple=!1);var i=n.firstInput,s=n.firstMultiple,a=s?s.center:i.center,l=e.center=R(r);e.timeStamp=_t(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=F(a,l),e.distance=z(a,l),A(n,e),e.offsetDirection=L(e.deltaX,e.deltaY);var c=I(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=wt(c.x)>wt(c.y)?c.x:c.y,e.scale=s?N(s.pointers,r):1,e.rotation=s?B(s.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,D(n,e);var u=t.element;m(e.srcEvent.target,u)&&(u=e.srcEvent.target),e.target=u}function A(t,e){var n=e.center,r=t.offsetDelta||{},o=t.prevDelta||{},i=t.prevInput||{};e.eventType!==Rt&&i.eventType!==Lt||(o=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-r.x),e.deltaY=o.y+(n.y-r.y)}function D(t,e){var n,r,o,i,s=t.lastInterval||e,l=e.timeStamp-s.timeStamp;if(e.eventType!=zt&&(l>jt||s.velocity===a)){var c=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,p=I(l,c,u);r=p.x,o=p.y,n=wt(p.x)>wt(p.y)?p.x:p.y,i=L(c,u),t.lastInterval=e}else n=s.velocity,r=s.velocityX,o=s.velocityY,i=s.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=i}function j(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:bt(t.pointers[n].clientX),clientY:bt(t.pointers[n].clientY)},n++;return{timeStamp:_t(),pointers:e,center:R(e),deltaX:t.deltaX,deltaY:t.deltaY}}function R(t){var e=t.length;if(1===e)return{x:bt(t[0].clientX),y:bt(t[0].clientY)};for(var n=0,r=0,o=0;o<e;)n+=t[o].clientX,r+=t[o].clientY,o++;return{x:bt(n/e),y:bt(r/e)}}function I(t,e,n){return{x:e/t||0,y:n/t||0}}function L(t,e){return t===e?Ft:wt(t)>=wt(e)?t<0?Bt:Nt:e<0?Vt:Ht}function z(t,e,n){n||(n=qt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(r*r+o*o)}function F(t,e,n){n||(n=qt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,r)/Math.PI}function B(t,e){return F(e[1],e[0],Gt)+F(t[1],t[0],Gt)}function N(t,e){return z(e[0],e[1],Gt)/z(t[0],t[1],Gt)}function V(){this.evEl=Yt,this.evWin=Xt,this.pressed=!1,E.apply(this,arguments)}function H(){this.evEl=Qt,this.evWin=te,E.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function W(){this.evTarget=ne,this.evWin=re,this.started=!1,E.apply(this,arguments)}function U(t,e){var n=x(t.touches),r=x(t.changedTouches);return e&(Lt|zt)&&(n=k(n.concat(r),"identifier",!0)),[n,r]}function K(){this.evTarget=ie,this.targetIds={},E.apply(this,arguments)}function q(t,e){var n=x(t.touches),r=this.targetIds;if(e&(Rt|It)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,s=x(t.changedTouches),a=[],l=this.target;if(i=n.filter(function(t){return m(t.target,l)}),e===Rt)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<s.length;)r[s[o].identifier]&&a.push(s[o]),e&(Lt|zt)&&delete r[s[o].identifier],o++;return a.length?[k(i.concat(a),"identifier",!0),a]:void 0}function G(){E.apply(this,arguments);var t=f(this.handler,this);this.touch=new K(this.manager,t),this.mouse=new V(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function $(t,e){t&Rt?(this.primaryTouch=e.changedPointers[0].identifier,Y.call(this,e)):t&(Lt|zt)&&Y.call(this,e)}function Y(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches,o=function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)};setTimeout(o,se)}}function X(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(e-o.x),s=Math.abs(n-o.y);if(i<=ae&&s<=ae)return!0}return!1}function Z(t,e){this.manager=t,this.set(e)}function J(t){if(b(t,fe))return fe;var e=b(t,de),n=b(t,ve);return e&&n?fe:e||n?e?de:ve:b(t,he)?he:pe}function Q(){if(!ce)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||o.CSS.supports("touch-action",n)}),t}function tt(t){this.options=vt({},this.defaults,t||{}),this.id=C(),this.manager=null,this.options.enable=v(this.options.enable,!0),this.state=ge,this.simultaneous={},this.requireFail=[]}function et(t){return t&xe?"cancel":t&we?"end":t&be?"move":t&me?"start":""}function nt(t){return t==Ht?"down":t==Vt?"up":t==Bt?"left":t==Nt?"right":""}function rt(t,e){var n=e.manager;return n?n.get(t):t}function ot(){tt.apply(this,arguments)}function it(){ot.apply(this,arguments),this.pX=null,this.pY=null}function st(){ot.apply(this,arguments)}function at(){tt.apply(this,arguments),this._timer=null,this._input=null}function lt(){ot.apply(this,arguments)}function ct(){ot.apply(this,arguments)}function ut(){tt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function pt(t,e){return e=e||{},e.recognizers=v(e.recognizers,pt.defaults.preset),new ht(t,e)}function ht(t,e){this.options=vt({},pt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=T(this),this.touchAction=new Z(this,this.options.touchAction),ft(this,!0),u(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ft(t,e){var n=t.element;if(n.style){var r;u(t.options.cssProps,function(o,i){r=S(n.style,i),e?(t.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=t.oldCssProps[r]||""}),e||(t.oldCssProps={})}}function dt(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var vt,yt=["","webkit","Moz","MS","ms","o"],gt=i.createElement("div"),mt="function",bt=Math.round,wt=Math.abs,_t=Date.now;vt="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==a&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var xt=p(function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===a)&&(t[r[o]]=e[r[o]]),o++;return t},"extend","Use `assign`."),kt=p(function(t,e){return xt(t,e,!0)},"merge","Use `assign`."),St=1,Ct=/mobile|tablet|ip(ad|hone|od)|android/i,Ot="ontouchstart"in o,Et=S(o,"PointerEvent")!==a,Tt=Ot&&Ct.test(navigator.userAgent),Mt="touch",Pt="pen",At="mouse",Dt="kinect",jt=25,Rt=1,It=2,Lt=4,zt=8,Ft=1,Bt=2,Nt=4,Vt=8,Ht=16,Wt=Bt|Nt,Ut=Vt|Ht,Kt=Wt|Ut,qt=["x","y"],Gt=["clientX","clientY"];E.prototype={handler:function(){},init:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(O(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(O(this.element),this.evWin,this.domHandler)}};var $t={mousedown:Rt,mousemove:It,mouseup:Lt},Yt="mousedown",Xt="mousemove mouseup";h(V,E,{handler:function(t){var e=$t[t.type];e&Rt&&0===t.button&&(this.pressed=!0),e&It&&1!==t.which&&(e=Lt),this.pressed&&(e&Lt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:At,srcEvent:t}))}});var Zt={pointerdown:Rt,pointermove:It,pointerup:Lt,pointercancel:zt,pointerout:zt},Jt={2:Mt,3:Pt,4:At,5:Dt},Qt="pointerdown",te="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(Qt="MSPointerDown",te="MSPointerMove MSPointerUp MSPointerCancel"),h(H,E,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),o=Zt[r],i=Jt[t.pointerType]||t.pointerType,s=i==Mt,a=_(e,t.pointerId,"pointerId");o&Rt&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):o&(Lt|zt)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),n&&e.splice(a,1))}});var ee={touchstart:Rt,touchmove:It,touchend:Lt,touchcancel:zt},ne="touchstart",re="touchstart touchmove touchend touchcancel";h(W,E,{handler:function(t){var e=ee[t.type];if(e===Rt&&(this.started=!0),this.started){var n=U.call(this,t,e);e&(Lt|zt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Mt,srcEvent:t})}}});var oe={touchstart:Rt,touchmove:It,touchend:Lt,touchcancel:zt},ie="touchstart touchmove touchend touchcancel";h(K,E,{handler:function(t){var e=oe[t.type],n=q.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Mt,srcEvent:t})}});var se=2500,ae=25;h(G,E,{handler:function(t,e,n){var r=n.pointerType==Mt,o=n.pointerType==At;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)$.call(this,e,n);else if(o&&X.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var le=S(gt.style,"touchAction"),ce=le!==a,ue="compute",pe="auto",he="manipulation",fe="none",de="pan-x",ve="pan-y",ye=Q();Z.prototype={set:function(t){t==ue&&(t=this.compute()),ce&&this.manager.element.style&&ye[t]&&(this.manager.element.style[le]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return u(this.manager.recognizers,function(e){d(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),J(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,o=b(r,fe)&&!ye[fe],i=b(r,ve)&&!ye[ve],s=b(r,de)&&!ye[de];if(o){var a=1===t.pointers.length,l=t.distance<2,c=t.deltaTime<250;if(a&&l&&c)return}return s&&i?void 0:o||i&&n&Wt||s&&n&Ut?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ge=1,me=2,be=4,we=8,_e=we,xe=16,ke=32;tt.prototype={defaults:{},set:function(t){return vt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(c(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=rt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return c(t,"dropRecognizeWith",this)?this:(t=rt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(c(t,"requireFailure",this))return this;var e=this.requireFail;return t=rt(t,this),_(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(c(t,"dropRequireFailure",this))return this;t=rt(t,this);var e=_(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,r=this.state;r<we&&e(n.options.event+et(r)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),r>=we&&e(n.options.event+et(r))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ke)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ke|ge)))return!1;t++}return!0},recognize:function(t){var e=vt({},t);return d(this.options.enable,[this,e])?(this.state&(_e|xe|ke)&&(this.state=ge),this.state=this.process(e),void(this.state&(me|be|we|xe)&&this.tryEmit(e))):(this.reset(),void(this.state=ke))},process:function(t){},getTouchAction:function(){},reset:function(){}},h(ot,tt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(me|be),o=this.attrTest(t);return r&&(n&zt||!o)?e|xe:r||o?n&Lt?e|we:e&me?e|be:me:ke}}),h(it,ot,{defaults:{event:"pan",threshold:10,pointers:1,direction:Kt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Wt&&e.push(ve),t&Ut&&e.push(de),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,o=t.direction,i=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&Wt?(o=0===i?Ft:i<0?Bt:Nt,n=i!=this.pX,r=Math.abs(t.deltaX)):(o=0===s?Ft:s<0?Vt:Ht,n=s!=this.pY,r=Math.abs(t.deltaY))),t.direction=o,n&&r>e.threshold&&o&e.direction},attrTest:function(t){return ot.prototype.attrTest.call(this,t)&&(this.state&me||!(this.state&me)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=nt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),h(st,ot,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[fe]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&me)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),h(at,tt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[pe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(Lt|zt)&&!o)this.reset();else if(t.eventType&Rt)this.reset(),this._timer=l(function(){this.state=_e,this.tryEmit()},e.time,this);else if(t.eventType&Lt)return _e;return ke},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===_e&&(t&&t.eventType&Lt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=_t(),this.manager.emit(this.options.event,this._input)))}}),h(lt,ot,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[fe]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&me)}}),h(ct,ot,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Wt|Ut,pointers:1},getTouchAction:function(){return it.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Wt|Ut)?e=t.overallVelocity:n&Wt?e=t.overallVelocityX:n&Ut&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&wt(e)>this.options.velocity&&t.eventType&Lt},emit:function(t){var e=nt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),h(ut,tt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[he]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Rt&&0===this.count)return this.failTimeout();if(r&&o&&n){if(t.eventType!=Lt)return this.failTimeout();var i=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||z(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&i?this.count+=1:this.count=1,this._input=t;var a=this.count%e.taps;if(0===a)return this.hasRequireFailures()?(this._timer=l(function(){this.state=_e,this.tryEmit()},e.interval,this),me):_e}return ke},failTimeout:function(){return this._timer=l(function(){this.state=ke},this.options.interval,this),ke},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==_e&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),pt.VERSION="2.0.7",pt.defaults={domEvents:!1,touchAction:ue,enable:!0,inputTarget:null,inputClass:null,preset:[[lt,{enable:!1}],[st,{enable:!1},["rotate"]],[ct,{direction:Wt}],[it,{direction:Wt},["swipe"]],[ut],[ut,{event:"doubletap",taps:2},["tap"]],[at]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Se=1,Ce=2;ht.prototype={set:function(t){return vt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Ce:Se},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&_e)&&(o=e.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],e.stopped===Ce||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(me|be|we)&&(o=e.curRecognizer=n),i++}},get:function(t){if(t instanceof tt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(c(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(c(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=_(e,t);n!==-1&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var n=this.handlers;return u(w(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==a){var n=this.handlers;return u(w(t),function(t){e?n[t]&&n[t].splice(_(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&dt(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ft(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},vt(pt,{INPUT_START:Rt,INPUT_MOVE:It,INPUT_END:Lt,INPUT_CANCEL:zt,STATE_POSSIBLE:ge,STATE_BEGAN:me,STATE_CHANGED:be,STATE_ENDED:we,STATE_RECOGNIZED:_e,STATE_CANCELLED:xe,STATE_FAILED:ke,DIRECTION_NONE:Ft,DIRECTION_LEFT:Bt,DIRECTION_RIGHT:Nt,DIRECTION_UP:Vt,DIRECTION_DOWN:Ht,DIRECTION_HORIZONTAL:Wt,DIRECTION_VERTICAL:Ut,DIRECTION_ALL:Kt,Manager:ht,Input:E,TouchAction:Z,TouchInput:K,MouseInput:V,PointerEventInput:H,TouchMouseInput:G,SingleTouchInput:W,Recognizer:tt,AttrRecognizer:ot,Tap:ut,Pan:it,Swipe:ct,Pinch:st,Rotate:lt,Press:at,on:y,off:g,each:u,merge:kt,extend:xt,assign:vt,inherit:h,bindFn:f,prefixed:S});var Oe="undefined"!=typeof o?o:"undefined"!=typeof self?self:{};Oe.Hammer=pt,r=function(){return pt}.call(e,n,e,t),!(r!==a&&(t.exports=r))}(window,document,"Hammer")},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<t.length;n++)if(e[t[n]])return!0;return!1}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){var e={x:{location:t.pageX},y:{location:t.pageY}};return e},s=function(t,e){var n=t.pointers,r=n[0],o=r.pageX,s=r.pageY,a=0;if(n.length>1){var l=n[0],c=n[1];a=Math.sqrt(Math.pow(l.pageX-c.pageX,2)+Math.pow(l.pageY-c.pageY,2))}return{distance:a,event:t.srcEvent,preventDefault:function(){t.preventDefault()},target:t.target,touches:n.map(i),type:t.type,x:{delta:e?o-e.x.location:0,initialDelta:t.deltaX,location:o,startLocation:o-t.deltaX},y:{delta:e?s-e.y.location:0,initialDelta:t.deltaY,location:s,startLocation:s-t.deltaY}}},a=[{end:"panend",move:"panmove",start:"panstart"},{gesturechange:"pinchmove",gestureend:"pinchend",gesturestart:"pinchstart"},{press:"press"},{tap:"tap"}];e.DomEvents=function(){function t(e,r){n(this,t),this.hammerInstance=e,this.eventHandlers={},this.tap=this.tap.bind(this),this.press=this.press.bind(this),this.panstart=this.panstart.bind(this),this.panmove=this.panmove.bind(this),this.panend=this.panend.bind(this),this.pinchstart=this.pinchstart.bind(this),this.pinchmove=this.pinchmove.bind(this),this.pinchend=this.pinchend.bind(this),r&&this.bind(r)}return o(t,[{key:"tap",value:function(t){this.trigger("tap",t)}},{key:"press",value:function(t){this.trigger("press",t)}},{key:"panstart",value:function(t){delete this.previous,this.previous=this.trigger("start",t)}},{key:"panmove",value:function(t){this.previous=this.trigger("move",t)}},{key:"panend",value:function(t){this.trigger("end",t),delete this.previous}},{key:"pinchstart",value:function(t){this.trigger("gesturestart",t)}},{key:"pinchmove",value:function(t){this.trigger("gesturechange",t)}},{key:"pinchend",value:function(t){this.trigger("gestureend",t)}},{key:"trigger",value:function(t,e){var n=s(e,this.previous);return this.eventHandlers[t]&&this.eventHandlers[t](n),n}},{key:"bind",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.unbind(),this.eventHandlers=t;for(var e=0;e<a.length;e++){var n=a[e],o=Object.keys(n);if(r(o,t))for(var i=0;i<o.length;i++){var s=n[o[i]];this.hammerInstance.on(s,this[s])}}}},{key:"unbind",value:function(){this.hammerInstance&&this.hammerInstance.off(),this.eventHandlers={}}},{key:"destroy",value:function(){this.hammerInstance&&(this.hammerInstance.destroy(),delete this.hammerInstance),delete this.eventHandlers}},{key:"toggleDrag",value:function(t){this.toggle("pan",t)}},{key:"toggleZoom",value:function(t){this.toggle("pinch",t)}},{key:"toggle",value:function(t,e){if(this.hammerInstance){var n=this.hammerInstance.get(t);n.set({enable:e})}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(67);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(69);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(71);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(73);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.ColorPalette,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initColorPalette=r;var o=n(68),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPalette=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=[l.Key.ARROWDOWN,l.Key.ARROWRIGHT,l.Key.ARROWLEFT,l.Key.ARROWUP,l.Key.ENTER];e.ColorPalette=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{keydown:"",blur:""}},i.onKeyDown=function(t){return i.invokeMethodAsync(i.options.jsinterop.keydown,t.name),t.name===l.Key.ENTER},i.invokeBlur=function(){i.invokeMethodAsync(i.options.jsinterop.blur)},i.extendOptions(n),i.initNavigationService(),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.navigationService.destroy(),this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener("blur",this.invokeBlur)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("blur",this.invokeBlur)}},{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(c,this.onKeyDown)}},{key:"focus",value:function(){var t=this;setTimeout(function(){t.element.focus()},100)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.ColorPicker,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initColorPicker=r;var o=n(70),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPicker=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4);e.ColorPicker=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{keydown:"",blur:""}},i.closePopup=function(){return i.element.focus(),i.invokeMethodAsync(i.options.jsinterop.close),!1},i.openPopup=function(){return i.invokeMethodAsync(i.options.jsinterop.open),!1},i.popupElement=(0,l.getElementByDataId)(n.popupId),i.extendOptions(n),i.initNavigationService(),i.initPopupNavigationService(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.navigationService.destroy(),this.popupNavigationService.destroy(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(l.KeyModifiers.ALT+" "+l.Key.ARROWDOWN,this.openPopup),this.navigationService.bind(l.KeyModifiers.ALT+" "+l.Key.ARROWUP,this.closePopup)}},{key:"initPopupNavigationService",value:function(){this.popupNavigationService=new l.NavigationService(this.popupElement),this.popupNavigationService.bind([l.Key.ESC,l.KeyModifiers.ALT+" "+l.Key.ARROWUP],this.closePopup)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.ColorGradient,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initColorGradient=r;var o=n(72),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorGradient=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(23),u=[l.Key.ARROWUP,l.Key.ARROWDOWN,l.Key.ARROWLEFT,l.Key.ARROWRIGHT],p=4;e.ColorGradient=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.onDrag=function(t){i.moveDragHandleFromEvent(t),i.throttleChangeValue()},i.onDragEnd=function(){i.changeValue(),i.dragHandle.focus()},i.onNavigate=function(t){var e=(0,l.parseStyleAttrToInt)("top",i.dragHandle),n=(0,l.parseStyleAttrToInt)("left",i.dragHandle);switch(t.name){case l.Key.ARROWDOWN:e+=p;break;case l.Key.ARROWUP:e-=p;break;case l.Key.ARROWRIGHT:n+=p;break;case l.Key.ARROWLEFT:n-=p}i.moveDragHandle(e,n),i.changeValue()},i.onClick=function(t){i.moveDragHandleFromEvent(t),i.dragHandle.focus(),i.changeValue()},i.gradient=i.element.querySelector(".k-hsv-rectangle"),i.dragHandle=i.element.querySelector(".k-draghandle"),i.setOptions(n),i.initDraggable(),i.bindEvents(),i.throttleChangeValue=(0,l.throttle)(i.changeValue,150).bind(i),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.gradient.addEventListener("click",this.onClick),this.initNavigationService()}},{key:"unbindEvents",value:function(){this.gradient.removeEventListener("click",this.onClick);
}},{key:"setOptions",value:function(t){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setOptions",this).call(this,t),this.hsva=this.options.hsva,this.initDragHandlePosition()}},{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.dragHandle),this.navigationService.bind(u,this.onNavigate)}},{key:"initDraggable",value:function(){this.draggable=new c.Draggable(this.element,{filter:".k-hsv-gradient",offsetDropClue:!1,events:{drag:this.onDrag,dragEnd:this.onDragEnd}})}},{key:"initDragHandlePosition",value:function(){var t=(1-this.hsva.v)*this.gradient.offsetHeight,e=this.hsva.s*this.gradient.offsetWidth;this.dragHandle.style.display="block",this.setDragHandlePosition(t,e)}},{key:"setDragHandlePosition",value:function(t,e){this.dragHandle&&(this.dragHandle.style.top=t+"px",this.dragHandle.style.left=e+"px")}},{key:"moveDragHandleFromEvent",value:function(t){var e=this.gradient.getBoundingClientRect();this.moveDragHandle(t.clientY-e.top,t.clientX-e.left)}},{key:"moveDragHandle",value:function(t,e){var n=(0,l.clamp)(t,0,this.gradient.offsetHeight),r=(0,l.clamp)(e,0,this.gradient.offsetWidth);this.setDragHandlePosition(n,r),this.hsva.s=r/this.gradient.offsetWidth,this.hsva.v=1-n/this.gradient.offsetHeight}},{key:"changeValue",value:function(){this.invokeMethodAsync(this.options.jsinterop.changeValue,this.hsva)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.FlatColorPicker,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initFlatColorPicker=r;var o=n(74),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.FlatColorPicker=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4);e.FlatColorPicker=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{change:""}},i.onKeyDown=function(t,e){i.isEnterKeyActionable(e.target)||i.invokeMethodAsync(i.options.jsinterop.change)},i.onFocusOut=function(t){(0,l.ownsElement)(i.element,t.relatedTarget)||i.invokeChange()},i.invokeChange=function(){i.invokeMethodAsync(i.options.jsinterop.change)},i.extendOptions(n),i.bindEvents(),i.initNavigationService(),i}return i(e,t),s(e,[{key:"bindEvents",value:function(){this.element.addEventListener("focusout",this.onFocusOut)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("focusout",this.onFocusOut)}},{key:"destroy",value:function(){this.navigationService.destroy(),this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(""+l.Key.ENTER,this.onKeyDown)}},{key:"isEnterKeyActionable",value:function(t){return!(!t.matches(".k-button")&&t.querySelector(".k-state-selected.k-state-focus"))}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(76);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.ColumnMenu,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initColumnMenu=r;var o=n(77),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnMenu=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c="keydown";e.ColumnMenu=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,itemListDataId:"",jsinterop:{itemListKeyDown:""}},i.onKeyDown=function(t){var e=[l.Key.ARROWRIGHT,l.Key.ARROWLEFT,l.Key.ARROWUP,l.Key.ARROWDOWN].includes(t.key);if(t.key===l.Key.TAB){var n=t.target.closest(".k-columnmenu-item-wrapper"),r=n?n.querySelector(".k-columnmenu-item"):null,o=r?r.getAttribute("aria-expanded"):"",i="true"===o;(!i||i&&t.target===r&&t.shiftKey)&&t.preventDefault()}else e&&(0,l.hasClass)("k-columnmenu-item",t.target)&&t.preventDefault()},i.onItemListKeyDown=function(t){var e=(0,l.isFocusable)(t.target),n=t.target.closest(".k-filter-menu");if(!e||!n||t.key!==l.Key.ARROWUP&&t.key!==l.Key.ARROWDOWN||t.shiftKey){var r=(0,l.converToKeyboardEventArgs)(t);i.invokeMethodAsync(i.options.jsinterop.itemListKeyDown,r)}},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){var t=this.getItemListElement();t&&t.addEventListener(c,this.onItemListKeyDown),this.element.addEventListener(c,this.onKeyDown)}},{key:"unbindEvents",value:function(){var t=this.getItemListElement();t&&t.removeEventListener(c,this.onItemListKeyDown),this.element.removeEventListener(c,this.onKeyDown)}},{key:"getItemListElement",value:function(){return(0,l.getElementByDataId)(this.options.itemListDataId)}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(79);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){var n=(0,i.getComponentInstance)(t);if(!n){var r=new o.ContextMenu(null,e);(0,i.setComponentInstance)(t,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.initContextMenu=r;var o=n(80),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenu=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4);e.ContextMenu=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={selector:"",popupId:""},i.onContextMenu=function(t){t.preventDefault(),i.activeElement=t.target,i.openPopup(t.pageX,t.pageY)},i.onPopupKeyDown=function(t){t.key===l.Key.ESC&&(i.closePopup(),i.activeElement.focus())},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.anchors=null}},{key:"bindEvents",value:function(){var t=this;this.anchors=document.querySelectorAll(this.options.selector),this.anchors.forEach(function(e){e.addEventListener("contextmenu",t.onContextMenu)});var e=(0,l.getElementByDataId)(this.options.popupId);e.addEventListener("keydown",this.onPopupKeyDown)}},{key:"unbindEvents",value:function(){var t=this;this.anchors.forEach(function(e){e.removeEventListener("contextmenu",t.onContextMenu)})}},{key:"openContextMenu",value:function(t){var e=t.clientX+window.scrollX,n=t.clientY+window.scrollY;this.openPopup(e,n)}},{key:"focusFirstMenuItem",value:function(){var t=document.querySelector(".k-context-menu .k-item");t&&t.focus()}},{key:"openPopup",value:function(t,e){var n=(0,l.getComponentInstance)(this.options.popupId);n.openAsync(null,t,e),this.activeElement&&n.setZIndex(this.activeElement)}},{key:"closePopup",value:function(){var t=(0,l.getComponentInstance)(this.options.popupId);t.closeAsync()}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(82);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(124);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(127);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(130);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=n(132);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var l=n(134);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,s.initComponent)(i.DateInput,t,e)}function o(t,e){var n=(0,s.getComponentInstance)(t);n&&n.updateValue(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initDateInput=r,e.updateDateInputValue=o;var i=n(83),s=n(4)},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DateInput=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},c=n(84),u=n(39),p=r(u),h=n(123),f=n(4),d=1,v="dragStart",y="mouseup",g="click",m="input",b="keydown",w="focus",_="blur";e.DateInput=function(t){function e(t,n){o(this,e);var r=new Date(n.selectedDate);isNaN(r.getTime())&&(r=null);var s=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));s.options={dotNetInstance:null,format:"yyyy-MM-dd",selectedDate:null,allowNulls:!1,hasPlaceHolder:!1,cycleTime:!0,locale:null,steps:{second:"",minute:"",hour:"",day:"",month:"",year:""},formatPlaceholder:null,jsinterop:{focus:"",blur:"",updateDate:"",enter:""}},s.onElementDragStart=function(t){t.preventDefault()},s.onElementMouseUp=function(t){t.preventDefault()},s.onElementClick=function(){s.setSelection(s.selectionByIndex(s.selection.start))},s.onElementInput=function(){if(s.element&&s.dateObject){var t=s.dateObject.getTextAndFormat(),e=t.text,n=t.format;s.currentFormat=n;var r=(0,h.approximateStringMatching)(e,s.currentFormat,s.element.value,s.selection.start),o=1===r.length&&"_"===r[0][1],i=!1;if(!o)for(var a=0;a<r.length;a++)i=s.dateObject.parsePart(r[a][0],r[a][1],s.resetSegmentValue).switchToNext;s.resetSegmentValue=!1,s.forceUpdate(),r.length&&"_"!==r[0][0]&&s.setSelection(s.selectionBySymbol(r[0][0])),(i||o)&&s.switchDateSegment(1),s.updateComponentValue()}},s.onElementFocus=function(){s.isActive=!0,s.togglePlaceholder(),s.invokeMethodAsync(s.options.jsinterop.focus)},s.onElementBlur=function(){s.resetSegmentValue=!0,s.isActive=!1,s.togglePlaceholder(),s.invokeMethodAsync(s.options.jsinterop.blur)},s.onElementKeyDown=function(t){var e=s.options.jsinterop.enter,n=s.currentFormat[s.selection.start],r=s.getStepFromSymbol(n),o=!1;if(!t.altKey&&t.keyCode!==f.KeyCode.TAB){switch(t.keyCode){case f.KeyCode.ARROWLEFT:s.switchDateSegment(-1),o=!0;break;case f.KeyCode.ARROWUP:s.modifyDateSegmentValue(r,n,event),o=!0;break;case f.KeyCode.ARROWRIGHT:s.switchDateSegment(1),o=!0;break;case f.KeyCode.ARROWDOWN:s.modifyDateSegmentValue(-r,n,event),o=!0;break;case f.KeyCode.ENTER:s.invokeMethodAsync(e);break;case f.KeyCode.DELETE:case f.KeyCode.BACKSPACE:return s.options.allowNulls&&(s.dateObject.setValue(null),s.forceUpdate(),s.updateComponentValue()),void(o=!0);default:return}o&&t.preventDefault()}},s.extendOptions(n);var a=s.element.getAttribute("data-id");s.extendCulture(a);var l=s.options.formatPlaceholder?s.options.formatPlaceholder:"formatPattern";return s.dateObject=new c.DateObject(p,l,n.format,a,n.cycleTime),s.dateObject.setValue(r),s.setTextAndFormat(),s.bindEvents(),s.resetSegmentValue=!0,s}return s(e,t),a(e,[{key:"extendCulture",value:function(t){var e=this.options;e.locale.name=t;var n=(0,f.deepExtend)({},p.localeInfo("en"),e.locale);p.setData(n)}},{key:"destroy",value:function(){this.unbindEvents(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.dateObject=null}},{key:"bindEvents",value:function(){this.element.addEventListener(v,this.onElementDragStart),this.element.addEventListener(g,this.onElementClick),this.element.addEventListener(y,this.onElementMouseUp),this.element.addEventListener(m,this.onElementInput),this.element.addEventListener(b,this.onElementKeyDown),this.element.addEventListener(w,this.onElementFocus),this.element.addEventListener(_,this.onElementBlur)}},{key:"unbindEvents",value:function(){this.element.removeEventListener(v,this.onElementDragStart),this.element.removeEventListener(y,this.onElementMouseUp),this.element.removeEventListener(g,this.onElementClick),this.element.removeEventListener(m,this.onElementInput),this.element.removeEventListener(b,this.onElementKeyDown),this.element.removeEventListener(w,this.onElementFocus),this.element.removeEventListener(_,this.onElementBlur)}},{key:"focus",value:function(){this.element.focus()}},{key:"setSelection",value:function(t){this._lastSelectedSymbol=this.currentFormat[t.start],this.element&&document.activeElement===this.element&&this.element.setSelectionRange(t.start,t.end)}},{key:"selectionBySymbol",value:function(t){for(var e=-1,n=0,r=0;r<this.currentFormat.length;r++)this.currentFormat[r]===t&&(n=r+1,e===-1&&(e=r));return e<0&&(e=0),{start:e,end:n}}},{key:"selectionByIndex",value:function(t){for(var e={start:t,end:t},n=t,r=t-1;n<this.currentFormat.length||r>=0;n++,r--){if(n<this.currentFormat.length&&"_"!==this.currentFormat[n]){e=this.selectionBySymbol(this.currentFormat[n]);break}if(r>=0&&"_"!==this.currentFormat[r]){e=this.selectionBySymbol(this.currentFormat[r]);break}}return e}},{key:"switchDateSegment",value:function(t){var e=this.selection,n=e.start,r=e.end;if(n<r&&this.currentFormat[n]!==this.currentFormat[r-1])return this.setSelection(this.selectionByIndex(t>0?n:r-1)),void(this.resetSegmentValue=!0);for(var o=this.currentFormat[n],i=n+t;i>0&&i<this.currentFormat.length&&(this.currentFormat[i]===o||"_"===this.currentFormat[i]);)i+=t;if("_"!==this.currentFormat[i]){for(var s=i;s>=0&&s<this.currentFormat.length&&this.currentFormat[s]===this.currentFormat[i];)s+=t;i>s&&(s+1!==n||i+1!==r)?(this.setSelection({start:s+1,end:i+1}),this.resetSegmentValue=!0):i<s&&(i!==n||s!==r)&&(this.setSelection({start:i,end:s}),this.resetSegmentValue=!0)}}},{key:"modifyDateSegmentValue",value:function(t,e){if(this.dateObject){var n=d*t;this.dateObject.modifyPart(e,n),this.forceUpdate(),this.setSelection(this.selectionBySymbol(e)),this.updateComponentValue()}}},{key:"updateValue",value:function(t){var e=new Date(t);isNaN(e.getTime())&&(e=null),this.dateObject.setValue(e),this.forceUpdate(),this.togglePlaceholder()}},{key:"updateComponentValue",value:function(){var t=this.options.jsinterop.updateDate;this.invokeMethodAsync(t,this.dateObject.getFormattedDate("yyyy-MM-dd HH:mm:ss"))}},{key:"forceUpdate",value:function(){this.setTextAndFormat(),this.setElementValue(this.currentText)}},{key:"setTextAndFormat",value:function(){var t=this.dateObject.getTextAndFormat(),e=t.text,n=t.format;this.currentFormat=n,this.currentText=e}},{key:"togglePlaceholder",value:function(){this.options.hasPlaceHolder&&!this.dateObject.hasValue()&&this.setElementValue(this.isActive?this.currentText:"")}},{key:"setElementValue",value:function(t){this.element.value=t}},{key:"getStepFromSymbol",value:function(t){switch(t){case"s":return Number(this.options.steps.second);case"m":return Number(this.options.steps.minute);case"h":case"H":return Number(this.options.steps.hour);case"M":return Number(this.options.steps.month);case"d":case"E":return Number(this.options.steps.day);case"y":return Number(this.options.steps.year);default:return 1}}},{key:"selection",get:function(){var t={start:0,end:0};return null!==this.element&&void 0!==this.element.selectionStart&&(t={start:this.element.selectionStart,end:this.element.selectionEnd}),t}}]),e}(f.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.DateObject=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(85),s=n(122),a=n(123);e.DateObject=function(){function t(e,n,o,s,a){r(this,t),this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.leadingZero=null,this.monthNames=[],this.typedMonthPart="",this.knownParts="adHhmMsEy",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y"},this._value=(0,i.getDate)(new Date),this.intl=e,this.formatPlaceholder=n||"wide",this.format=o,this.localeId=s||"en",this.cycleTime=a,this.monthNames=this.allFormatedMonths(this.localeId)}return o(t,[{key:"value",get:function(){return this._value}}]),o(t,[{key:"setValue",value:function(t){t?(0,i.isEqual)(t,this._value)||(this._value=(0,i.cloneDate)(t),this.modifyExisting(!0)):(this._value=(0,i.getDate)(new Date),this.modifyExisting(!1))}},{key:"hasValue",value:function(){var t=this,e=function(e,n){return e||"literal"!==n.type&&"dayperiod"!==n.type&&t.getExisting(n.pattern[0])};return this.intl.splitDateFormat(this.format,this.localeId).reduce(e,!1)}},{key:"getDateObject",value:function(){for(var t=0;t<this.knownParts.length;t++)if(!this.getExisting(this.knownParts[t]))return null;return(0,i.cloneDate)(this.value)}},{key:"getFormattedDate",value:function(t){return this.intl.formatDate(this.getDateObject(),t,this.localeId)}},{key:"getTextAndFormat",value:function(){var t=this.intl.formatDate(this.value,this.format,this.localeId),e=this.dateFormatString(this.value,this.format);return this.merge(t,e)}},{key:"modifyExisting",value:function(t){for(var e=this.dateFormatString(this.value,this.format).symbols,n=0;n<e.length;n++)this.setExisting(e[n],t)}},{key:"getExisting",value:function(t){switch(t){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"m":return this.minutes;case"s":return this.seconds;default:return!0}}},{key:"setExisting",value:function(t,e){switch(t){case"y":this.year=e,e===!1&&this._value.setFullYear((new Date).getFullYear());break;case"M":this.month=e,e===!1&&this._value.setMonth(0);break;case"d":this.date=e;break;case"h":case"H":this.hours=e;break;case"m":this.minutes=e;break;case"s":this.seconds=e;break;default:return}}},{key:"modifyPart",value:function(t,e){var n=(0,i.cloneDate)(this.value),r=!1;switch(t){case"y":n.setFullYear(n.getFullYear()+e);break;case"M":n=(0,i.addMonths)(this.value,e);break;case"d":case"E":n.setDate(n.getDate()+e);break;case"h":case"H":n.setHours(n.getHours()+e),r=!0;break;case"m":n.setMinutes(n.getMinutes()+e),r=!0;break;case"s":n.setSeconds(n.getSeconds()+e),r=!0;break;case"a":n.setHours(n.getHours()+12*e),r=!0}r&&!this.cycleTime&&n.getDate()!==this._value.getDate()&&(n.setDate(this._value.getDate()),n.setMonth(this._value.getMonth()),n.setFullYear(this._value.getFullYear())),this.setExisting(t,!0),this._value=n}},{key:"parsePart",value:function(t,e,n){if(!e)return this.resetLeadingZero(),this.setExisting(t,!1),{value:null,switchToNext:!1};for(var r=this.intl.formatDate(this.value,this.format,this.localeId),o=this.dateFormatString(this.value,this.format),s=o.symbols,a=!1,l="",c="",u="",p=0;p<r.length;p++)s[p]===t?(c+=this.getExisting(t)?r[p]:"0",a=!0):a?u+=r[p]:l+=r[p];var h=c.length-3,f=null,d=this.matchMonth(e),v=this.matchDayPeriod(e,t),y="0"===e,g=this.leadingZero||{};if(y){var m=parseInt(n?e:c+e,10);0!==m||this.isAbbrMonth(o.partMap,t)||this.incrementLeadingZero(t)}else this.resetLeadingZero();for(var b=Math.max(0,h);b<=c.length;b++){var w=n?e:c.substring(b)+e,_=parseInt(w,10);if(f=this.intl.parseDate(l+w+u,this.format,this.localeId),!f&&!isNaN(_)&&!isNaN(parseInt(e,10))){if("M"===t&&!d){var x=_-1;x>-1&&x<12&&(f=(0,i.cloneDate)(this.value),f.setMonth(x),f.getMonth()!==x&&(f=(0,i.lastDayOfMonth)((0,i.addMonths)(f,-1))))}"y"===t&&(f=(0,i.createDate)(parseInt(w,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),this.date&&f.getDate()!==this.value.getDate()&&(f=(0,i.lastDayOfMonth)((0,i.addMonths)(f,-1))))}if(f){var k=this.partPattern(o.partMap,t).pattern,S=this.intl.parseDate(""+l+this.peek(w,k)+u,this.format,this.localeId);this._value=f,this.setExisting(t,!0);var C=null===S||g[t]&&k.length<=w.length;return{value:this.value,switchToNext:C}}}return d&&(f=this.intl.parseDate(l+d+u,this.format,this.localeId))?(this._value=f,this.setExisting(t,!0),{value:this.value,switchToNext:!1}):v&&(f=this.intl.parseDate(l+v+u,this.format))?(this._value=f,{value:this.value,switchToNext:!0}):(y&&this.setExisting(t,!1),{value:null,switchToNext:!1})}},{key:"symbolMap",value:function(t){return this.intl.splitDateFormat(this.format,this.localeId).reduce(a.dateSymbolMap,{})[t]}},{key:"resetLeadingZero",value:function(){var t=null!==this.leadingZero;return this.leadingZero=null,t}},{key:"incrementLeadingZero",value:function(t){var e=this.leadingZero||{};e[t]=(e[t]||0)+1,this.leadingZero=e}},{key:"isAbbrMonth",value:function(t,e){var n=this.partPattern(t,e);return"month"===n.type&&n.names}},{key:"partPattern",value:function(t,e){return t.filter(function(t){return t.pattern.indexOf(e)!==-1})[0]}},{key:"peek",value:function(t,e){var n=t.replace(/^0*/,"")+"0";return(0,a.padZero)(e.length-n.length)+n}},{key:"matchMonth",value:function(t){if(this.typedMonthPart+=t.toLowerCase(),0===this.monthNames.length)return"";for(;this.typedMonthPart.length>0;){for(var e=0;e<this.monthNames.length;e++)if(0===this.monthNames[e].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[e];var n=parseInt(this.typedMonthPart,10);if(n>=1&&n<=12&&n.toString()===this.typedMonthPart)return this.monthNames[n-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}},{key:"matchDayPeriod",value:function(t,e){var n=t.toLowerCase();if("a"===e&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(n))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(n))return this.dayPeriods.pm}return""}},{key:"allFormatedMonths",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",e=this.intl.splitDateFormat(this.format,this.localeId),n=0;n<e.length;n++)if("month"===e[n].type&&e[n].names)return this.intl.dateFormatNames(t,e[n].names);return[]}},{key:"dateFormatString",value:function(t,e){for(var n=this.intl.splitDateFormat(e,this.localeId),r=[],o=[],i=0;i<n.length;i++)for(var a=this.intl.formatDate(t,{pattern:n[i].pattern},this.localeId).length;a>0;)r.push(this.symbols[n[i].pattern[0]]||"_"),o.push(n[i]),a--;var l=new s.Mask;return l.symbols=r.join(""),l.partMap=o,l}},{key:"merge",value:function(t,e){for(var n="",r="",o=e.symbols,i=o.length-1;i>=0;i--)if(this.knownParts.indexOf(o[i])===-1||this.getExisting(o[i]))n=t[i]+n,r=o[i]+r;else{for(var s=o[i];i>=0&&s===o[i];)i--;for(i++,n=this.leadingZero&&this.leadingZero[s]?"0"+n:this.dateFieldName(e.partMap[i])+n;r.length<n.length;)r=o[i]+r}return{text:n,format:r}}},{key:"dateFieldName",value:function(t){var e=this.formatPlaceholder||"wide";return e[t.type]?e[t.type]:"formatPattern"===e?t.pattern:this.intl.dateFieldName(Object.assign(t,{nameType:e}))}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(86);r.__exportStar(n(87),e),r.__exportStar(n(90),e),r.__exportStar(n(93),e),r.__exportStar(n(94),e),r.__exportStar(n(96),e),r.__exportStar(n(97),e),r.__exportStar(n(88),e),r.__exportStar(n(89),e),r.__exportStar(n(92),e),r.__exportStar(n(98),e),r.__exportStar(n(100),e),r.__exportStar(n(99),e),r.__exportStar(n(101),e),r.__exportStar(n(102),e),r.__exportStar(n(103),e),r.__exportStar(n(106),e),r.__exportStar(n(108),e),r.__exportStar(n(109),e),r.__exportStar(n(110),e),r.__exportStar(n(111),e),r.__exportStar(n(112),e),r.__exportStar(n(113),e),r.__exportStar(n(104),e),r.__exportStar(n(107),e),r.__exportStar(n(115),e),r.__exportStar(n(116),e),r.__exportStar(n(91),e),r.__exportStar(n(117),e),r.__exportStar(n(118),e),r.__exportStar(n(119),e),r.__exportStar(n(120),e),r.__exportStar(n(121),e)},function(t,e,n){var r,o;(function(n){/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0
	
	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.
	
	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */
var i,s,a,l,c,u,p,h,f,d,v,y,g,m,b,w,_,x,k,S;!function(i){function s(t,e){return t!==a&&("function"==typeof Object.create?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(n,r){return t[n]=e?e(n,r):r}}var a="object"==typeof n?n:"object"==typeof self?self:"object"==typeof this?this:{};r=[e],o=function(t){i(s(a,s(t)))}.apply(e,r),!(void 0!==o&&(t.exports=o))}(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};i=function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},l=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},c=function(t,e){return function(n,r){e(n,r,t)}},u=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function a(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}l((r=r.apply(t,e||[])).next())})},h=function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,i=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(s=l.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){l.label=n[1];break}if(6===n[0]&&l.label<s[1]){l.label=s[1],s=n;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(n);break}s[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},f=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},d=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},v=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},y=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t},g=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},m=function(t){return this instanceof m?(this.v=t,this):new m(t)},b=function(t,e,n){function r(t){u[t]&&(c[t]=function(e){return new Promise(function(n,r){p.push([t,e,n,r])>1||o(t,e)})})}function o(t,e){try{i(u[t](e))}catch(t){l(p[0][3],t)}}function i(t){t.value instanceof m?Promise.resolve(t.value.v).then(s,a):l(p[0][2],t)}function s(t){o("next",t)}function a(t){o("throw",t)}function l(t,e){t(e),p.shift(),p.length&&o(p[0][0],p[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,u=n.apply(t,e||[]),p=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c},w=function(t){function e(e,o){n[e]=t[e]?function(n){return(r=!r)?{value:m(t[e](n)),done:"return"===e}:o?o(n):n}:o}var n,r;return n={},e("next"),e("throw",function(t){throw t}),e("return"),n[Symbol.iterator]=function(){return this},n},_=function(t){function e(e){r[e]=t[e]&&function(r){return new Promise(function(o,i){r=t[e](r),n(o,i,r.done,r.value)})}}function n(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=t[Symbol.asyncIterator];return o?o.call(t):(t="function"==typeof d?d(t):t[Symbol.iterator](),r={},e("next"),e("throw"),e("return"),r[Symbol.asyncIterator]=function(){return this},r)},x=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},k=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},S=function(t){return t&&t.__esModule?t:{default:t}},t("__extends",i),t("__assign",s),t("__rest",a),t("__decorate",l),t("__param",c),t("__metadata",u),t("__awaiter",p),t("__generator",h),t("__exportStar",f),t("__values",d),t("__read",v),t("__spread",y),t("__spreadArrays",g),t("__await",m),t("__asyncGenerator",b),t("__asyncDelegator",w),t("__asyncValues",_),t("__makeTemplateObject",x),t("__importStar",k),t("__importDefault",S)})}).call(e,function(){return this}())},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(88),o=n(89);e.addDays=function(t,e){var n=o.cloneDate(t);return n.setDate(n.getDate()+e),r.adjustDST(n,t.getHours())}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(89);e.adjustDST=function(t,e){var n=r.cloneDate(t);return 0===e&&23===n.getHours()&&n.setHours(n.getHours()+2),n}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cloneDate=function(t){return t?new Date(t.getTime()):null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(88),o=n(89),i=n(91),s=12,a=function(t,n){return t.getMonth()!==n?i.lastDayOfMonth(e.addMonths(t,-1)):t};e.addMonths=function(t,e){var n=o.cloneDate(t),i=(n.getMonth()+e)%s,l=(s+i)%s;return n.setMonth(n.getMonth()+e),a(r.adjustDST(n,t.getHours()),l)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(87),o=n(92);e.lastDayOfMonth=function(t){var e=o.createDate(t.getFullYear(),t.getMonth()+1,1,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());return r.addDays(e,-1)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(88);e.createDate=function(t,e,n,o,i,s,a){void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===a&&(a=0);var l=new Date(t,e,n,o,i,s,a);return t>-1&&t<100&&l.setFullYear(l.getFullYear()-1900),r.adjustDST(l,o)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(87);e.addWeeks=function(t,e){return r.addDays(t,7*e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(88),o=n(95);e.addYears=function(t,e){return r.adjustDST(o.setYear(t,t.getFullYear()+e),t.getHours())}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(90),o=n(92),i=n(91);e.setYear=function(t,e){var n=t.getMonth(),s=o.createDate(e,n,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());return s.getMonth()===n?s:i.lastDayOfMonth(r.addMonths(s,-1))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(94);e.addDecades=function(t,e){return r.addYears(t,10*e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(94);e.addCenturies=function(t,e){return r.addYears(t,100*e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(99),o=n(88),i=n(89);e.dayOfWeek=function(t,e,n){void 0===n&&(n=r.Direction.Forward);var s=i.cloneDate(t),a=(e-s.getDay()+7*n)%7;return s.setDate(s.getDate()+a),o.adjustDST(s,t.getHours())}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"}(n=e.Direction||(e.Direction={}))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday"}(n=e.Day||(e.Day={}))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.durationInMonths=function(t,e){return 12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth())}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.durationInYears=function(t,e){return e.getFullYear()-t.getFullYear()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(104);e.durationInDecades=function(t,e){return(r.firstYearOfDecade(e).getFullYear()-r.firstYearOfDecade(t).getFullYear())/10}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(105);e.firstYearOfDecade=function(t){return r.normalizeYear(t,function(t){return t-t%10})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(95);e.normalizeYear=function(t,e){return r.setYear(t,e(t.getFullYear()))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(107);e.durationInCenturies=function(t,e){return(r.firstDecadeOfCentury(e).getFullYear()-r.firstDecadeOfCentury(t).getFullYear())/100}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(105);e.firstDecadeOfCentury=function(t){return r.normalizeYear(t,function(t){return t-t%100})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(99),o=n(98);e.nextDayOfWeek=function(t,e){return o.dayOfWeek(t,e,r.Direction.Forward)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(99),o=n(98);e.prevDayOfWeek=function(t,e){return o.dayOfWeek(t,e,r.Direction.Backward)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(92);e.getDate=function(t){return r.createDate(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(89),o=n(100);e.firstDayInWeek=function(t,e){void 0===e&&(e=o.Day.Sunday);for(var n=r.cloneDate(t);n.getDay()!==e;)n.setDate(n.getDate()-1);return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(92);e.firstDayOfMonth=function(t){return r.createDate(t.getFullYear(),t.getMonth(),1,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(114);e.firstMonthOfYear=function(t){return r.setMonth(t,0)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(90),o=n(92),i=n(91);e.setMonth=function(t,e){var n=t.getDate(),s=o.createDate(t.getFullYear(),e,n,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());return s.getDate()===n?s:i.lastDayOfMonth(r.addMonths(s,-1))}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEqual=function(t,e){return!t&&!e||t&&e&&t.getTime()===e.getTime()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(110),o=n(115);e.isEqualDate=function(t,e){return!t&&!e||t&&e&&o.isEqual(r.getDate(t),r.getDate(e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(114);e.lastMonthOfYear=function(t){return r.setMonth(t,11)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(105);e.lastYearOfDecade=function(t){return r.normalizeYear(t,function(t){return t-t%10+9})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(105);e.lastDecadeOfCentury=function(t){return r.normalizeYear(t,function(t){return t-t%100+90})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MS_PER_DAY=864e5},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(100),o=n(87),i=n(92),s=n(109),a=n(120),l=function(t,e){return e!==r.Day.Monday?o.addDays(s.prevDayOfWeek(t,e),4):o.addDays(t,4-(t.getDay()||7))},c=function(t,e){var n=i.createDate(t.getFullYear(),0,1,-6),r=l(t,e),o=r.getTime()-n.getTime(),s=Math.floor(o/a.MS_PER_DAY);return 1+Math.floor(s/7)};e.weekInYear=function(t,e){void 0===e&&(e=r.Day.Monday);var n=o.addDays(t,-7),i=o.addDays(t,7),s=c(t,e);return 0===s?c(n,e)+1:53===s&&c(i,e)>1?1:s}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.Mask=function t(){n(this,t),this.symbols=""}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.defaultFormat="d",e.defaultFormatPlaceholder="wide",e.padZero=function(t){return new Array(Math.max(t,0)).fill("0").join("")},e.approximateStringMatching=function(t,e,n,r){var o=t[r+t.length-n.length],i=t.substring(0,r+t.length-n.length),s=n.substring(0,r),a=[];if(i===s&&r>0)return a.push([e[r-1],s[r-1]]),a;if(0===i.indexOf(s)&&(0===s.length||e[s.length-1]!==e[s.length])){var l="";1===s.length&&a.push([e[0],s[0]]);for(var c=s.length;c<i.length;c++)e[c]!==l&&"_"!==e[c]&&(l=e[c],a.push([l,""]));return a}if(0===s.indexOf(i)||"_"===e[r-1]){for(var u=e[0],p=Math.max(0,i.length-1);p<e.length;p++)if("_"!==e[p]){u=e[p];break}return[[u,s[r-1]]]}return" "===s[s.length-1]||s[s.length-1]===o?[[e[r-1],"_"]]:[[e[r-1],s[r-1]]]},e.dateSymbolMap=function(t,e){return t[e.pattern[0]]=e.type,t},e.isInRange=function(t,e,n){return null===t||!(e&&e>t||n&&n<t)},e.invalidClasses=["k-invalid"],e.wrapperClasses=["k-dateinput"]},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.DatePicker,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initDatePicker=r;var o=n(125),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DatePicker=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(126);e.DatePicker=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,popupElement:null,jsinterop:{close:"",mousedown:""}},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}(l.PickerBase)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.PickerBase=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4);e.PickerBase=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.onToggleElementClick=function(t){t.preventDefault()},i.onToggleElementMouseDown=function(){var t=i.options.jsinterop.mousedown;i.invokeMethodAsync(t)},i.onPopupKeyDown=function(t){(t.keyCode===l.KeyCode.ESCAPE||t.keyCode===l.KeyCode.ARROWUP&&t.altKey)&&(i.invokeClose(),i.focus(),t.stopPropagation())},i.closePopup=function(){return i.invokeClose(),!1},i.openPopup=function(){return i.invokeOpen(),!1},i.onInputFocus=function(){i.invokeClose()},i.onInputFocusOut=function(t){(0,l.ownsElement)(i.popupElement,t.relatedTarget)||(0,l.ownsElement)(i.element,t.relatedTarget)||i.invokeMethodAsync(i.options.jsinterop.blur)},i.input=i.element.getElementsByClassName("k-input-inner")[0],i.toggleElement=i.element.querySelector(n.toggleElementSelector),i.popupElement=(0,l.getElementByDataId)(n.popupId),i.initTabKeyTrap(),i.initNavigationService(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.tabKeyTrap.destroy(),this.navigationService.destroy(),this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.input=this.popupElement=this.selectArrow=null,this.tabKeyTrap=null}},{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(l.KeyModifiers.ALT+" "+l.Key.ARROWDOWN,this.openPopup),this.navigationService.bind(l.KeyModifiers.ALT+" "+l.Key.ARROWUP,this.closePopup)}},{key:"initTabKeyTrap",value:function(){this.tabKeyTrap=new l.TabKeyTrap(this.popupElement)}},{key:"bindEvents",value:function(){this.input.addEventListener("focus",this.onInputFocus),this.input.addEventListener("focusout",this.onInputFocusOut),this.toggleElement.addEventListener("click",this.onToggleElementClick),this.toggleElement.addEventListener("mousedown",this.onToggleElementMouseDown),this.popupElement.addEventListener("keydown",this.onPopupKeyDown,!0),this.tabKeyTrap.enableKeyTrap()}},{key:"unbindEvents",value:function(){this.input.removeEventListener("focus",this.onInputFocus),this.input.removeEventListener("focusout",this.onInputFocusOut),this.toggleElement.removeEventListener("click",this.onToggleElementClick),this.toggleElement.removeEventListener("mousedown",this.onToggleElementMouseDown),this.popupElement.removeEventListener("keydown",this.onPopupKeyDown,!0)}},{key:"focus",value:function(){var t=this;setTimeout(function(){t.input.focus()},100)}},{key:"invokeClose",value:function(){this.invokeMethodAsync(this.options.jsinterop.close)}},{key:"invokeOpen",value:function(){this.invokeMethodAsync(this.options.jsinterop.open)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,c.initComponent)(l.TimePicker,t,e)}function o(t){var e=(0,c.getComponentInstance)(t);e&&e.focusInput()}function i(t,e){(0,c.initComponent)(a.TimePickerCarousel,t,e)}function s(t,e){var n=(0,c.getComponentInstance)(t);n&&n.setSelectedIndex(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initTimePicker=r,e.focusTimePickerInput=o,e.initTimeCarousel=i,e.setCarouselSelectedIndex=s;var a=n(128),l=n(129),c=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TimePickerCarousel=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=(e.TimePickerCarousel=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return c.call(i),i.extendOptions(n),i.timeList=i.element.parentElement,i.listElement=i.element.querySelector("ul.k-reset"),i.timeout,i.setDimensions(),i.bindEvents(),i.options.focusOnInit&&i.focusTimeList(),i}return i(e,t),s(e,[{key:"setDimensions",value:function(){this.itemHeight=this.listElement.querySelector("li.k-item").offsetHeight,this.elementHeight=this.element.offsetHeight,this.scrollTop=this.element.scrollTop;var t=this.listElement.offsetHeight+(this.elementHeight-this.itemHeight);this.element.querySelector(".k-scrollable-placeholder").setAttribute("style","height: "+t+"px");var e=Math.floor((this.elementHeight-this.itemHeight)/2);this.listElement.setAttribute("style","transform: translateY("+e+"px);")}},{key:"bindEvents",value:function(){this.element.addEventListener("scroll",this.onScroll),this.element.addEventListener("mousedown",this.onMouseDown),this.listElement.addEventListener("click",this.onClick),this.timeList.addEventListener("keydown",this.onKeyDown),this.timeList.addEventListener("mouseenter",this.onMouseEnter),this.timeList.addEventListener("focusout",this.onFocusOut)}},{key:"destroy",value:function(){clearTimeout(this.timeout),this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.selectedIndex=this.listElement=null}},{key:"unbindEvents",value:function(){this.element.addEventListener("mousedown",this.onMouseDown),this.element.removeEventListener("scroll",this.onScroll),this.listElement.removeEventListener("click",this.onClick),this.timeList.removeEventListener("keydown",this.onKeyDown),this.timeList.removeEventListener("mouseenter",this.onMouseEnter),this.timeList.removeEventListener("focusout",this.onFocusOut)}},{key:"onKeyArrowUp",value:function(){var t=this.selectedIndex;this.setSelectedIndex(t-1),this.selectedIndex!==t&&this.invokeSelect(this.selectedIndex)}},{key:"onKeyArrowDown",value:function(){var t=this.selectedIndex;this.setSelectedIndex(t+1),this.selectedIndex!==t&&this.invokeSelect(this.selectedIndex)}},{key:"focusTimeList",value:function(){var t=this;setTimeout(function(){t.timeList.focus({preventScroll:!0})},100)}},{key:"snapToItem",value:function(t){var e=this.element.scrollTop,n=e%this.itemHeight;this.scrollTop>e?e-=n:e+=this.itemHeight-n,this.selectItem(e,t)}},{key:"selectItem",value:function(t,e){if(!Number.isNaN(t)&&(this.scrollTo(t),e)){var n=Math.floor(t/this.itemHeight);this.invokeSelect(n)}}},{key:"invokeSelect",value:function(t){var e=this.options.jsinterop.click,n=Math.min(t,this.listElement.querySelectorAll(".k-item").length-1);this.invokeMethodAsync(e,n)}},{key:"invokeEnter",value:function(){var t=this.options.jsinterop.enter;this.invokeMethodAsync(t)}},{key:"invokeFocusOut",value:function(t){t.relatedTarget&&this.invokeMethodAsync(this.options.jsinterop.focusout)}},{key:"scrollTo",value:function(t){this.element.scrollTop=t,this.scrollTop=this.element.scrollTop}},{key:"setSelectedIndex",value:function(t){this.setDimensions();var e=this.listElement.querySelectorAll(".k-item"),n=e[t];n&&(this.selectedIndex=t,this.scrollTo(n.offsetTop))}}]),e}(l.Component),function(){var t=this;this.options={dotNetInstance:null,focusOnInit:!1,jsinterop:{click:""}},this.onKeyDown=function(e){e.keyCode===l.KeyCode.ARROWUP?(t.onKeyArrowUp(),e.preventDefault()):e.keyCode===l.KeyCode.ARROWDOWN?(t.onKeyArrowDown(),e.preventDefault()):e.keyCode===l.KeyCode.ENTER&&t.invokeEnter()},this.onScroll=function(){var e=t;e.element.scrollTop!==e.scrollTop&&(clearTimeout(t.timeout),t.timeout=setTimeout(function(){e.snapToItem(!0)},33))},this.onMouseDown=function(t){t.preventDefault()},this.onClick=function(e){var n=e.target.closest("li"),r=t.listElement.querySelectorAll(".k-item"),o=Array.from(r),i=o.indexOf(n);n&&(t.scrollTo(n.offsetTop),t.invokeSelect(i))},this.onMouseEnter=function(){t.timeList.focus()},this.onFocusOut=function(e){t.invokeFocusOut(e)}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TimePicker=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(126);e.TimePicker=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,popupElement:null,jsinterop:{close:"",mousedown:""}},i.onNavigate=function(t){var e=document.activeElement;if(e.classList.contains("k-time-list")){var n=e.getAttribute("data-index");t.keyCode===l.KeyCode.ARROWLEFT?(i.focusTimeList(parseInt(n)-1),t.preventDefault()):t.keyCode===l.KeyCode.ARROWRIGHT&&(i.focusTimeList(parseInt(n)+1),t.preventDefault())}},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"bindEvents",value:function(){this.popupElement.addEventListener("keydown",this.onNavigate),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bindEvents",this).call(this)}},{key:"unbindEvents",value:function(){this.popupElement.addEventListener("keydown",this.onNavigate),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"unbindEvents",this).call(this)}},{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"focusTimeList",value:function(t){var e='.k-time-list[data-index="'+t+'"]',n=this.popupElement.querySelector(e);n&&n.focus()}},{key:"focusFirstCarousel",value:function(){var t=this;this.popupElement&&setTimeout(function(){var e=t.popupElement.querySelector(".k-time-list");e instanceof HTMLElement&&e.focus()},100)}}]),e}(c.PickerBase)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.Calendar,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initCalendar=r;var o=n(131),i=n(4)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Calendar=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},c=n(4),u="keydown",p="mousedown",h="click",f="focus",d="focusout",v=[c.KeyCode.ARROWUP,c.KeyCode.ARROWDOWN,c.KeyCode.ARROWLEFT,c.KeyCode.ARROWRIGHT,c.KeyCode.HOME,c.KeyCode.END];e.Calendar=function(t){function e(t,n){o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.onKeyDown=function(t){var e=v.concat(c.KeyCode.ENTER);e.includes(t.keyCode)?t.preventDefault():(t.shiftKey||t.ctrlKey)&&t.stopPropagation()},r.onMouseDown=function(t){t.preventDefault()},r.onClick=function(t){var e=t.currentTarget;e&&e.focus()},r.onFocus=function(){r.invokeMethodAsync(r.options.jsinterop.focus)},r.onFocusout=function(t){t.relatedTarget&&r.invokeMethodAsync(r.options.jsinterop.focusout)},r.extendOptions(n),r.tables=r.element.querySelectorAll("table"),r.bindEvents(),r}return s(e,t),a(e,[{key:"destroy",value:function(){this.unbindEvents(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.tables=this.navigationService=null}},{key:"bindEvents",value:function(){var t=this;[].concat(r(this.tables)).forEach(function(e){e.addEventListener(p,t.onMouseDown),e.addEventListener(h,t.onClick),e.addEventListener(u,t.onKeyDown,!0),e.addEventListener(f,t.onFocus),e.addEventListener(d,t.onFocusout)})}},{key:"unbindEvents",value:function(){var t=this;[].concat(r(this.tables)).forEach(function(e){e.removeEventListener(p,t.onMouseDown),e.removeEventListener(h,t.onClick),e.removeEventListener(u,t.onKeyDown,!0),e.removeEventListener(f,t.onFocus),e.removeEventListener(d,t.onFocusout)})}},{key:"focusTable",value:function(){var t=this.tables[0];t&&setTimeout(function(){t.focus()},100)}}]),e}(c.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.DateTimePicker,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initDateTimePicker=r;var o=n(133),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DateTimePicker=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(126);e.DateTimePicker=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{close:"",mousedown:""}},i.onNavigate=function(t){var e=document.activeElement;if(e.classList.contains("k-time-list")){var n=e.getAttribute("data-index");t.keyCode===l.KeyCode.ARROWLEFT?(i.focusTimeList(parseInt(n)-1),t.preventDefault()):t.keyCode===l.KeyCode.ARROWRIGHT&&(i.focusTimeList(parseInt(n)+1),t.preventDefault())}},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"bindEvents",value:function(){this.popupElement.addEventListener("keydown",this.onNavigate),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bindEvents",this).call(this)}},{key:"unbindEvents",value:function(){this.popupElement.addEventListener("keydown",this.onNavigate),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"unbindEvents",this).call(this)}},{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"focusTimeList",value:function(t){var e='.k-time-list[data-index="'+t+'"]',n=this.popupElement.querySelector(e);n&&n.focus()}},{key:"focusTable",value:function(){var t=this;setTimeout(function(){var e=t.popupElement&&t.popupElement.querySelector("table");e instanceof HTMLElement&&e.focus()},100)}},{key:"focusFirstCarousel",value:function(){var t=this;this.popupElement&&setTimeout(function(){var e=t.popupElement.querySelector(".k-time-list");e instanceof HTMLElement&&e.focus()},100)}}]),e}(c.PickerBase)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.DateRangePicker,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initDateRangePicker=r;var o=n(135),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DateRangePicker=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c="blur",u="click";e.DateRangePicker=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.options={dotNetInstance:null,popupElement:null,jsinterop:{change:"",close:"",open:""}},i.onStartEnterKeyDown=function(){i.triggerStartChanged(),i.focusEndInput()},i.onEndEnterKeyDown=function(){i.triggerEndChanged(),i.invokeClose()},i.onPopupShiftTab=function(t,e){var n=(0,l.findFocusable)(i.popupElement,!1);return e.target!==n||(i.focusEndInput(),!1)},i.onPopupTab=function(t,e){var n=i.popupElement.querySelector("table:last-child");return e.target===n&&i.triggerClose(),!0},i.triggerStartOpen=function(){return i.isClosed()&&i.invokeOpen(i.options.startTarget),!0},i.triggerEndOpen=function(){return i.isClosed()&&i.invokeOpen(i.options.endTarget),!0},i.triggerStartChanged=function(){i.invokeChange(i.options.startTarget)},i.triggerEndChanged=function(){i.invokeChange(i.options.endTarget)},i.triggerClose=function(){return i.invokeClose(),!0},i.focusPopupCalendar=function(){return!!i.isClosed()||(i.popupElement.querySelector("table").focus(),!1)},i.closePopup=function(){return!!i.isClosed()||(i.triggerClose(),i.focusStartInput(),!1)};var s=i.element.querySelectorAll(".k-input");return i.startInput=s[0],i.endInput=s[1],i.popupElement=(0,l.getElementByDataId)(n.popupId),i.extendOptions(n),i.initNavigationServices(),i.bindEvents(),i}return i(e,t),s(e,[{key:"bindEvents",value:function(){this.startInput.addEventListener(c,this.triggerStartChanged),this.endInput.addEventListener(c,this.triggerEndChanged),this.startInput.addEventListener(u,this.triggerStartOpen,!0),this.endInput.addEventListener(u,this.triggerEndOpen,!0)}},{key:"unbindEvents",value:function(){this.startInput.removeEventListener(c,this.triggerStartChanged),this.endInput.removeEventListener(c,this.triggerEndChanged),this.startInput.removeEventListener(u,this.triggerStartOpen,!0),this.endInput.removeEventListener(u,this.triggerEndOpen,!0)}},{key:"destroy",value:function(){this.unbindEvents(),this.navigationServices.forEach(function(t){return t.destroy()}),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"initNavigationServices",value:function(){this.navigationServices=[this.initStartInputNavigationService(),this.initEndInputNavigationService(),this.initPopupNavigationService()]}},{key:"initStartInputNavigationService",value:function(){var t=new l.NavigationService(this.startInput);return t.bind([l.Key.ESC,l.KeyModifiers.ALT+" "+l.Key.ARROWUP],this.closePopup),t.bind(l.KeyModifiers.ALT+" "+l.Key.ARROWDOWN,this.triggerStartOpen),t.bind(l.Key.ENTER,this.onStartEnterKeyDown),t.bind(l.KeyModifiers.SHIFT+" "+l.Key.TAB,this.triggerClose),t}},{key:"initEndInputNavigationService",value:function(){var t=new l.NavigationService(this.endInput);return t.bind([l.Key.ESC,l.KeyModifiers.ALT+" "+l.Key.ARROWUP],this.closePopup),t.bind(l.KeyModifiers.ALT+" "+l.Key.ARROWDOWN,this.triggerEndOpen),t.bind(l.Key.TAB,this.focusPopupCalendar),t.bind(l.Key.ENTER,this.onEndEnterKeyDown),t}},{key:"initPopupNavigationService",value:function(){var t=new l.NavigationService(this.popupElement);return t.bind(l.KeyModifiers.SHIFT+" "+l.Key.TAB,this.onPopupShiftTab),t.bind(""+l.Key.TAB,this.onPopupTab),t.bind([l.Key.ESC,l.KeyModifiers.ALT+" "+l.Key.ARROWUP],this.closePopup),t}},{key:"focusStartInput",value:function(){this.startInput.focus()}},{key:"focusEndInput",value:function(){this.endInput.focus()}},{key:"invokeChange",value:function(t){this.invokeMethodAsync(this.options.jsinterop.change,t)}},{key:"invokeClose",value:function(){this.invokeMethodAsync(this.options.jsinterop.close)}},{key:"invokeOpen",value:function(t){this.invokeMethodAsync(this.options.jsinterop.open,t)}},{key:"isClosed",value:function(){return!this.popupElement||!this.popupElement.children[0].children.length}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(137);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.Dialog,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initDialog=r;var o=n(138),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Dialog=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4);e.Dialog=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{keydown:""}},i.onKeyDown=function(t){i.element!==t.target&&t.keyCode!==l.KeyCode.ESCAPE||i.invokeKeyDown(t)},i.extendOptions(n),i.bindEvents(),i.elementDataId=i.element.dataset.id,i.enableTabKeyTrap(),i.focusElement(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),this.disableTabKeyTrap(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener("keydown",this.onKeyDown)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("keydown",this.onKeyDown)}},{key:"onShow",value:function(t){this.unbindEvents(),this.options=t[0],this.element=(0,l.getElementByDataId)(this.elementDataId),this.bindEvents(),this.keyTrap.destroy(),this.enableTabKeyTrap(),this.focusElement()}},{key:"invokeKeyDown",value:function(t){this.invokeMethodAsync(this.options.jsinterop.keydown,t.key)}},{key:"enableTabKeyTrap",value:function(){this.keyTrap=new l.FormKeyTrap(this.element),this.keyTrap.enableKeyTrap()}},{key:"disableTabKeyTrap",value:function(){this.keyTrap&&this.keyTrap.disableTabKeyTrap()}},{key:"focusElement",value:function(){if(this.options.focusedElementSelector){var t=this.element.querySelector(this.options.focusedElementSelector);t instanceof HTMLElement&&(0,l.focusInNextFrameAsync)(t)}else(0,l.focusFirstFocusableChild)(this.elementDataId)}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(140);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(142);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(144);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(146);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,s.initComponent)(i.Groupable,(0,s.addComponentSuffix)(t,"Groupable"),e)}function o(t){(0,s.destroyComponent)((0,s.addComponentSuffix)(t,"Groupable"))}Object.defineProperty(e,"__esModule",{value:!0}),e.initGroupable=r,e.destroyGroupable=o;var i=n(141),s=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Groupable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(25),c=n(4),u=n(22),p=(0,c.toDataAttr)("field"),h=(0,c.toDataAttr)("text"),f={indicatorContainer:"k-indicator-container"};e.Groupable=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,parentSelector:".k-grid",dropTargetSelector:".k-grouping-header",dropTarget:{group:null,itemSelector:(0,u.toClassSelector)(f.indicatorContainer)},jsinterop:{addGroup:""}},i.onDropTargetDrop=function(t){var e=t.draggable.originalCurrentTarget,n=e.getAttribute(p),r=t.draggable.getElementUnderCursor(t),o=r.closest(i.dropTarget.options.itemSelector),s=e.getAttribute(h),a=(0,c.getElementIndex)(o);if(a<0){var l=(0,u.last)(i.dropTarget.element.querySelectorAll(i.dropTarget.options.itemSelector));a=(0,c.getElementIndex)(l)}n&&a>=0&&i.invokeAddGroup({field:n,title:s,index:a})},i.allowsDragFrom=function(t){var e=!i.containsGroup(t.originalCurrentTarget)&&t.originalCurrentTarget.hasAttribute(p);return e},i.allowsDropFrom=function(t){var e=!i.containsGroup(t.originalCurrentTarget);return e},i.extendOptions(n),i.createDropTarget(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyDropTarget(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"createDropTarget",value:function(){var t=this.element.closest(this.options.parentSelector).querySelector(this.options.dropTargetSelector);t&&(this.dropTarget=new l.DropTarget(t,(0,c.deepExtend)(this.options.dropTarget,{allowsDragFrom:this.allowsDragFrom,allowsDropFrom:this.allowsDropFrom,events:{drop:this.onDropTargetDrop}})))}},{key:"destroyDropTarget",value:function(){this.dropTarget&&this.dropTarget.destroy()}},{key:"containsGroup",value:function(t){var e=t.getAttribute(p),n=Array.from(this.element.querySelectorAll((0,u.toClassSelector)(f.indicatorContainer))).map(function(t){return t.getAttribute(p)}).includes(e);return n}},{key:"invokeAddGroup",value:function(t){this.invokeMethodAsync(this.options.jsinterop.addGroup,t)}}]),e}(c.Component)},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.initComponent)(i.ColumnDraggable,(0,s.addComponentSuffix)(t,"ColumnDraggable"),e)}function o(t){(0,s.destroyComponent)((0,s.addComponentSuffix)(t,"ColumnDraggable"))}Object.defineProperty(e,"__esModule",{value:!0}),e.initColumnDraggable=r,e.destroyColumnDraggable=o;var i=n(143),s=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnDraggable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(23),c=n(22),u=n(4),p=n(26),h=(0,u.toDataAttr)("field"),f=(0,u.toDataAttr)("text"),d={dragStatus:"k-drag-status",dropAllowed:"k-i-plus",dropForbidden:"k-i-cancel",dropClue:"k-grouping-dropclue"},v=function(t){if(t instanceof HTMLElement){var e=t.getAttribute(f)||t.getAttribute(h)||"";return(0,u.htmlEncode)(e)}return""},y=function(t){var e=(0,u.stringifyToStyle)({position:"absolute","z-index":2e4}),n=v(t),r=t.getAttribute(h)||"",o=t.getAttribute(f)||"",i=(0,u.convertToHtml)('<div class="k-header k-drag-clue" style="'+e+'" data-field="'+r+'" data-text="'+o+'">\n            <span class="k-icon k-drag-status k-i-cancel k-icon-with-modifier">\n                <span class="k-icon k-icon-modifier"></span>\n            </span>\n            '+n+"\n        </div>");return i},g=function(t){return t&&t.hasAttribute("data-field")};e.ColumnDraggable=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={parentSelector:".k-grid",draggableSourceSelector:".k-grid-header",draggable:{group:null,filter:"th.k-header:not(.k-group-cell):not(.k-hierarchy-cell):not(.k-drag-cell)",ignore:".k-grid-filter, .k-checkbox, .k-column-resizer"}},i.onDraggableDrag=function(t){i.canDragToAnyDropTarget(t)||t.preventDefault()},i.onDraggableDrop=function(){i.destroyDropClue()},i.onDropTargetLeave=function(){i.showDisabledHint(),i.destroyDropClue()},i.onDropTargetOver=function(t){i.canDrop(t)?i.showDropAllowedIndicators(t):i.showDropForbiddenIndicators()},i.ignoreElementUnderCursor=function(t){var e=t&&t.closest((0,c.toClassSelector)(d.dropClue));return Boolean(e)},i.extendOptions(n),i.createDraggable(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyDropClue(),this.destroyDraggable(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"extendOptions",value:function(t){this.options=(0,u.deepExtend)(this.options,t)}},{key:"createDraggable",value:function(){var t=this.element.closest(this.options.parentSelector).querySelector(this.options.draggableSourceSelector);t&&(this.draggable=new l.Draggable(t,(0,u.deepExtend)(this.options.draggable,{hint:y,ignoreElementUnderCursor:this.ignoreElementUnderCursor,events:{drag:this.onDraggableDrag,drop:this.onDraggableDrop,dropTargetLeave:this.onDropTargetLeave,dropTargetOver:this.onDropTargetOver}})))}},{key:"destroyDraggable",value:function(){this.draggable&&this.draggable.destroy()}},{key:"canDragToAnyDropTarget",value:function t(e){var n=this,t=!1;return this.draggable.forEachDropTarget(function(r){t=t||r.allowsDragFrom(n.draggable,e)}),t}},{key:"canDrop",value:function(t){return t.dropTarget&&t.dropTarget.allowsDropFrom(this.draggable,t)}},{key:"showEnabledHint",value:function(){var t=this.draggable.hint;if(t){var e=t.querySelector((0,c.toClassSelector)(d.dragStatus));(0,u.removeClass)(d.dropForbidden,e),(0,u.addClass)(d.dropAllowed,e)}}},{key:"showDisabledHint",value:function(){var t=this.draggable.hint;if(t){var e=t.querySelector((0,c.toClassSelector)(d.dragStatus));(0,u.addClass)(d.dropForbidden,e),(0,u.removeClass)(d.dropAllowed,e)}}},{key:"createDropClue",value:function(){this.dropClue||(this.dropClue=new p.DropClue,this.dropClueSize=this.dropClue.getSize())}},{key:"destroyDropClue",value:function(){this.dropClue&&(this.dropClue.destroy(),this.dropClue=null)}},{key:"addDropClue",value:function(t){if(t.dropTarget&&t.elementUnderCursor){var e=t.elementUnderCursor.closest(t.dropTarget.options.itemSelector)||t.elementUnderCursor,n=t.draggable.originalCurrentTarget,r=this.getDropTargetIndicators(t.dropTarget.element,t.dropTarget.options.itemSelector),o=r.length>1,i=(0,u.haveSameParent)(e,n),s=i?(0,u.isTargetAfterElement)(e,n):o&&!g(e),a=this.getDropClueOffsetElement({elementUnderCursor:e,dropTargetItemSelector:t.dropTarget.options.itemSelector,dropTargeElement:t.dropTarget.element,isDragInSiblings:i});if(a){this.createDropClue();var l=this.dropClue.getOffsetState(a,s);if(!s){var c=this.dropClueSize.width;l.left-=c/2}this.showDropClue(l)}}}},{key:"getDropClueOffsetElement",value:function(t){var e=t.elementUnderCursor,n=t.dropTargeElement,r=t.dropTargetItemSelector,o=t.isDragInSiblings,i=e.closest(r),s=this.getDropTargetIndicators(n,r),a=s.filter(g),l=(0,c.last)(s),u=(0,c.last)(a),p=u||l;return i&&(o||g(i))&&(p=i),p}},{key:"showDropClue",value:function(t){var e=t.top,n=t.left,r=t.height;this.dropClue||this.createDropClue(),this.dropClue.setState({top:e,left:n,height:r}),this.dropClue.show()}},{key:"hideDropClue",value:function(){this.dropClue&&this.dropClue.hide()}},{key:"showDropAllowedIndicators",value:function(t){this.showEnabledHint(),this.addDropClue(t)}},{key:"showDropForbiddenIndicators",value:function(){this.showDisabledHint(),this.destroyDropClue()}},{key:"getDropTargetIndicators",value:function(t,e){return Array.from(t.querySelectorAll(e))}}]),e}(u.Component)},function(t,e,n){"use strict";function r(t,e){(0,s.initComponent)(i.ColumnReorderable,(0,s.addComponentSuffix)(t,"ColumnReorderable"),e)}function o(t){(0,s.destroyComponent)((0,s.addComponentSuffix)(t,"ColumnReorderable"))}Object.defineProperty(e,"__esModule",{value:!0}),e.initColumnReorderable=r,e.destroyColumnReorderable=o;var i=n(145),s=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnReorderable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(25),c=n(22),u=n(4),p=(0,u.toDataAttr)("reorderable"),h=(0,u.toDataAttr)("parent-col-initialization-index");e.ColumnReorderable=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={parentSelector:".k-grid",reorderableSourceSelector:".k-grid-header",dropTarget:{itemSelector:"th.k-header:not(.k-group-cell):not(.k-hierarchy-cell):not(.k-drag-cell)"}},i.allowsDragFrom=function(t){var e=Boolean(t.originalCurrentTarget.getAttribute(p)),n=i.dropTarget.element.querySelectorAll(i.options.dropTarget.itemSelector).length>1;return e&&n},i.allowsDropFrom=function(t,e){var n=e.elementUnderCursor.closest(i.options.dropTarget.itemSelector),r=t.originalCurrentTarget;if(!n||!r)return!1;var o=Boolean(r.getAttribute(p)),s=(0,u.parseAttrToInt)(h,n),a=(0,u.parseAttrToInt)(h,r);return o&&n!==r&&s===a},i.onDropTargetDrop=function(t){var e=t.draggable.originalCurrentTarget,n=t.elementUnderCursor.closest(i.options.dropTarget.itemSelector),r=(0,c.getColumnInitializationIndex)(e),o=(0,c.getColumnInitializationIndex)(n),s=r>=0?r:(0,u.getElementIndex)(e,i.options.dropTarget.itemSelector),a=o>=0?o:(0,u.getElementIndex)(n,i.options.dropTarget.itemSelector);document.activeElement&&document.activeElement.blur(),i.reorderColumn(s,a)},i.extendOptions(n),i.createDropTarget(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyDropTarget(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"createDropTarget",value:function(){var t=this.element.closest(this.options.parentSelector).querySelector(this.options.reorderableSourceSelector);this.dropTarget=new l.DropTarget(t,(0,u.deepExtend)(this.options.dropTarget,{allowsDragFrom:this.allowsDragFrom,allowsDropFrom:this.allowsDropFrom,events:{drop:this.onDropTargetDrop}}))}},{key:"destroyDropTarget",value:function(){this.dropTarget&&this.dropTarget.destroy()}},{key:"reorderColumn",value:function(t,e){t>=0&&e>=0&&t!==e&&this.invokeMethodAsync(this.options.jsinterop.reorderColumn,{fromIndex:t,toIndex:e})}}]),e}(u.Component)},function(t,e,n){"use strict";function r(t,e){(0,l.initComponent)(a.ColumnResizable,(0,l.addComponentSuffix)(t,"ColumnResizable"),e)}function o(t){(0,l.destroyComponent)((0,l.addComponentSuffix)(t,"ColumnResizable"))}function i(t,e){(0,l.getComponentInstance)((0,l.addComponentSuffix)(t,"ColumnResizable")).autoFitColumns(e)}function s(t){(0,l.getComponentInstance)((0,l.addComponentSuffix)(t,"ColumnResizable")).autoFitAllColumns()}Object.defineProperty(e,"__esModule",{value:!0}),e.initColumnResizable=r,e.destroyColumnResizable=o,e.columnResizableAutoFitColumns=i,e.columnResizableAutoFitAllColumns=s;var a=n(147),l=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnResizable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(148),c=n(22),u=n(4),p=n(20),h="dblclick",f=Array.from,d=function(t){return parseFloat(t)+"px"},v=function(t,e){t.style.width=d(e)},y=function(t){var e=t.getBoundingClientRect().width;return e},g=function(t){return Boolean(t.style.width)},m=function(t,e,n){var r=n?(0,u.clamp)(t,e,n):Math.max(t,e);return r},b=function(t,e){t.style.left=d(e)},w=function(t,e){t.style.right=d(e)},_=function(t){var e=parseFloat(t.style.width);if(Number.isNaN(e)){var n=y(t);return n}return e},x={resizeHandle:"k-column-resizer"};e.ColumnResizable=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={parentSelector:".k-grid",resizableSourceSelector:".k-grid-header",dataRowSelector:"tr:not(.k-grouping-row)",columnSelector:"th.k-header:not(.k-group-cell):not(.k-hierarchy-cell):not(.k-drag-cell)",contentTableSelector:".k-grid-table",contentRowSelector:"tr.k-master-row",contentCellSelector:"td:not(.k-group-cell):not(.k-hierarchy-cell):not(.k-drag-cell)",footerTableSelector:".k-grid-footer table",footerRowSelector:"tr.k-group-footer",columns:[],defaultMinResizableWidth:30,dragResizing:!0,resizable:{draggable:{filter:".k-column-resizer"}},jsinterop:{resizeColumns:""}},i.onResizableResizeStart=function(t){i.resetState(),i.setFixedWidths();var e=t.originalCurrentTarget.closest(i.options.columnSelector);i.setState({originColumn:{element:e,initialWidth:y(e)}}),i.rescaleColumns()},i.onResizableResize=function(t){var e=i.state.originColumn.element,n=y(e),r=i.getColumnIndex(e),o=i.getResizingConstraints(r),s=o.minWidth,a=o.maxWidth,l=i.state.originColumn.initialWidth+t.initialDelta.x,c=a&&a<n||s>n,u=t.delta.x>0&&l<=s,p=a&&t.delta.x<0&&l>=a;(c||!u&&!p)&&i.applyResizeDelta(e,t.delta.x)},i.onResizableResizeEnd=function(){i.state.columns.length>0&&i.invokeResizeColumns({columns:i.state.columns,tableWidth:i.state.tableWidth})},i.onDoubleClick=function(t){if((0,u.hasClass)(x.resizeHandle,t.target)){var e=t.target.closest(i.options.columnSelector);i.autoFitColumnElements([e])}},i.extendOptions(n),i.bindEvents(),i.options.dragResizing&&i.createResizable(),i.resetState(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),this.destroyResizable(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"createResizable",value:function(){var t=this.element.closest(this.options.parentSelector).querySelector(this.options.resizableSourceSelector);this.resizable=new l.Resizable(t,(0,u.deepExtend)(this.options.resizable,{events:{resizeStart:this.onResizableResizeStart,resize:this.onResizableResize,resizeEnd:this.onResizableResizeEnd}}))}},{key:"destroyResizable",value:function(){this.resizable&&this.resizable.destroy()}},{key:"bindEvents",value:function(){this.element.addEventListener(h,this.onDoubleClick)}},{key:"unbindEvents",value:function(){this.element.removeEventListener(h,this.onDoubleClick)}},{key:"setState",value:function(t){this.state=(0,u.extend)(this.state||{},t)}},{key:"resetState",value:function(){this.setState({columns:[],tableWidth:null,originColumn:{element:{},initialWidth:null}})}},{key:"autoFitAllColumns",value:function(){var t=this.getLeafHeaderCells();this.autoFitColumnElements(t)}},{key:"autoFitColumns",value:function(t){var e=this,n=t.map(function(t){return e.element.querySelector((0,c.byColumnInitializationIndex)(t))});this.autoFitColumnElements(n)}},{key:"autoFitColumnElements",value:function(t){var e=this,n=[];this.setFixedWidths(),this.rescaleColumns(),t.forEach(function(t){if(t&&!(0,c.getColumnHasChildren)(t)){var r=e.getHeaderCellLeafIndex(t),o=e.getColumnIndex(t);if(e.isContentCellVisible(r)){var i=e.getColumnWidth(r,o);e.resizeColumn(t,i);var s=y(t);n.push({index:o,width:d(s)})}}}),n.length>0&&this.invokeResizeColumns({columns:n,tableWidth:d(y(this.getHeaderTable()))})}},{key:"getColumnWidth",value:function(t,e){var n=this.getContentColumnWidth(t,e),r=this.getHeaderColumnWidth(t,e),o=this.getFooterColumnWidth(t,e),i=Math.max(n,r,o);return i}},{key:"getContentColumnWidth",value:function(t,e){var n=this.getContentCellVirtualIndex(t);return n<0?0:this.calculateColumnWidth({columnIndex:n,columnInitializationIndex:e,tableElement:this.getContentTable(),cellSelector:this.options.contentCellSelector,scrollContainerSelector:".k-grid-content"})}},{key:"getHeaderColumnWidth",value:function(t,e){return this.calculateColumnWidth({columnIndex:t,columnInitializationIndex:e,tableElement:this.getHeaderTable(),cellSelector:this.options.columnSelector,scrollContainerSelector:".k-grid-header-wrap"})}},{key:"getFooterColumnWidth",value:function(t,e){var n=this.getFooterTable();return n?this.calculateColumnWidth({columnIndex:t,columnInitializationIndex:e,tableElement:n,cellSelector:this.options.contentCellSelector,scrollContainerSelector:".k-grid-footer-wrap"}):0}},{key:"calculateColumnWidth",value:function(t){var e=t.columnIndex,n=t.columnInitializationIndex,r=t.tableElement,o=t.cellSelector,i=t.scrollContainerSelector,s=this.getTableColumns(r)[e],a=i?r.closest(i):null,l=s.style.width,p=null!==a?a.scrollLeft:0;
s.style.width="",(0,u.addClass)("k-autofitting",r);var h=r.querySelector((0,c.byColumnInitializationIndex)(n)),f=h||r.querySelector(this.options.dataRowSelector).querySelectorAll(o)[e],d=y(f);return(0,u.removeClass)("k-autofitting",r),s.style.width=l,a&&(a.scrollLeft=p),d}},{key:"setFixedWidths",value:function(){var t=this.getHeaderColumns(),e=this.getHeaderTable(),n=this.getContentTable(),r=this.getFooterTable();if(!(t.every(g)&&g(e)&&g(n))){v(e,y(e)),v(n,y(n)),r&&v(r,y(r));var o=this.hasMultiColumnHeaders(),i=o?this.getLeafHeaderCells():this.getHeaderCells(),s=this.getHeaderCells().sort(c.sortByInitializationIndex);this.leafHeaderCellsFixedWidths=[],this.headerCellsFixedWidths=[];for(var a=0;a<i.length;a++){var l=y(i[a]);this.leafHeaderCellsFixedWidths.push(l)}for(var u=0;u<s.length;u++){var p=y(s[u]);this.headerCellsFixedWidths.push(p)}for(var h=0;h<i.length;h++)this.resizeHeaderColumn(h,this.leafHeaderCellsFixedWidths[h]),this.resizeContentColumn(h,this.leafHeaderCellsFixedWidths[h]),r&&this.resizeFooterColumn(h,this.leafHeaderCellsFixedWidths[h])}}},{key:"applyResizeDelta",value:function(t,e){t&&this.resizeColumn(t,y(t)+e,e)}},{key:"resizeColumn",value:function(t,e){var n=this,r=this.getFooterTable(),o=[];if(t){var i=this.getColumnIndex(t),s=this.hasMultiColumnHeaders(),a=this.getHeaderCellLeafIndex(t),l=[];if(s){var u=this.getHeaderCells().sort(c.sortByNavigationId);l=(0,c.getLeafChildColumns)(t,u)}var p=void 0;p=l.length>0?{minWidth:this.options.defaultMinResizableWidth,maxWidth:null}:this.getResizingConstraints(i);var h=m(e,p.minWidth,p.maxWidth),f=h-y(t);if(!(-.05<=f&&f<=.05)){if(o.push({index:i,width:d(h)}),l.length){var v=[],g=0,b=f/l.length;l.forEach(function(t){var e=t.index,r=t.leafIndex,o=n.getHeaderColWidth(t.leafIndex),i=n.getResizingConstraints(t.index),s=i.minWidth,a=i.maxWidth,l=m(o+b,s,a);v.push({index:e,leafIndex:r,newWidth:l})}),v.forEach(function(t){n.resizeHeaderColumn(t.leafIndex,t.newWidth),n.resizeContentColumn(t.leafIndex,t.newWidth),g+=t.newWidth,o.push({index:t.index,width:d(t.newWidth)})}),o[0].width=d(g);var w=g-y(t);this.resizeHeaderTable(w),this.resizeContentTable(w),this.resizeLockedColumns(),r&&(this.resizeFooterTable(w),v.forEach(function(t){n.resizeFooterColumn(t.leafIndex,t.newWidth)}))}else this.resizeHeaderTable(f),this.resizeContentTable(f),this.resizeHeaderColumn(a,h),this.resizeContentColumn(a,h),this.resizeLockedColumns(),r&&(this.resizeFooterTable(f),this.resizeFooterColumn(a,h));this.setState({columns:o,tableWidth:d(y(this.getHeaderTable()))})}}}},{key:"resizeHeaderColumn",value:function(t,e){var n=this.getHeaderColumnByIndex(t);v(n,e)}},{key:"resizeContentColumn",value:function(t,e){var n=this.getContentColumnByIndex(t);v(n,e)}},{key:"resizeFooterColumn",value:function(t,e){var n=this.getFooterColumnByIndex(t);v(n,e)}},{key:"resizeHeaderTable",value:function(t){this.resizeTable(this.getHeaderTable(),t)}},{key:"resizeContentTable",value:function(t){this.resizeTable(this.getContentTable(),t)}},{key:"resizeFooterTable",value:function(t){this.resizeTable(this.getFooterTable(),t)}},{key:"resizeTable",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t&&v(t,y(t)+e)}},{key:"resizeLockedColumns",value:function(){this.resizeLockedHeaderCells(),this.resizeLockedContentCells(),this.resizeLockedFooterCells()}},{key:"resizeLockedHeaderCells",value:function(){var t=this.getHeaderCells().sort(c.sortByNavigationId);this.setLockedCellsOffsets(t)}},{key:"resizeLockedContentCells",value:function(){var t=this.getContentRows();this.resizeLockedCellsForRows(t)}},{key:"resizeLockedFooterCells",value:function(){var t=this.getFooterRows();this.resizeLockedCellsForRows(t)}},{key:"resizeLockedCellsForRows",value:function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.querySelectorAll(this.options.contentCellSelector);this.setLockedCellsOffsets(r)}}},{key:"setLockedCellsOffsets",value:function(t){this.setLockedCellsOffsetLeft(t),this.setLockedCellsOffsetRight(t)}},{key:"setLockedCellsOffsetLeft",value:function(t){this.setLockedCellOffset(t,function(t,e){b(t,e)})}},{key:"setLockedCellsOffsetRight",value:function(t){this.setLockedCellOffset(t,function(t,e){w(t,e)},{iterateBackwards:!0})}},{key:"setLockedCellOffset",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.iterateBackwards,o=void 0!==r&&r,i=this.getMaxLevel(t),s=new Array(i).fill(0),a=0;a<t.length;a++){var l=o?t.length-1-a:a,u=t[l];if((0,p.isLockedElement)(u)){var h=y(u),f=(0,c.getColumnLevel)(u),d=Math.max(0,f-1),v=s[d];e(u,v);var g=(0,c.getColumnHasChildren)(u);if(g)s[d]+=h;else for(var m=d;m<s.length;m++)s[m]+=h}}}},{key:"getMaxLevel",value:function(t){for(var e=1,n=0;n<t.length;n++){var r=(0,c.getColumnLevel)(t[n]);e=Math.max(e,r)}return e}},{key:"invokeResizeColumns",value:function(t){if((0,u.isDefined)(t.columns)&&(0,u.isDefined)(t.tableWidth))return this.invokeMethodAsync(this.options.jsinterop.resizeColumns,{columns:t.columns,tableWidth:t.tableWidth})}},{key:"rescaleColumns",value:function(){this.headerCellsFixedWidths&&(this.invokeRescaleColumns(this.headerCellsFixedWidths.map(function(t){return t+"px"})),this.headerCellsFixedWidths=null)}},{key:"invokeRescaleColumns",value:function(t){return this.invokeMethodAsync(this.options.jsinterop.rescaleColumns,t)}},{key:"getHeaderTable",value:function(){return this.element.closest("table")}},{key:"getContentTable",value:function(){return this.element.closest(this.options.parentSelector).querySelector(this.options.contentTableSelector)}},{key:"getFooterTable",value:function(){return this.element.closest(this.options.parentSelector).querySelector(this.options.footerTableSelector)}},{key:"getHeaderColumnByIndex",value:function(t){return this.getHeaderColumns()[t]}},{key:"getHeaderColumns",value:function(){return this.getTableColumns(this.getHeaderTable())}},{key:"getHeaderColWidth",value:function(t){var e=this.getHeaderColumnByIndex(t);return _(e)}},{key:"getHeaderCellByIndex",value:function(t){return this.getHeaderCells()[t]}},{key:"getHeaderCells",value:function(){var t=f(this.element.querySelectorAll(this.options.columnSelector));return t}},{key:"getLeafHeaderCells",value:function(){var t=this.getHeaderCells(),e=(0,c.getLeafElements)(t),n=e.sort(c.sortByNavigationId);return n}},{key:"getHeaderCellLeafIndex",value:function(t){var e=this.getLeafHeaderCells();return e.indexOf(t)}},{key:"getContentColumnByIndex",value:function(t){return this.getContentColumns()[t]}},{key:"getContentColumns",value:function(){return this.getTableColumns(this.getContentTable())}},{key:"getTableColumns",value:function(t){var e=t.querySelector("colgroup").querySelectorAll("col:not(.k-group-col):not(.k-hierarchy-col):not(.k-drag-col)");return f(e)}},{key:"getContentRows",value:function(){return this.queryContentTable(this.options.contentRowSelector)}},{key:"getFooterColumnByIndex",value:function(t){return this.getFooterColumns()[t]}},{key:"getFooterColumns",value:function(){return this.getTableColumns(this.getFooterTable())}},{key:"getFooterRows",value:function(){return this.queryContentTable(this.options.footerRowSelector)}},{key:"getColumnIndex",value:function(t){var e=(0,c.getColumnInitializationIndex)(t);if(e>=0)return e;var n=(0,u.getElementIndex)(t,this.options.columnSelector);return n}},{key:"queryContentTable",value:function(t){var e=this.getContentTable(),n=e.querySelectorAll(t);return f(n)}},{key:"hasMultiColumnHeaders",value:function(){return this.element.querySelectorAll("tr").length>1}},{key:"getFirstContentRow",value:function(){return this.getContentTable().querySelector(this.options.dataRowSelector)}},{key:"getContentCellVirtualIndex",value:function(t){var e=this.getFirstContentRow();if(!e)return-1;var n=e.querySelector(this.options.contentCellSelector),r=t;return n&&n.colSpan>1&&(r-=n.colSpan-1),r}},{key:"isContentCellVisible",value:function(t){var e=this.getContentCellVirtualIndex(t),n=this.getFirstContentRow();if(!n)return!1;var r=n.querySelectorAll(this.options.contentCellSelector);return!!r&&(e>=0&&e<r.length)}},{key:"getResizingConstraints",value:function(t){var e=this.options.columns[t]||{};return{minWidth:Math.max(e.minResizableWidth,this.options.defaultMinResizableWidth),maxWidth:e.maxResizableWidth}}}]),e}(u.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Resizable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(23),c=n(4);e.Resizable=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={events:{resizeStart:null,resize:null,resizeEnd:null},draggable:{filter:""}},i.onDraggableDragStart=function(t){i.initialLocation={pageX:t.pageX,pageY:t.pageY},i.location={pageX:t.pageX,pageY:t.pageY},i.delta={x:0,y:0},i.initialDelta={x:0,y:0},i.trigger("resizeStart",t)},i.onDraggableDrag=function(t){i.setCursorStyle(t.sender.originalCurrentTarget.style.cursor),i.calculateInitialDelta(t),i.calculateDelta(t),i.setLocation(t),i.trigger("resize",t)},i.onDraggableDragEnd=function(t){i.resetCursorStyle(),i.trigger("resizeEnd",t)},i.extendOptions(n),i.createDraggable(t),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyDraggable(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"createDraggable",value:function(){this.draggable=new l.Draggable(this.element,(0,c.deepExtend)(this.options.draggable,{events:{dragStart:this.onDraggableDragStart,drag:this.onDraggableDrag,dragEnd:this.onDraggableDragEnd}}))}},{key:"destroyDraggable",value:function(){this.draggable&&this.draggable.destroy()}},{key:"trigger",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"trigger",this).call(this,t,(0,c.extend)(n,{initialLocation:this.initialLocation,location:this.location,delta:this.delta,initialDelta:this.initialDelta}))}},{key:"calculateDelta",value:function(t){this.delta={x:t.pageX-this.location.pageX,y:t.pageY-this.location.pageY}}},{key:"calculateInitialDelta",value:function(t){this.initialDelta={x:t.pageX-this.initialLocation.pageX,y:t.pageY-this.initialLocation.pageY}}},{key:"setLocation",value:function(t){var e=t.pageX,n=t.pageY;this.location={pageX:e,pageY:n}}},{key:"setCursorStyle",value:function(t){t&&(document.body.style.cursor=t)}},{key:"resetCursorStyle",value:function(){document.body.style.cursor=""}}]),e}(c.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(150);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.Drawer,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initDrawer=r;var o=n(151),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Drawer=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=[l.Key.ENTER,l.Key.ARROWDOWN,l.Key.ARROWUP],u=function(){return(0,l.delay)(20)};e.Drawer=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{keydown:"",focusout:"",collapse:""},mode:"",duration:0},i.onMouseDown=function(t){var e=t.target;"overlay"!==i.options.mode||(0,l.isChild)(e,[i.element])||i.invokeCollapse()},i.onKeyDown=function(t){i.invokeKeyDown(t)},i.onFocusOut=function(t){i.invokeFocusOut(t)},i.extendOptions(n),i.bindEvents(),i.createNavigationService(),i}return i(e,t),s(e,[{key:"expandAsync",value:function(){var t=this;return u().then(function(){return t.onTransitionEnd()})}},{key:"collapseAsync",value:function(){var t=this;return u().then(function(){return t.onTransitionEnd()})}},{key:"destroy",value:function(){this.unbindEvents(),this.destroyNavigationService(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener("focusout",this.onFocusOut),document.addEventListener("mousedown",this.onMouseDown,!0)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("focusout",this.onFocusOut),document.removeEventListener("mousedown",this.onMouseDown,!0)}},{key:"focusItem",value:function(t){var e=this.element.querySelector('[data-index="'+t+'"]');e instanceof HTMLElement&&e.focus()}},{key:"cancelCallback",value:function(){this.timer&&this.timer.cancel(),this.timer=null}},{key:"onTransitionEnd",value:function(){var t=this.options.duration;return this.timer=(0,l.createCancellableTimerPromise)(t),this.timer.promise}},{key:"createNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(c,this.onKeyDown)}},{key:"destroyNavigationService",value:function(){this.navigationService&&(this.navigationService.destroy(),this.navigationService=null)}},{key:"invokeKeyDown",value:function(t){this.invokeMethodAsync(this.options.jsinterop.keydown,t.name)}},{key:"invokeFocusOut",value:function(t){var e=this,n=t.target.closest(".k-drawer-item[role='menuitem'"),r=n?parseInt(n.getAttribute("data-index")):null;setTimeout(function(){e.invokeMethodAsync(e.options.jsinterop.focusout,r)},1)}},{key:"invokeCollapse",value:function(){this.invokeMethodAsync(this.options.jsinterop.collapse)}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(153);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(157);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(159);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(162);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=n(164);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.AutoComplete,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initAutoComplete=r;var o=n(154),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.AutoComplete=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(155),u=[l.Key.ARROWDOWN,l.Key.ARROWUP];e.AutoComplete=function(t){function e(t,n){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return i(e,t),s(e,[{key:"bindEvents",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bindEvents",this).call(this),this.navigationService.bind(u,this.onPopupKeys)}}]),e}(c.AutoCompleteBase)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.AutoCompleteBase=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(156),u="blur",p="focus";e.AutoCompleteBase=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={value:null},i.onBlur=function(t){var e=t.relatedTarget;return(0,l.ownsElement)(i.popupElement,e)||(0,l.ownsElement)(i.element,e)?void i.focus():void i.invokeBlur()},i.onFocus=function(){i.invokeFocus()},i.extendOptions(n),i.input=i.element.querySelector("input"),i.setValue(n.value),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.input=null}},{key:"bindEvents",value:function(){this.input.addEventListener(u,this.onBlur),this.input.addEventListener(p,this.onFocus)}},{key:"unbindEvents",value:function(){this.input.removeEventListener(u,this.onBlur),this.input.removeEventListener(p,this.onFocus)}},{key:"setValue",value:function(t){this.input&&(this.input.value=t)}},{key:"focus",value:function(){this.input&&this.input.focus()}}]),e}(c.DropdownBase)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownBase=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=[l.Key.ENTER,l.Key.ESC],u=[l.Key.HOME,l.Key.END];e.DropdownBase=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,popupId:null,jsinterop:{focus:null,blur:null,keydown:null}},i.onKeyDown=function(t){return i.invokeKeyDown(t),i.isClosed()},i.onPopupKeys=function(t){return!!i.isClosed()||(i.invokeKeyDown(t),!1)},i.invokeKeyDown=function(t){i.invokeMethodAsync(i.options.jsinterop.keydown,t.name)},i.invokeBlur=function(){i.invokeMethodAsync(i.options.jsinterop.blur)},i.invokeFocus=function(){i.invokeMethodAsync(i.options.jsinterop.focus)},i.extendOptions(n),i.popupElement=(0,l.getElementByDataId)(n.popupId),i.initNavigationService(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyNavigationService(),this.popupElement=null,a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(c,this.onKeyDown),this.navigationService.bind(l.KeyModifiers.ALT+" "+l.Key.ARROWDOWN,this.onKeyDown),this.navigationService.bind(l.KeyModifiers.ALT+" "+l.Key.ARROWUP,this.onKeyDown),this.navigationService.bind(u,this.onPopupKeys)}},{key:"destroyNavigationService",value:function(){this.navigationService.destroy()}},{key:"isClosed",value:function(){return!this.popupElement||!this.popupElement.children[0].children.length}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.ComboBox,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initComboBox=r;var o=n(158),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ComboBox=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(155),u=[l.Key.ARROWDOWN,l.Key.ARROWUP];e.ComboBox=function(t){function e(t,n){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return i(e,t),s(e,[{key:"bindEvents",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bindEvents",this).call(this),this.navigationService.bind(u,this.invokeKeyDown)}}]),e}(c.AutoCompleteBase)},function(t,e,n){"use strict";function r(t,e){(0,a.initComponent)(i.DropDownList,t,e)}function o(t,e){(0,a.initComponent)(s.DropDownListFilter,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initDropDownList=r,e.initDropDownListFilter=o;var i=n(160),s=n(161),a=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DropDownList=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(156),u="blur",p="focus",h=[l.Key.ARROWDOWN,l.Key.ARROWUP];e.DropDownList=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.onBlur=function(t){var e=t.relatedTarget;(0,l.ownsElement)(i.popupElement,e)?e.closest(".k-list-filter")||i.element.focus():i.invokeBlur()},i.onFocus=function(){i.invokeFocus()},i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener(u,this.onBlur),this.element.addEventListener(p,this.onFocus),this.navigationService.bind(h,this.invokeKeyDown),this.navigationService.bind("printableKey",this.invokeKeyDown)}},{key:"unbindEvents",value:function(){this.element.removeEventListener(u,this.onBlur)}},{key:"focus",value:function(){this.element.focus()}}]),e}(c.DropdownBase)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DropDownListFilter=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c="blur",u=[l.Key.ARROWDOWN,l.Key.ARROWUP,l.Key.ENTER,l.Key.ESC,l.KeyModifiers.ALT+" "+l.Key.ARROWUP];e.DropDownListFilter=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,anchorDataId:"",jsinterop:{blur:null,keydown:null}},i.onBlur=function(t){var e=t.relatedTarget;e&&e.closest('[data-id="'+i.options.anchorDataId+'"]')||((0,l.ownsElement)(i.element.closest(".k-popup"),e)?i.element.focus():i.invokeBlur())},i.onKeyDown=function(t){i.invokeKeyDown(t)},i.invokeBlur=function(){i.invokeMethodAsync(i.options.jsinterop.blur)},i.invokeKeyDown=function(t){i.invokeMethodAsync(i.options.jsinterop.keydown,t.name)},i.extendOptions(n),i.bindEvents(),i.initNavigationService(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyNavigationService(),this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener(c,this.onBlur)}},{key:"unbindEvents",value:function(){this.element.removeEventListener(c,this.onBlur)}},{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(u,this.onKeyDown)}},{key:"destroyNavigationService",value:function(){this.navigationService.destroy()}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.MultiSelect,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initMultiSelect=r;var o=n(163),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MultiSelect=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(155),c=n(4),u="click";e.MultiSelect=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.onClick=function(t){t.target instanceof HTMLElement&&!t.target.closest(".k-chip")&&!t.target.closest(".k-clear-value")&&(i.focus(),i.invokeClick())},i.bindMultiSelectEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindMultiSelectEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindMultiSelectEvents",value:function(){this.element.addEventListener(u,this.onClick,!0),this.navigationService.bind([c.Key.ARROWDOWN,c.Key.ARROWUP],this.onPopupKeys),this.navigationService.bind([c.Key.ARROWLEFT,c.Key.ARROWRIGHT],this.onTagFocus.bind(this)),this.navigationService.bind([c.Key.BACKSPACE,c.Key.DELETE],this.onTagDelete.bind(this))}},{key:"unbindMultiSelectEvents",value:function(){this.element.removeEventListener(u,this.onClick,!0);
}},{key:"onTagDelete",value:function(t){return!!this.input.value||(this.invokeKeyDown(t),!1)}},{key:"onTagFocus",value:function(t){return!!this.input.value||(this.invokeKeyDown(t),!1)}},{key:"invokeClick",value:function(){var t=this.options.jsinterop.click;this.invokeMethodAsync(t)}}]),e}(l.AutoCompleteBase)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.DropdownGroupHeader,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initDropDownGroupHeader=r;var o=n(165),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownGroupHeader=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4);e.DropdownGroupHeader=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,selector:".k-list-scroller",jsinterop:{focus:null,blur:null,keydown:null}},i.onScroll=function(){var t=(0,l.firstVisibleItem)(i.scrollableContainer,"li");if(t){var e=(0,l.parseAttrToInt)("data-group-index",t);i.currentGroupIndex!==e&&(i.currentGroupIndex=e,i.invokeMethodAsync(i.options.jsinterop.groupChanged,e))}},i.extendOptions(n),i.scrollableContainer=document.querySelector(i.options.parentSelector),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.scrollableContainer.addEventListener("scroll",this.onScroll)}},{key:"unbindEvents",value:function(){this.scrollableContainer.removeEventListener("scroll",this.onScroll)}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(167);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,o.initComponent)(i.Editor,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initEditor=r;var o=n(4),i=n(168)},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Editor=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},u=n(169),p=n(210),h=n(212),f=n(213),d=n(214),v=n(215),y=n(4),g="iframe",m="undefined"!=typeof window&&/Firefox/.test(window.navigator.userAgent);e.Editor=function(t){function e(t,n){o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.options={editMode:g,debounceDelay:100},r.initialize=function(){r.initContent(),r.initEditor()},r.extendOptions(n),r.iframeEditMode=r.options.editMode===g,r.iframe=r.element.querySelector(".k-iframe"),r.div=r.element.querySelector(".k-content"),r.toolbar=r.element.querySelector(".k-toolbar"),r.bindEvents(),m&&!r.shouldInitialize()||r.initialize(),r}return s(e,t),l(e,[{key:"bindEvents",value:function(){m&&this.iframeEditMode&&this.iframe.addEventListener("load",this.initialize,!0),this.toolbar.addEventListener("mousedown",this.onToolBarMouseDown)}},{key:"unbindEvents",value:function(){m&&this.iframeEditMode&&this.iframe.removeEventListener("load",this.initialize,!0),this.toolbar.removeEventListener("mousedown",this.onToolBarMouseDown)}},{key:"shouldInitialize",value:function(){if(this.iframeEditMode){var t=this.iframe.contentDocument||this.iframe.contentWindow.document;return"complete"===t.readyState}return!0}},{key:"initEditor",value:function(){var t=this,e=this.options.debounceDelay,n=[new u.Plugin({view:function(){return{update:function(){t.updateToolBarState()}}},key:new u.PluginKey("toolbar-tools-update-plugin")}),new u.Plugin({view:function(){return{update:(0,y.debounce)(t.valueChanged,e).bind(t)}},key:new u.PluginKey("value-changed-plugin")}),(0,u.history)(),(0,u.keymap)((0,u.buildListKeymap)(p.schema)),(0,u.keymap)((0,u.buildKeymap)(p.schema)),(0,u.keymap)(u.baseKeymap),(0,u.tableEditing)()];this.valueContainer=this.element.querySelector("textarea");var r=u.EditorState.create({schema:p.schema,plugins:n,doc:u.DOMParser.fromSchema(p.schema).parse(this.valueContainer)});this.view=new u.EditorView({mount:this.content},{state:r,transformPastedHTML:function(e){return t.options.pasteSettings?t.executePasteCleanup(e):e}}),this.value=this.view.dom.innerHTML}},{key:"initContent",value:function(){this.content=this.iframeEditMode?this.setupIframe():this.setupDiv()}},{key:"setupIframe",value:function(){var t=this.iframe.contentWindow.document,e=t.createElement("meta");e.setAttribute("charset","utf-8"),t.head.appendChild(e);var n=t.createElement("style");n.appendChild(t.createTextNode(h.defaultStyle)),t.head.appendChild(n);var r=t.createElement("div");return t.body.appendChild(r),t.body.querySelector("div")}},{key:"setupDiv",value:function(){return this.div}},{key:"getDialogArgs",value:function(t){var e=(0,v.getDialogContexts)(this.view);return e[t]()}},{key:"exec",value:function(t){var e=t.commandName,n=f.editorCommands[e](t);n(this.view.state,this.view.dispatch,this.view),t.shouldFocusView&&this.view.focus()}},{key:"focus",value:function(){this.view.focus()}},{key:"setOptions",value:function(t){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setOptions",this).call(this,t)}},{key:"setValue",value:function(){(0,u.setHtml)(this.valueContainer.innerHTML)(this.view.state,this.view.dispatch),this.value=this.view.dom.innerHTML}},{key:"updateToolBarState",value:function(){var t=(0,d.getToolsState)(this.view.state,this.options.toolStates),e=t.stateChanged,n=t.state;e&&(this.options.toolStates=n,this.invokeToolBarUpdate(n))}},{key:"onToolBarMouseDown",value:function(t){(0,y.hasAncestor)(t.target,".k-button",!0)&&t.preventDefault()}},{key:"executePasteCleanup",value:function(t){var e=this.options.pasteSettings,n=this.getPasteCleanupAttributes(),r=(0,u.sanitize)(t);return e.removeComments&&(r=(0,u.removeComments)(r)),(0,u.pasteCleanup)(r,{convertMsLists:e.convertMsLists,stripTags:e.stripTags?e.stripTags.join("|"):[],attributes:n})}},{key:"getPasteCleanupAttributes",value:function(){var t=this.options.pasteSettings,e={};return t.removeAllAttributes?{"*":u.removeAttribute}:(t.removeMsStyles&&(e.style=u.sanitizeStyleAttr),t.removeMsClasses&&(e.class=u.sanitizeClassAttr),t.removeAttributes.reduce(function(t,e){return a({},t,r({},e,u.removeAttribute))},e))}},{key:"valueChanged",value:function(){(0,u.hasSameMarkup)(this.view.dom.innerHTML,this.value,p.schema)||(this.value=this.view.dom.innerHTML,this.invokeValueChanged())}},{key:"invokeToolBarUpdate",value:function(t){this.invokeMethodAsync(this.options.jsinterop.updateToolBarState,t)}},{key:"invokeValueChanged",value:function(){this.invokeMethodAsync(this.options.jsinterop.valueChanged,this.value)}},{key:"destroy",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.unbindEvents(),this.view.destroy(),this.content=this.view=this.iframe=this.div=null}}]),e}(y.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(86),o=n(170);e.getHtml=o.getHtml,e.setHtml=o.setHtml,e.parseContent=o.parseContent;var i=n(175);e.applyInlineStyle=i.applyInlineStyle,e.getInlineStyles=i.getInlineStyles,e.toggleInlineFormat=i.toggleInlineFormat;var s=n(178);e.applyLink=s.applyLink,e.removeLink=s.removeLink;var a=n(179);e.insertText=a.insertText;var l=n(180);e.insertImage=l.insertImage;var c=n(181);e.alignBlocks=c.alignBlocks,e.isAligned=c.isAligned;var u=n(183);e.cleanFormatting=u.cleanFormatting;var p=n(182);e.hasNode=p.hasNode,e.activeNode=p.activeNode,e.formatBlockElements=p.formatBlockElements,e.getBlockFormats=p.getBlockFormats,e.parentBlockFormat=p.parentBlockFormat,e.changeTextBlock=p.changeTextBlock,e.blockNodes=p.blockNodes,e.cleanTextBlockFormatting=p.cleanTextBlockFormatting;var h=n(177);e.hasMark=h.hasMark,e.getMark=h.getMark,e.getActiveMarks=h.getActiveMarks,e.removeAllMarks=h.removeAllMarks,e.cleanMarks=h.cleanMarks,e.selectionMarks=h.selectionMarks;var f=n(184);e.indent=f.indent,e.canIndentAsListItem=f.canIndentAsListItem,e.outdent=f.outdent,e.canOutdentAsListItem=f.canOutdentAsListItem,e.isIndented=f.isIndented,e.canBeIndented=f.canBeIndented,e.indentBlocks=f.indentBlocks;var d=n(188);e.toggleOrderedList=d.toggleOrderedList,e.toggleUnorderedList=d.toggleUnorderedList,e.toggleList=d.toggleList;var v=n(176);e.hasSameMarkup=v.hasSameMarkup,e.getSelectionText=v.getSelectionText,e.getNodeFromSelection=v.getNodeFromSelection,e.selectedLineTextOnly=v.selectedLineTextOnly,e.canInsert=v.canInsert,e.insertNode=v.insertNode,e.indentHtml=v.indentHtml;var y=n(190);e.alignLeftRules=y.alignLeftRules,e.alignCenterRules=y.alignCenterRules,e.alignRightRules=y.alignRightRules,e.alignJustifyRules=y.alignJustifyRules,e.alignRemoveRules=y.alignRemoveRules;var g=n(186);e.indentRules=g.indentRules,e.outdentRules=g.outdentRules;var m=n(191);e.nodes=m.nodes,e.marks=m.marks;var b=n(196);e.buildKeymap=b.buildKeymap,e.buildListKeymap=b.buildListKeymap;var w=n(200);e.bold=w.bold,e.italic=w.italic,e.underline=w.underline,e.strikethrough=w.strikethrough,e.subscript=w.subscript,e.superscript=w.superscript,e.link=w.link;var _=n(201);e.sanitize=_.sanitize,e.removeComments=_.removeComments,e.removeTag=_.removeTag,e.pasteCleanup=_.pasteCleanup,e.sanitizeClassAttr=_.sanitizeClassAttr,e.sanitizeStyleAttr=_.sanitizeStyleAttr,e.removeAttribute=_.removeAttribute;var x=n(202);e.convertMsLists=x.convertMsLists;var k=n(203);e.createTable=k.createTable;var S=n(204);e.find=S.find,e.findAt=S.findAt,e.findAll=S.findAll,e.replace=S.replace,e.replaceAll=S.replaceAll;var C=n(205);e.placeholder=C.placeholder;var O=n(206);e.spacesFix=O.spacesFix;var E=n(207);e.textHighlight=E.textHighlight,e.textHighlightKey=E.textHighlightKey,r.__exportStar(n(189),e),r.__exportStar(n(208),e),r.__exportStar(n(209),e),r.__exportStar(n(197),e),r.__exportStar(n(199),e),r.__exportStar(n(193),e),r.__exportStar(n(171),e),r.__exportStar(n(185),e),r.__exportStar(n(173),e),r.__exportStar(n(192),e),r.__exportStar(n(174),e),r.__exportStar(n(195),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(171),o=n(173);e.parseContent=function(t,e,n){var o,i=document.createElement("template");if("content"in i)i.innerHTML=t,o=i.content;else{var s=(new DOMParser).parseFromString(t,"text/html");o=s.body||document.createDocumentFragment()}return r.DOMParser.fromSchema(e).parse(o,n)},e.getHtml=function(t){var e=r.DOMSerializer.fromSchema(t.schema).serializeFragment(t.doc.content),n=document.createElement("div");return n.appendChild(e),n.innerHTML},e.setHtml=function(t,n,r){return void 0===n&&(n="setHTML"),void 0===r&&(r={preserveWhitespace:"full"}),function(i,s){return s(i.tr.setSelection(new o.AllSelection(i.doc)).replaceSelectionWith(e.parseContent(t,i.schema,r)).setMeta("commandName",n))}}},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function o(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var i=t.child(r),s=e.child(r);if(i!=s){if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(var a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){var l=o(i.content,s.content,n+1);if(null!=l)return l}n+=i.nodeSize}else n+=i.nodeSize}}function i(t,e,n,r){for(var o=t.childCount,s=e.childCount;;){if(0==o||0==s)return o==s?null:{a:n,b:r};var a=t.child(--o),l=e.child(--s),c=a.nodeSize;if(a!=l){if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){for(var u=0,p=Math.min(a.text.length,l.text.length);u<p&&a.text[a.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){var h=i(a.content,l.content,n-1,r-1);if(h)return h}n-=c,r-=c}else n-=c,r-=c}}function s(t,e){return Z.index=t,Z.offset=e,Z}function a(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!a(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e&&a(t[o],e[o])))return!1;for(var i in e)if(!(i in t))return!1}return!0}function l(t){var e=Error.call(this,t);return e.__proto__=l.prototype,e}function c(t,e,n){var r=t.findIndex(e),o=r.index,i=r.offset,s=t.maybeChild(o),a=t.findIndex(n),l=a.index,u=a.offset;if(i==e||s.isText){if(u!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(c(s.content,e-i-1,n-i-1)))}function u(t,e,n,r){var o=t.findIndex(e),i=o.index,s=o.offset,a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));var l=u(a.content,e-s-1,n);return l&&t.replaceChild(i,a.copy(l))}function p(t,e,n){if(n.openStart>t.depth)throw new l("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new l("Inconsistent open depths");return h(t,e,n,0)}function h(t,e,n,r){var o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){var s=h(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){var a=w(n,t),l=a.start,c=a.end;return g(i,m(t,l,c,e,r))}var u=t.parent,p=u.content;return g(u,p.cut(0,t.parentOffset).append(n.content).append(p.cut(e.parentOffset)))}return g(i,b(t,e,r))}function f(t,e){if(!e.type.compatibleContent(t.type))throw new l("Cannot join "+e.type.name+" onto "+t.type.name)}function d(t,e,n){var r=t.node(n);return f(r,e.node(n)),r}function v(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function y(t,e,n,r){var o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(v(t.nodeAfter,r),i++));for(var a=i;a<s;a++)v(o.child(a),r);e&&e.depth==n&&e.textOffset&&v(e.nodeBefore,r)}function g(t,e){if(!t.type.validContent(e))throw new l("Invalid content for node "+t.type.name);return t.copy(e)}function m(t,e,n,r,o){var i=t.depth>o&&d(t,e,o+1),s=r.depth>o&&d(n,r,o+1),a=[];return y(null,t,o,a),i&&s&&e.index(o)==n.index(o)?(f(i,s),v(g(i,m(t,e,n,r,o+1)),a)):(i&&v(g(i,b(t,e,o+1)),a),y(e,n,o,a),s&&v(g(s,b(n,r,o+1)),a)),y(r,null,o,a),new Y(a)}function b(t,e,n){var r=[];if(y(null,t,n,r),t.depth>n){var o=d(t,e,n+1);v(g(o,b(t,e,n+1)),r)}return y(e,null,n,r),new Y(r)}function w(t,e){for(var n=e.depth-t.openStart,r=e.node(n),o=r.copy(t.content),i=n-1;i>=0;i--)o=e.node(i).copy(Y.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}function _(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}function x(t){var e=[];do e.push(k(t));while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function k(t){var e=[];do e.push(S(t));while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function S(t){for(var e=T(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=O(t,e)}return e}function C(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function O(t,e){var n=C(t),r=n;return t.eat(",")&&(r="}"!=t.next?C(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function E(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}return 0==o.length&&t.err("No node type or group '"+e+"' found"),o}function T(t){if(t.eat("(")){var e=x(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=E(t,t.next).map(function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}});return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}function M(t){function e(){return i.push([])-1}function n(t,e,n){var r={term:n,to:e};return i[t].push(r),r}function r(t,e){t.forEach(function(t){return t.to=e})}function o(t,i){if("choice"==t.type)return t.exprs.reduce(function(t,e){return t.concat(o(e,i))},[]);if("seq"==t.type)for(var s=0;;s++){var a=o(t.exprs[s],i);if(s==t.exprs.length-1)return a;r(a,i=e())}else{if("star"==t.type){var l=e();return n(i,l),r(o(t.expr,l),l),[n(l)]}if("plus"==t.type){var c=e();return r(o(t.expr,i),c),r(o(t.expr,c),c),[n(c)]}if("opt"==t.type)return[n(i)].concat(o(t.expr,i));if("range"==t.type){for(var u=i,p=0;p<t.min;p++){var h=e();r(o(t.expr,u),h),u=h}if(t.max==-1)r(o(t.expr,u),u);else for(var f=t.min;f<t.max;f++){var d=e();n(u,d),r(o(t.expr,u),d),u=d}return[n(u)]}if("name"==t.type)return[n(i,null,t.value)]}}var i=[[]];return r(o(t,0),e()),i}function P(t,e){return e-t}function A(t,e){function n(e){var o=t[e];if(1==o.length&&!o[0].term)return n(o[0].to);r.push(e);for(var i=0;i<o.length;i++){var s=o[i],a=s.term,l=s.to;a||r.indexOf(l)!=-1||n(l)}}var r=[];return n(e),r.sort(P)}function D(t){function e(r){var o=[];r.forEach(function(e){t[e].forEach(function(e){var n=e.term,r=e.to;if(n){var i=o.indexOf(n),s=i>-1&&o[i+1];A(t,r).forEach(function(t){s||o.push(n,s=[]),s.indexOf(t)==-1&&s.push(t)})}})});for(var i=n[r.join(",")]=new ht(r.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var a=o[s+1].sort(P);i.next.push(o[s],n[a.join(",")]||e(a))}return i}var n=Object.create(null);return e(A(t,0))}function j(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var l=o.next[a],c=o.next[a+1];s.push(l.name),!i||l.isText||l.hasRequiredAttrs()||(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function R(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function I(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(void 0===o){var i=t[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function L(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new mt(t[n]);return e}function z(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=t.marks[o],s=i;if(i)n.push(i);else for(var a in t.marks){var l=t.marks[a];("_"==o||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function F(t){return(t?Ot:0)|("full"===t?Et:0)}function B(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&Ct.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}function N(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function V(t){for(var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];e=n.exec(t);)r.push(e[1],e[2].trim());return r}function H(t){var e={};for(var n in t)e[n]=t[n];return e}function W(t,e){var n=e.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(t)){var i=[],s=function(t){i.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),o=r.type,a=r.next;if(o==e)return!0;if(i.indexOf(a)<0&&s(a))return!0}};return s(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}function U(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}function K(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function q(t){return t.document||window.document}Object.defineProperty(e,"__esModule",{value:!0});var G=n(172),$=r(G),Y=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},X={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};Y.prototype.nodesBetween=function(t,e,n,r,o){void 0===r&&(r=0);for(var i=0,s=0;s<e;i++){var a=this.content[i],l=s+a.nodeSize;if(l>t&&n(a,r+s,o,i)!==!1&&a.content.size){var c=s+1;a.nodesBetween(Math.max(0,t-c),Math.min(a.content.size,e-c),n,r+c)}s=l}},Y.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},Y.prototype.textBetween=function(t,e,n,r){var o="",i=!0;return this.nodesBetween(t,e,function(s,a){s.isText?(o+=s.text.slice(Math.max(t,a)-a,e-a),i=!n):s.isLeaf&&r?(o+=r,i=!n):!i&&s.isBlock&&(o+=n,i=!0)},0),o},Y.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new Y(r,this.size+t.size)},Y.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var o=0,i=0;i<e;o++){var s=this.content[o],a=i+s.nodeSize;a>t&&((i<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-i),Math.min(s.text.length,e-i)):s.cut(Math.max(0,t-i-1),Math.min(s.content.size,e-i-1))),n.push(s),r+=s.nodeSize),i=a}return new Y(n,r)},Y.prototype.cutByIndex=function(t,e){return t==e?Y.empty:0==t&&e==this.content.length?this:new Y(this.content.slice(t,e))},Y.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new Y(r,o)},Y.prototype.addToStart=function(t){return new Y([t].concat(this.content),this.size+t.nodeSize)},Y.prototype.addToEnd=function(t){return new Y(this.content.concat(t),this.size+t.nodeSize)},Y.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},X.firstChild.get=function(){return this.content.length?this.content[0]:null},X.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},X.childCount.get=function(){return this.content.length},Y.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},Y.prototype.maybeChild=function(t){return this.content[t]},Y.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},Y.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),o(this,t,e)},Y.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),i(this,t,e,n)},Y.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return s(0,t);if(t==this.size)return s(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=this.child(n),i=r+o.nodeSize;if(i>=t)return i==t||e>0?s(n+1,i):s(n,r);r=i}},Y.prototype.toString=function(){return"<"+this.toStringInner()+">"},Y.prototype.toStringInner=function(){return this.content.join(", ")},Y.prototype.toJSON=function(){return this.content.length?this.content.map(function(t){return t.toJSON()}):null},Y.fromJSON=function(t,e){if(!e)return Y.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new Y(e.map(t.nodeFromJSON))},Y.fromArray=function(t){if(!t.length)return Y.empty;for(var e,n=0,r=0;r<t.length;r++){var o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new Y(e||t,n)},Y.from=function(t){if(!t)return Y.empty;if(t instanceof Y)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Y([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(Y.prototype,X);var Z={index:0,offset:0};Y.empty=new Y([],0);var J=function(t,e){this.type=t,this.attrs=e};J.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var o=t[r];if(this.eq(o))return t;if(this.type.excludes(o.type))e||(e=t.slice(0,r));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(o)}}return e||(e=t.slice()),n||e.push(this),e},J.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},J.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},J.prototype.eq=function(t){return this==t||this.type==t.type&&a(this.attrs,t.attrs)},J.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},J.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},J.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},J.setFrom=function(t){if(!t||0==t.length)return J.none;if(t instanceof J)return[t];var e=t.slice();return e.sort(function(t,e){return t.type.rank-e.type.rank}),e},J.none=[],l.prototype=Object.create(Error.prototype),l.prototype.constructor=l,l.prototype.name="ReplaceError";var Q=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},tt={size:{configurable:!0}};tt.size.get=function(){return this.content.size-this.openStart-this.openEnd},Q.prototype.insertAt=function(t,e){var n=u(this.content,t+this.openStart,e,null);return n&&new Q(n,this.openStart,this.openEnd)},Q.prototype.removeBetween=function(t,e){return new Q(c(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},Q.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},Q.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},Q.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},Q.fromJSON=function(t,e){if(!e)return Q.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new Q(Y.fromJSON(t,e.content),n,r)},Q.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new Q(t,n,r)},Object.defineProperties(Q.prototype,tt),Q.empty=new Q(Y.empty,0,0);var et=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},nt={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};et.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},nt.parent.get=function(){return this.node(this.depth)},nt.doc.get=function(){return this.node(0)},et.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},et.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},et.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},et.prototype.start=function(t){return t=this.resolveDepth(t),0==t?0:this.path[3*t-1]+1},et.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},et.prototype.before=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},et.prototype.after=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},nt.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},nt.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},nt.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},et.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,o=0;o<t;o++)r+=n.child(o).nodeSize;return r},et.prototype.marks=function t(){var e=this.parent,n=this.index();if(0==e.content.size)return J.none;if(this.textOffset)return e.child(n).marks;var r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){var i=r;r=o,o=i}for(var t=r.marks,s=0;s<t.length;s++)t[s].type.spec.inclusive!==!1||o&&t[s].isInSet(o.marks)||(t=t[s--].removeFromSet(t));return t},et.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)n[o].type.spec.inclusive!==!1||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},et.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},et.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new st(this,t,n)},et.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},et.prototype.max=function(t){return t.pos>this.pos?t:this},et.prototype.min=function(t){return t.pos<this.pos?t:this},et.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);
return t+":"+this.parentOffset},et.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,o=e,i=t;;){var s=i.content.findIndex(o),a=s.index,l=s.offset,c=o-l;if(n.push(i,a,r+l),!c)break;if(i=i.child(a),i.isText)break;o=c-1,r+=l+1}return new et(e,n,o)},et.resolveCached=function(t,e){for(var n=0;n<rt.length;n++){var r=rt[n];if(r.pos==e&&r.doc==t)return r}var o=rt[ot]=et.resolve(t,e);return ot=(ot+1)%it,o},Object.defineProperties(et.prototype,nt);var rt=[],ot=0,it=12,st=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},at={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};at.start.get=function(){return this.$from.before(this.depth+1)},at.end.get=function(){return this.$to.after(this.depth+1)},at.parent.get=function(){return this.$from.node(this.depth)},at.startIndex.get=function(){return this.$from.index(this.depth)},at.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(st.prototype,at);var lt=Object.create(null),ct=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||Y.empty,this.marks=r||J.none},ut={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};ut.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},ut.childCount.get=function(){return this.content.childCount},ct.prototype.child=function(t){return this.content.child(t)},ct.prototype.maybeChild=function(t){return this.content.maybeChild(t)},ct.prototype.forEach=function(t){this.content.forEach(t)},ct.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},ct.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},ut.textContent.get=function(){return this.textBetween(0,this.content.size,"")},ct.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},ut.firstChild.get=function(){return this.content.firstChild},ut.lastChild.get=function(){return this.content.lastChild},ct.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},ct.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},ct.prototype.hasMarkup=function(t,e,n){return this.type==t&&a(this.attrs,e||t.defaultAttrs||lt)&&J.sameSet(this.marks,n||J.none)},ct.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},ct.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},ct.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},ct.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return Q.empty;var r=this.resolve(t),o=this.resolve(e),i=n?0:r.sharedDepth(e),s=r.start(i),a=r.node(i),l=a.content.cut(r.pos-s,o.pos-s);return new Q(l,r.depth-i,o.depth-i)},ct.prototype.replace=function(t,e,n){return p(this.resolve(t),this.resolve(e),n)},ct.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,o=n.offset;if(e=e.maybeChild(r),!e)return null;if(o==t||e.isText)return e;t-=o+1}},ct.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},ct.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},ct.prototype.resolve=function(t){return et.resolveCached(this,t)},ct.prototype.resolveNoCache=function(t){return et.resolve(this,t)},ct.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,function(t){return n.isInSet(t.marks)&&(r=!0),!r}),r},ut.isBlock.get=function(){return this.type.isBlock},ut.isTextblock.get=function(){return this.type.isTextblock},ut.inlineContent.get=function(){return this.type.inlineContent},ut.isInline.get=function(){return this.type.isInline},ut.isText.get=function(){return this.type.isText},ut.isLeaf.get=function(){return this.type.isLeaf},ut.isAtom.get=function(){return this.type.isAtom},ct.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),_(this.marks,t)},ct.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},ct.prototype.canReplace=function(t,e,n,r,o){void 0===n&&(n=Y.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(t).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var a=r;a<o;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0},ct.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(t).matchType(n),i=o&&o.matchFragment(this.content,e);return!!i&&i.validEnd},ct.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},ct.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach(function(t){return t.check()})},ct.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(function(t){return t.toJSON()})),t},ct.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=Y.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(ct.prototype,ut);var pt=function(t){function e(e,n,r,o){if(t.call(this,e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):_(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(ct),ht=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},ft={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};ht.parse=function(t,e){var n=new dt(t,e);if(null==n.next)return ht.empty;var r=x(n);n.next&&n.err("Unexpected trailing text");var o=D(M(r));return j(o,n),o},ht.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},ht.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r},ft.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},ft.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},ht.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},ht.prototype.fillBefore=function(t,e,n){function r(i,s){var a=i.matchFragment(t,n);if(a&&(!e||a.validEnd))return Y.from(s.map(function(t){return t.createAndFill()}));for(var l=0;l<i.next.length;l+=2){var c=i.next[l],u=i.next[l+1];if(!c.isText&&!c.hasRequiredAttrs()&&o.indexOf(u)==-1){o.push(u);var p=r(u,s.concat(c));if(p)return p}}}void 0===e&&(e=!1),void 0===n&&(n=0);var o=[this];return r(this,[])},ht.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},ht.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(t)){for(var i=[],s=r;s.type;s=s.via)i.push(s.type);return i.reverse()}for(var a=0;a<o.next.length;a+=2){var l=o.next[a];l.isLeaf||l.hasRequiredAttrs()||l.name in e||r.type&&!o.next[a+1].validEnd||(n.push({match:l.contentMatch,type:l,via:r}),e[l.name]=!0)}}},ft.edgeCount.get=function(){return this.next.length>>1},ht.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},ht.prototype.toString=function(){function t(n){e.push(n);for(var r=1;r<n.next.length;r+=2)e.indexOf(n.next[r])==-1&&t(n.next[r])}var e=[];return t(this),e.map(function(t,n){for(var r=n+(t.validEnd?"*":" ")+" ",o=0;o<t.next.length;o+=2)r+=(o?", ":"")+t.next[o].name+"->"+e.indexOf(t.next[o+1]);return r}).join("\n")},Object.defineProperties(ht.prototype,ft),ht.empty=new ht(!0);var dt=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},vt={next:{configurable:!0}};vt.next.get=function(){return this.tokens[this.pos]},dt.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},dt.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(dt.prototype,vt);var yt=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=L(n.attrs),this.defaultAttrs=R(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},gt={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};gt.isInline.get=function(){return!this.isBlock},gt.isTextblock.get=function(){return this.isBlock&&this.inlineContent},gt.isLeaf.get=function(){return this.contentMatch==ht.empty},gt.isAtom.get=function(){return this.isLeaf||this.spec.atom},yt.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},yt.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},yt.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:I(this.attrs,t)},yt.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ct(this,this.computeAttrs(t),Y.from(e),J.setFrom(n))},yt.prototype.createChecked=function(t,e,n){if(e=Y.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new ct(this,this.computeAttrs(t),e,J.setFrom(n))},yt.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),e=Y.from(e),e.size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var o=this.contentMatch.matchFragment(e).fillBefore(Y.empty,!0);return o?new ct(this,t,e.append(o),J.setFrom(n)):null},yt.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},yt.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},yt.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},yt.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:J.empty:t},yt.compile=function(t,e){var n=Object.create(null);t.forEach(function(t,r){return n[t]=new yt(t,e,r)});var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(yt.prototype,gt);var mt=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},bt={isRequired:{configurable:!0}};bt.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(mt.prototype,bt);var wt=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=L(r.attrs),this.rank=e,this.excluded=null;var o=R(this.attrs);this.instance=o&&new J(this,o)};wt.prototype.create=function(t){return!t&&this.instance?this.instance:new J(this,I(this.attrs,t))},wt.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach(function(t,o){return n[t]=new wt(t,r++,e,o)}),n},wt.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t.slice(0,e).concat(t.slice(e+1));return t},wt.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},wt.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var _t=function(t){this.spec={};for(var e in t)this.spec[e]=t[e];this.spec.nodes=$.default.from(t.nodes),this.spec.marks=$.default.from(t.marks),this.nodes=yt.compile(this.spec.nodes,this),this.marks=wt.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var o=this.nodes[r],i=o.spec.content||"",s=o.spec.marks;o.contentMatch=n[i]||(n[i]=ht.parse(i,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==s?null:s?z(this,s.split(" ")):""!=s&&o.inlineContent?null:[]}for(var a in this.marks){var l=this.marks[a],c=l.spec.excludes;l.excluded=null==c?[l]:""==c?[]:z(this,c.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};_t.prototype.node=function(t,e,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof yt))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)},_t.prototype.text=function(t,e){var n=this.nodes.text;return new pt(n,n.defaultAttrs,t,J.setFrom(e))},_t.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},_t.prototype.nodeFromJSON=function(t){return ct.fromJSON(this,t)},_t.prototype.markFromJSON=function(t){return J.fromJSON(this,t)},_t.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var xt=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach(function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)}),this.normalizeLists=!this.tags.some(function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)})};xt.prototype.parse=function(t,e){void 0===e&&(e={});var n=new Pt(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},xt.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new Pt(this,e,!0);return n.addAll(t,null,e.from,e.to),Q.maxOpen(n.finish())},xt.prototype.matchTag=function(t,e,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var o=this.tags[r];if(N(t,o.tag)&&(void 0===o.namespace||t.namespaceURI==o.namespace)&&(!o.context||e.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(t);if(i===!1)continue;o.attrs=i}return o}}},xt.prototype.matchStyle=function(t,e,n,r){for(var o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){var i=this.styles[o];if(!(0!=i.style.indexOf(t)||i.context&&!n.matchesContext(i.context)||i.style.length>t.length&&(61!=i.style.charCodeAt(t.length)||i.style.slice(t.length+1)!=e))){if(i.getAttrs){var s=i.getAttrs(e);if(s===!1)continue;i.attrs=s}return i}}},xt.schemaRules=function(t){function e(t){for(var e=null==t.priority?50:t.priority,r=0;r<n.length;r++){var o=n[r],i=null==o.priority?50:o.priority;if(i<e)break}n.splice(r,0,t)}var n=[],r=function(n){var r=t.marks[n].spec.parseDOM;r&&r.forEach(function(t){e(t=H(t)),t.mark=n})};for(var o in t.marks)r(o);var i=function(n){var r=t.nodes[s].spec.parseDOM;r&&r.forEach(function(t){e(t=H(t)),t.node=s})};for(var s in t.nodes)i();return n},xt.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new xt(t,xt.schemaRules(t)))};var kt={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},St={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ct={ol:!0,ul:!0},Ot=1,Et=2,Tt=4,Mt=function(t,e,n,r,o,i,s){this.type=t,this.attrs=e,this.solid=o,this.match=i||(s&Tt?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=J.none,this.pendingMarks=r,this.stashMarks=[]};Mt.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(Y.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},Mt.prototype.finish=function(t){if(!(this.options&Ot)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=Y.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(Y.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},Mt.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]},Mt.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):W(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}};var Pt=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,o=e.topNode,i=F(e.preserveWhitespace)|(n?Tt:0);r=o?new Mt(o.type,o.attrs,J.none,J.none,!0,e.topMatch||o.type.contentMatch,i):n?new Mt(null,null,J.none,J.none,!0,null,i):new Mt(t.schema.topNodeType,null,J.none,J.none,!0,null,i),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},At={top:{configurable:!0},currentPos:{configurable:!0}};At.top.get=function(){return this.nodes[this.open]},Pt.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(V(e)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(t),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},Pt.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/[^ \t\r\n\u000c]/.test(e)){if(n.options&Ot)n.options&Et||(e=e.replace(/\r?\n|\r/g," "));else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=t.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},Pt.prototype.addElement=function(t,e){var n,r=t.nodeName.toLowerCase();Ct.hasOwnProperty(r)&&this.parser.normalizeLists&&B(t);var o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(o?o.ignore:St.hasOwnProperty(r))this.findInside(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);var i,s=this.top,a=this.needsBlock;if(kt.hasOwnProperty(r))i=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),i&&this.sync(s),this.needsBlock=a}else this.addElementByRule(t,o,o.consuming===!1?n:null)},Pt.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},Pt.prototype.readStyles=function(t){var e=J.none;t:for(var n=0;n<t.length;n+=2)for(var r=null;;){var o=this.parser.matchStyle(t[n],t[n+1],this,r);if(!o)continue t;if(o.ignore)return null;if(e=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(e),o.consuming!==!1)break;r=o}return e},Pt.prototype.addElementByRule=function(t,e,n){var r,o,i,s,a=this;e.node?(o=this.parser.schema.nodes[e.node],o.isLeaf?this.insertNode(o.create(e.attrs))||this.leafFallback(t):r=this.enter(o,e.attrs,e.preserveWhitespace)):(i=this.parser.schema.marks[e.mark],s=i.create(e.attrs),this.addPendingMark(s));var l=this.top;if(o&&o.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(function(t){return a.insertNode(t)});else{var c=e.contentElement;"string"==typeof c?c=t.querySelector(c):"function"==typeof c&&(c=c(t)),c||(c=t),this.findAround(t,c,!0),this.addAll(c,r)}r&&(this.sync(l),this.open--),s&&this.removePendingMark(s,l)},Pt.prototype.addAll=function(t,e,n,r){for(var o=n||0,i=n?t.childNodes[n]:t.firstChild,s=null==r?null:t.childNodes[r];i!=s;i=i.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(i),e&&kt.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,o)},Pt.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(t);if(i&&(!e||e.length>i.length)&&(e=i,n=o,!i.length))break;if(o.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},Pt.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,o=0;o<t.marks.length;o++)n.type&&!n.type.allowsMarkType(t.marks[o].type)||(r=t.marks[o].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},Pt.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},Pt.prototype.enterInner=function(t,e,n,r){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,e);var i=null==r?o.options&~Tt:F(r);o.options&Tt&&0==o.content.length&&(i|=Tt),this.nodes.push(new Mt(t,e,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},Pt.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},Pt.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},Pt.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},At.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},Pt.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},Pt.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},Pt.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)){var o=e.compareDocumentPosition(this.find[r].node);o&(n?2:4)&&(this.find[r].pos=this.currentPos)}},Pt.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},Pt.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=function(t,a){for(;t>=0;t--){var l=n[t];if(""==l){if(t==n.length-1||0==t)continue;for(;a>=i;a--)if(s(t-1,a))return!0;return!1}var c=a>0||0==a&&o?e.nodes[a].type:r&&a>=i?r.node(a-i).type:null;if(!c||c.name!=l&&c.groups.indexOf(l)==-1)return!1;a--}return!0};return s(n.length-1,this.open)},Pt.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},Pt.prototype.addPendingMark=function(t){var e=U(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},Pt.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n],o=r.pendingMarks.lastIndexOf(t);if(o>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);var i=r.popFromStashMark(t);i&&(r.activeMarks=i.addToSet(r.activeMarks))}if(r==e)break}},Object.defineProperties(Pt.prototype,At);var Dt=function(t,e){this.nodes=t||{},this.marks=e||{}};Dt.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=q(e).createDocumentFragment());var o=n,i=null;return t.forEach(function(t){if(i||t.marks.length){i||(i=[]);for(var n=0,s=0;n<i.length&&s<t.marks.length;){var a=t.marks[s];if(r.marks[a.type.name]){if(!a.eq(i[n])||a.type.spec.spanning===!1)break;n+=2,s++}else s++}for(;n<i.length;)o=i.pop(),i.pop();for(;s<t.marks.length;){var l=t.marks[s++],c=r.serializeMark(l,t.isInline,e);c&&(i.push(l,o),o.appendChild(c.dom),o=c.contentDOM||c.dom)}}o.appendChild(r.serializeNode(t,e))}),n},Dt.prototype.serializeNode=function(t,e){void 0===e&&(e={});var n=Dt.renderSpec(q(e),this.nodes[t.type.name](t)),r=n.dom,o=n.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,o,e):this.serializeFragment(t.content,e,o)}return r},Dt.prototype.serializeNodeAndMarks=function(t,e){void 0===e&&(e={});for(var n=this.serializeNode(t,e),r=t.marks.length-1;r>=0;r--){var o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},Dt.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&Dt.renderSpec(q(n),r(t,e))},Dt.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;var r=e[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,s=n?t.createElementNS(n,r):t.createElement(r),a=e[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a)){l=2;for(var c in a)if(null!=a[c]){var u=c.indexOf(" ");u>0?s.setAttributeNS(c.slice(0,u),c.slice(u+1),a[c]):s.setAttribute(c,a[c])}}for(var p=l;p<e.length;p++){var h=e[p];if(0===h){if(p<e.length-1||p>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var f=Dt.renderSpec(t,h,n),d=f.dom,v=f.contentDOM;if(s.appendChild(d),v){if(i)throw new RangeError("Multiple content holes");i=v}}return{dom:s,contentDOM:i}},Dt.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new Dt(this.nodesFromSchema(t),this.marksFromSchema(t)))},Dt.nodesFromSchema=function(t){var e=K(t.nodes);return e.text||(e.text=function(t){return t.text}),e},Dt.marksFromSchema=function(t){return K(t.marks)},e.ContentMatch=ht,e.DOMParser=xt,e.DOMSerializer=Dt,e.Fragment=Y,e.Mark=J,e.MarkType=wt,e.Node=ct,e.NodeRange=st,e.NodeType=yt,e.ReplaceError=l,e.ResolvedPos=et,e.Schema=_t,e.Slice=Q},function(t,e){function n(t){this.content=t}n.prototype={constructor:n,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var o=r&&r!=t?this.remove(r):this,i=o.find(t),s=o.content.slice();return i==-1?s.push(r||t,e):(s[i+1]=e,r&&(s[i]=r)),new n(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new n(r)},addToStart:function(t,e){return new n([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new n(r)},addBefore:function(t,e,r){var o=this.remove(e),i=o.content.slice(),s=o.find(t);return i.splice(s==-1?i.length:s,0,e,r),new n(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=n.from(t),t.size?new n(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=n.from(t),t.size?new n(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=n.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},get size(){return this.content.length>>1}},n.from=function(t){if(t instanceof n)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new n(e)},t.exports=n},function(t,e,n){"use strict";function r(t,e,n,o,i,s){if(e.inlineContent)return d.create(t,n);for(var a=o-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){var l=e.child(a);if(l.isAtom){if(!s&&y.isSelectable(l))return y.create(t,n-(i<0?l.nodeSize:0))}else{var c=r(t,l,n+i,i<0?l.childCount:0,i,s);if(c)return c}n+=l.nodeSize*i}}function o(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o=t.steps[r];if(o instanceof c.ReplaceStep||o instanceof c.ReplaceAroundStep){var i,s=t.mapping.maps[r];s.forEach(function(t,e,n,r){null==i&&(i=r)}),t.setSelection(p.near(t.doc.resolve(i),n))}}}function i(t,e){return e&&t?t.bind(e):t}function s(t,e,n){for(var r in t){var o=t[r];o instanceof Function?o=o.bind(e):"handleDOMEvents"==r&&(o=s(o,e,{})),n[r]=o}return n}function a(t){return t in A?t+"$"+ ++A[t]:(A[t]=0,t+"$")}Object.defineProperty(e,"__esModule",{value:!0});var l=n(171),c=n(174),u=Object.create(null),p=function(t,e,n){this.ranges=n||[new f(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},h={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0
},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};h.anchor.get=function(){return this.$anchor.pos},h.head.get=function(){return this.$head.pos},h.from.get=function(){return this.$from.pos},h.to.get=function(){return this.$to.pos},h.$from.get=function(){return this.ranges[0].$from},h.$to.get=function(){return this.ranges[0].$to},h.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},p.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},p.prototype.replace=function(t,e){void 0===e&&(e=l.Slice.empty);for(var n=e.content.lastChild,r=null,i=0;i<e.openEnd;i++)r=n,n=n.lastChild;for(var s=t.steps.length,a=this.ranges,c=0;c<a.length;c++){var u=a[c],p=u.$from,h=u.$to,f=t.mapping.slice(s);t.replaceRange(f.map(p.pos),f.map(h.pos),c?l.Slice.empty:e),0==c&&o(t,s,(n?n.isInline:r&&r.isTextblock)?-1:1)}},p.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,i=0;i<r.length;i++){var s=r[i],a=s.$from,l=s.$to,c=t.mapping.slice(n),u=c.map(a.pos),p=c.map(l.pos);i?t.deleteRange(u,p):(t.replaceRangeWith(u,p,e),o(t,n,e.isInline?-1:1))}},p.findFrom=function(t,e,n){var o=t.parent.inlineContent?new d(t):r(t.node(0),t.parent,t.pos,t.index(),e,n);if(o)return o;for(var i=t.depth-1;i>=0;i--){var s=e<0?r(t.node(0),t.node(i),t.before(i+1),t.index(i),e,n):r(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,e,n);if(s)return s}},p.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new m(t.node(0))},p.atStart=function(t){return r(t,t,0,0,1)||new m(t)},p.atEnd=function(t){return r(t,t,t.content.size,t.childCount,-1)||new m(t)},p.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=u[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},p.jsonID=function(t,e){if(t in u)throw new RangeError("Duplicate use of selection JSON ID "+t);return u[t]=e,e.prototype.jsonID=t,e},p.prototype.getBookmark=function(){return d.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(p.prototype,h),p.prototype.visible=!0;var f=function(t,e){this.$from=t,this.$to=e},d=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return t.near(o);var i=n.resolve(r.map(this.anchor));return new e(i.parent.inlineContent?i:o,o)},e.prototype.replace=function(e,n){if(void 0===n&&(n=l.Slice.empty),t.prototype.replace.call(this,e,n),n==l.Slice.empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new v(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var s=t.findFrom(r,o,!0)||t.findFrom(r,-o,!0);if(!s)return t.near(r,o);r=s.$head}return n.parent.inlineContent||(0==i?n=r:(n=(t.findFrom(n,-o,!0)||t.findFrom(n,o,!0)).$anchor,n.pos<r.pos!=i<0&&(n=r))),new e(n,r)},Object.defineProperties(e.prototype,n),e}(p);p.jsonID("text",d);var v=function(t,e){this.anchor=t,this.head=e};v.prototype.map=function(t){return new v(t.map(this.anchor),t.map(this.head))},v.prototype.resolve=function(t){return d.between(t.resolve(this.anchor),t.resolve(this.head))};var y=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,s=o.pos,a=n.resolve(s);return i?t.near(a):new e(a)},e.prototype.content=function(){return new l.Slice(l.Fragment.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new g(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&t.type.spec.selectable!==!1},e}(p);y.prototype.visible=!1,p.jsonID("node",y);var g=function(t){this.anchor=t};g.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,r=e.pos;return n?new v(r,r):new g(r)},g.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&y.isSelectable(n)?new y(e):p.near(e)};var m=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(e,n){if(void 0===n&&(n=l.Slice.empty),n==l.Slice.empty){e.delete(0,e.doc.content.size);var r=t.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else t.prototype.replace.call(this,e,n)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return b},e}(p);p.jsonID("all",m);var b={map:function(){return this},resolve:function(t){return new m(t)}},w=1,_=2,x=4,k=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|w)&~_,this.storedMarks=null,this},n.selectionSet.get=function(){return(this.updated&w)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=_,this},e.prototype.ensureMarks=function(t){return l.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(this.updated&_)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=this.updated&~_,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return e!==!1&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||l.Mark.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(e);o=n==e?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o)),this.selection.empty||this.setSelection(p.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=x,this},n.scrolledIntoView.get=function(){return(this.updated&x)>0},Object.defineProperties(e.prototype,n),e}(c.Transform),S=function(t,e,n){this.name=t,this.init=i(e.init,n),this.apply=i(e.apply,n)},C=[new S("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new S("selection",{init:function(t,e){return t.selection||p.atStart(e.doc)},apply:function(t){return t.selection}}),new S("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new S("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],O=function(t,e){var n=this;this.schema=t,this.fields=C.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach(function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new S(t.key,t.spec.state,t))})},E=function(t){this.config=t},T={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};T.schema.get=function(){return this.config.schema},T.plugins.get=function(){return this.config.plugins},E.prototype.apply=function(t){return this.applyTransaction(t).state},E.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0},E.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var s=this.config.plugins[i];if(s.spec.appendTransaction){var a=r?r[i].n:0,l=r?r[i].state:this,c=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",t),!r){r=[];for(var u=0;u<this.config.plugins.length;u++)r.push(u<i?{state:n,n:e.length}:{state:this,n:0})}e.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}},E.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new E(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];e[o.name]=o.apply(t,this[o.name],this,e)}for(var i=0;i<M.length;i++)M[i](this,t,e);return e},T.tr.get=function(){return new k(this)},E.create=function(t){for(var e=new O(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new E(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},E.prototype.reconfigure=function(t){for(var e=new O(this.schema,t.plugins),n=e.fields,r=new E(e),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(t,r)}return r},E.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(function(t){return t.toJSON()})),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e},E.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var r=new O(t.schema,t.plugins),o=new E(r);return r.fields.forEach(function(r){if("doc"==r.name)o.doc=l.Node.fromJSON(t.schema,e.doc);else if("selection"==r.name)o.selection=p.fromJSON(o.doc,e.selection);else if("storedMarks"==r.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var i in n){var s=n[i],a=s.spec.state;if(s.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,i))return void(o[r.name]=a.fromJSON.call(s,t,e[i],o))}o[r.name]=r.init(t,o)}}),o},E.addApplyListener=function(t){M.push(t)},E.removeApplyListener=function(t){var e=M.indexOf(t);e>-1&&M.splice(e,1)},Object.defineProperties(E.prototype,T);var M=[],P=function(t){this.props={},t.props&&s(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:a("plugin")};P.prototype.getState=function(t){return t[this.key]};var A=Object.create(null),D=function(t){void 0===t&&(t="key"),this.key=a(t)};D.prototype.get=function(t){return t.config.pluginsByKey[this.key]},D.prototype.getState=function(t){return t[this.key]},e.AllSelection=m,e.EditorState=E,e.NodeSelection=y,e.Plugin=P,e.PluginKey=D,e.Selection=p,e.SelectionRange=f,e.TextSelection=d,e.Transaction=k},function(t,e,n){"use strict";function r(t,e){return t+e*I}function o(t){return t&R}function i(t){return(t-(t&R))/I}function s(t){var e=Error.call(this,t);return e.__proto__=s.prototype,e}function a(){throw new Error("Override me")}function l(t,e,n){for(var r=t.resolve(e),o=n-e,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var s=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}function c(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function u(t){for(var e=t.parent,n=e.content.cutByIndex(t.startIndex,t.endIndex),r=t.depth;;--r){var o=t.$from.node(r),i=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&o.canReplace(i,s,n))return r;if(0==r||o.type.spec.isolating||!c(o,i,s))break}}function p(t,e,n,r){void 0===r&&(r=t);var o=f(t,e),i=o&&d(r,e);return i?o.map(h).concat({type:e,attrs:n}).concat(i.map(h)):null}function h(t){return{type:t,attrs:null}}function f(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;var s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}function d(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;for(var a=s.length?s[s.length-1]:e,l=a.contentMatch,c=r;l&&c<o;c++)l=l.matchType(n.child(c).type);return l&&l.validEnd?s:null}function v(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function y(t,e,n,r){void 0===n&&(n=1);var o=t.resolve(e),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var a=o.depth-1,l=n-2;a>i;a--,l--){var c=o.node(a),u=o.index(a);if(c.type.spec.isolating)return!1;var p=c.content.cutByIndex(u,c.childCount),h=r&&r[l]||c;if(h!=c&&(p=p.replaceChild(0,h.type.create(h.attrs))),!c.canReplace(u+1,c.childCount)||!h.type.validContent(p))return!1}var f=o.indexAfter(i),d=r&&r[0];return o.node(i).canReplaceWith(f,f,d?d.type:o.node(i+1).type)}function g(t,e){var n=t.resolve(e),r=n.index();return m(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function m(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function b(t,e,n){void 0===n&&(n=-1);for(var r=t.resolve(e),o=r.depth;;o--){var i=void 0,s=void 0,a=r.index(o);if(o==r.depth?(i=r.nodeBefore,s=r.nodeAfter):n>0?(i=r.node(o+1),a++,s=r.node(o).maybeChild(a)):(i=r.node(o).maybeChild(a-1),s=r.node(o+1)),i&&!i.isTextblock&&m(i,s)&&r.node(o).canReplace(a,a+1))return e;if(0==o)break;e=n<0?r.before(o):r.after(o)}}function w(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}function _(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(l>0?1:0);if(1==s?r.node(a).canReplace(c,c,o):r.node(a).contentMatchAt(c).findWrapping(o.firstChild.type))return 0==l?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function x(t,e,n){for(var r=[],o=0;o<t.childCount;o++){var i=t.child(o);i.content.size&&(i=i.copy(x(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return j.Fragment.fromArray(r)}function k(t,e,n,r){if(void 0===n&&(n=e),void 0===r&&(r=j.Slice.empty),e==n&&!r.size)return null;var o=t.resolve(e),i=t.resolve(n);return S(o,i,r)?new U(e,n,r):new $(o,i,r).fit()}function S(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}function C(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(C(t.firstChild.content,e-1,n)))}function O(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(O(t.lastChild.content,e-1,n)))}function E(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function T(t,e,n){if(e<=0)return t;var r=t.content;return e>1&&(r=r.replaceChild(0,T(r.firstChild,e-1,1==r.childCount?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(j.Fragment.empty,!0)))),t.copy(r)}function M(t,e,n,r,o){var i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;var a=r.fillBefore(i.content,!0,s);return a&&!P(n,i.content,s)?a:null}function P(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function A(t,e,n,r,o){if(e<n){var i=t.firstChild;t=t.replaceChild(0,i.copy(A(i.content,e+1,n,r,i)))}if(e>r){var s=o.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(j.Fragment.empty,!0))}return t}function D(t,e){for(var n=[],r=Math.min(t.depth,e.depth),o=r;o>=0;o--){var i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;i==e.start(o)&&n.push(o)}return n}Object.defineProperty(e,"__esModule",{value:!0});var j=n(171),R=65535,I=Math.pow(2,16),L=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},z=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};z.prototype.recover=function(t){var e=0,n=o(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+i(t)},z.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},z.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},z.prototype._map=function(t,e,n){for(var o=0,i=this.inverted?2:1,s=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var l=this.ranges[a]-(this.inverted?o:0);if(l>t)break;var c=this.ranges[a+i],u=this.ranges[a+s],p=l+c;if(t<=p){var h=c?t==l?-1:t==p?1:e:e,f=l+o+(h<0?0:u);if(n)return f;var d=t==(e<0?l:p)?null:r(a/3,t-l);return new L(f,e<0?t!=l:t!=p,d)}o+=u-c}return n?t+o:new L(t+o)},z.prototype.touches=function(t,e){for(var n=0,r=o(e),i=this.inverted?2:1,s=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var l=this.ranges[a]-(this.inverted?n:0);if(l>t)break;var c=this.ranges[a+i],u=l+c;if(t<=u&&a==3*r)return!0;n+=this.ranges[a+s]-c}return!1},z.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),l=this.ranges[r+e],c=this.ranges[r+n];t(s,s+l,a,a+c),o+=c-l}},z.prototype.invert=function(){return new z(this.ranges,!this.inverted)},z.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},z.offset=function(t){return 0==t?z.empty:new z(t<0?[0,-t,0]:[0,0,t])},z.empty=new z([]);var F=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};F.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new F(this.maps,this.mirror,t,e)},F.prototype.copy=function(){return new F(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},F.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},F.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},F.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},F.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},F.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},F.prototype.invert=function(){var t=new F;return t.appendMappingInverted(this),t},F.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},F.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},F.prototype._map=function(t,e,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o],s=i.mapResult(t,e);if(null!=s.recover){var a=this.getMirror(o);if(null!=a&&a>o&&a<this.to){o=a,t=this.maps[a].recover(s.recover);continue}}s.deleted&&(r=!0),t=s.pos}return n?t:new L(t,r)},s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s.prototype.name="TransformError";var B=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new F},N={before:{configurable:!0},docChanged:{configurable:!0}};N.before.get=function(){return this.docs.length?this.docs[0]:this.doc},B.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new s(e.failed);return this},B.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},N.docChanged.get=function(){return this.steps.length>0},B.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(B.prototype,N);var V=Object.create(null),H=function(){};H.prototype.apply=function(t){return a()},H.prototype.getMap=function(){return z.empty},H.prototype.invert=function(t){return a()},H.prototype.map=function(t){return a()},H.prototype.merge=function(t){return null},H.prototype.toJSON=function(){return a()},H.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=V[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},H.jsonID=function(t,e){if(t in V)throw new RangeError("Duplicate use of step JSON ID "+t);return V[t]=e,e.prototype.jsonID=t,e};var W=function(t,e){this.doc=t,this.failed=e};W.ok=function(t){return new W(t,null)},W.fail=function(t){return new W(null,t)},W.fromReplace=function(t,e,n,r){try{return W.ok(t.replace(e,n,r))}catch(t){if(t instanceof j.ReplaceError)return W.fail(t.message);throw t}};var U=function(t){function e(e,n,r,o){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&l(t,this.from,this.to)?W.fail("Structure replace would overwrite content"):W.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new z([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure!=this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?j.Slice.empty:new j.Slice(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var r=this.slice.size+t.slice.size==0?j.Slice.empty:new j.Slice(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),r,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,j.Slice.fromJSON(t,n.slice),!!n.structure)},e}(H);H.jsonID("replace",U);var K=function(t){function e(e,n,r,o,i,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(l(t,this.from,this.gapFrom)||l(t,this.gapTo,this.to)))return W.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return W.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?W.fromReplace(t,this.from,this.to,n):W.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new z([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new e(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,j.Slice.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(H);H.jsonID("replaceAround",K),B.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,o=t.depth,i=n.before(o+1),s=r.after(o+1),a=i,l=s,c=j.Fragment.empty,u=0,p=o,h=!1;p>e;p--)h||n.index(p)>0?(h=!0,c=j.Fragment.from(n.node(p).copy(c)),u++):a--;for(var f=j.Fragment.empty,d=0,v=o,y=!1;v>e;v--)y||r.after(v+1)<r.end(v)?(y=!0,f=j.Fragment.from(r.node(v).copy(f)),d++):l++;return this.step(new K(a,l,i,s,new j.Slice(c.append(f),u,d),c.size-u,!0))},B.prototype.wrap=function(t,e){for(var n=j.Fragment.empty,r=e.length-1;r>=0;r--)n=j.Fragment.from(e[r].type.create(e[r].attrs,n));var o=t.start,i=t.end;return this.step(new K(o,i,o,i,new j.Slice(n,0,0),e.length,!0))},B.prototype.setBlockType=function(t,e,n,r){var o=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(t,e,function(t,e){if(t.isTextblock&&!t.hasMarkup(n,r)&&v(o.doc,o.mapping.slice(i).map(e),n)){o.clearIncompatible(o.mapping.slice(i).map(e,1),n);var s=o.mapping.slice(i),a=s.map(e,1),l=s.map(e+t.nodeSize,1);return o.step(new K(a,l,a+1,l-1,new j.Slice(j.Fragment.from(n.create(r,null,t.marks)),0,0),1,!0)),!1}}),this},B.prototype.setNodeMarkup=function(t,e,n,r){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var i=e.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,i);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new K(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new j.Slice(j.Fragment.from(i),0,0),1,!0))},B.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var r=this.doc.resolve(t),o=j.Fragment.empty,i=j.Fragment.empty,s=r.depth,a=r.depth-e,l=e-1;s>a;s--,l--){o=j.Fragment.from(r.node(s).copy(o));var c=n&&n[l];i=j.Fragment.from(c?c.type.create(c.attrs,i):r.node(s).copy(i))}return this.step(new U(t,t,new j.Slice(o.append(i),e,e),!0))},B.prototype.join=function(t,e){void 0===e&&(e=1);var n=new U(t-e,t+e,j.Slice.empty,!0);return this.step(n)};var q=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new j.Slice(x(n.content,function(t,n){return t.isAtom&&n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t},o),n.openStart,n.openEnd);return W.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new G(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(H);H.jsonID("addMark",q);var G=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=new j.Slice(x(n.content,function(t){return t.mark(e.mark.removeFromSet(t.marks))}),n.openStart,n.openEnd);return W.fromReplace(t,this.from,this.to,r)},e.prototype.invert=function(){return new q(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(H);H.jsonID("removeMark",G),B.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],s=null,a=null;
return this.doc.nodesBetween(t,e,function(r,l,c){if(r.isInline){var u=r.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){for(var p=Math.max(l,t),h=Math.min(l+r.nodeSize,e),f=n.addToSet(u),d=0;d<u.length;d++)u[d].isInSet(f)||(s&&s.to==p&&s.mark.eq(u[d])?s.to=h:o.push(s=new G(p,h,u[d])));a&&a.to==p?a.to=h:i.push(a=new q(p,h,n))}}}),o.forEach(function(t){return r.step(t)}),i.forEach(function(t){return r.step(t)}),this},B.prototype.removeMark=function(t,e,n){var r=this;void 0===n&&(n=null);var o=[],i=0;return this.doc.nodesBetween(t,e,function(r,s){if(r.isInline){i++;var a=null;if(n instanceof j.MarkType){var l=n.isInSet(r.marks);l&&(a=[l])}else n?n.isInSet(r.marks)&&(a=[n]):a=r.marks;if(a&&a.length)for(var c=Math.min(s+r.nodeSize,e),u=0;u<a.length;u++){for(var p=a[u],h=void 0,f=0;f<o.length;f++){var d=o[f];d.step==i-1&&p.eq(o[f].style)&&(h=d)}h?(h.to=c,h.step=i):o.push({style:p,from:Math.max(s,t),to:c,step:i})}}}),o.forEach(function(t){return r.step(new G(t.from,t.to,t.style))}),this},B.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),o=[],i=t+1,s=0;s<r.childCount;s++){var a=r.child(s),l=i+a.nodeSize,c=n.matchType(a.type,a.attrs);if(c){n=c;for(var u=0;u<a.marks.length;u++)e.allowsMarkType(a.marks[u].type)||this.step(new G(i,l,a.marks[u]))}else o.push(new U(i,l,j.Slice.empty));i=l}if(!n.validEnd){var p=n.fillBefore(j.Fragment.empty,!0);this.replace(i,i,new j.Slice(p,0,0))}for(var h=o.length-1;h>=0;h--)this.step(o[h]);return this},B.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=j.Slice.empty);var r=k(this.doc,t,e,n);return r&&this.step(r),this},B.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new j.Slice(j.Fragment.from(n),0,0))},B.prototype.delete=function(t,e){return this.replace(t,e,j.Slice.empty)},B.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var $=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var r=0;r<=t.depth;r++){var o=t.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(r))})}this.placed=j.Fragment.empty;for(var i=t.depth;i>0;i--)this.placed=j.Fragment.from(t.node(i).copy(this.placed))},Y={depth:{configurable:!0}};Y.depth.get=function(){return this.frontier.length-1},$.prototype.fit=function t(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;for(var i=this.placed,s=r.depth,a=o.depth;s&&a&&1==i.childCount;)i=i.firstChild.content,s--,a--;var l=new j.Slice(i,s,a);return e>-1?new K(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new U(r.pos,o.pos,l):void 0},$.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--){var n=void 0,r=void 0;e?(r=E(this.unplaced.content,e-1).firstChild,n=r.content):n=this.unplaced.content;for(var o=n.firstChild,i=this.depth;i>=0;i--){var s=this.frontier[i],a=s.type,l=s.match,c=void 0,u=void 0;if(1==t&&(o?l.matchType(o.type)||(u=l.fillBefore(j.Fragment.from(o),!1)):a.compatibleContent(r.type)))return{sliceDepth:e,frontierDepth:i,parent:r,inject:u};if(2==t&&o&&(c=l.findWrapping(o.type)))return{sliceDepth:e,frontierDepth:i,parent:r,wrap:c};if(r&&l.matchType(r.type))break}}},$.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=E(e,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new j.Slice(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)},$.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=E(e,n);if(o.childCount<=1&&n>0){var i=e.size-n<=n+o.size;this.unplaced=new j.Slice(C(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new j.Slice(C(e,n,1),n,r)},$.prototype.placeNodes=function(t){for(var e=t.sliceDepth,n=t.frontierDepth,r=t.parent,o=t.inject,i=t.wrap;this.depth>n;)this.closeFrontierNode();if(i)for(var s=0;s<i.length;s++)this.openFrontierNode(i[s]);var a=this.unplaced,l=r?r.content:a.content,c=a.openStart-e,u=0,p=[],h=this.frontier[n],f=h.match,d=h.type;if(o){for(var v=0;v<o.childCount;v++)p.push(o.child(v));f=f.matchFragment(o)}for(var y=l.size+e-(a.content.size-a.openEnd);u<l.childCount;){var g=l.child(u),m=f.matchType(g.type);if(!m)break;u++,(u>1||0==c||g.content.size)&&(f=m,p.push(T(g.mark(d.allowedMarks(g.marks)),1==u?c:0,u==l.childCount?y:-1)))}var b=u==l.childCount;b||(y=-1),this.placed=O(this.placed,n,j.Fragment.from(p)),this.frontier[n].match=f,b&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var w=0,_=l;w<y;w++){var x=_.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),_=x.content}this.unplaced=b?0==e?j.Slice.empty:new j.Slice(C(a.content,e-1,1),e-1,y<0?a.openEnd:e-1):new j.Slice(C(a.content,e,u),a.openStart,a.openEnd)},$.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!M(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var n=this.$to,r=n.depth,o=this.$to.after(r);r>1&&o==this.$to.end(--r);)++o;return o},$.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],r=n.match,o=n.type,i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=M(t,e,o,r,i);if(s){for(var a=e-1;a>=0;a--){var l=this.frontier[a],c=l.match,u=l.type,p=M(t,a,u,c,!0);if(!p||p.childCount)continue t}return{depth:e,fit:s,move:i?t.doc.resolve(t.after(e+1)):t}}}},$.prototype.close=function t(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=O(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,o)}return e},$.prototype.openFrontierNode=function(t,e,n){var r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=O(this.placed,this.depth,j.Fragment.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},$.prototype.closeFrontierNode=function(){var t=this.frontier.pop(),e=t.match.fillBefore(j.Fragment.empty,!0);e.childCount&&(this.placed=O(this.placed,this.frontier.length,e))},Object.defineProperties($.prototype,Y),B.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),o=this.doc.resolve(e);if(S(r,o,n))return this.step(new U(t,e,n));var i=D(r,this.doc.resolve(e));0==i[i.length-1]&&i.pop();var s=-(r.depth+1);i.unshift(s);for(var a=r.depth,l=r.pos-1;a>0;a--,l--){var c=r.node(a).type.spec;if(c.defining||c.isolating)break;i.indexOf(a)>-1?s=a:r.before(a)==l&&i.splice(1,0,-a)}for(var u=i.indexOf(s),p=[],h=n.openStart,f=n.content,d=0;;d++){var v=f.firstChild;if(p.push(v),d==n.openStart)break;f=v.content}h>0&&p[h-1].type.spec.defining&&r.node(u).type!=p[h-1].type?h-=1:h>=2&&p[h-1].isTextblock&&p[h-2].type.spec.defining&&r.node(u).type!=p[h-2].type&&(h-=2);for(var y=n.openStart;y>=0;y--){var g=(y+h+1)%(n.openStart+1),m=p[g];if(m)for(var b=0;b<i.length;b++){var w=i[(b+u)%i.length],_=!0;w<0&&(_=!1,w=-w);var x=r.node(w-1),k=r.index(w-1);if(x.canReplaceWith(k,k,m.type,m.marks))return this.replace(r.before(w),_?o.after(w):e,new j.Slice(A(n.content,0,n.openStart,g),g,n.openEnd))}}for(var C=this.steps.length,O=i.length-1;O>=0&&(this.replace(t,e,n),!(this.steps.length>C));O--){var E=i[O];O<0||(t=r.before(E),e=o.after(E))}return this},B.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=w(this.doc,t,n.type);null!=r&&(t=e=r)}return this.replaceRange(t,e,new j.Slice(j.Fragment.from(n),0,0))},B.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),o=D(n,r),i=0;i<o.length;i++){var s=o[i],a=i==o.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var l=1;l<=n.depth&&l<=r.depth;l++)if(t-n.start(l)==n.depth-l&&e>n.end(l)&&r.end(l)-e!=r.depth-l)return this.delete(n.before(l),e);return this.delete(t,e)},e.AddMarkStep=q,e.MapResult=L,e.Mapping=F,e.RemoveMarkStep=G,e.ReplaceAroundStep=K,e.ReplaceStep=U,e.Step=H,e.StepMap=z,e.StepResult=W,e.Transform=B,e.TransformError=s,e.canJoin=g,e.canSplit=y,e.dropPoint=_,e.findWrapping=p,e.insertPoint=w,e.joinPoint=b,e.liftTarget=u,e.replaceStep=k},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(86),o=n(174),i=n(176),s=n(177),a=function(t,e){var n=t.find(function(t){return"style"===t.type.name}),r=n&&n.attrs.style;return i.changeStylesString(r,e)},l=function(t,e,n,i,s){var l=s.create({style:i.style}),c=[],u=[],p=null,h=null;return t.doc.nodesBetween(e,n,function(t,f,d){if(t.isInline){var v=t.marks;if(!l.isInSet(v)&&d.type.allowsMarkType(l.type)){var y=Math.max(f,e),g=Math.min(f+t.nodeSize,n),m=a(v,i);if(m.changed||i.newValue){for(var b=m.changed?{style:m.style||null}:{style:[i.style]+": "+i.newValue+";"},w=s.isInSet(v)?v.find(function(t){return"style"===t.type.name}):null,_=w?r.__assign({},w.attrs,b):b,x=s.create(_),k=x.addToSet(v),S=0;S<v.length;S++)v[S].isInSet(k)||(p&&p.to===y&&p.mark.eq(v[S])?p.to=g:(p=new o.RemoveMarkStep(y,g,v[S]),c.push(p)));var C=h&&h.to===y,O=C&&x.attrs.style===h.mark.attrs.style;C&&O?h.to=g:Object.keys(_).some(function(t){return null!==_[t]})&&(h=new o.AddMarkStep(y,g,x),u.push(h))}}}}),c.forEach(function(e){return t.step(e)}),u.forEach(function(e){return t.step(e)}),c.length+u.length>0};e.getInlineStyles=function(t,e){var n=t.schema.marks.style,r=n?s.selectionMarks(t,n):[];return r.map(function(t){return s.styleValue(t,e)}).filter(function(t){return null!==t})};var c=function(t,e){return function(n,o,c){var u=n.selection,p=u.empty,h=u.$cursor,f=u.ranges;if(p&&!h||!s.markApplies(n.doc,f,t))return!1;var d=!1;if(o)if(c=c||n.tr,h){var v=n.storedMarks||h.marks();if(t.isInSet(v)){var y=a(v,e),g=v.find(function(t){return"style"===t.type.name}),m=r.__assign({},g?g.attrs:{},{style:y.style||null});if(i.shallowEqual(g.attrs,m))return!1;o(c.removeStoredMark(t)),Object.keys(m).some(function(t){return null!==m[t]})&&o(c.addStoredMark(t.create(m))),d=!0}}else{for(var b=0;b<f.length;b++){var w=f[b],_=w.$from,x=w.$to;d=l(c,_.pos,x.pos,e,t)}d&&(c.scrollIntoView(),o(c))}return d}};e.toggleInlineFormat=function(t,e,n){return function(r,o){var i=r.schema.marks,a=t.altStyle,l=t.altMarks,u=void 0===l?[]:l,p=t.mark;e=e||r.tr;var h=!1,f=!1,d=function(){return f=!0};if(a&&i.style){var v=c(i.style,{style:a.name,value:a.value});h=v(r,d,e)}var y=[p].concat(u).filter(function(t){return i[t]}),g=y.map(function(t){return s.hasMark(r,{mark:t})&&i[t]}).filter(function(t){return t});return g.length?s.removeMarks(g,r,d,e):h||s.toggleMark(i[p],n,e)(r,d),f&&o(e),f}},e.applyInlineStyle=function(t,e){return function(n,o){var a=n.schema.marks,l=a.style,u={style:t.style,value:/^.+$/,newValue:t.value},p=n.tr;e&&p.setMeta("commandName",e),p.setMeta("args",t);var h=n.selection,f=h.empty,d=h.$cursor,v=h.ranges;if(f&&!d||!l||!s.markApplies(n.doc,v,l))return!1;if(d){var y=n.storedMarks||d.marks(),g=l.isInSet(y)?y.find(function(t){return"style"===t.type.name}):null,m={style:null};if(g&&g.attrs.style){var b=i.changeStylesString(g.attrs.style,u);b.changed&&b.style&&(m.style=b.style)}else u.newValue&&(m.style=[u.style]+": "+u.newValue+";");var w=g?r.__assign({},g.attrs,m):m;return o(Object.keys(w).some(function(t){return null!==w[t]})?p.addStoredMark(l.create(w)):p.removeStoredMark(l)),!0}return c(l,u)(n,o,p)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(171),o=n(173),i=n(170);e.changeStylesString=function(t,e){var n=e.style,r=e.value,o=e.newValue;if(!t)return{changed:!1,style:null};var i=t.split(/\s*;\s*/).filter(function(t){return Boolean(t)}),s=i.filter(function(t){var e=t.split(/\s*:\s*/);return!(e[0].toLowerCase()===n&&r.test(e[1]))});return o&&s.push(n+": "+o),{style:s.join("; ")+(s.length?";":""),changed:Boolean(o)||s.length!==i.length}},e.canInsert=function(t,e){for(var n=t.selection.$from,r=n.depth;r>=0;r--){var o=n.index(r);if(n.node(r).canReplaceWith(o,o,e))return!0}return!1};var s=function(t){return t instanceof r.Node?t.type.name:t.name},a=function(t,e){return void 0===e&&(e=1),function(n){for(var r=n.$from,o=r.depth;o>0;o--){var i=r.node(o);if(t(i)&&(e-=1,0===e))return{depth:o,node:i}}}};e.findNthParentNodeOfType=function(t,e){return void 0===e&&(e=1),function(n){return a(function(e){return s(e)===s(t)},e)(n)}},e.insertNode=function(t,e){return function(n,r){var o=n.tr.replaceSelectionWith(t);e&&o.scrollIntoView(),r(o)}},e.hasSameMarkup=function(t,e,n,o){var s=r.Fragment.from(i.parseContent(t,n,o)),a=r.Fragment.from(i.parseContent(e,n,o));return s.eq(a)},e.getSelectionText=function(t){var e=t.selection;if(e instanceof o.TextSelection||e instanceof o.AllSelection){var n=e.content().content;return n.textBetween(0,n.size)}return""},e.getNodeFromSelection=function(t){if(t.selection instanceof o.NodeSelection)return t.selection.node},e.selectedLineTextOnly=function(t){var n="",r=!1,o=t.selection,i=t.doc,s=o.$from,a=o.$to,l=o.from,c=o.to;return s.sameParent(a)&&(i.nodesBetween(l,c,function(t){r=r||t.isLeaf&&!t.isText}),r||(n=e.getSelectionText(t))),n},e.indentHtml=function(t){return t.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")},e.shallowEqual=function(t,e){var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(n){return t[n]===e[n]})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(174),o=n(171);e.markApplies=function(t,e,n){for(var r=function(r){var o=e[r],i=o.$from,s=o.$to,a=0===i.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,s.pos,function(t){return!a&&void(a=t.inlineContent&&t.type.allowsMarkType(n))}),a)return{v:!0}},o=0;o<e.length;o++){var i=r(o);if(i)return i.v}return!1},e.toggleMark=function(t,n,r){return function(o,i){var s=o.selection,a=s.empty,l=s.$cursor,c=s.ranges;if(a&&!l||!e.markApplies(o.doc,c,t))return!1;if(i)if(l)i(t.isInSet(o.storedMarks||l.marks())?r.removeStoredMark(t):r.addStoredMark(t.create(n)));else{for(var u=!1,p=0;!u&&p<c.length;p++){var h=c[p],f=h.$from,d=h.$to;u=o.doc.rangeHasMark(f.pos,d.pos,t)}for(var p=0;p<c.length;p++){var v=c[p],f=v.$from,d=v.$to;u?r.removeMark(f.pos,d.pos,t):r.addMark(f.pos,d.pos,t.create(n))}i(r.scrollIntoView())}return!0}},e.removeMark=function(t,e,n,i){void 0===i&&(i=null);var s=[],a=0;return t.doc.nodesBetween(e,n,function(t,r){if(t.isInline){a++;var l=null;if(i instanceof o.MarkType){var c=i.isInSet(t.marks);c&&(l=[c])}else i?i.isInSet(t.marks)&&(l=[i]):l=t.marks;if(l&&l.length)for(var u=Math.min(r+t.nodeSize,n),p=0;p<l.length;p++){for(var h=l[p],f=void 0,d=0;d<s.length;d++){var v=s[d];v.step===a-1&&h.eq(v.style)&&(f=v)}f?(f.to=u,f.step=a):s.push({style:h,from:Math.max(r,e),to:u,step:a})}}}),s.forEach(function(e){return t.step(new r.RemoveMarkStep(e.from,e.to,e.style))}),t},e.removeMarks=function(t,n,r,o){var i=n.selection,s=i.$cursor,a=i.ranges;if(o=o||n.tr,s)t.forEach(function(t){t.isInSet(n.storedMarks||s.marks())&&r(o.removeStoredMark(t))});else{for(var l=function(n){var r=a[n],i=r.$from,s=r.$to;t.forEach(function(t){e.removeMark(o,i.pos,s.pos,t)})},c=0;c<a.length;c++)l(c);r(o.scrollIntoView())}return!0};var i=function(t){return t instanceof Array?t:[t]};e.removeAllMarks=function(t){var n=(void 0===t?{}:t).except,r=void 0===n?[]:n;return function(t,n){var o=t.tr;e.cleanMarks(o,{except:i(r)}),o.docChanged&&n(o)}},e.cleanMarks=function(t,e){var n=e.except,r=t.doc,o=t.selection,i=r.type.schema,s=o.empty,a=o.ranges,l=(n||[]).map(function(t){return t.name});if(!s){var c=Object.keys(i.marks).map(function(t){return i.marks[t]}).filter(function(t){return l.indexOf(t.name)===-1});a.forEach(function(e){var n=e.$from,r=e.$to;c.forEach(function(e){return t.removeMark(n.pos,r.pos,e)})})}},e.hasMark=function(t,n){var r,o=t.schema.marks,i=(n.altMarks||[]).filter(function(t){return o[t]}),s=n.altStyle,a=t.selection,l=a.from,c=a.$from,u=a.to,p=a.empty,h=o[n.mark],f=t.doc,d=!1;return p?(r=t.storedMarks||c.marks(),d=h&&h.isInSet(r)||i.some(function(t){return o[t].isInSet(r)})):d=h&&f.rangeHasMark(l,u,h)||i.some(function(t){return f.rangeHasMark(l,u,o[t])}),!d&&s&&o.style?e.selectionMarks(t,o.style).some(function(t){return null!==e.styleValue(t,s)}):Boolean(d)},e.styleValue=function(t,e){for(var n=t&&t.attrs.style||"",r=n.split(/\s*;\s*/).filter(function(t){return Boolean(t)}),o=0;o<r.length;o++){var i=r[o].split(/\s*:\s*/);if(i[0].toLowerCase()===e.name&&e.value.test(i[1]))return i[1]}return null},e.selectionMarks=function(t,e){var n=t.selection,r=n.from,o=n.$from,i=n.to,s=n.empty,a=[];return s?a.push(e.isInSet(t.storedMarks||o.marks())):t.doc.nodesBetween(r,i,function(t){t.isInline&&a.push(e.isInSet(t.marks))}),a},e.getMark=function(t,n){var r=e.selectionMarks(t,n),o=r.filter(function(t){return Boolean(t)});return r.length===o.length?r[0]:void 0},e.getActiveMarks=function(t,n){var r=e.selectionMarks(t,n),o=r.filter(function(t){return Boolean(t)}),i=r.length!==o.length;return{hasNodesWithoutMarks:i,marks:o}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(175),o=n(177),i=n(173),s=function(t,e){return function(n,r){var o=n.selection,i=o.$cursor,s=o.from,a=o.to,l=n.schema.marks[t.mark];if(i){var c=i.parent,u=i.index(),p=c.child(u).marks.find(function(t){return t.type===l}),h=c.childCount,f=i.pos-i.textOffset,d=c.child(u).nodeSize,v=void 0,y=void 0;for(v=u-1;v>=0&&p.isInSet(c.child(v).marks);)y=c.child(v).nodeSize,d+=y,f-=y,v-=1;for(v=u+1;v<h&&p.isInSet(c.child(v).marks);)d+=c.child(v).nodeSize,v+=1;e.removeMark(f,f+d,l),e.addMark(f,f+d,l.create(t.attrs)),r(e)}else e.doc.nodesBetween(s,a,function(n,o){n.isInline&&l.isInSet(n.marks)&&(e.removeMark(o,o+n.nodeSize,l),e.addMark(o,o+n.nodeSize,l.create(t.attrs)),r(e))})}};e.removeLink=function(t,e){return function(n,i){var s=n.selection.$cursor;if(s){var a=s.parent,l=s.index(),c=n.schema.marks[t.mark],u=a.child(l).marks.find(function(t){return t.type===c}),p=a.childCount,h=s.pos-s.textOffset,f=a.child(l).nodeSize,d=void 0,v=void 0;for(d=l-1;d>=0&&u.isInSet(a.child(d).marks);)v=a.child(d).nodeSize,f+=v,h-=v,d-=1;for(d=l+1;d<p&&u.isInSet(a.child(d).marks);)f+=a.child(d).nodeSize,d+=1;i(o.removeMark(e||n.tr,h,h+f,u))}else r.toggleInlineFormat(t,e)(n,i)}};var a=function(t,e){var n=o.selectionMarks(t,e);return 1===n.length&&n[0]?n[0]:null};e.applyLink=function(t,n){var l=t.mark,c=t.attrs;return void 0===n&&(n="link"),function(t,u){var p=t.schema.marks,h=t.tr;n&&(h.setMeta("commandName",n),h.setMeta("args",c));var f=!1,d=function(){return f=!0};if(a(t,p[l]))s({mark:l,attrs:c},h)(t,d);else{var v=t;o.hasMark(t,{mark:l})&&(e.removeLink({mark:l,attrs:c},h)(t,d),v=i.EditorState.create({doc:h.doc,selection:h.selection})),f?o.toggleMark(p[l],c,h)(v,d):r.toggleInlineFormat({mark:l},h,c)(v,d)}return f&&u(h),f}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.insertText=function(t){return function(e,n){n(e.tr.insertText(t.text,t.from,t.to))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(176);e.insertImage=function(t){return function(e,n){var o=e.schema.nodes.image,i="insertImage",s=o.createAndFill(t);r.insertNode(s)(e,function(e){return n(e.setMeta("commandName",i).setMeta("args",t))})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(182);e.alignBlocks=function(t,e){return function(n,o){var i=r.blockNodes(n),s=n.tr;s.setMeta("commandName",e),i.forEach(function(e){if(e.type.isTextblock){var n={},o=t.find(function(t){return t.node===e.type.name});o&&(n=r.addStyles(e,o.style)),r.changeTextBlock(s,e,e.type,n)}});var a=s.docChanged;return a&&o(s.scrollIntoView()),a}},e.isAligned=function(t,e){var n=r.blockNodes(t),o=!1;return n.forEach(function(t){if(!o&&t.type.isTextblock&&t.attrs.style){var n=e.find(function(e){return e.node===t.type.name});n&&(o=n.style.every(function(e){return!!e.value&&new RegExp(e.name+":\\s?"+e.value,"i").test(t.attrs.style)}))}}),o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(86),o=n(176),i=n(174),s=n(171),a=n(173),l=function(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)};e.changeTextBlock=function(t,e,n,r){if(!n.isTextblock)return!1;var o=t.selection.ranges;o.forEach(function(o){var a=t.steps.length,c=o.$from.pos,u=o.$to.pos;t.doc.nodesBetween(c,u,function(o,c){if(o.eq(e)&&o.isTextblock&&!o.hasMarkup(n,r)&&l(t.doc,t.mapping.slice(a).map(c),n)){t.clearIncompatible(t.mapping.slice(a).map(c,1),n);var u=t.mapping.slice(a),p=u.map(c,1),h=u.map(c+o.nodeSize,1),f=new s.Slice(s.Fragment.from(n.create(r,null,o.marks)),0,0);return t.step(new i.ReplaceAroundStep(p,h,p+1,h-1,f,1,!0)),!1}})})},e.blockNodes=function(t,e){void 0===e&&(e={blocksInSelection:!1});var n=t.doc,r=t.selection,o=r.$from,i=r.ranges,s=e.blocksInSelection,l=[],c=r instanceof a.NodeSelection?r.node:void 0;return c?c.isBlock?(l.push(c),c.nodesBetween(0,c.content.size,function(t){t.isBlock&&l.push(t)})):!s&&o.parent&&o.parent.isBlock&&l.push(o.parent):i.forEach(function(t){var e=t.$from.pos,r=t.$to.pos;n.nodesBetween(e,r,function(t,n,o,i){t.isBlock&&(!s||n>=e&&n+t.content.size+2<=r)&&l.push(t)})}),l},e.formatBlockElements=function(t,n){return function(o,i){var s=e.blockNodes(o),a=o.schema.nodes,l=o.tr;l.setMeta("commandName",n),l.setMeta("args",{value:t}),s.forEach(function(n){if(n.type.isTextblock)if("p"===t){var o=n.attrs,i=o.level,s=r.__rest(o,["level"]);e.changeTextBlock(l,n,a.paragraph,s)}else if(/^h[1-6]$/i.test(t)){var i=parseInt(t.substr(1),10);e.changeTextBlock(l,n,a.heading,r.__assign({},n.attrs,{level:i}))}else if("blockquote"===t){var c=n.attrs,i=c.level,s=r.__rest(c,["level"]);e.changeTextBlock(l,n,a.blockquote,s)}});var c=l.docChanged;return c&&i(l.scrollIntoView()),c}},e.cleanTextBlockFormatting=function(t,n){void 0===n&&(n={blocksInSelection:!0});var o=t.doc,i=t.selection,s=n.blocksInSelection,a=n.blockNodeType,l=e.blockNodes({doc:o,selection:i},{blocksInSelection:s}),c=l.filter(function(t){return t.isTextblock});c.forEach(function(n){var o=n.attrs||{},i=o.style,s=void 0===i?"":i,l=o.class,c=void 0===l?"":l,u=r.__rest(o,["style","class"]),p=a||n.type;(s||c||p!==n.type)&&e.changeTextBlock(t,n,p,u)})},e.getBlockFormats=function(t){var n=e.blockNodes(t),r=t.schema.nodes,o=[];return n.forEach(function(t){t.type===r.paragraph?o.push("p"):t.type===r.heading?o.push("h"+t.attrs.level):t.type===r.blockquote&&o.push("blockquote")}),o},e.addStyles=function(t,e){var n,r,i=t.attrs.style;i&&e.forEach(function(t){r={style:t.name,value:/^.+$/,newValue:t.value},n=o.changeStylesString(i,r),i=n.changed?n.style:i});var s=function(t,e){return(t&&e.value?t+" ":"")+e.value?e.name+": "+e.value+";":""};return i=i||e.reduce(s,""),Object.assign({},t.attrs,{style:i||null})},e.hasNode=function(t,e){var n=t.selection,r=n.from,o=n.to,i=!1;return t.doc.nodesBetween(r,o,function(t){return i=i||t.type===e,!i}),i},e.parentBlockFormat=function(t){var n=e.getBlockFormats(t);return 1===new Set(n).size?n[0]:null},e.activeNode=function(t){return{tag:e.parentBlockFormat(t)||""}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(182),o=n(177);e.cleanFormatting=function(t){return void 0===t&&(t={blocksInSelection:!0}),function(e,n){var i=e.tr,s=t.blocksInSelection,a=t.blockNodeType,l=t.exceptMarks,c=(l||[e.schema.marks.link]).filter(Boolean);o.cleanMarks(i,{except:c}),r.cleanTextBlockFormatting(i,{blocksInSelection:s,blockNodeType:a});var u=i.docChanged;return u&&n&&n(i),u}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(185),o=n(186),i=n(182),s=n(176);e.indentBlocks=function(t,e,n){return function(r,o){var s=i.blockNodes(r),a=r.tr;a.setMeta("commandName",e),s.forEach(function(e){if(e.type.isTextblock){var r=void 0,o=t.find(function(t){return t.node===e.type.name});if(o){var s="rtl"===n?o.rtlStyle:o.style,l={name:s,value:o.step>0?""+o.step+o.unit:""};if(e.attrs.style){var c=new RegExp(s+":\\s?(\\d+)"+o.unit,"i"),u=e.attrs.style.match(c);if(u){var p=parseFloat(u[1])+o.step;p=p<=0?"":p,l.value=""+p+(p?o.unit:"")}}r=i.addStyles(e,[l])}r&&i.changeTextBlock(a,e,e.type,r)}});var l=a.docChanged;return l&&o(a.scrollIntoView()),l}},e.isIndented=function(t,e,n){var r=i.blockNodes(t),o=!1;return r.forEach(function(t){if(!o&&t.type.isTextblock&&t.attrs.style){var r=e.find(function(e){return e.node===t.type.name});if(r){var i="rtl"===n?r.rtlStyle:r.style,s=new RegExp(i+":\\s?\\d+"+r.unit,"i");o=s.test(t.attrs.style)}}}),o},e.canIndentAsListItem=function(t,e){return r.sinkListItem(e)(t)},e.canOutdentAsListItem=function(t,e){var n=t.schema.nodes[e.listsTypes.listItem],o=t.schema.nodes[e.listsTypes.orderedList],i=t.schema.nodes[e.listsTypes.bulletList],a=!!s.findNthParentNodeOfType(o,2)(t.selection),l=!!s.findNthParentNodeOfType(i,2)(t.selection);return(a||l)&&r.liftListItem(n)(t)},e.canBeIndented=function(t,n){var r=t.schema.nodes,s=r[o.indentRules.listsTypes.listItem];return(e.isIndented(t,n.nodes)||o.indentRules.nodes.some(function(e){return r[e.node]&&i.hasNode(t,r[e.node])}))&&!i.hasNode(t,s)},e.indent=function(t,n){var i=t.schema.nodes[o.indentRules.listsTypes.listItem],s=e.canBeIndented(t,o.indentRules);e.canIndentAsListItem(t,i)?r.sinkListItem(i)(t,n):s&&e.indentBlocks(o.indentRules.nodes)(t,n)},e.outdent=function(t,n){var i=t.schema.nodes[o.outdentRules.listsTypes.listItem],s=e.canBeIndented(t,o.outdentRules);e.canOutdentAsListItem(t,o.outdentRules)?r.liftListItem(i)(t,n):s&&e.indentBlocks(o.outdentRules.nodes)(t,n)}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)n[r]=t[r];for(var o in e)n[o]=e[o];return n}function o(t,e,n){return t.append({ordered_list:r(g,{content:"list_item+",group:n}),bullet_list:r(m,{content:"list_item+",group:n}),list_item:r(b,{content:e})})}function i(t,e){return function(n,r){var o=n.selection,i=o.$from,a=o.$to,l=i.blockRange(a),c=!1,u=l;if(!l)return!1;if(l.depth>=2&&i.node(l.depth-1).type.compatibleContent(t)&&0==l.startIndex){if(0==i.index(l.depth-1))return!1;var p=n.doc.resolve(l.start-2);u=new f.NodeRange(p,p,l.depth),l.endIndex<l.parent.childCount&&(l=new f.NodeRange(i,n.doc.resolve(a.end(l.depth)),l.depth)),c=!0}var d=h.findWrapping(u,t,e,l);return!!d&&(r&&r(s(n.tr,l,d,c,t).scrollIntoView()),!0)}}function s(t,e,n,r,o){for(var i=f.Fragment.empty,s=n.length-1;s>=0;s--)i=f.Fragment.from(n[s].type.create(n[s].attrs,i));t.step(new h.ReplaceAroundStep(e.start-(r?2:0),e.end,e.start,e.end,new f.Slice(i,0,0),n.length,!0));for(var a=0,l=0;l<n.length;l++)n[l].type==o&&(a=l+1);for(var c=n.length-a,u=e.start+n.length-(r?2:0),p=e.parent,d=e.startIndex,v=e.endIndex,y=!0;d<v;d++,y=!1)!y&&h.canSplit(t.doc,u,c)&&(t.split(u,c),u+=2*c),u+=p.child(d).nodeSize;return t}function a(t){return function(e,n){var r=e.selection,o=r.$from,i=r.$to,s=r.node;if(s&&s.isBlock||o.depth<2||!o.sameParent(i))return!1;var a=o.node(-1);if(a.type!=t)return!1;if(0==o.parent.content.size&&o.node(-1).childCount==o.indexAfter(-1)){if(2==o.depth||o.node(-3).type!=t||o.index(-2)!=o.node(-2).childCount-1)return!1;if(n){for(var l=f.Fragment.empty,c=o.index(-1)>0,u=o.depth-(c?1:2);u>=o.depth-3;u--)l=f.Fragment.from(o.node(u).copy(l));l=l.append(f.Fragment.from(t.createAndFill()));var p=e.tr.replace(o.before(c?null:-1),o.after(-3),new f.Slice(l,c?3:2,2));p.setSelection(e.selection.constructor.near(p.doc.resolve(o.pos+(c?3:2)))),n(p.scrollIntoView())}return!0}var d=i.pos==o.end()?a.contentMatchAt(0).defaultType:null,v=e.tr.delete(o.pos,i.pos),y=d&&[null,{type:d}];return!!h.canSplit(v.doc,o.pos,2,y)&&(n&&n(v.split(o.pos,2,y).scrollIntoView()),!0)}}function l(t){return function(e,n){var r=e.selection,o=r.$from,i=r.$to,s=o.blockRange(i,function(e){return e.childCount&&e.firstChild.type==t});return!!s&&(!n||(o.node(s.depth-1).type==t?c(e,n,t,s):u(e,n,s)))}}function c(t,e,n,r){var o=t.tr,i=r.end,s=r.$to.end(r.depth);return i<s&&(o.step(new h.ReplaceAroundStep(i-1,s,i,s,new f.Slice(f.Fragment.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new f.NodeRange(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth)),e(o.lift(r,h.liftTarget(r)).scrollIntoView()),!0}function u(t,e,n){for(var r=t.tr,o=n.parent,i=n.end,s=n.endIndex-1,a=n.startIndex;s>a;s--)i-=o.child(s).nodeSize,r.delete(i-1,i+1);var l=r.doc.resolve(n.start),c=l.nodeAfter,u=0==n.startIndex,p=n.endIndex==o.childCount,d=l.node(-1),v=l.index(-1);if(!d.canReplace(v+(u?0:1),v+1,c.content.append(p?f.Fragment.empty:f.Fragment.from(o))))return!1;var y=l.pos,g=y+c.nodeSize;return r.step(new h.ReplaceAroundStep(y-(u?1:0),g+(p?1:0),y+1,g-1,new f.Slice((u?f.Fragment.empty:f.Fragment.from(o.copy(f.Fragment.empty))).append(p?f.Fragment.empty:f.Fragment.from(o.copy(f.Fragment.empty))),u?0:1,p?0:1),u?0:1)),e(r.scrollIntoView()),!0}function p(t){return function(e,n){var r=e.selection,o=r.$from,i=r.$to,s=o.blockRange(i,function(e){return e.childCount&&e.firstChild.type==t});if(!s)return!1;var a=s.startIndex;if(0==a)return!1;var l=s.parent,c=l.child(a-1);if(c.type!=t)return!1;if(n){var u=c.lastChild&&c.lastChild.type==l.type,p=f.Fragment.from(u?t.create():null),d=new f.Slice(f.Fragment.from(t.create(null,f.Fragment.from(l.type.create(null,p)))),u?3:1,0),v=s.start,y=s.end;n(e.tr.step(new h.ReplaceAroundStep(v-(u?3:1),y,v,y,d,1,!0)).scrollIntoView())}return!0}}Object.defineProperty(e,"__esModule",{value:!0});var h=n(174),f=n(171),d=["ol",0],v=["ul",0],y=["li",0],g={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1}}}],toDOM:function(t){return 1==t.attrs.order?d:["ol",{start:t.attrs.order},0]}},m={parseDOM:[{tag:"ul"}],toDOM:function(){return v}},b={parseDOM:[{tag:"li"}],toDOM:function(){return y},defining:!0};e.addListNodes=o,e.bulletList=m,e.liftListItem=l,e.listItem=b,e.orderedList=g,e.sinkListItem=p,e.splitListItem=a,e.wrapInList=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(86),o=n(187);e.indentRules={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"}],listsTypes:r.__assign({},o.listsTypes)},e.outdentRules={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"}],listsTypes:r.__assign({},o.listsTypes)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(86);e.listsTypes={orderedList:"ordered_list",bulletList:"bullet_list",listItem:"list_item"},e.orderedList={listType:e.listsTypes.orderedList,types:r.__assign({},e.listsTypes)},e.bulletList={listType:e.listsTypes.bulletList,types:r.__assign({},e.listsTypes)}},function(t,e,n){"use strict";function r(t,e,n){var r=t.selection,o=r.from,i=r.to,s=t.schema.nodes,a=s.paragraph,l=s.heading,c=[];e.doc.nodesBetween(o,i,function(t,e){t.type!==a&&t.type!==l||c.push({node:t,pos:e})});for(var u=c.length-1;u>=0;u--){var p=c[u],h=e.doc.resolve(e.mapping.map(p.pos));if(h.depth>0){var f=void 0;f=p.node.textContent&&p.node.textContent.length>0?e.doc.resolve(e.mapping.map(p.pos+p.node.textContent.length)):e.doc.resolve(e.mapping.map(p.pos+1));var d=h.blockRange(f);d&&e.lift(d,x(t.schema,h,n))}}return e}function o(t){return function(e,n,r){if(!r)return!1;e=r.state;var o=e.schema.nodes[t.listType],i=e.selection,s=i.$from,l=i.$to,c=s.node(-2),h=s.node(-3),f=a(e.doc,s,l,o);return(c&&c.type===o||h&&h.type===o)&&f?u(t)(e,n):(f||(u(t)(e,n),
e=r.state),p(o)(e,n))}}function i(t,e,n,r){r||(r=t.schema.nodes.listItem);var o=e.$from,i=e.$to,s=o.blockRange(i,function(t){return t.childCount&&t.firstChild.type===r});if(!s||s.depth<2||o.node(s.depth-1).type!==r)return n;var a=s.end,l=i.end(s.depth);return a<l&&(n.step(new g.ReplaceAroundStep(a-1,l,a,l,new v.Slice(v.Fragment.from(r.create(void 0,s.parent.copy())),1,0),1,!0)),s=new v.NodeRange(n.doc.resolve(o.pos),n.doc.resolve(l),s.depth)),n.lift(s,g.liftTarget(s)).scrollIntoView()}function s(t,e,n,r,o,s){s||(s=t.schema.nodes.listItem);var a=!1;return o.doc.nodesBetween(e,n,function(n,l){if(!a&&n.type===s&&l>e){a=!0;for(var c=r+3;c>r+2;){var u=o.doc.resolve(o.mapping.map(l));c=u.depth;var p=o.doc.resolve(o.mapping.map(l+n.textContent.length)),h=new y.TextSelection(u,p);o=i(t,h,o,s)}}}),o}function a(t,e,n,r){return 0===l(t,e,n).filter(function(t){return t.type!==r}).length}function l(t,e,n){for(var r=Array(),o=c(t,e).depth,i=t.resolve(e.start(o));i.pos<=n.start(n.depth);){var s=Math.min(i.depth,o),a=i.node(s);if(a&&r.push(a),0===s)break;var l=t.resolve(i.after(s));if(l.start(s)>=t.nodeSize-2)break;l.depth!==i.depth&&(l=t.resolve(l.pos+2)),i=l.depth?t.resolve(l.start(l.depth)):t.resolve(l.end(l.depth))}return r}function c(t,e){var n=["blockquote","bulletList","orderedList"];if(1===e.depth)return e;for(var r=e.node(e.depth),o=e;e.depth>=1;)e=t.resolve(e.before(e.depth)),r=e.node(e.depth),r&&n.indexOf(r.type.name)!==-1&&(o=e);return o}function u(t){return function(e,n){var r=e.tr,o=e.selection,i=o.$from,s=o.$to;return r.doc.nodesBetween(i.pos,s.pos,function(n,o){if(n.isTextblock||"blockquote"===n.type.name||"div"===n.type.name){var i=new y.NodeSelection(r.doc.resolve(r.mapping.map(o))),s=i.$from.blockRange(i.$to);if(!s||i.$from.parent.type!==e.schema.nodes[t.listItem])return!1;var a=s&&g.liftTarget(s);if(void 0===a||null===a)return!1;r.lift(s,a)}}),n&&n(r),!0}}function p(t){return m.autoJoin(b.wrapInList(t),function(e,n){return e.type===n.type&&e.type===t})}function h(t,n,r){return e.toggleList(t,n,r,d.__assign({listType:w.bulletList.listType},w.bulletList.types))}function f(t,n,r){return e.toggleList(t,n,r,d.__assign({listType:w.orderedList.listType},w.orderedList.types))}Object.defineProperty(e,"__esModule",{value:!0});var d=n(86),v=n(171),y=n(173),g=n(174),m=n(189),b=n(185),w=n(187),_=function(t,e){for(var n,r=e.bulletList,o=e.orderedList,i=e.listItem,s=t.depth-1;s>0;s--){var a=t.node(s);if(a.type!==r&&a.type!==o||(n=s),a.type!==r&&a.type!==o&&a.type!==i)break}return n},x=function(t,e,n){for(var r=e.depth,o=t.nodes[n.bulletList],i=t.nodes[n.orderedList],s=t.nodes[n.listItem],a=e.depth;a>0;a--){var l=e.node(a);if(l.type!==o&&l.type!==i||(r=a),l.type!==o&&l.type!==i&&l.type!==s)break}return r-1};e.toggleList=function(t,e,n,i,a){var l=i.listType,c=t.selection,u=c.$from.node(c.$from.depth-2),p=c.$to.node(c.$to.depth-2);if(u&&u.type.name===l&&p&&p.type.name===l){var h=n.state.schema.nodes,f={bulletList:h[i.bulletList],orderedList:h[i.orderedList],listItem:h[i.listItem]},d=_(c.$to,f),v=s(t,c.$to.pos,c.$to.end(d),d,n.state.tr,f.listItem);return v=r(t,v,i),v.setMeta("commandName",a),e(v),!0}return o(i)(t,e,n)},e.toggleUnorderedList=h,e.toggleOrderedList=f,e.splitListItemKeepMarks=function(t){return function(e,n){return b.splitListItem(t)(e,function(t){var r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();r&&t.ensureMarks(r),n(t)})}}},function(t,e,n){"use strict";function r(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function o(t,e,n){var r=t.selection,o=r.$cursor;if(!o||(n?!n.endOfTextblock("backward",t):o.parentOffset>0))return!1;var s=a(o);if(!s){var l=o.blockRange(),c=l&&D.liftTarget(l);return null!=c&&(e&&e(t.tr.lift(l,c).scrollIntoView()),!0)}var u=s.nodeBefore;if(!u.type.spec.isolating&&S(t,s,e))return!0;if(0==o.parent.content.size&&(i(u,"end")||R.NodeSelection.isSelectable(u))){if(e){var p=t.tr.deleteRange(o.before(),o.after());p.setSelection(i(u,"end")?R.Selection.findFrom(p.doc.resolve(p.mapping.map(s.pos,-1)),-1):R.NodeSelection.create(p.doc,s.pos-u.nodeSize)),e(p.scrollIntoView())}return!0}return!(!u.isAtom||s.depth!=o.depth-1)&&(e&&e(t.tr.delete(s.pos-u.nodeSize,s.pos).scrollIntoView()),!0)}function i(t,e){for(;t;t="start"==e?t.firstChild:t.lastChild)if(t.isTextblock)return!0;return!1}function s(t,e,n){var r=t.selection,o=r.$head,i=r.empty,s=o;if(!i)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;s=a(o)}var l=s&&s.nodeBefore;return!(!l||!R.NodeSelection.isSelectable(l))&&(e&&e(t.tr.setSelection(R.NodeSelection.create(t.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)}function a(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function l(t,e,n){var r=t.selection,o=r.$cursor;if(!o||(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size))return!1;var s=u(o);if(!s)return!1;var a=s.nodeAfter;if(S(t,s,e))return!0;if(0==o.parent.content.size&&(i(a,"start")||R.NodeSelection.isSelectable(a))){if(e){var l=t.tr.deleteRange(o.before(),o.after());l.setSelection(i(a,"start")?R.Selection.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):R.NodeSelection.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}return!(!a.isAtom||s.depth!=o.depth-1)&&(e&&e(t.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0)}function c(t,e,n){var r=t.selection,o=r.$head,i=r.empty,s=o;if(!i)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;s=u(o)}var a=s&&s.nodeAfter;return!(!a||!R.NodeSelection.isSelectable(a))&&(e&&e(t.tr.setSelection(R.NodeSelection.create(t.doc,s.pos)).scrollIntoView()),!0)}function u(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function p(t,e){var n,r=t.selection,o=r instanceof R.NodeSelection;if(o){if(r.node.isTextblock||!D.canJoin(t.doc,r.from))return!1;n=r.from}else if(n=D.joinPoint(t.doc,r.from,-1),null==n)return!1;if(e){var i=t.tr.join(n);o&&i.setSelection(R.NodeSelection.create(i.doc,n-t.doc.resolve(n).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0}function h(t,e){var n,r=t.selection;if(r instanceof R.NodeSelection){if(r.node.isTextblock||!D.canJoin(t.doc,r.to))return!1;n=r.to}else if(n=D.joinPoint(t.doc,r.to,1),null==n)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0}function f(t,e){var n=t.selection,r=n.$from,o=n.$to,i=r.blockRange(o),s=i&&D.liftTarget(i);return null!=s&&(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)}function d(t,e){var n=t.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}function v(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e),r=n.type;if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function y(t,e){var n=t.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),s=r.indexAfter(-1),a=v(i.contentMatchAt(s));if(!i.canReplaceWith(s,s,a))return!1;if(e){var l=r.after(),c=t.tr.replaceWith(l,l,a.createAndFill());c.setSelection(R.Selection.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0}function g(t,e){var n=t.selection,r=n.$from,o=n.$to;if(r.parent.inlineContent||o.parent.inlineContent)return!1;var i=v(r.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(s,i.createAndFill());a.setSelection(R.TextSelection.create(a.doc,s+1)),e(a.scrollIntoView())}return!0}function m(t,e){var n=t.selection,r=n.$cursor;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){var o=r.before();if(D.canSplit(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}var i=r.blockRange(),s=i&&D.liftTarget(i);return null!=s&&(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)}function b(t,e){var n=t.selection,r=n.$from,o=n.$to;if(t.selection instanceof R.NodeSelection&&t.selection.node.isBlock)return!(!r.parentOffset||!D.canSplit(t.doc,r.pos))&&(e&&e(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(e){var i=o.parentOffset==o.parent.content.size,s=t.tr;t.selection instanceof R.TextSelection&&s.deleteSelection();var a=0==r.depth?null:v(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=i&&a?[{type:a}]:null,c=D.canSplit(s.doc,s.mapping.map(r.pos),1,l);l||c||!D.canSplit(s.doc,s.mapping.map(r.pos),1,a&&[{type:a}])||(l=[{type:a}],c=!0),c&&(s.split(s.mapping.map(r.pos),1,l),i||r.parentOffset||r.parent.type==a||!r.node(-1).canReplace(r.index(-1),r.indexAfter(-1),j.Fragment.from([a.create(),r.parent]))||s.setNodeMarkup(s.mapping.map(r.before()),a)),e(s.scrollIntoView())}return!0}function w(t,e){return b(t,e&&function(n){var r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();r&&n.ensureMarks(r),e(n)})}function _(t,e){var n,r=t.selection,o=r.$from,i=r.to,s=o.sharedDepth(i);return 0!=s&&(n=o.before(s),e&&e(t.tr.setSelection(R.NodeSelection.create(t.doc,n))),!0)}function x(t,e){return e&&e(t.tr.setSelection(new R.AllSelection(t.doc))),!0}function k(t,e,n){var r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(i,i+1)||!o.isTextblock&&!D.canJoin(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0))}function S(t,e,n){var r,o,s=e.nodeBefore,a=e.nodeAfter;if(s.type.spec.isolating||a.type.spec.isolating)return!1;if(k(t,e,n))return!0;var l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(r=(o=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&o.matchType(r[0]||a.type).validEnd){if(n){for(var c=e.pos+a.nodeSize,u=j.Fragment.empty,p=r.length-1;p>=0;p--)u=j.Fragment.from(r[p].create(null,u));u=j.Fragment.from(s.copy(u));var h=t.tr.step(new D.ReplaceAroundStep(e.pos-1,c,e.pos,c,new j.Slice(u,1,0),r.length,!0)),f=c+2*r.length;D.canJoin(h.doc,f)&&h.join(f),n(h.scrollIntoView())}return!0}var d=R.Selection.findFrom(e,1),v=d&&d.$from.blockRange(d.$to),y=v&&D.liftTarget(v);if(null!=y&&y>=e.depth)return n&&n(t.tr.lift(v,y).scrollIntoView()),!0;if(l&&a.isTextblock&&i(s,"end")){for(var g=s,m=[];m.push(g),!g.isTextblock;)g=g.lastChild;if(g.canReplace(g.childCount,g.childCount,a.content)){if(n){for(var b=j.Fragment.empty,w=m.length-1;w>=0;w--)b=j.Fragment.from(m[w].copy(b));var _=t.tr.step(new D.ReplaceAroundStep(e.pos-m.length,e.pos+a.nodeSize,e.pos+1,e.pos+a.nodeSize-1,new j.Slice(b,m.length,0),0,!0));n(_.scrollIntoView())}return!0}}return!1}function C(t,e){return function(n,r){var o=n.selection,i=o.$from,s=o.$to,a=i.blockRange(s),l=a&&D.findWrapping(a,t,e);return!!l&&(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0)}}function O(t,e){return function(n,r){var o=n.selection,i=o.from,s=o.to,a=!1;return n.doc.nodesBetween(i,s,function(r,o){if(a)return!1;if(r.isTextblock&&!r.hasMarkup(t,e))if(r.type==t)a=!0;else{var i=n.doc.resolve(o),s=i.index();a=i.parent.canReplaceWith(s,s+1,t)}}),!!a&&(r&&r(n.tr.setBlockType(i,s,t,e).scrollIntoView()),!0)}}function E(t,e,n){for(var r=function(r){var o=e[r],i=o.$from,s=o.$to,a=0==i.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,s.pos,function(t){return!a&&void(a=t.inlineContent&&t.type.allowsMarkType(n))}),a)return{v:!0}},o=0;o<e.length;o++){var i=r(o);if(i)return i.v}return!1}function T(t,e){return function(n,r){var o=n.selection,i=o.empty,s=o.$cursor,a=o.ranges;if(i&&!s||!E(n.doc,a,t))return!1;if(r)if(s)r(t.isInSet(n.storedMarks||s.marks())?n.tr.removeStoredMark(t):n.tr.addStoredMark(t.create(e)));else{for(var l=!1,c=n.tr,u=0;!l&&u<a.length;u++){var p=a[u],h=p.$from,f=p.$to;l=n.doc.rangeHasMark(h.pos,f.pos,t)}for(var d=0;d<a.length;d++){var v=a[d],y=v.$from,g=v.$to;if(l)c.removeMark(y.pos,g.pos,t);else{var m=y.pos,b=g.pos,w=y.nodeAfter,_=g.nodeBefore,x=w&&w.isText?/^\s*/.exec(w.text)[0].length:0,k=_&&_.isText?/\s*$/.exec(_.text)[0].length:0;m+x<b&&(m+=x,b-=k),c.addMark(m,b,t.create(e))}}r(c.scrollIntoView())}return!0}}function M(t,e){return function(n){if(!n.isGeneric)return t(n);for(var r=[],o=0;o<n.mapping.maps.length;o++){for(var i=n.mapping.maps[o],s=0;s<r.length;s++)r[s]=i.map(r[s]);i.forEach(function(t,e,n,o){return r.push(n,o)})}for(var a=[],l=0;l<r.length;l+=2)for(var c=r[l],u=r[l+1],p=n.doc.resolve(c),h=p.sharedDepth(u),f=p.node(h),d=p.indexAfter(h),v=p.after(h+1);v<=u;++d){var y=f.maybeChild(d);if(!y)break;if(d&&a.indexOf(v)==-1){var g=f.child(d-1);g.type==y.type&&e(g,y)&&a.push(v)}v+=y.nodeSize}a.sort(function(t,e){return t-e});for(var m=a.length-1;m>=0;m--)D.canJoin(n.doc,a[m])&&n.join(a[m]);t(n)}}function P(t,e){if(Array.isArray(e)){var n=e;e=function(t){return n.indexOf(t.type.name)>-1}}return function(n,r){return t(n,r&&M(r,e))}}function A(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e,n,r){for(var o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}Object.defineProperty(e,"__esModule",{value:!0});var D=n(174),j=n(171),R=n(173),I=A(r,o,s),L=A(r,l,c),z={Enter:A(d,g,m,b),"Mod-Enter":y,Backspace:I,"Mod-Backspace":I,Delete:L,"Mod-Delete":L,"Mod-a":x},F={"Ctrl-h":z.Backspace,"Alt-Backspace":z["Mod-Backspace"],"Ctrl-d":z.Delete,"Ctrl-Alt-Backspace":z["Mod-Delete"],"Alt-Delete":z["Mod-Delete"],"Alt-d":z["Mod-Delete"]};for(var B in z)F[B]=z[B];var N="undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform(),V=N?F:z;e.autoJoin=P,e.baseKeymap=V,e.chainCommands=A,e.createParagraphNear=g,e.deleteSelection=r,e.exitCode=y,e.joinBackward=o,e.joinDown=h,e.joinForward=l,e.joinUp=p,e.lift=f,e.liftEmptyBlock=m,e.macBaseKeymap=F,e.newlineInCode=d,e.pcBaseKeymap=z,e.selectAll=x,e.selectNodeBackward=s,e.selectNodeForward=c,e.selectParentNode=_,e.setBlockType=O,e.splitBlock=b,e.splitBlockKeepMarks=w,e.toggleMark=T,e.wrapIn=C},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){return{name:t,value:e}};e.alignLeftRules=[{node:"paragraph",style:[n("text-align","left")]},{node:"heading",style:[n("text-align","left")]}],e.alignRightRules=[{node:"paragraph",style:[n("text-align","right")]},{node:"heading",style:[n("text-align","right")]}],e.alignCenterRules=[{node:"paragraph",style:[n("text-align","center")]},{node:"heading",style:[n("text-align","center")]}],e.alignJustifyRules=[{node:"paragraph",style:[n("text-align","justify")]},{node:"heading",style:[n("text-align","justify")]}],e.alignRemoveRules=[{node:"paragraph",style:[n("text-align","")]},{node:"heading",style:[n("text-align","")]}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(86),o=n(192),i=0,s=["blockquote",i],a=["hr"],l=["pre",["code",i]],c=["ol",0],u=["ul",0],p=["li",0],h=function(t){for(var e,n={},r=t.attributes,o=0;o<r.length;o++)e=r[o],n[e.name]=e.value;return n},f=function(){return{style:{default:null},class:{default:null},id:{default:null}}},d=function(t,e){for(var n in t)if(n&&null!==t[n]&&n!==e)return!0;return!1},v=function(t,e){var n={};for(var r in t)r&&null!==t[r]&&r!==e&&(n[r]=t[r]);return n},y=function(t){var e;return e={},e[t]={name:t,inclusive:!0,parseDOM:[{tag:t}],toDOM:function(){return[t,i]}},e},g=r.__assign({link:{attrs:r.__assign({},f(),{href:{default:null},target:{default:null},title:{default:null}}),inclusive:!1,parseDOM:[{tag:"a",getAttrs:h}],toDOM:function(t){return["a",v(t.attrs),i]}}},y("strong"),y("b"),y("em"),y("i"),y("u"),y("del"),y("sub"),y("sup"),y("code"),{style:{attrs:r.__assign({},f()),parseDOM:[{tag:"span",getAttrs:h}],toDOM:function(t){return d(t.attrs)?["span",v(t.attrs),i]:["span",i]}}});e.marks=g;var m=r.__assign({doc:{content:"block+"},paragraph:{content:"inline*",group:"block",attrs:r.__assign({},f()),parseDOM:[{tag:"p",getAttrs:h}],toDOM:function(t){return d(t.attrs)?["p",v(t.attrs),i]:["p",i]}},div:{content:"block*",group:"block",attrs:r.__assign({},f()),parseDOM:[{tag:"div",getAttrs:h}],toDOM:function(t){return d(t.attrs)?["div",v(t.attrs),i]:["div",i]}},blockquote:{attrs:r.__assign({},f()),content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote",getAttrs:h}],toDOM:function(t){return d(t.attrs)?["blockquote",v(t.attrs),i]:s}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return a}},heading:{attrs:r.__assign({},f(),{level:{default:1}}),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:function(t){return r.__assign({},h(t),{level:1})}},{tag:"h2",getAttrs:function(t){return r.__assign({},h(t),{level:2})}},{tag:"h3",getAttrs:function(t){return r.__assign({},h(t),{level:3})}},{tag:"h4",getAttrs:function(t){return r.__assign({},h(t),{level:4})}},{tag:"h5",getAttrs:function(t){return r.__assign({},h(t),{level:5})}},{tag:"h6",getAttrs:function(t){return r.__assign({},h(t),{level:6})}}],toDOM:function(t){return d(t.attrs,"level")?["h"+t.attrs.level,v(t.attrs,"level"),i]:["h"+t.attrs.level,i]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return l}},text:{inline:!0,group:"inline"},image:{inline:!0,attrs:r.__assign({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},f()),group:"inline",draggable:!0,parseDOM:[{tag:"img",getAttrs:h}],toDOM:function(t){return d(t.attrs)?["img",v(t.attrs)]:["img"]}},hard_break:{inline:!0,attrs:r.__assign({},f()),group:"inline",selectable:!1,parseDOM:[{tag:"br",getAttrs:h}],toDOM:function(t){return d(t.attrs)?["br",v(t.attrs)]:["br"]}},ordered_list:{content:"list_item+",group:"block",attrs:r.__assign({},f(),{type:{default:null},order:{default:1}}),parseDOM:[{tag:"ol",getAttrs:function(t){return r.__assign({},h(t),{order:t.hasAttribute("start")?parseInt(t.getAttribute("start")||"1",10):1})}}],toDOM:function(t){return 1===t.attrs.order?d(t.attrs,"order")?["ol",v(t.attrs,"order"),i]:c:["ol",r.__assign({},v(t.attrs,"order"),{start:t.attrs.order}),i]}},bullet_list:{content:"list_item+",group:"block",attrs:r.__assign({},f()),parseDOM:[{tag:"ul",getAttrs:h}],toDOM:function(t){return d(t.attrs)?["ul",v(t.attrs),i]:u}},list_item:{content:"(paragraph | heading) block*",attrs:r.__assign({},f()),parseDOM:[{tag:"li",getAttrs:h}],toDOM:function(t){return d(t.attrs)?["li",v(t.attrs),i]:p},defining:!0}},o.tableNodes({tableGroup:"block",cellContent:"block+",cellAttributes:{}}));e.nodes=m},function(t,e,n){"use strict";function r(t){if("table"!=t.type.spec.tableRole)throw new RangeError("Not a table node: "+t.type.name);for(var e=o(t),n=t.childCount,r=[],s=0,a=null,l=[],c=0,u=e*n;c<u;c++)r[c]=0;for(var p=0,h=0;p<n;p++){var f=t.child(p);h++;for(var d=0;;d++){for(;s<r.length&&0!=r[s];)s++;if(d==f.childCount)break;for(var v=f.child(d),y=v.attrs,g=y.colspan,m=y.rowspan,b=y.colwidth,w=0;w<m;w++){if(w+p>=n){(a||(a=[])).push({type:"overlong_rowspan",pos:h,n:m-w});break}for(var _=s+w*e,x=0;x<g;x++){0==r[_+x]?r[_+x]=h:(a||(a=[])).push({type:"collision",row:p,pos:h,n:g-x});var k=b&&b[x];if(k){var S=(_+x)%e*2,C=l[S];null==C||C!=k&&1==l[S+1]?(l[S]=k,l[S+1]=1):C==k&&l[S+1]++}}}s+=g,h+=v.nodeSize}for(var O=(p+1)*e,E=0;s<O;)0==r[s++]&&E++;E&&(a||(a=[])).push({type:"missing",row:p,n:E}),h++}for(var T=new $t(e,n,r,a),M=!1,P=0;!M&&P<l.length;P+=2)null!=l[P]&&l[P+1]<n&&(M=!0);return M&&i(T,l,t),T}function o(t){for(var e=-1,n=!1,r=0;r<t.childCount;r++){var o=t.child(r),i=0;if(n)for(var s=0;s<r;s++)for(var a=t.child(s),l=0;l<a.childCount;l++){var c=a.child(l);s+c.attrs.rowspan>r&&(i+=c.attrs.colspan)}for(var u=0;u<o.childCount;u++){var p=o.child(u);i+=p.attrs.colspan,p.attrs.rowspan>1&&(n=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}function i(t,e,n){t.problems||(t.problems=[]);for(var r=0,o={};r<t.map.length;r++){var i=t.map[r];if(!o[i]){o[i]=!0;for(var a=n.nodeAt(i),l=null,c=0;c<a.attrs.colspan;c++){var u=(r+c)%t.width,p=e[2*u];null==p||a.attrs.colwidth&&a.attrs.colwidth[c]==p||((l||(l=s(a.attrs)))[c]=p)}l&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}}function s(t){if(t.colwidth)return t.colwidth.slice();for(var e=[],n=0;n<t.colspan;n++)e.push(0);return e}function a(t,e){var n=t.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(function(t){return Number(t)}):null,o=Number(t.getAttribute("colspan")||1),i={colspan:o,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:r&&r.length==o?r:null};for(var s in e){var a=e[s].getFromDOM,l=a&&a(t);null!=l&&(i[s]=l)}return i}function l(t,e){var n={};1!=t.attrs.colspan&&(n.colspan=t.attrs.colspan),1!=t.attrs.rowspan&&(n.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(n["data-colwidth"]=t.attrs.colwidth.join(","));for(var r in e){var o=e[r].setDOMAttr;o&&o(t.attrs[r],n)}return n}function c(t){var e=t.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var r in e)n[r]={default:e[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:t.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(t){return a(t,e)}}],toDOM:function(t){return["td",l(t,e),0]}},table_header:{content:t.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(t){return a(t,e)}}],toDOM:function(t){return["th",l(t,e),0]}}}}function u(t){var e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(var n in t.nodes){var r=t.nodes[n],o=r.spec.tableRole;o&&(e[o]=r)}}return e}function p(t){for(var e=t.depth-1;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return t.node(0).resolve(t.before(e+1));return null}function h(t){for(var e=t.depth;e>0;e--){var n=t.node(e).type.spec.tableRole;if("cell"===n||"header_cell"===n)return t.node(e)}return null}function f(t){for(var e=t.selection.$head,n=e.depth;n>0;n--)if("row"==e.node(n).type.spec.tableRole)return!0;return!1}function d(t){var e=t.selection;return e.$anchorCell?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&"cell"==e.node.type.spec.tableRole?e.$anchor:p(e.$head)||v(e.$head)}function v(t){for(var e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){var r=e.type.spec.tableRole;if("cell"==r||"header_cell"==r)return t.doc.resolve(n)}for(var o=t.nodeBefore,i=t.pos;o;o=o.lastChild,i--){var s=o.type.spec.tableRole;if("cell"==s||"header_cell"==s)return t.doc.resolve(i-o.nodeSize)}}function y(t){return"row"==t.parent.type.spec.tableRole&&t.nodeAfter}function g(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function m(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function b(t){return $t.get(t.node(-1)).findCell(t.pos-t.start(-1))}function w(t){return $t.get(t.node(-1)).colCount(t.pos-t.start(-1))}function _(t,e,n){var r=t.start(-1),o=$t.get(t.node(-1)),i=o.nextCell(t.pos-r,e,n);return null==i?null:t.node(0).resolve(r+i)}function x(t,e,n){var r={};for(var o in t)r[o]=t[o];return r[e]=n,r}function k(t,e,n){void 0===n&&(n=1);var r=x(t,"colspan",t.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(function(t){return t>0})||(r.colwidth=null)),r}function S(t,e,n){void 0===n&&(n=1);var r=x(t,"colspan",t.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(e,0,0)}return r}function C(t,e,n){for(var r=u(e.type.schema).header_cell,o=0;o<t.height;o++)if(e.nodeAt(t.map[n+o*t.width]).type!=r)return!1;return!0}function O(t){if(!(t.selection instanceof Xt))return null;var e=[];return t.selection.forEachCell(function(t,n){e.push(Vt.Decoration.node(n,n+t.nodeSize,{class:"selectedCell"}))}),Vt.DecorationSet.create(t.doc,e)}function E(t){var e=t.$from,n=t.$to;if(e.pos==n.pos||e.pos<e.pos-6)return!1;for(var r=e.pos,o=n.pos,i=e.depth;i>=0&&!(e.after(i+1)<e.end(i));i--,r++);for(var s=n.depth;s>=0&&!(n.before(s+1)>n.start(s));s--,o--);return r==o&&/row|table/.test(e.node(i).type.spec.tableRole)}function T(t){for(var e,n,r=t.$from,o=t.$to,i=r.depth;i>0;i--){var s=r.node(i);if("cell"===s.type.spec.tableRole||"header_cell"===s.type.spec.tableRole){e=s;break}}for(var a=o.depth;a>0;a--){var l=o.node(a);if("cell"===l.type.spec.tableRole||"header_cell"===l.type.spec.tableRole){n=l;break}}return e!==n&&0===o.parentOffset}function M(t,e,n){var r,o,i=(e||t).selection,s=(e||t).doc;if(i instanceof Ft.NodeSelection&&(o=i.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)r=Xt.create(s,i.from);else if("row"==o){var a=s.resolve(i.from+1);r=Xt.rowSelection(a,a)}else if(!n){var l=$t.get(i.node),c=i.from+1,u=c+l.map[l.width*l.height-1];r=Xt.create(s,c+1,u)}}else i instanceof Ft.TextSelection&&E(i)?r=Ft.TextSelection.create(s,i.from):i instanceof Ft.TextSelection&&T(i)&&(r=Ft.TextSelection.create(s,i.$from.start(),i.$from.end()));return r&&(e||(e=t.tr)).setSelection(r),e}function P(t){if(!t.size)return null;for(var e=t.content,n=t.openStart,r=t.openEnd;1==e.childCount&&(n>0&&r>0||"table"==e.firstChild.type.spec.tableRole);)n--,r--,e=e.firstChild.content;var o=e.firstChild,i=o.type.spec.tableRole,s=o.type.schema,a=[];if("row"==i)for(var l=0;l<e.childCount;l++){var c=e.child(l).content,p=l?0:Math.max(0,n-1),h=l<e.childCount-1?0:Math.max(0,r-1);(p||h)&&(c=D(u(s).row,new Bt.Slice(c,p,h)).content),a.push(c)}else{if("cell"!=i&&"header_cell"!=i)return null;a.push(n||r?D(u(s).row,new Bt.Slice(e,n,r)).content:e)}return A(s,a)}function A(t,e){for(var n=[],r=0;r<e.length;r++)for(var o=e[r],i=o.childCount-1;i>=0;i--)for(var s=o.child(i).attrs,a=s.rowspan,l=s.colspan,c=r;c<r+a;c++)n[c]=(n[c]||0)+l;for(var p=0,h=0;h<n.length;h++)p=Math.max(p,n[h]);for(var f=0;f<n.length;f++)if(f>=e.length&&e.push(Bt.Fragment.empty),n[f]<p){for(var d=u(t).cell.createAndFill(),v=[],y=n[f];y<p;y++)v.push(d);e[f]=e[f].append(Bt.Fragment.from(v))}return{height:e.length,width:p,rows:e}}function D(t,e){var n=t.createAndFill(),r=new Ht.Transform(n).replace(0,n.content.size,e);return r.doc}function j(t,e,n){var r=t.width,o=t.height,i=t.rows;if(r!=e){for(var s=[],a=[],l=0;l<i.length;l++){for(var c=i[l],u=[],p=s[l]||0,h=0;p<e;h++){var f=c.child(h%c.childCount);p+f.attrs.colspan>e&&(f=f.type.create(k(f.attrs,f.attrs.colspan,p+f.attrs.colspan-e),f.content)),u.push(f),p+=f.attrs.colspan;for(var d=1;d<f.attrs.rowspan;d++)s[l+d]=(s[l+d]||0)+f.attrs.colspan}a.push(Bt.Fragment.from(u))}i=a,r=e}if(o!=n){for(var v=[],y=0,g=0;y<n;y++,g++){for(var m=[],b=i[g%o],w=0;w<b.childCount;w++){var _=b.child(w);y+_.attrs.rowspan>n&&(_=_.type.create(x(_.attrs,"rowspan",Math.max(1,n-_.attrs.rowspan)),_.content)),m.push(_)}v.push(Bt.Fragment.from(m))}i=v,o=n}return{width:r,height:o,rows:i}}function R(t,e,n,r,o,i,s){var a,l,c=t.doc.type.schema,p=u(c);if(o>e.width)for(var h=0,f=0;h<e.height;h++){var d=n.child(h);f+=d.nodeSize;var v=[],y=void 0;y=null==d.lastChild||d.lastChild.type==p.cell?a||(a=p.cell.createAndFill()):l||(l=p.header_cell.createAndFill());for(var g=e.width;g<o;g++)v.push(y);t.insert(t.mapping.slice(s).map(f-1+r),v)}if(i>e.height){for(var m=[],b=0,w=(e.height-1)*e.width;b<Math.max(e.width,o);b++){var _=!(b>=e.width)&&n.nodeAt(e.map[w+b]).type==p.header_cell;m.push(_?l||(l=p.header_cell.createAndFill()):a||(a=p.cell.createAndFill()))}for(var x=p.row.create(null,Bt.Fragment.from(m)),k=[],S=e.height;S<i;S++)k.push(x);t.insert(t.mapping.slice(s).map(r+n.nodeSize-2),k)}return!(!a&&!l)}function I(t,e,n,r,o,i,s,a){if(0==s||s==e.height)return!1;for(var l=!1,c=o;c<i;c++){var u=s*e.width+c,p=e.map[u];if(e.map[u-e.width]==p){l=!0;var h=n.nodeAt(p),f=e.findCell(p),d=f.top,v=f.left;t.setNodeMarkup(t.mapping.slice(a).map(p+r),null,x(h.attrs,"rowspan",s-d)),t.insert(t.mapping.slice(a).map(e.positionAt(s,v,n)),h.type.createAndFill(x(h.attrs,"rowspan",d+h.attrs.rowspan-s))),c+=h.attrs.colspan-1}}return l}function L(t,e,n,r,o,i,s,a){if(0==s||s==e.width)return!1;for(var l=!1,c=o;c<i;c++){var u=c*e.width+s,p=e.map[u];if(e.map[u-1]==p){l=!0;var h=n.nodeAt(p),f=e.colCount(p),d=t.mapping.slice(a).map(p+r);t.setNodeMarkup(d,null,k(h.attrs,s-f,h.attrs.colspan-(s-f))),t.insert(d+h.nodeSize,h.type.createAndFill(k(h.attrs,0,s-f))),c+=h.attrs.rowspan-1}}return l}function z(t,e,n,r,o){function i(){s=n?h.doc.nodeAt(n-1):h.doc,a=$t.get(s),f=h.mapping.maps.length}var s=n?t.doc.nodeAt(n-1):t.doc,a=$t.get(s),l=r.top,c=r.left,u=c+o.width,p=l+o.height,h=t.tr,f=0;R(h,a,s,n,u,p,f)&&i(),I(h,a,s,n,c,u,l,f)&&i(),I(h,a,s,n,c,u,p,f)&&i(),L(h,a,s,n,l,p,c,f)&&i(),L(h,a,s,n,l,p,u,f)&&i();for(var d=l;d<p;d++){var v=a.positionAt(d,c,s),y=a.positionAt(d,u,s);h.replace(h.mapping.slice(f).map(v+n),h.mapping.slice(f).map(y+n),new Bt.Slice(o.rows[d-l],0,0))}i(),h.setSelection(new Xt(h.doc.resolve(n+a.positionAt(l,c,s)),h.doc.resolve(n+a.positionAt(p-1,u-1,s)))),e(h)}function F(t,e,n){return!n.eq(t.selection)&&(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function B(t,e){return function(n,r,o){var i=n.selection;if(i instanceof Xt)return F(n,r,Ft.Selection.near(i.$headCell,e));if("horiz"!=t&&!i.empty)return!1;var s=K(o,t,e);if(null==s)return!1;if("horiz"==t)return F(n,r,Ft.Selection.near(n.doc.resolve(i.head+e),e));var a,l=n.doc.resolve(s),c=_(l,t,e);return a=c?Ft.Selection.near(c,1):e<0?Ft.Selection.near(n.doc.resolve(l.before(-1)),-1):Ft.Selection.near(n.doc.resolve(l.after(-1)),1),F(n,r,a)}}function N(t,e){return function(n,r,o){var i=n.selection;if(!(i instanceof Xt)){var s=K(o,t,e);if(null==s)return!1;i=new Xt(n.doc.resolve(s))}var a=_(i.$headCell,t,e);return!!a&&F(n,r,new Xt(i.$anchorCell,a))}}function V(t,e){var n=t.selection;if(!(n instanceof Xt))return!1;if(e){var r=t.tr,o=u(t.schema).cell.createAndFill().content;n.forEachCell(function(t,e){t.content.eq(o)||r.replace(r.mapping.map(e+1),r.mapping.map(e+t.nodeSize-1),new Bt.Slice(o,0,0))}),r.docChanged&&e(r)}return!0}function H(t,e){var n=t.state.doc,r=p(n.resolve(e));return!!r&&(t.dispatch(t.state.tr.setSelection(new Xt(r))),!0)}function W(t,e,n){if(!f(t.state))return!1;var r=P(n),o=t.state.selection;if(o instanceof Xt){r||(r={width:1,height:1,rows:[Bt.Fragment.from(D(u(t.state.schema).cell,n))]});var i=o.$anchorCell.node(-1),s=o.$anchorCell.start(-1),a=$t.get(i).rectBetween(o.$anchorCell.pos-s,o.$headCell.pos-s);return r=j(r,a.right-a.left,a.bottom-a.top),z(t.state,t.dispatch,s,a,r),!0}if(r){var l=d(t.state),c=l.start(-1);return z(t.state,t.dispatch,c,$t.get(l.node(-1)).findCell(l.pos-c),r),!0}return!1}function U(t,e){function n(e,n){var r=G(t,n),o=null==Yt.getState(t.state);if(!r||!m(e,r)){if(!o)return;r=e}var i=new Xt(e,r);if(o||!t.state.selection.eq(i)){var s=t.state.tr.setSelection(i);o&&s.setMeta(Yt,e.pos),t.dispatch(s)}}function r(){t.root.removeEventListener("mouseup",r),t.root.removeEventListener("dragstart",r),t.root.removeEventListener("mousemove",o),null!=Yt.getState(t.state)&&t.dispatch(t.state.tr.setMeta(Yt,-1))}function o(o){var i,a=Yt.getState(t.state);if(null!=a)i=t.state.doc.resolve(a);else if(q(t,o.target)!=s&&(i=G(t,e),!i))return r();i&&n(i,o)}if(!e.ctrlKey&&!e.metaKey){var i,s=q(t,e.target);if(e.shiftKey&&t.state.selection instanceof Xt)n(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&s&&null!=(i=p(t.state.selection.$anchor))&&G(t,e).pos!=i.pos)n(i,e),e.preventDefault();else if(!s)return;t.root.addEventListener("mouseup",r),t.root.addEventListener("dragstart",r),t.root.addEventListener("mousemove",o)}}function K(t,e,n){if(!(t.state.selection instanceof Ft.TextSelection))return null;for(var r=t.state.selection,o=r.$head,i=o.depth-1;i>=0;i--){var s=o.node(i),a=n<0?o.index(i):o.indexAfter(i);if(a!=(n<0?0:s.childCount))return null;if("cell"==s.type.spec.tableRole||"header_cell"==s.type.spec.tableRole){var l=o.before(i),c="vert"==e?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(c)?l:null}}return null;
}function q(t,e){for(;e&&e!=t.dom;e=e.parentNode)if("TD"==e.nodeName||"TH"==e.nodeName)return e}function G(t,e){var n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?p(t.state.doc.resolve(n.pos)):null}function $(t,e,n,r){var o=t.childCount,i=e.childCount;t:for(var s=0,a=0;s<i;s++){for(var l=e.child(s),c=a,u=Math.min(o,s+3);c<u;c++)if(t.child(c)==l){a=c+1,n+=l.nodeSize;continue t}r(l,n),a<o&&t.child(a).sameMarkup(l)?$(t.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function Y(t,e){var n,r=function(e,r){"table"==e.type.spec.tableRole&&(n=X(t,e,r,n))};return e?e.doc!=t.doc&&$(e.doc,t.doc,0,r):t.doc.descendants(r),n}function X(t,e,n,r){var o=$t.get(e);if(!o.problems)return r;r||(r=t.tr);for(var i=[],s=0;s<o.height;s++)i.push(0);for(var a=0;a<o.problems.length;a++){var l=o.problems[a];if("collision"==l.type){for(var c=e.nodeAt(l.pos),p=0;p<c.attrs.rowspan;p++)i[l.row+p]+=l.n;r.setNodeMarkup(r.mapping.map(n+1+l.pos),null,k(c.attrs,c.attrs.colspan-l.n,l.n))}else if("missing"==l.type)i[l.row]+=l.n;else if("overlong_rowspan"==l.type){var h=e.nodeAt(l.pos);r.setNodeMarkup(r.mapping.map(n+1+l.pos),null,x(h.attrs,"rowspan",h.attrs.rowspan-l.n))}else if("colwidth mismatch"==l.type){var f=e.nodeAt(l.pos);r.setNodeMarkup(r.mapping.map(n+1+l.pos),null,x(f.attrs,"colwidth",l.colwidth))}}for(var d,v,y=0;y<i.length;y++)i[y]&&(null==d&&(d=y),v=y);for(var g=0,m=n+1;g<o.height;g++){var b=e.child(g),w=m+b.nodeSize,_=i[g];if(_>0){var S="cell";b.firstChild&&(S=b.firstChild.type.spec.tableRole);for(var C=[],O=0;O<_;O++)C.push(u(t.schema)[S].createAndFill());var E=0!=g&&d!=g-1||v!=g?w-1:m+1;r.insert(r.mapping.map(E),C)}m=w}return r.setMeta(Qt,{fixTables:!0})}function Z(t){var e,n=t.selection,r=d(t),o=r.node(-1),i=r.start(-1),s=$t.get(o);return e=n instanceof Xt?s.rectBetween(n.$anchorCell.pos-i,n.$headCell.pos-i):s.findCell(r.pos-i),e.tableStart=i,e.map=s,e.table=o,e}function J(t,e,n){var r=e.map,o=e.tableStart,i=e.table,s=n>0?-1:0;C(r,i,n+s)&&(s=0==n||n==r.width?null:0);for(var a=0;a<r.height;a++){var l=a*r.width+n;if(n>0&&n<r.width&&r.map[l-1]==r.map[l]){var c=r.map[l],p=i.nodeAt(c);t.setNodeMarkup(t.mapping.map(o+c),null,S(p.attrs,n-r.colCount(c))),a+=p.attrs.rowspan-1}else{var h=null==s?u(i.type.schema).cell:i.nodeAt(r.map[l+s]).type,f=r.positionAt(a,n,i);t.insert(t.mapping.map(o+f),h.createAndFill())}}return t}function Q(t,e){if(!f(t))return!1;if(e){var n=Z(t);e(J(t.tr,n,n.left))}return!0}function tt(t,e){if(!f(t))return!1;if(e){var n=Z(t);e(J(t.tr,n,n.right))}return!0}function et(t,e,n){for(var r=e.map,o=e.table,i=e.tableStart,s=t.mapping.maps.length,a=0;a<r.height;){var l=a*r.width+n,c=r.map[l],u=o.nodeAt(c);if(n>0&&r.map[l-1]==c||n<r.width-1&&r.map[l+1]==c)t.setNodeMarkup(t.mapping.slice(s).map(i+c),null,k(u.attrs,n-r.colCount(c)));else{var p=t.mapping.slice(s).map(i+c);t.delete(p,p+u.nodeSize)}a+=u.attrs.rowspan}}function nt(t,e){if(!f(t))return!1;if(e){var n=Z(t),r=t.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var o=n.right-1;et(r,n,o),o!=n.left;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=$t.get(n.table);e(r)}return!0}function rt(t,e,n){for(var r=u(e.type.schema).header_cell,o=0;o<t.width;o++)if(e.nodeAt(t.map[o+n*t.width]).type!=r)return!1;return!0}function ot(t,e,n){for(var r=e.map,o=e.tableStart,i=e.table,s=o,a=0;a<n;a++)s+=i.child(a).nodeSize;var l=[],c=n>0?-1:0;rt(r,i,n+c)&&(c=0==n||n==r.height?null:0);for(var p=0,h=r.width*n;p<r.width;p++,h++)if(n>0&&n<r.height&&r.map[h]==r.map[h-r.width]){var f=r.map[h],d=i.nodeAt(f).attrs;t.setNodeMarkup(o+f,null,x(d,"rowspan",d.rowspan+1)),p+=d.colspan-1}else{var v=null==c?u(i.type.schema).cell:i.nodeAt(r.map[h+c*r.width]).type;l.push(v.createAndFill())}return t.insert(s,u(i.type.schema).row.create(null,l)),t}function it(t,e){if(!f(t))return!1;if(e){var n=Z(t);e(ot(t.tr,n,n.top))}return!0}function st(t,e){if(!f(t))return!1;if(e){var n=Z(t);e(ot(t.tr,n,n.bottom))}return!0}function at(t,e,n){for(var r=e.map,o=e.table,i=e.tableStart,s=0,a=0;a<n;a++)s+=o.child(a).nodeSize;var l=s+o.child(n).nodeSize,c=t.mapping.maps.length;t.delete(s+i,l+i);for(var u=0,p=n*r.width;u<r.width;u++,p++){var h=r.map[p];if(n>0&&h==r.map[p-r.width]){var f=o.nodeAt(h).attrs;t.setNodeMarkup(t.mapping.slice(c).map(h+i),null,x(f,"rowspan",f.rowspan-1)),u+=f.colspan-1}else if(n<r.width&&h==r.map[p+r.width]){var d=o.nodeAt(h),v=d.type.create(x(d.attrs,"rowspan",d.attrs.rowspan-1),d.content),y=r.positionAt(n+1,u,o);t.insert(t.mapping.slice(c).map(i+y),v),u+=d.attrs.colspan-1}}}function lt(t,e){if(!f(t))return!1;if(e){var n=Z(t),r=t.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var o=n.bottom-1;at(r,n,o),o!=n.top;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=$t.get(n.table);e(r)}return!0}function ct(t){var e=t.content;return 1==e.childCount&&e.firstChild.isTextblock&&0==e.firstChild.childCount}function ut(t,e){for(var n=t.width,r=t.height,o=t.map,i=e.top*n+e.left,s=i,a=(e.bottom-1)*n+e.left,l=i+(e.right-e.left-1),c=e.top;c<e.bottom;c++){if(e.left>0&&o[s]==o[s-1]||e.right<n&&o[l]==o[l+1])return!0;s+=n,l+=n}for(var u=e.left;u<e.right;u++){if(e.top>0&&o[i]==o[i-n]||e.bottom<r&&o[a]==o[a+n])return!0;i++,a++}return!1}function pt(t,e){var n=t.selection;if(!(n instanceof Xt)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=Z(t),o=r.map;if(ut(o,r))return!1;if(e){for(var i,s,a=t.tr,l={},c=Bt.Fragment.empty,u=r.top;u<r.bottom;u++)for(var p=r.left;p<r.right;p++){var h=o.map[u*o.width+p],f=r.table.nodeAt(h);if(!l[h])if(l[h]=!0,null==i)i=h,s=f;else{ct(f)||(c=c.append(f.content));var d=a.mapping.map(h+r.tableStart);a.delete(d,d+f.nodeSize)}}if(a.setNodeMarkup(i+r.tableStart,null,x(S(s.attrs,s.attrs.colspan,r.right-r.left-s.attrs.colspan),"rowspan",r.bottom-r.top)),c.size){var v=i+1+s.content.size,y=ct(s)?i+1:v;a.replaceWith(y+r.tableStart,v+r.tableStart,c)}a.setSelection(new Xt(a.doc.resolve(i+r.tableStart))),e(a)}return!0}function ht(t,e){var n=u(t.schema);return ft(function(t){var e=t.node;return n[e.type.spec.tableRole]})(t,e)}function ft(t){return function(e,n){var r,o,i=e.selection;if(i instanceof Xt){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(r=h(i.$from),!r)return!1;o=p(i.$from).pos}if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(n){var s=r.attrs,a=[],l=s.colwidth;s.rowspan>1&&(s=x(s,"rowspan",1)),s.colspan>1&&(s=x(s,"colspan",1));for(var c=Z(e),u=e.tr,f=0;f<c.right-c.left;f++)a.push(l?x(s,"colwidth",l&&l[f]?[l[f]]:null):s);for(var d,v=c.top;v<c.bottom;v++){var y=c.map.positionAt(v,c.left,c.table);v==c.top&&(y+=r.nodeSize);for(var g=c.left,m=0;g<c.right;g++,m++)g==c.left&&v==c.top||u.insert(d=u.mapping.map(y+c.tableStart,1),t({node:r,row:v,col:g}).createAndFill(a[m]))}u.setNodeMarkup(o,t({node:r,row:c.top,col:c.left}),a[0]),i instanceof Xt&&u.setSelection(new Xt(u.doc.resolve(i.$anchorCell.pos),d&&u.doc.resolve(d))),n(u)}return!0}}function dt(t,e){return function(n,r){if(!f(n))return!1;var o=d(n);if(o.nodeAfter.attrs[t]===e)return!1;if(r){var i=n.tr;n.selection instanceof Xt?n.selection.forEachCell(function(n,r){n.attrs[t]!==e&&i.setNodeMarkup(r,null,x(n.attrs,t,e))}):i.setNodeMarkup(o.pos,null,x(o.nodeAfter.attrs,t,e)),r(i)}return!0}}function vt(t){return function(e,n){if(!f(e))return!1;if(n){for(var r=u(e.schema),o=Z(e),i=e.tr,s=o.map.cellsInRect("column"==t?new Gt(o.left,0,o.right,o.map.height):"row"==t?new Gt(0,o.top,o.map.width,o.bottom):o),a=s.map(function(t){return o.table.nodeAt(t)}),l=0;l<s.length;l++)a[l].type==r.header_cell&&i.setNodeMarkup(o.tableStart+s[l],r.cell,a[l].attrs);if(0==i.steps.length)for(var c=0;c<s.length;c++)i.setNodeMarkup(o.tableStart+s[c],r.header_cell,a[c].attrs);n(i)}return!0}}function yt(t,e,n){for(var r=e.map.cellsInRect({left:0,top:0,right:"row"==t?e.map.width:1,bottom:"column"==t?e.map.height:1}),o=0;o<r.length;o++){var i=e.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function gt(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?vt(t):function(e,n){if(!f(e))return!1;if(n){var r=u(e.schema),o=Z(e),i=e.tr,s=yt("row",o,r),a=yt("column",o,r),l="column"===t?s:"row"===t&&a,c=l?1:0,p="column"==t?new Gt(0,c,1,o.map.height):"row"==t?new Gt(c,0,o.map.width,1):o,h="column"==t?a?r.cell:r.header_cell:"row"==t?s?r.cell:r.header_cell:r.cell;o.map.cellsInRect(p).forEach(function(t){var e=t+o.tableStart,n=i.doc.nodeAt(e);n&&i.setNodeMarkup(e,h,n.attrs)}),n(i)}return!0}}function mt(t,e){if(e<0){var n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(var r=t.index(-1)-1,o=t.before();r>=0;r--){var i=t.node(-1).child(r);if(i.childCount)return o-1-i.lastChild.nodeSize;o-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;for(var s=t.node(-1),a=t.indexAfter(-1),l=t.after();a<s.childCount;a++){var c=s.child(a);if(c.childCount)return l+1;l+=c.nodeSize}}}function bt(t){return function(e,n){if(!f(e))return!1;var r=mt(d(e),t);if(null!=r){if(n){var o=e.doc.resolve(r);n(e.tr.setSelection(Ft.TextSelection.between(o,g(o))).scrollIntoView())}return!0}}}function wt(t,e){for(var n=t.selection.$anchor,r=n.depth;r>0;r--){var o=n.node(r);if("table"==o.type.spec.tableRole)return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}function _t(t,e,n,r,o,i){for(var s=0,a=!0,l=e.firstChild,c=t.firstChild,u=0,p=0;u<c.childCount;u++)for(var h=c.child(u).attrs,f=h.colspan,d=h.colwidth,v=0;v<f;v++,p++){var y=o==p?i:d&&d[v],g=y?y+"px":"";s+=y||r,y||(a=!1),l?(l.style.width!=g&&(l.style.width=g),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=g}for(;l;){var m=l.nextSibling;l.parentNode.removeChild(l),l=m}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}function xt(t){void 0===t&&(t={});var e=t.handleWidth;void 0===e&&(e=5);var n=t.cellMinWidth;void 0===n&&(n=25);var r=t.View;void 0===r&&(r=re);var o=t.lastColumnResizable;void 0===o&&(o=!0);var i=new Ft.Plugin({key:oe,state:{init:function(t,e){return this.spec.props.nodeViews[u(e.schema).table.name]=function(t,e){return new r(t,n,e)},new ie(-1,!1)},apply:function(t,e){return e.apply(t)}},props:{attributes:function(t){var e=oe.getState(t);return e.activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(t,r){kt(t,r,e,n,o)},mouseleave:function(t){St(t)},mousedown:function(t,e){Ct(t,e,n)}},decorations:function(t){var e=oe.getState(t);if(e.activeHandle>-1)return Rt(t,e.activeHandle)},nodeViews:{}}});return i}function kt(t,e,n,r,o){var i=oe.getState(t.state);if(!i.dragging){var s=Et(e.target),a=-1;if(s){var l=s.getBoundingClientRect(),c=l.left,u=l.right;e.clientX-c<=n?a=Tt(t,e,"left"):u-e.clientX<=n&&(a=Tt(t,e,"right"))}if(a!=i.activeHandle){if(!o&&a!==-1){var p=t.state.doc.resolve(a),h=p.node(-1),f=$t.get(h),d=p.start(-1),v=f.colCount(p.pos-d)+p.nodeAfter.attrs.colspan-1;if(v==f.width-1)return}Pt(t,a)}}}function St(t){var e=oe.getState(t.state);e.activeHandle>-1&&!e.dragging&&Pt(t,-1)}function Ct(t,e,n){function r(e){window.removeEventListener("mouseup",r),window.removeEventListener("mousemove",o);var i=oe.getState(t.state);i.dragging&&(At(t,i.activeHandle,Mt(i.dragging,e,n)),t.dispatch(t.state.tr.setMeta(oe,{setDragging:null})))}function o(e){if(!e.which)return r(e);var o=oe.getState(t.state),i=Mt(o.dragging,e,n);Dt(t,o.activeHandle,i,n)}var i=oe.getState(t.state);if(i.activeHandle==-1||i.dragging)return!1;var s=t.state.doc.nodeAt(i.activeHandle),a=Ot(t,i.activeHandle,s.attrs);return t.dispatch(t.state.tr.setMeta(oe,{setDragging:{startX:e.clientX,startWidth:a}})),window.addEventListener("mouseup",r),window.addEventListener("mousemove",o),e.preventDefault(),!0}function Ot(t,e,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var s=t.domAtPos(e),a=s.node.childNodes[s.offset],l=a.offsetWidth,c=r;if(o)for(var u=0;u<r;u++)o[u]&&(l-=o[u],c--);return l/c}function Et(t){for(;t&&"TD"!=t.nodeName&&"TH"!=t.nodeName;)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}function Tt(t,e,n){var r=t.posAtCoords({left:e.clientX,top:e.clientY});if(!r)return-1;var o=r.pos,i=p(t.state.doc.resolve(o));if(!i)return-1;if("right"==n)return i.pos;var s=$t.get(i.node(-1)),a=i.start(-1),l=s.map.indexOf(i.pos-a);return l%s.width==0?-1:a+s.map[l-1]}function Mt(t,e,n){var r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function Pt(t,e){t.dispatch(t.state.tr.setMeta(oe,{setHandle:e}))}function At(t,e,n){for(var r=t.state.doc.resolve(e),o=r.node(-1),i=$t.get(o),s=r.start(-1),a=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,l=t.state.tr,c=0;c<i.height;c++){var u=c*i.width+a;if(!c||i.map[u]!=i.map[u-i.width]){var p=i.map[u],h=o.nodeAt(p),f=h.attrs,d=1==f.colspan?0:a-i.colCount(p);if(!f.colwidth||f.colwidth[d]!=n){var v=f.colwidth?f.colwidth.slice():jt(f.colspan);v[d]=n,l.setNodeMarkup(s+p,null,x(f,"colwidth",v))}}}l.docChanged&&t.dispatch(l)}function Dt(t,e,n,r){for(var o=t.state.doc.resolve(e),i=o.node(-1),s=o.start(-1),a=$t.get(i).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1,l=t.domAtPos(o.start(-1)).node;"TABLE"!=l.nodeName;)l=l.parentNode;_t(i,l.firstChild,l,r,a,n)}function jt(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}function Rt(t,e){for(var n=[],r=t.doc.resolve(e),o=r.node(-1),i=$t.get(o),s=r.start(-1),a=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan,l=0;l<i.height;l++){var c=a+l*i.width-1;if(!(a!=i.width&&i.map[c]==i.map[c+1]||0!=l&&i.map[c-1]==i.map[c-1-i.width])){var u=i.map[c],p=s+u+o.nodeAt(u).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",n.push(Vt.Decoration.widget(p,h))}}return Vt.DecorationSet.create(t.doc,n)}function It(t){void 0===t&&(t={});var e=t.allowTableNodeSelection;return void 0===e&&(e=!1),new Ft.Plugin({key:Yt,state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(Yt);if(null!=n)return n==-1?null:n;if(null==e||!t.docChanged)return e;var r=t.mapping.mapResult(e),o=r.deleted,i=r.pos;return o?null:i}},props:{decorations:O,handleDOMEvents:{mousedown:U},createSelectionBetween:function(t){if(null!=Yt.getState(t.state))return t.state.selection},handleTripleClick:H,handleKeyDown:Jt,handlePaste:W},appendTransaction:function(t,n,r){return M(r,Y(r,n),e)}})}Object.defineProperty(e,"__esModule",{value:!0});var Lt,zt,Ft=n(173),Bt=n(171),Nt=n(193),Vt=n(195),Ht=n(174);if("undefined"!=typeof WeakMap){var Wt=new WeakMap;Lt=function(t){return Wt.get(t)},zt=function(t,e){return Wt.set(t,e),e}}else{var Ut=[],Kt=10,qt=0;Lt=function(t){for(var e=0;e<Ut.length;e+=2)if(Ut[e]==t)return Ut[e+1]},zt=function(t,e){return qt==Kt&&(qt=0),Ut[qt++]=t,Ut[qt++]=e}}var Gt=function(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r},$t=function(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r};$t.prototype.findCell=function(t){for(var e=0;e<this.map.length;e++){var n=this.map[e];if(n==t){for(var r=e%this.width,o=e/this.width|0,i=r+1,s=o+1,a=1;i<this.width&&this.map[e+a]==n;a++)i++;for(var l=1;s<this.height&&this.map[e+this.width*l]==n;l++)s++;return new Gt(r,o,i,s)}}throw new RangeError("No cell with offset "+t+" found")},$t.prototype.colCount=function(t){for(var e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError("No cell with offset "+t+" found")},$t.prototype.nextCell=function(t,e,n){var r=this.findCell(t),o=r.left,i=r.right,s=r.top,a=r.bottom;return"horiz"==e?(n<0?0==o:i==this.width)?null:this.map[s*this.width+(n<0?o-1:i)]:(n<0?0==s:a==this.height)?null:this.map[o+this.width*(n<0?s-1:a)]},$t.prototype.rectBetween=function(t,e){var n=this.findCell(t),r=n.left,o=n.right,i=n.top,s=n.bottom,a=this.findCell(e),l=a.left,c=a.right,u=a.top,p=a.bottom;return new Gt(Math.min(r,l),Math.min(i,u),Math.max(o,c),Math.max(s,p))},$t.prototype.cellsInRect=function(t){for(var e=[],n={},r=t.top;r<t.bottom;r++)for(var o=t.left;o<t.right;o++){var i=r*this.width+o,s=this.map[i];n[s]||(n[s]=!0,o==t.left&&o&&this.map[i-1]==s||r==t.top&&r&&this.map[i-this.width]==s||e.push(s))}return e},$t.prototype.positionAt=function(t,e,n){for(var r=0,o=0;;r++){var i=o+n.child(r).nodeSize;if(r==t){for(var s=e+t*this.width,a=(t+1)*this.width;s<a&&this.map[s]<o;)s++;return s==a?i-1:this.map[s]}o=i}},$t.get=function(t){return Lt(t)||zt(t,r(t))};var Yt=new Ft.PluginKey("selectingCells"),Xt=function(t){function e(e,n){void 0===n&&(n=e);var r=e.node(-1),o=$t.get(r),i=e.start(-1),s=o.rectBetween(e.pos-i,n.pos-i),a=e.node(0),l=o.cellsInRect(s).filter(function(t){return t!=n.pos-i});l.unshift(n.pos-i);var c=l.map(function(t){var e=r.nodeAt(t),n=t+i+1;return new Ft.SelectionRange(a.resolve(n),a.resolve(n+e.content.size))});t.call(this,c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,n){var r=t.resolve(n.map(this.$anchorCell.pos)),o=t.resolve(n.map(this.$headCell.pos));if(y(r)&&y(o)&&m(r,o)){var i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?e.rowSelection(r,o):i&&this.isColSelection()?e.colSelection(r,o):new e(r,o)}return Ft.TextSelection.between(r,o)},e.prototype.content=function(){for(var t=this.$anchorCell.node(-1),e=$t.get(t),n=this.$anchorCell.start(-1),r=e.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[],s=r.top;s<r.bottom;s++){for(var a=[],l=s*e.width+r.left,c=r.left;c<r.right;c++,l++){var u=e.map[l];if(!o[u]){o[u]=!0;var p=e.findCell(u),h=t.nodeAt(u),f=r.left-p.left,d=p.right-r.right;if(f>0||d>0){var v=h.attrs;f>0&&(v=k(v,0,f)),d>0&&(v=k(v,v.colspan-d,d)),h=p.left<r.left?h.type.createAndFill(v):h.type.create(v,h.content)}if(p.top<r.top||p.bottom>r.bottom){var y=x(h.attrs,"rowspan",Math.min(p.bottom,r.bottom)-Math.max(p.top,r.top));h=p.top<r.top?h.type.createAndFill(y):h.type.create(y,h.content)}a.push(h)}}i.push(t.child(s).copy(Bt.Fragment.from(a)))}var g=this.isColSelection()&&this.isRowSelection()?t:i;return new Bt.Slice(Bt.Fragment.from(g),1,1)},e.prototype.replace=function(e,n){void 0===n&&(n=Bt.Slice.empty);for(var r=e.steps.length,o=this.ranges,i=0;i<o.length;i++){var s=o[i],a=s.$from,l=s.$to,c=e.mapping.slice(r);e.replace(c.map(a.pos),c.map(l.pos),i?Bt.Slice.empty:n)}var u=t.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);u&&e.setSelection(u)},e.prototype.replaceWith=function(t,e){this.replace(t,new Bt.Slice(Bt.Fragment.from(e),0,0))},e.prototype.forEachCell=function(t){for(var e=this.$anchorCell.node(-1),n=$t.get(e),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),i=0;i<o.length;i++)t(e.nodeAt(o[i]),r+o[i])},e.prototype.isColSelection=function(){var t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;var n=t+this.$anchorCell.nodeAfter.attrs.rowspan,r=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount},e.colSelection=function(t,n){void 0===n&&(n=t);var r=$t.get(t.node(-1)),o=t.start(-1),i=r.findCell(t.pos-o),s=r.findCell(n.pos-o),a=t.node(0);return i.top<=s.top?(i.top>0&&(t=a.resolve(o+r.map[i.left])),s.bottom<r.height&&(n=a.resolve(o+r.map[r.width*(r.height-1)+s.right-1]))):(s.top>0&&(n=a.resolve(o+r.map[s.left])),i.bottom<r.height&&(t=a.resolve(o+r.map[r.width*(r.height-1)+i.right-1]))),new e(t,n)},e.prototype.isRowSelection=function(){var t=$t.get(this.$anchorCell.node(-1)),e=this.$anchorCell.start(-1),n=t.colCount(this.$anchorCell.pos-e),r=t.colCount(this.$headCell.pos-e);if(Math.min(n,r)>0)return!1;var o=n+this.$anchorCell.nodeAfter.attrs.colspan,i=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)==t.width},e.prototype.eq=function(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos},e.rowSelection=function(t,n){void 0===n&&(n=t);var r=$t.get(t.node(-1)),o=t.start(-1),i=r.findCell(t.pos-o),s=r.findCell(n.pos-o),a=t.node(0);return i.left<=s.left?(i.left>0&&(t=a.resolve(o+r.map[i.top*r.width])),s.right<r.width&&(n=a.resolve(o+r.map[r.width*(s.top+1)-1]))):(s.left>0&&(n=a.resolve(o+r.map[s.top*r.width])),i.right<r.width&&(t=a.resolve(o+r.map[r.width*(i.top+1)-1]))),new e(t,n)},e.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},e.fromJSON=function(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,n,r){return void 0===r&&(r=n),new e(t.resolve(n),t.resolve(r))},e.prototype.getBookmark=function(){return new Zt(this.$anchorCell.pos,this.$headCell.pos)},e}(Ft.Selection);Xt.prototype.visible=!1,Ft.Selection.jsonID("cell",Xt);var Zt=function(t,e){this.anchor=t,this.head=e};Zt.prototype.map=function(t){return new Zt(t.map(this.anchor),t.map(this.head))},Zt.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=t.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&n.index()<n.parent.childCount&&m(e,n)?new Xt(e,n):Ft.Selection.near(n,1)};var Jt=Nt.keydownHandler({ArrowLeft:B("horiz",-1),ArrowRight:B("horiz",1),ArrowUp:B("vert",-1),ArrowDown:B("vert",1),"Shift-ArrowLeft":N("horiz",-1),"Shift-ArrowRight":N("horiz",1),"Shift-ArrowUp":N("vert",-1),"Shift-ArrowDown":N("vert",1),Backspace:V,"Mod-Backspace":V,Delete:V,"Mod-Delete":V}),Qt=new Ft.PluginKey("fix-tables"),te=gt("row",{useDeprecatedLogic:!0}),ee=gt("column",{useDeprecatedLogic:!0}),ne=gt("cell",{useDeprecatedLogic:!0}),re=function(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),_t(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};re.prototype.update=function(t){return t.type==this.node.type&&(this.node=t,_t(t,this.colgroup,this.table,this.cellMinWidth),!0)},re.prototype.ignoreMutation=function(t){return"attributes"==t.type&&(t.target==this.table||this.colgroup.contains(t.target))};var oe=new Ft.PluginKey("tableColumnResizing"),ie=function(t,e){this.activeHandle=t,this.dragging=e};ie.prototype.apply=function(t){var e=this,n=t.getMeta(oe);if(n&&null!=n.setHandle)return new ie(n.setHandle,null);if(n&&void 0!==n.setDragging)return new ie(e.activeHandle,n.setDragging);if(e.activeHandle>-1&&t.docChanged){var r=t.mapping.map(e.activeHandle,-1);y(t.doc.resolve(r))||(r=null),e=new ie(r,e.dragging)}return e},e.CellSelection=Xt,e.TableMap=$t,e.TableView=re,e.__clipCells=j,e.__insertCells=z,e.__pastedCells=P,e.addColSpan=S,e.addColumn=J,e.addColumnAfter=tt,e.addColumnBefore=Q,e.addRow=ot,e.addRowAfter=st,e.addRowBefore=it,e.cellAround=p,e.colCount=w,e.columnIsHeader=C,e.columnResizing=xt,e.columnResizingPluginKey=oe,e.deleteColumn=nt,e.deleteRow=lt,e.deleteTable=wt,e.findCell=b,e.fixTables=Y,e.fixTablesKey=Qt,e.goToNextCell=bt,e.handlePaste=W,e.inSameTable=m,e.isInTable=f,e.mergeCells=pt,e.moveCellForward=g,e.nextCell=_,e.pointsAtCell=y,e.removeColSpan=k,e.removeColumn=et,e.removeRow=at,e.rowIsHeader=rt,e.selectedRect=Z,e.selectionCell=d,e.setAttr=x,e.setCellAttr=dt,e.splitCell=ht,e.splitCellWithType=ft,e.tableEditing=It,e.tableEditingKey=Yt,e.tableNodeTypes=u,e.tableNodes=c,e.toggleHeader=gt,e.toggleHeaderCell=ne,e.toggleHeaderColumn=ee,e.toggleHeaderRow=te,e.updateColumnsOnResize=_t},function(t,e,n){"use strict";function r(t){var e=t.split(/-(?!$)/),n=e[e.length-1];"Space"==n&&(n=" ");for(var r,o,i,s,a=0;a<e.length-1;a++){var l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);u?s=!0:o=!0}}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function o(t){var e=Object.create(null);for(var n in t)e[r(n)]=t[n];return e}function i(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}function s(t){return new c.Plugin({props:{handleKeyDown:a(t)}})}function a(t){var e=o(t);return function(t,n){var r,o=l.keyName(n),s=1==o.length&&" "!=o,a=e[i(o,n,!s)];if(a&&a(t.state,t.dispatch,t))return!0;if(s&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(r=l.base[n.keyCode])&&r!=o){var c=e[i(r,n,!0)];if(c&&c(t.state,t.dispatch,t))return!0}else if(s&&n.shiftKey){var u=e[i(o,n,!0)];if(u&&u(t.state,t.dispatch,t))return!0}return!1}}Object.defineProperty(e,"__esModule",{value:!0});var l=n(194),c=n(173),u="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);e.keydownHandler=a,e.keymap=s},function(t,e){"use strict";function n(t){var e=u&&(t.ctrlKey||t.altKey||t.metaKey)||(s||c)&&t.shiftKey&&t.key&&1==t.key.length,n=!e&&t.key||(t.shiftKey?o:r)[t.keyCode]||t.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n}Object.defineProperty(e,"__esModule",{value:!0});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},i="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),s="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),u=i&&(l||+i[1]<57)||a&&l,p=0;p<10;p++)r[48+p]=r[96+p]=String(p);for(var p=1;p<=24;p++)r[p+111]="F"+p;for(var p=65;p<=90;p++)r[p]=String.fromCharCode(p+32),o[p]=String.fromCharCode(p);for(var h in r)o.hasOwnProperty(h)||(o[h]=r[h]);e.base=r,e.keyName=n,e.shift=o},function(t,e,n){"use strict";function r(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:o(t))){var a=t.parentNode;if(1!=a.nodeType||s(t)||qe.test(t.nodeName)||"false"==t.contentEditable)return!1;e=Ve(t)+(i<0?0:1),t=a}else{if(1!=t.nodeType)return!1;if(t=t.childNodes[e+(i<0?-1:0)],"false"==t.contentEditable)return!1;e=i<0?o(t):0}}}function o(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function i(t,e,n){for(var r=0==e,i=e==o(t);r||i;){if(t==n)return!0;var s=Ve(t);if(t=t.parentNode,!t)return!1;r=r&&0==s,i=i&&s==o(t)}}function s(t){for(var e,n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}function a(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function l(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function c(t,e){return"number"==typeof t?t:t[e]}function u(t){var e=t.getBoundingClientRect();return{left:e.left,right:e.left+t.clientWidth,top:e.top,bottom:e.top+t.clientHeight}}function p(t,e,n){for(var r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument,s=n||t.dom;s;s=He(s))if(1==s.nodeType){var a=s==i.body||1!=s.nodeType,p=a?l(i):u(s),h=0,f=0;if(e.top<p.top+c(r,"top")?f=-(p.top-e.top+c(o,"top")):e.bottom>p.bottom-c(r,"bottom")&&(f=e.bottom-p.bottom+c(o,"bottom")),e.left<p.left+c(r,"left")?h=-(p.left-e.left+c(o,"left")):e.right>p.right-c(r,"right")&&(h=e.right-p.right+c(o,"right")),h||f)if(a)i.defaultView.scrollBy(h,f);else{var d=s.scrollLeft,v=s.scrollTop;f&&(s.scrollTop+=f),h&&(s.scrollLeft+=h);var y=s.scrollLeft-d,g=s.scrollTop-v;e={left:e.left-y,top:e.top-g,right:e.right-y,bottom:e.bottom-g}}if(a)break}}function h(t){for(var e,n,r=t.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,s=o+1;s<Math.min(innerHeight,r.bottom);s+=5){var a=t.root.elementFromPoint(i,s);if(a!=t.dom&&t.dom.contains(a)){var l=a.getBoundingClientRect();if(l.top>=o-20){e=a,n=l.top;break}}}return{refDOM:e,refTop:n,stack:f(t.dom)}}function f(t){for(var e=[],n=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=n);t=He(t));return e}function d(t){var e=t.refDOM,n=t.refTop,r=t.stack,o=e?e.getBoundingClientRect().top:0;v(r,0==o?0:o-n)}function v(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=r.dom,i=r.top,s=r.left;o.scrollTop!=i+e&&(o.scrollTop=i+e),o.scrollLeft!=s&&(o.scrollLeft=s)}}function y(t){if(t.setActive)return t.setActive();if($e)return t.focus($e);var e=f(t);t.focus(null==$e?{get preventScroll(){return $e={preventScroll:!0},!0}}:void 0),$e||($e=!1,v(e,0))}function g(t,e){for(var n,r,o=2e8,i=0,s=e.top,a=e.top,l=t.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(1==l.nodeType)u=l.getClientRects();else{if(3!=l.nodeType)continue;u=Ue(l).getClientRects()}for(var p=0;p<u.length;p++){var h=u[p];if(h.top<=s&&h.bottom>=a){s=Math.max(h.bottom,s),a=Math.min(h.top,a);var f=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(f<o){n=l,o=f,r=f&&3==n.nodeType?{left:h.right<e.left?h.right:h.left,top:e.top}:e,1==l.nodeType&&f&&(i=c+(e.left>=(h.left+h.right)/2?1:0));continue}}!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(i=c+1)}}return n&&3==n.nodeType?m(n,r):!n||o&&1==n.nodeType?{node:t,offset:i}:g(n,r)}function m(t,e){for(var n=t.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);var i=C(r,1);if(i.top!=i.bottom&&b(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function b(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function w(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function _(t,e,n){var r=g(e,n),o=r.node,i=r.offset,s=-1;if(1==o.nodeType&&!o.firstChild){var a=o.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(o,i,s)}function x(t,e,n,r){for(var o=-1,i=e;i!=t.dom;){var s=t.docView.nearestDesc(i,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)o=s.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;o=s.posAfter}}i=s.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n)}function k(t,e,n){var r=t.childNodes.length;if(r&&n.top<n.bottom)for(var o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=o;;){var s=t.childNodes[i];if(1==s.nodeType)for(var a=s.getClientRects(),l=0;l<a.length;l++){var c=a[l];if(b(e,c))return k(s,e,c)}if((i=(i+1)%r)==o)break}return t}function S(t,e){var n,r,o,i,s=t.root;if(s.caretPositionFromPoint)try{var a=s.caretPositionFromPoint(e.left,e.top);a&&(n=a,o=n.offsetNode,i=n.offset)}catch(t){}if(!o&&s.caretRangeFromPoint){var l=s.caretRangeFromPoint(e.left,e.top);l&&(r=l,o=r.startContainer,i=r.startOffset)}var c,u=s.elementFromPoint(e.left,e.top+1);if(!u||!t.dom.contains(1!=u.nodeType?u.parentNode:u)){var p=t.dom.getBoundingClientRect();if(!b(e,p))return null;if(u=k(t.dom,e,p),!u)return null}if(Ie.safari&&u.draggable&&(o=i=null),u=w(u,e),o){if(Ie.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length),i<o.childNodes.length)){var h,f=o.childNodes[i];"IMG"==f.nodeName&&(h=f.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&i++}o==t.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&e.top>o.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(c=x(t,o,i,e))}null==c&&(c=_(t,u,e));var d=t.docView.nearestDesc(u,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function C(t,e){
var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}function O(t,e,n){var r=t.docView.domFromPos(e,n<0?-1:1),i=r.node,s=r.offset,a=Ie.webkit||Ie.gecko;if(3==i.nodeType){if(!a||!Ye.test(i.nodeValue)&&(n<0?s:s!=i.nodeValue.length)){var l=s,c=s,u=n<0?1:-1;return n<0&&!s?(c++,u=-1):n>=0&&s==i.nodeValue.length?(l--,u=1):n<0?l--:c++,E(C(Ue(i,l,c),u),u<0)}var p=C(Ue(i,s,s),n);if(Ie.gecko&&s&&/\s/.test(i.nodeValue[s-1])&&s<i.nodeValue.length){var h=C(Ue(i,s-1,s-1),-1);if(h.top==p.top){var f=C(Ue(i,s,s+1),-1);if(f.top!=p.top)return E(f,f.left<h.left)}}return p}if(!t.state.doc.resolve(e).parent.inlineContent){if(s&&(n<0||s==o(i))){var d=i.childNodes[s-1];if(1==d.nodeType)return T(d.getBoundingClientRect(),!1)}if(s<o(i)){var v=i.childNodes[s];if(1==v.nodeType)return T(v.getBoundingClientRect(),!0)}return T(i.getBoundingClientRect(),n>=0)}if(s&&(n<0||s==o(i))){var y=i.childNodes[s-1],g=3==y.nodeType?Ue(y,o(y)-(a?0:1)):1!=y.nodeType||"BR"==y.nodeName&&y.nextSibling?null:y;if(g)return E(C(g,1),!1)}if(s<o(i)){var m=i.childNodes[s],b=3==m.nodeType?Ue(m,0,a?0:1):1==m.nodeType?m:null;if(b)return E(C(b,-1),!0)}return E(C(3==i.nodeType?Ue(i):i,-n),n>=0)}function E(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function T(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function M(t,e,n){var r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}function P(t,e,n){var r=e.selection,o="up"==n?r.$from:r.$to;return M(t,e,function(){for(var e=t.docView.domFromPos(o.pos,"up"==n?-1:1),r=e.node;;){var i=t.docView.nearestDesc(r,!0);if(!i)break;if(i.node.isBlock){r=i.dom;break}r=i.dom.parentNode}for(var s=O(t,o.pos,1),a=r.firstChild;a;a=a.nextSibling){var l=void 0;if(1==a.nodeType)l=a.getClientRects();else{if(3!=a.nodeType)continue;l=Ue(a,0,a.nodeValue.length).getClientRects()}for(var c=0;c<l.length;c++){var u=l[c];if(u.bottom>u.top&&("up"==n?u.bottom<s.top+1:u.top>s.bottom-1))return!1}}return!0})}function A(t,e,n){var r=e.selection,o=r.$head;if(!o.parent.isTextblock)return!1;var i=o.parentOffset,s=!i,a=i==o.parent.content.size,l=getSelection();return Xe.test(o.parent.textContent)&&l.modify?M(t,e,function(){var e=l.getRangeAt(0),r=l.focusNode,i=l.focusOffset,s=l.caretBidiLevel;l.modify("move",n,"character");var a=o.depth?t.docView.domAfterPos(o.before()):t.dom,c=!a.contains(1==l.focusNode.nodeType?l.focusNode:l.focusNode.parentNode)||r==l.focusNode&&i==l.focusOffset;return l.removeAllRanges(),l.addRange(e),null!=s&&(l.caretBidiLevel=s),c}):"left"==n||"backward"==n?s:a}function D(t,e,n){return Ze==e&&Je==n?Qe:(Ze=e,Je=n,Qe="up"==n||"down"==n?P(t,e,n):A(t,e,n))}function j(t,e,n,r,o){return B(r,e,t),new pn(null,t,e,n,r,r,r,o,0)}function R(t,e,n){for(var r=t.firstChild,o=!1,i=0;i<e.length;i++){var s=e[i],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=V(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(a,r);if(s instanceof un){var l=r?r.previousSibling:t.lastChild;R(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=V(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}function I(t){t&&(this.nodeName=t)}function L(t,e,n){if(0==t.length)return vn;for(var r=n?vn[0]:new I,o=[r],i=0;i<t.length;i++){var s=t[i].type.attrs;if(s){s.nodeName&&o.push(r=new I(s.nodeName));for(var a in s){var l=s[a];null!=l&&(n&&1==o.length&&o.push(r=new I(e.isInline?"span":"div")),"class"==a?r.class=(r.class?r.class+" ":"")+l:"style"==a?r.style=(r.style?r.style+";":"")+l:"nodeName"!=a&&(r[a]=l))}}}return o}function z(t,e,n,r){if(n==vn&&r==vn)return e;for(var o=e,i=0;i<r.length;i++){var s=r[i],a=n[i];if(i){var l=void 0;a&&a.nodeName==s.nodeName&&o!=t&&(l=o.parentNode)&&l.tagName.toLowerCase()==s.nodeName?o=l:(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(o),a=vn[0],o=l)}F(o,a||vn[0],s)}return o}function F(t,e,n){for(var r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){for(var i=e.class?e.class.split(" "):an,s=n.class?n.class.split(" "):an,a=0;a<i.length;a++)s.indexOf(i[a])==-1&&t.classList.remove(i[a]);for(var l=0;l<s.length;l++)i.indexOf(s[l])==-1&&t.classList.add(s[l])}if(e.style!=n.style){if(e.style)for(var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=u.exec(e.style);)t.style.removeProperty(c[1]);n.style&&(t.style.cssText+=n.style)}}function B(t,e,n){return z(t,t,vn,L(e,n,1!=t.nodeType))}function N(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function V(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}function H(t,e){for(var n=[],r=t.childCount,o=e.length-1;r>0&&o>=0;o--){var i=e[o],s=i.node;if(s){if(s!=t.child(r-1))break;n.push(i),--r}}return{nodes:n.reverse(),offset:r}}function W(t,e){return t.type.side-e.type.side}function U(t,e,n,r){var o=e.locals(t),i=0;if(0!=o.length)for(var s=0,a=[],l=null,c=0;;){if(s<o.length&&o[s].to==i){for(var u=o[s++],p=void 0;s<o.length&&o[s].to==i;)(p||(p=[u])).push(o[s++]);if(p){p.sort(W);for(var h=0;h<p.length;h++)n(p[h],c,!!l)}else n(u,c,!!l)}var f=void 0,d=void 0;if(l)d=-1,f=l,l=null;else{if(!(c<t.childCount))break;d=c,f=t.child(c++)}for(var v=0;v<a.length;v++)a[v].to<=i&&a.splice(v--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)a.push(o[s++]);var y=i+f.nodeSize;if(f.isText){var g=y;s<o.length&&o[s].from<g&&(g=o[s].from);for(var m=0;m<a.length;m++)a[m].to<g&&(g=a[m].to);g<y&&(l=f.cut(g-i),f=f.cut(0,g-i),y=g,d=-1)}var b=a.length?f.isInline&&!f.isLeaf?a.filter(function(t){return!t.inline}):a.slice():an;r(f,b,e.forChild(i,f),d),i=y}else for(var w=0;w<t.childCount;w++){var _=t.child(w);r(_,o,e.forChild(i,_),w),i+=_.nodeSize}}function K(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function q(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];t=t.childNodes[e-1],e=o(t)}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}function G(t,e,n,r){for(var o=0,i=0;o<t.childCount&&i<=r;){var s=t.child(o++),a=i;if(i+=s.nodeSize,s.isText){for(var l=s.text;o<t.childCount;){var c=t.child(o++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){var u=l.lastIndexOf(e,r-a);if(u>=0&&u+e.length+a>=n)return a+u}}}return-1}function $(t,e,n,r,o){for(var i=[],s=0,a=0;s<t.length;s++){var l=t[s],c=a,u=a+=l.size;c>=n||u<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,r)),o&&(i.push(o),o=null),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function Y(t,e){var n=t.root.getSelection(),r=t.state.doc;if(!n.focusNode)return null;var o=t.docView.nearestDesc(n.focusNode),s=o&&0==o.size,a=t.docView.posFromDOM(n.focusNode,n.focusOffset);if(a<0)return null;var l,c,u=r.resolve(a);if(Ge(n)){for(l=u;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&De.NodeSelection.isSelectable(o.node)&&o.parent&&(!o.node.isInline||!i(n.focusNode,n.focusOffset,o.dom))){var p=o.posBefore;c=new De.NodeSelection(a==p?u:r.resolve(p))}}else{var h=t.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(h<0)return null;l=r.resolve(h)}if(!c){var f="pointer"==e||t.state.selection.head<u.pos&&!s?1:-1;c=ot(t,l,u,f)}return c}function X(t,e){var n=t.state.selection;if(nt(t,n),t.editable?t.hasFocus():st(t)&&document.activeElement&&document.activeElement.contains(t.dom)){if(t.domObserver.disconnectSelection(),t.cursorWrapper)et(t);else{var r,o,i=n.anchor,s=n.head;!gn||n instanceof De.TextSelection||(n.$from.parent.inlineContent||(r=Z(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=Z(t,n.to))),t.docView.setSelection(i,s,t.root,e),gn&&(r&&Q(r),o&&Q(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&tt(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}function Z(t,e){var n=t.docView.domFromPos(e,0),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,s=o?r.childNodes[o-1]:null;if(Ie.safari&&i&&"false"==i.contentEditable)return J(i);if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return J(i);if(s)return J(s)}}function J(t){return t.contentEditable="true",Ie.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Q(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function tt(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(e.removeEventListener("selectionchange",t.hideSelectionGuard),t.dom.classList.remove("ProseMirror-hideselection"))})}function et(t){var e=t.root.getSelection(),n=document.createRange(),r=t.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,Ve(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&Ie.ie&&Ie.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}function nt(t,e){if(e instanceof De.NodeSelection){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(rt(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else rt(t)}function rt(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function ot(t,e,n,r){return t.someProp("createSelectionBetween",function(r){return r(t,e,n)})||De.TextSelection.between(e,n,r)}function it(t){return(!t.editable||t.root.activeElement==t.dom)&&st(t)}function st(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function at(t){var e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.root.getSelection();return Ke(e.node,e.offset,n.anchorNode,n.anchorOffset)}function lt(t,e){var n=t.selection,r=n.$anchor,o=n.$head,i=e>0?r.max(o):r.min(o),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&De.Selection.findFrom(s,e)}function ct(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function ut(t,e,n){var r=t.state.selection;if(!(r instanceof De.TextSelection)){if(r instanceof De.NodeSelection&&r.node.isInline)return ct(t,new De.TextSelection(e>0?r.$to:r.$from));var o=lt(t.state,e);return!!o&&ct(t,o)}if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var i=lt(t.state,e);return!!(i&&i instanceof De.NodeSelection)&&ct(t,i)}if(!(Ie.mac&&n.indexOf("m")>-1)){var s,a=r.$head,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!l||l.isText)return!1;var c=e<0?a.pos-l.nodeSize:a.pos;return!!(l.isAtom||(s=t.docView.descAt(c))&&!s.contentDOM)&&(De.NodeSelection.isSelectable(l)?ct(t,new De.NodeSelection(e<0?t.state.doc.resolve(a.pos-l.nodeSize):a)):!!Ie.webkit&&ct(t,new De.TextSelection(t.state.doc.resolve(e<0?c:c+l.nodeSize))))}}function pt(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function ht(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function ft(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){var o,i,s=!1;for(Ie.gecko&&1==n.nodeType&&r<pt(n)&&ht(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;var a=n.childNodes[r-1];if(ht(a))o=n,i=--r;else{if(3!=a.nodeType)break;n=a,r=n.nodeValue.length}}else{if(vt(n))break;for(var l=n.previousSibling;l&&ht(l);)o=n.parentNode,i=Ve(l),l=l.previousSibling;if(l)n=l,r=pt(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}s?yt(t,e,n,r):o&&yt(t,e,o,i)}}function dt(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){for(var o,i,s=pt(n);;)if(r<s){if(1!=n.nodeType)break;var a=n.childNodes[r];if(!ht(a))break;o=n,i=++r}else{if(vt(n))break;for(var l=n.nextSibling;l&&ht(l);)o=l.parentNode,i=Ve(l)+1,l=l.nextSibling;if(l)n=l,r=0,s=pt(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}o&&yt(t,e,o,i)}}function vt(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function yt(t,e,n,r){if(Ge(e)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();var i=t.state;setTimeout(function(){t.state==i&&X(t)},50)}function gt(t,e,n){var r=t.state.selection;if(r instanceof De.TextSelection&&!r.empty||n.indexOf("s")>-1)return!1;if(Ie.mac&&n.indexOf("m")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var s=lt(t.state,e);if(s&&s instanceof De.NodeSelection)return ct(t,s)}if(!o.parent.inlineContent){var a=De.Selection.findFrom(e<0?o:i,e);return!a||ct(t,a)}return!1}function mt(t,e){if(!(t.state.selection instanceof De.TextSelection))return!0;var n=t.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var a=t.state.tr;return e<0?a.delete(r.pos-s.nodeSize,r.pos):a.delete(r.pos,r.pos+s.nodeSize),t.dispatch(a),!0}return!1}function bt(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function wt(t){if(Ie.safari&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;bt(t,o,!0),setTimeout(function(){return bt(t,o,!1)},20)}}}function _t(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function xt(t,e){var n=e.keyCode,r=_t(e);return 8==n||Ie.mac&&72==n&&"c"==r?mt(t,-1)||ft(t):46==n||Ie.mac&&68==n&&"c"==r?mt(t,1)||dt(t):13==n||27==n||(37==n?ut(t,-1,r)||ft(t):39==n?ut(t,1,r)||dt(t):38==n?gt(t,-1,r)||ft(t):40==n?wt(t)||gt(t,1,r)||dt(t):r==(Ie.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function kt(t,e,n){var r=t.docView.parseRange(e,n),o=r.node,i=r.fromOffset,s=r.toOffset,a=r.from,l=r.to,c=t.root.getSelection(),u=null,p=c.anchorNode;if(p&&t.dom.contains(1==p.nodeType?p:p.parentNode)&&(u=[{node:p,offset:c.anchorOffset}],Ge(c)||u.push({node:c.focusNode,offset:c.focusOffset})),Ie.chrome&&8===t.lastKeyCode)for(var h=s;h>i;h--){var f=o.childNodes[h-1],d=f.pmViewDesc;if("BR"==f.nodeType&&!d){s=h;break}if(!d||d.size)break}var v=t.state.doc,y=t.someProp("domParser")||je.DOMParser.fromSchema(t.state.schema),g=v.resolve(a),m=null,b=y.parse(o,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:s,preserveWhitespace:!g.parent.type.spec.code||"full",editableContent:!0,findPositions:u,ruleFromNode:St,context:g});if(u&&null!=u[0].pos){var w=u[0].pos,_=u[1]&&u[1].pos;null==_&&(_=w),m={anchor:w+a,head:_+a}}return{doc:b,sel:m,from:a,to:l}}function St(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(Ie.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||Ie.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function Ct(t,e,n,r,o){if(e<0){var i=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,s=Y(t,i);if(s&&!t.state.selection.eq(s)){var l=t.state.tr.setSelection(s);"pointer"==i?l.setMeta("pointer",!0):"key"==i&&l.scrollIntoView(),t.dispatch(l)}}else{var c=t.state.doc.resolve(e),u=c.sharedDepth(n);e=c.before(u+1),n=t.state.doc.resolve(n).after(u+1);var p=t.state.selection,h=kt(t,e,n);if(Ie.chrome&&t.cursorWrapper&&h.sel&&h.sel.anchor==t.cursorWrapper.deco.from){var f=t.cursorWrapper.deco.type.toDOM.nextSibling,d=f&&f.nodeValue?f.nodeValue.length:1;h.sel={anchor:h.sel.anchor+d,head:h.sel.anchor+d}}var v,y,g=t.state.doc,m=g.slice(h.from,h.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(v=t.state.selection.to,y="end"):(v=t.state.selection.from,y="start"),t.lastKeyCode=null;var b=Pt(m.content,h.doc.content,h.from,v,y);if(!b){if(!(r&&p instanceof De.TextSelection&&!p.empty&&p.$head.sameParent(p.$anchor))||t.composing||h.sel&&h.sel.anchor!=h.sel.head){if(Ie.ios&&t.lastIOSEnter>Date.now()-225&&o.some(function(t){return"DIV"==t.nodeName||"P"==t.nodeName})&&t.someProp("handleKeyDown",function(e){return e(t,a(13,"Enter"))}))return void(t.lastIOSEnter=0);if(h.sel){var w=Ot(t,t.state.doc,h.sel);w&&!w.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(w))}return}b={start:p.from,endA:p.to,endB:p.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof De.TextSelection&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),Ie.ie&&Ie.ie_version<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>h.from&&" "==h.doc.textBetween(b.start-h.from-1,b.start-h.from+1)&&(b.start--,b.endA--,b.endB--);var _,x=h.doc.resolveNoCache(b.start-h.from),k=h.doc.resolveNoCache(b.endB-h.from),S=x.sameParent(k)&&x.parent.inlineContent;if((Ie.ios&&t.lastIOSEnter>Date.now()-225&&(!S||o.some(function(t){return"DIV"==t.nodeName||"P"==t.nodeName}))||!S&&x.pos<h.doc.content.size&&(_=De.Selection.findFrom(h.doc.resolve(x.pos+1),1,!0))&&_.head==k.pos)&&t.someProp("handleKeyDown",function(e){return e(t,a(13,"Enter"))}))return void(t.lastIOSEnter=0);if(t.state.selection.anchor>b.start&&Tt(g,b.start,b.endA,x,k)&&t.someProp("handleKeyDown",function(e){return e(t,a(8,"Backspace"))}))return void(Ie.android&&Ie.chrome&&t.domObserver.suppressSelectionUpdates());Ie.android&&!S&&x.start()!=k.start()&&0==k.parentOffset&&x.depth==k.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==b.endA&&(b.endB-=2,k=h.doc.resolveNoCache(b.endB-h.from),setTimeout(function(){t.someProp("handleKeyDown",function(e){return e(t,a(13,"Enter"))})},20));var C,O,E,T,M=b.start,P=b.endA;if(S)if(x.pos==k.pos)Ie.ie&&Ie.ie_version<=11&&0==x.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout(function(){return X(t)},20)),C=t.state.tr.delete(M,P),O=g.resolve(b.start).marksAcross(g.resolve(b.endA));else if(b.endA==b.endB&&(T=g.resolve(b.start))&&(E=Et(x.parent.content.cut(x.parentOffset,k.parentOffset),T.parent.content.cut(T.parentOffset,b.endA-T.start()))))C=t.state.tr,"add"==E.type?C.addMark(M,P,E.mark):C.removeMark(M,P,E.mark);else if(x.parent.child(x.index()).isText&&x.index()==k.index()-(k.textOffset?0:1)){var A=x.parent.textBetween(x.parentOffset,k.parentOffset);if(t.someProp("handleTextInput",function(e){return e(t,M,P,A)}))return;C=t.state.tr.insertText(A,M,P)}if(C||(C=t.state.tr.replace(M,P,h.doc.slice(b.start-h.from,b.endB-h.from))),h.sel){var D=Ot(t,C.doc,h.sel);D&&!(Ie.chrome&&Ie.android&&t.composing&&D.empty&&(D.head==M||D.head==C.mapping.map(P)-1)||Ie.ie&&D.empty&&D.head==M)&&C.setSelection(D)}O&&C.ensureMarks(O),t.dispatch(C.scrollIntoView())}}function Ot(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:ot(t,e.resolve(n.anchor),e.resolve(n.head))}function Et(t,e){for(var n,r,o,i=t.firstChild.marks,s=e.firstChild.marks,a=i,l=s,c=0;c<s.length;c++)a=s[c].removeFromSet(a);for(var u=0;u<i.length;u++)l=i[u].removeFromSet(l);if(1==a.length&&0==l.length)r=a[0],n="add",o=function(t){return t.mark(r.addToSet(t.marks))};else{if(0!=a.length||1!=l.length)return null;r=l[0],n="remove",o=function(t){return t.mark(r.removeFromSet(t.marks))}}for(var p=[],h=0;h<e.childCount;h++)p.push(o(e.child(h)));if(je.Fragment.from(p).eq(t))return{mark:r,type:n}}function Tt(t,e,n,r,o){if(!r.parent.isTextblock||n-e<=o.pos-r.pos||Mt(r,!0,!1)<o.pos)return!1;var i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var s=t.resolve(Mt(i,!0,!0));return!(!s.parent.isTextblock||s.pos>n||Mt(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Mt(t,e,n){for(var r=t.depth,o=e?t.end():t.pos;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n)for(var i=t.node(r).maybeChild(t.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function Pt(t,e,n,r,o){var i=t.findDiffStart(e,n);if(null==i)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,l=s.b;if("end"==o){var c=Math.max(0,i-Math.min(a,l));r-=a+c-i}if(a<i&&t.size<e.size){var u=r<=i&&r>=a?i-r:0;i-=u,l=i+(l-a),a=i}else if(l<i){var p=r<=i&&r>=l?i-r:0;i-=p,a=i+(a-l),l=i}return{start:i,endA:a,endB:l}}function At(t,e){for(var n=[],r=e.content,o=e.openStart,i=e.openEnd;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;var s=r.firstChild;n.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),r=s.content}var a=t.someProp("clipboardSerializer")||je.DOMSerializer.fromSchema(t.state.schema),l=Bt(),c=l.createElement("div");c.appendChild(a.serializeFragment(r,{document:l}));for(var u,p=c.firstChild;p&&1==p.nodeType&&(u=mn[p.nodeName.toLowerCase()]);){for(var h=u.length-1;h>=0;h--){for(var f=l.createElement(u[h]);c.firstChild;)f.appendChild(c.firstChild);c.appendChild(f)}p=c.firstChild}p&&1==p.nodeType&&p.setAttribute("data-pm-slice",o+" "+i+" "+JSON.stringify(n));var d=t.someProp("clipboardTextSerializer",function(t){return t(e)})||e.content.textBetween(0,e.content.size,"\n\n");return{dom:c,text:d}}function Dt(t,e,n,r,o){var i,s,a=o.parent.type.spec.code;if(!n&&!e)return null;var l=e&&(r||a||!n);if(l){if(t.someProp("transformPastedText",function(t){e=t(e,a||r)}),a)return new je.Slice(je.Fragment.from(t.state.schema.text(e)),0,0);var c=t.someProp("clipboardTextParser",function(t){return t(e,o,r)});c?s=c:(i=document.createElement("div"),e.trim().split(/(?:\r\n?|\n)+/).forEach(function(t){i.appendChild(document.createElement("p")).textContent=t}))}else t.someProp("transformPastedHTML",function(t){n=t(n)}),i=Nt(n);var u=i&&i.querySelector("[data-pm-slice]"),p=u&&/^(\d+) (\d+) (.*)/.exec(u.getAttribute("data-pm-slice"));if(!s){var h=t.someProp("clipboardParser")||t.someProp("domParser")||je.DOMParser.fromSchema(t.state.schema);s=h.parseSlice(i,{preserveWhitespace:!(!l&&!p),context:o})}return s=p?Vt(Ft(s,+p[1],+p[2]),p[3]):je.Slice.maxOpen(jt(s.content,o),!1),t.someProp("transformPasted",function(t){s=t(s)}),s}function jt(t,e){if(t.childCount<2)return t;for(var n=function(n){var r=e.node(n),o=r.contentMatchAt(e.index(n)),i=void 0,s=[];if(t.forEach(function(t){if(s){var e,n=o.findWrapping(t.type);if(!n)return s=null;if(e=s.length&&i.length&&It(n,i,t,s[s.length-1],0))s[s.length-1]=e;else{s.length&&(s[s.length-1]=Lt(s[s.length-1],i.length));var r=Rt(t,n);s.push(r),o=o.matchType(r.type,r.attrs),i=n}}}),s)return{v:je.Fragment.from(s)}},r=e.depth;r>=0;r--){var o=n(r);if(o)return o.v}return t}function Rt(t,e,n){void 0===n&&(n=0);for(var r=e.length-1;r>=n;r--)t=e[r].create(null,je.Fragment.from(t));return t}function It(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){var i=It(t,e,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));var s=r.contentMatchAt(r.childCount);if(s.matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(je.Fragment.from(Rt(n,t,o+1))))}}function Lt(t,e){if(0==e)return t;var n=t.content.replaceChild(t.childCount-1,Lt(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(je.Fragment.empty,!0);return t.copy(n.append(r))}function zt(t,e,n,r,o,i){var s=e<0?t.firstChild:t.lastChild,a=s.content;return o<r-1&&(a=zt(a,e,n,r,o+1,i)),o>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,t.childCount>1||i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(je.Fragment.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function Ft(t,e,n){return e<t.openStart&&(t=new je.Slice(zt(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new je.Slice(zt(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}function Bt(){return bn||(bn=document.implementation.createHTMLDocument("title"))}function Nt(t){var e=/(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,r=Bt().createElement("div"),o=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(t),i=0;(n=o&&mn[o[1].toLowerCase()])&&(t=n.map(function(t){return"<"+t+">"}).join("")+t+n.map(function(t){return"</"+t+">"}).reverse().join(""),i=n.length),r.innerHTML=t;for(var s=0;s<i;s++)r=r.firstChild;return r}function Vt(t,e){if(!t.size)return t;var n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(e){return t}for(var o=t.content,i=t.openStart,s=t.openEnd,a=n.length-2;a>=0;a-=2){var l=r.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;o=je.Fragment.from(l.create(n[a+1],o)),i++,s++}return new je.Slice(o,i,s)}function Ht(t){Sn||(Sn=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}function Wt(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new kn(t,function(e,n,r,o){return Ct(t,e,n,r,o)}),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=Cn[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!$t(t,e)||Gt(t,e)||!t.editable&&e.type in On||n(t,e)})};for(var n in Cn)e(n);Ie.safari&&t.dom.addEventListener("input",function(){return null}),qt(t)}function Ut(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function Kt(t){t.domObserver.stop();for(var e in t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout)}function qt(t){t.someProp("handleDOMEvents",function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return Gt(t,e)})})}function Gt(t,e){return t.someProp("handleDOMEvents",function(n){var r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)})}function $t(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Yt(t,e){Gt(t,e)||!Cn[e.type]||!t.editable&&e.type in On||Cn[e.type](t,e)}function Xt(t){return{left:t.clientX,top:t.clientY}}function Zt(t,e){var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Jt(t,e,n,r,o){if(r==-1)return!1;for(var i=t.state.doc.resolve(r),s=function(r){if(t.someProp(e,function(e){return r>i.depth?e(t,n,i.nodeAfter,i.before(r),o,!0):e(t,n,i.node(r),i.before(r),o,!1)}))return{v:!0}},a=i.depth+1;a>0;a--){var l=s(a);if(l)return l.v}return!1}function Qt(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function te(t,e){if(e==-1)return!1;var n=t.state.doc.resolve(e),r=n.nodeAfter;return!!(r&&r.isAtom&&De.NodeSelection.isSelectable(r))&&(Qt(t,new De.NodeSelection(n),"pointer"),!0)}function ee(t,e){if(e==-1)return!1;var n,r,o=t.state.selection;o instanceof De.NodeSelection&&(n=o.node);for(var i=t.state.doc.resolve(e),s=i.depth+1;s>0;s--){var a=s>i.depth?i.nodeAfter:i.node(s);if(De.NodeSelection.isSelectable(a)){r=n&&o.$from.depth>0&&s>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(s);break}}return null!=r&&(Qt(t,De.NodeSelection.create(t.state.doc,r),"pointer"),!0)}function ne(t,e,n,r,o){return Jt(t,"handleClickOn",e,n,r)||t.someProp("handleClick",function(n){return n(t,e,r)})||(o?ee(t,n):te(t,n))}function re(t,e,n,r){return Jt(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",function(n){return n(t,e,r)})}function oe(t,e,n,r){return Jt(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",function(n){return n(t,e,r)})||ie(t,n)}function ie(t,e){var n=t.state.doc;if(e==-1)return!!n.inlineContent&&(Qt(t,De.TextSelection.create(n,0,n.content.size),"pointer"),!0);for(var r=n.resolve(e),o=r.depth+1;o>0;o--){var i=o>r.depth?r.nodeAfter:r.node(o),s=r.before(o);if(i.inlineContent)Qt(t,De.TextSelection.create(n,s+1,s+1+i.content.size),"pointer");else{if(!De.NodeSelection.isSelectable(i))continue;Qt(t,De.NodeSelection.create(n,s),"pointer")}return!0}}function se(t){return ue(t)}function ae(t,e){return!!t.composing||!!(Ie.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}function le(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout(function(){return ue(t)},e))}function ce(t){for(t.composing=!1;t.compositionNodes.length>0;)t.compositionNodes.pop().markParentsDirty()}function ue(t,e){if(t.domObserver.forceFlush(),ce(t),e||t.docView.dirty){var n=Y(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}function pe(t,e){if(t.dom.parentNode){var n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(function(){n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}}function he(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}function fe(t,e){if(t.dom.parentNode){var n=t.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(function(){t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?de(t,r.value,null,e):de(t,r.textContent,r.innerHTML,e)},50)}}function de(t,e,n,r){var o=Dt(t,e,n,t.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",function(e){return e(t,r,o||je.Slice.empty)}))return!0;if(!o)return!1;var i=he(o),s=i?t.state.tr.replaceSelectionWith(i,t.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function ve(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}function ye(t,e,n,r,o,i,s){for(var a=t.slice(),l=function(t,e,n,r){for(var s=0;s<a.length;s+=3){var l=a[s+1],c=void 0;l==-1||t>l+i||(e>=a[s]+i?a[s+1]=-1:n>=o&&(c=r-n-(e-t))&&(a[s]+=c,a[s+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var u=!1,p=0;p<a.length;p+=3)if(a[p+1]==-1){var h=n.map(t[p]+i),f=h-o;if(f<0||f>=r.content.size){u=!0;continue}var d=n.map(t[p+1]+i,-1),v=d-o,y=r.content.findIndex(f),g=y.index,m=y.offset,b=r.maybeChild(g);if(b&&m==f&&m+b.nodeSize==v){var w=a[p+2].mapInner(n,b,h+1,t[p]+i+1,s);w!=Hn?(a[p]=f,a[p+1]=v,a[p+2]=w):(a[p+1]=-2,u=!0)}else u=!0}if(u){var _=me(a,t,e||[],n,o,i,s),x=_e(_,r,0,s);e=x.local;for(var k=0;k<a.length;k+=3)a[k+1]<0&&(a.splice(k,3),k-=3);for(var S=0,C=0;S<x.children.length;S+=3){for(var O=x.children[S];C<a.length&&a[C]<O;)C+=3;a.splice(C,0,x.children[S],x.children[S+1],x.children[S+2])}}return new Vn(e&&e.sort(xe),a)}function ge(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(new zn(o.from+e,o.to+e,o.type))}return n}function me(t,e,n,r,o,i,s){function a(t,e){for(var i=0;i<t.local.length;i++){var l=t.local[i].map(r,o,e);l?n.push(l):s.onRemove&&s.onRemove(t.local[i].spec)}for(var c=0;c<t.children.length;c+=3)a(t.children[c+2],t.children[c]+e+1)}for(var l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+i+1);return n}function be(t,e,n){if(e.isLeaf)return null;for(var r=n+e.nodeSize,o=null,i=0,s=void 0;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),
t[i]=null);return o}function we(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function _e(t,e,n,r){var o=[],i=!1;e.forEach(function(e,s){var a=be(t,e,s+n);if(a){i=!0;var l=_e(a,e,n+s+1,r);l!=Hn&&o.push(s,s+e.nodeSize,l)}});for(var s=ge(i?we(t):t,-n).sort(xe),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new Vn(s,o):Hn}function xe(t,e){return t.from-e.from||t.to-e.to}function ke(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var o=n+1;o<e.length;o++){var i=e[o];{if(i.from!=r.from){i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),Se(e,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),Se(e,o+1,i.copy(r.to,i.to)))}}}return e}function Se(t,e,n){for(;e<t.length&&xe(n,t[e])>0;)e++;t.splice(e,0,n)}function Ce(t){var e=[];return t.someProp("decorations",function(n){var r=n(t.state);r&&r!=Hn&&e.push(r)}),t.cursorWrapper&&e.push(Vn.create(t.state.doc,[t.cursorWrapper.deco])),Wn.from(e)}function Oe(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var r in n)"class"==r?e.class+=" "+n[r]:e[r]||"contenteditable"==r||"nodeName"==r||(e[r]=String(n[r]))}),[zn.node(0,t.state.doc.content.size,e)]}function Ee(t){if(t.markCursor){var e=document.createElement("img");e.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:e,deco:zn.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Te(t){return!t.someProp("editable",function(e){return e(t.state)===!1})}function Me(t,e){var n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Pe(t){var e={};return t.someProp("nodeViews",function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}),e}function Ae(t,e){var n=0,r=0;for(var o in t){if(t[o]!=e[o])return!0;n++}for(var i in e)r++;return n!=r}Object.defineProperty(e,"__esModule",{value:!0});var De=n(173),je=n(171),Re=n(174),Ie={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var Le=/Edge\/(\d+)/.exec(navigator.userAgent),ze=/MSIE \d/.test(navigator.userAgent),Fe=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);Ie.mac=/Mac/.test(navigator.platform);var Be=Ie.ie=!!(ze||Fe||Le);Ie.ie_version=ze?document.documentMode||6:Fe?+Fe[1]:Le?+Le[1]:null,Ie.gecko=!Be&&/gecko\/(\d+)/i.test(navigator.userAgent),Ie.gecko_version=Ie.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Ne=!Be&&/Chrome\/(\d+)/.exec(navigator.userAgent);Ie.chrome=!!Ne,Ie.chrome_version=Ne&&+Ne[1],Ie.safari=!Be&&/Apple Computer/.test(navigator.vendor),Ie.ios=Ie.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),Ie.android=/Android \d/.test(navigator.userAgent),Ie.webkit="webkitFontSmoothing"in document.documentElement.style,Ie.webkit_version=Ie.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var Ve=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},He=function(t){var e=t.parentNode;return e&&11==e.nodeType?e.host:e},We=null,Ue=function(t,e,n){var r=We||(We=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},Ke=function(t,e,n,o){return n&&(r(t,e,n,o,-1)||r(t,e,n,o,1))},qe=/^(img|br|input|textarea|hr)$/i,Ge=function(t){var e=t.isCollapsed;return e&&Ie.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e},$e=null,Ye=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,Xe=/[\u0590-\u08ac]/,Ze=null,Je=null,Qe=!1,tn=0,en=1,nn=2,rn=3,on=function(t,e,n,r){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=tn},sn={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0}};on.prototype.matchesWidget=function(){return!1},on.prototype.matchesMark=function(){return!1},on.prototype.matchesNode=function(){return!1},on.prototype.matchesHack=function(){return!1},sn.beforePosition.get=function(){return!1},on.prototype.parseRule=function(){return null},on.prototype.stopEvent=function(){return!1},sn.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},sn.border.get=function(){return 0},on.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},on.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var r=this.children[e];if(r==t)return n;n+=r.size}},sn.posBefore.get=function(){return this.parent.posBeforeChild(this)},sn.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},sn.posAfter.get=function(){return this.posBefore+this.size},sn.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},on.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var r,o;if(t==this.contentDOM)r=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,s;if(t==this.contentDOM)i=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&(!(s=i.pmViewDesc)||s.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}var a;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var l=t;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.parentNode.firstChild!=l)break}if(null==a&&e==t.childNodes.length)for(var c=t;;c=c.parentNode){if(c==this.dom){a=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},on.prototype.nearestDesc=function(t,e){for(var n=!0,r=t;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!e||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==t.nodeType?t:t.parentNode):o.nodeDOM==t))return o;n=!1}}},on.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},on.prototype.posFromDOM=function(t,e,n){for(var r=t;r;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(t,e,n)}return-1},on.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var r=this.children[e],o=n+r.size;if(n==t&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(t<o)return r.descAt(t-n-r.border);n=o}},on.prototype.domFromPos=function(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,r=0,o=!0;;r++,o=!1){for(;r<this.children.length&&(this.children[r].beforePosition||this.children[r].dom.parentNode!=this.contentDOM);)n+=this.children[r++].size;var i=r==this.children.length?null:this.children[r];if(n==t&&(0==e||!i||i.border||e<0&&o)||i&&i.domAtom&&t<n+i.size)return{node:this.contentDOM,offset:i?Ve(i.dom):this.contentDOM.childNodes.length};if(!i)throw new Error("Invalid position "+t);var s=n+i.size;if(!i.domAtom&&(e<0&&!i.border?s>=t:s>t))return i.domFromPos(t-n-i.border,e);n=s}},on.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,s=0;;s++){var a=this.children[s],l=i+a.size;if(r==-1&&t<=l){var c=i+a.border;if(t>=c&&e<=l-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,e,c);t=i;for(var u=s;u>0;u--){var p=this.children[u-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){r=Ve(p.dom)+1;break}t-=p.size}r==-1&&(r=0)}if(r>-1&&(l>e||s==this.children.length-1)){e=l;for(var h=s+1;h<this.children.length;h++){var f=this.children[h];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=Ve(f.dom);break}e+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}i=l}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:o}},on.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},on.prototype.domAfterPos=function(t){var e=this.domFromPos(t,0),n=e.node,r=e.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]},on.prototype.setSelection=function(t,e,n,r){for(var o=Math.min(t,e),i=Math.max(t,e),s=0,a=0;s<this.children.length;s++){var l=this.children[s],c=a+l.size;if(o>a&&i<c)return l.setSelection(t-a-l.border,e-a-l.border,n,r);a=c}var u=this.domFromPos(t,t?-1:1),p=e==t?u:this.domFromPos(e,e?-1:1),h=n.getSelection(),f=!1;if((Ie.gecko||Ie.safari)&&t==e)if(3==u.node.nodeType)f=u.offset&&"\n"==u.node.nodeValue[u.offset-1];else{var d=u.node.childNodes[u.offset-1];f=d&&("BR"==d.nodeName||"false"==d.contentEditable)}if(r||f&&Ie.safari||!Ke(u.node,u.offset,h.anchorNode,h.anchorOffset)||!Ke(p.node,p.offset,h.focusNode,h.focusOffset)){var v=!1;if((h.extend||t==e)&&!f){h.collapse(u.node,u.offset);try{t!=e&&h.extend(p.node,p.offset),v=!0}catch(t){if(!(t instanceof DOMException))throw t}}if(!v){if(t>e){var y=u;u=p,p=y}var g=document.createRange();g.setEnd(p.node,p.offset),g.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(g)}}},on.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},sn.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},on.prototype.markDirty=function(t,e){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?t<=i&&e>=n:t<i&&e>n){var s=n+o.border,a=i-o.border;if(t>=s&&e<=a)return this.dirty=t==n||e==i?nn:en,void(t!=s||e!=a||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(t-s,e-s):o.dirty=rn);o.dirty=rn}n=i}this.dirty=nn},on.prototype.markParentsDirty=function(){for(var t=1,e=this.parent;e;e=e.parent,t++){var n=1==t?nn:en;e.dirty<n&&(e.dirty=n)}},sn.domAtom.get=function(){return!1},Object.defineProperties(on.prototype,sn);var an=[],ln=function(t){function e(e,n,r,o){var i,s=n.type.toDOM;if("function"==typeof s&&(s=s(r,function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o})),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,an,s,null),this.widget=n,i=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={beforePosition:{configurable:!0},domAtom:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},e.prototype.matchesWidget=function(t){return this.dirty==tn&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},n.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,n),e}(on),cn=function(t){function e(e,n,r,o){t.call(this,e,an,n,null),this.textDOM=r,this.text=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,n),e}(on),un=function(t){function e(e,n,r,o){t.call(this,e,[],r,o),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,r,o){var i=o.nodeViews[n.type.name],s=i&&i(n,o,r);return s&&s.dom||(s=je.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,r))),new e(t,n,s.dom,s.contentDOM||s.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return this.dirty!=rn&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),this.dirty!=tn){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=tn}},e.prototype.slice=function(t,n,r){var o=e.create(this.parent,this.mark,!0,r),i=this.children,s=this.size;n<s&&(i=$(i,n,s,r)),t>0&&(i=$(i,0,t,r));for(var a=0;a<i.length;a++)i[a].parent=o;return o.children=i,o},e}(on),pn=function(t){function e(e,n,r,o,i,s,a,l,c){t.call(this,e,n.isLeaf?an:[],i,s),this.nodeDOM=a,this.node=n,this.outerDeco=r,this.innerDeco=o,s&&this.updateChildren(l,c)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return e.create=function(t,n,r,o,i,s){var a,l,c=i.nodeViews[n.type.name],u=c&&c(n,i,function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:s},r),p=u&&u.dom,h=u&&u.contentDOM;if(n.isText)if(p){if(3!=p.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else p=document.createTextNode(n.text);else p||(a=je.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n)),p=a.dom,h=a.contentDOM);h||n.isText||"BR"==p.nodeName||(p.hasAttribute("contenteditable")||(p.contentEditable=!1),n.type.spec.draggable&&(p.draggable=!0));var f=p;return p=B(p,r,n),u?l=new dn(t,n,r,o,p,h,f,u,i,s+1):n.isText?new hn(t,n,r,o,p,f,i):new e(t,n,r,o,p,h,f,i,s+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?je.Fragment.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return this.dirty==tn&&t.eq(this.node)&&N(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,r=this.node.inlineContent,o=e,i=r&&t.composing&&this.localCompositionNode(t,e),s=new yn(this,i&&i.node);U(this.node,this.innerDeco,function(e,i,a){e.spec.marks?s.syncToMarks(e.spec.marks,r,t):e.type.side>=0&&!a&&s.syncToMarks(i==n.node.childCount?je.Mark.none:n.node.child(i).marks,r,t),s.placeWidget(e,t,o)},function(e,n,i,a){s.syncToMarks(e.marks,r,t),s.findNodeMatch(e,n,i,a)||s.updateNextNode(e,n,i,t,a)||s.addNode(e,n,i,t,o),o+=e.nodeSize}),s.syncToMarks(an,r,t),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||this.dirty==nn)&&(i&&this.protectLocalComposition(t,i),R(this.contentDOM,this.children,t),Ie.ios&&K(this.dom))},e.prototype.localCompositionNode=function(t,e){var n=t.state.selection,r=n.from,o=n.to;if(!(!(t.state.selection instanceof De.TextSelection)||r<e||o>e+this.node.content.size)){var i=t.root.getSelection(),s=q(i.focusNode,i.focusOffset);if(s&&this.dom.contains(s.parentNode)){var a=s.nodeValue,l=G(this.node.content,a,r-e,o-e);return l<0?null:{node:s,pos:l,text:a}}}},e.prototype.protectLocalComposition=function(t,e){var n=e.node,r=e.pos,o=e.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var s=new cn(this,i,n,o);t.compositionNodes.push(s),this.children=$(this.children,r,r+o.length,t,s)}},e.prototype.update=function(t,e,n,r){return!(this.dirty==rn||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)},e.prototype.updateInner=function(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=tn},e.prototype.updateOuterDeco=function(t){if(!N(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=z(this.dom,this.nodeDOM,L(this.outerDeco,this.node,e),L(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(e.prototype,n),e}(on),hn=function(t){function e(e,n,r,o,i,s,a){t.call(this,e,n,r,o,i,null,s,a)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){for(var t=this.nodeDOM.parentNode;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}},e.prototype.update=function(t,e,n,r){return!(this.dirty==rn||this.dirty!=tn&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),this.dirty==tn&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=tn,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,r)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,n,r){var o=this.node.cut(t,n),i=document.createTextNode(o.text);return new e(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},n.domAtom.get=function(){return!1},Object.defineProperties(e.prototype,n),e}(pn),fn=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(){return this.dirty==tn},n.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,n),e}(on),dn=function(t){function e(e,n,r,o,i,s,a,l,c,u){t.call(this,e,n,r,o,i,s,a,c,u),this.spec=l}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,r,o){if(this.dirty==rn)return!1;if(this.spec.update){var i=this.spec.update(e,n);return i&&this.updateInner(e,n,r,o),i}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,r,o)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r):t.prototype.setSelection.call(this,e,n,r,o)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(pn);I.prototype=Object.create(null);var vn=[new I],yn=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1;var n=H(t.node.content,t.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};yn.prototype.getPreMatch=function(t){return t>=this.preMatchOffset?this.preMatched[t-this.preMatchOffset]:null},yn.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},yn.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},yn.prototype.syncToMarks=function(t,e,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,t.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&t[r].type.spec.spanning!==!1;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=tn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(t[o])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var l=un.create(this.top,t[o],e,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}},yn.prototype.findNodeMatch=function(t,e,n,r){var o=-1,i=r<0?void 0:this.getPreMatch(r),s=this.top.children;if(i&&i.matchesNode(t,e,n))o=s.indexOf(i);else for(var a=this.index,l=Math.min(s.length,a+5);a<l;a++){var c=s[a];if(c.matchesNode(t,e,n)&&this.preMatched.indexOf(c)<0){o=a;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},yn.prototype.updateNextNode=function(t,e,n,r,o){for(var i=this.index;i<this.top.children.length;i++){var s=this.top.children[i];if(s instanceof pn){var a=this.preMatched.indexOf(s);if(a>-1&&a+this.preMatchOffset!=o)return!1;var l=s.dom,c=this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(t.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==t.text&&s.dirty!=rn&&N(e,s.outerDeco));if(!c&&s.update(t,e,n,r))return this.destroyBetween(this.index,i),s.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},yn.prototype.addNode=function(t,e,n,r,o){this.top.children.splice(this.index++,0,pn.create(this.top,t,e,n,r,o)),this.changed=!0},yn.prototype.placeWidget=function(t,e,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){var o=new ln(this.top,t,e,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},yn.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof un;)t=t.children[t.children.length-1];if(!t||!(t instanceof hn)||/\n$/.test(t.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var e=document.createElement("br");this.top.children.splice(this.index++,0,new fn(this.top,an,e,null)),this.changed=!0}};var gn=Ie.safari||Ie.chrome&&Ie.chrome_version<63,mn={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},bn=null,wn={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},_n=Ie.ie&&Ie.ie_version<=11,xn=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};xn.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},xn.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var kn=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver(function(t){for(var e=0;e<t.length;e++)n.queue.push(t[e]);Ie.ie&&Ie.ie_version<=11&&t.some(function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length})?n.flushSoon():n.flush()}),this.currentSelection=new xn,_n&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};kn.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){t.flushingSoon=-1,t.flush()},20))},kn.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},kn.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,wn),_n&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},kn.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(function(){return t.flush()},20)}this.observer.disconnect()}_n&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},kn.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},kn.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},kn.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return t.suppressingSelectionUpdates=!1},50)},kn.prototype.onSelectionChange=function(){if(it(this.view)){if(this.suppressingSelectionUpdates)return X(this.view);if(Ie.ie&&Ie.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&Ke(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},kn.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},kn.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},kn.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&st(this.view)&&!this.ignoreSelectionChange(e),r=-1,o=-1,i=!1,s=[];if(this.view.editable)for(var a=0;a<t.length;a++){var l=this.registerMutation(t[a],s);l&&(r=r<0?l.from:Math.min(l.from,r),o=o<0?l.to:Math.max(l.to,o),l.typeOver&&(i=!0))}if(Ie.gecko&&s.length>1){var c=s.filter(function(t){return"BR"==t.nodeName});if(2==c.length){var u=c[0],p=c[1];u.parentNode&&u.parentNode.parentNode==p.parentNode?p.remove():u.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),Ht(this.view)),this.handleDOMChange(r,o,i,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||X(this.view))}},kn.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){var r=t.previousSibling,o=t.nextSibling;if(Ie.ie&&Ie.ie_version<=11&&t.addedNodes.length)for(var i=0;i<t.addedNodes.length;i++){var s=t.addedNodes[i],a=s.previousSibling,l=s.nextSibling;(!a||Array.prototype.indexOf.call(t.addedNodes,a)<0)&&(r=a),(!l||Array.prototype.indexOf.call(t.addedNodes,l)<0)&&(o=l)}for(var c=r&&r.parentNode==t.target?Ve(r)+1:0,u=n.localPosFromDOM(t.target,c,-1),p=o&&o.parentNode==t.target?Ve(o):t.target.childNodes.length,h=0;h<t.addedNodes.length;h++)e.push(t.addedNodes[h]);var f=n.localPosFromDOM(t.target,p,1);return{from:u,to:f}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var Sn=!1,Cn={},On={};On.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,!ae(t,e))if(t.domObserver.forceFlush(),t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!Ie.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)t.someProp("handleKeyDown",function(n){return n(t,e)})||xt(t,e)?e.preventDefault():Ut(t,"key");else{var n=Date.now();t.lastIOSEnter=n,t.lastIOSEnterFallbackTimeout=setTimeout(function(){t.lastIOSEnter==n&&(t.someProp("handleKeyDown",function(e){return e(t,a(13,"Enter"))}),t.lastIOSEnter=0)},200)}},On.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},On.keypress=function(t,e){if(!(ae(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||Ie.mac&&e.metaKey)){if(t.someProp("handleKeyPress",function(n){return n(t,e)}))return void e.preventDefault();var n=t.state.selection;if(!(n instanceof De.TextSelection&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(e.charCode);t.someProp("handleTextInput",function(e){return e(t,n.$from.pos,n.$to.pos,r)})||t.dispatch(t.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}}};var En=Ie.mac?"metaKey":"ctrlKey";Cn.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=se(t),r=Date.now(),o="singleClick";r-t.lastClick.time<500&&Zt(e,t.lastClick)&&!e[En]&&("singleClick"==t.lastClick.type?o="doubleClick":"doubleClick"==t.lastClick.type&&(o="tripleClick")),t.lastClick={time:r,x:e.clientX,y:e.clientY,type:o};var i=t.posAtCoords(Xt(e));i&&("singleClick"==o?t.mouseDown=new Tn(t,i,e,n):("doubleClick"==o?re:oe)(t,i.pos,i.inside,e)?e.preventDefault():Ut(t,"pointer"))};var Tn=function(t,e,n,r){var o=this;this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=r,this.selectNode=n[En],this.allowDefault=n.shiftKey;var i,s;if(e.inside>-1)i=t.state.doc.nodeAt(e.inside),s=e.inside;else{var a=t.state.doc.resolve(e.pos);i=a.parent,s=a.depth?a.before():0}this.mightDrag=null;var l=r?null:n.target,c=l?t.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null,(i.type.spec.draggable&&i.type.spec.selectable!==!1||t.state.selection instanceof De.NodeSelection&&s==t.state.selection.from)&&(this.mightDrag={node:i,pos:s,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&Ie.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){return o.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ut(t,"pointer")};Tn.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},Tn.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Xt(t))),this.allowDefault||!e?Ut(this.view,"pointer"):ne(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():this.flushed||Ie.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||Ie.chrome&&!(this.view.state.selection instanceof De.TextSelection)&&(e.pos==this.view.state.selection.from||e.pos==this.view.state.selection.to)?(Qt(this.view,De.Selection.near(this.view.state.doc.resolve(e.pos)),"pointer"),
t.preventDefault()):Ut(this.view,"pointer")}},Tn.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),Ut(this.view,"pointer")},Cn.touchdown=function(t){se(t),Ut(t,"pointer")},Cn.contextmenu=function(t){return se(t)};var Mn=Ie.android?5e3:-1;On.compositionstart=On.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(function(t){return t.type.spec.inclusive===!1})))t.markCursor=t.state.storedMarks||n.marks(),ue(t,!0),t.markCursor=null;else if(ue(t),Ie.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=t.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(3==s.nodeType){r.collapse(s,s.nodeValue.length);break}o=s,i=-1}t.composing=!0}le(t,Mn)},On.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,le(t,20))};var Pn=Ie.ie&&Ie.ie_version<15||Ie.ios&&Ie.webkit_version<604;Cn.copy=On.cut=function(t,e){var n=t.state.selection,r="cut"==e.type;if(!n.empty){var o=Pn?null:e.clipboardData,i=n.content(),s=At(t,i),a=s.dom,l=s.text;o?(e.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):pe(t,a),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},On.paste=function(t,e){var n=Pn?null:e.clipboardData;n&&de(t,n.getData("text/plain"),n.getData("text/html"),e)?e.preventDefault():fe(t,e)};var An=function(t,e){this.slice=t,this.move=e},Dn=Ie.mac?"altKey":"ctrlKey";Cn.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var r=t.state.selection,o=r.empty?null:t.posAtCoords(Xt(e));if(o&&o.pos>=r.from&&o.pos<=(r instanceof De.NodeSelection?r.to-1:r.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(De.NodeSelection.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var i=t.docView.nearestDesc(e.target,!0);if(!i||!i.node.type.spec.draggable||i==t.docView)return;t.dispatch(t.state.tr.setSelection(De.NodeSelection.create(t.state.doc,i.posBefore)))}var s=t.state.selection.content(),a=At(t,s),l=a.dom,c=a.text;e.dataTransfer.clearData(),e.dataTransfer.setData(Pn?"Text":"text/html",l.innerHTML),Pn||e.dataTransfer.setData("text/plain",c),t.dragging=new An(s,!e[Dn])}},Cn.dragend=function(t){var e=t.dragging;window.setTimeout(function(){t.dragging==e&&(t.dragging=null)},50)},On.dragover=On.dragenter=function(t,e){return e.preventDefault()},On.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var r=t.posAtCoords(Xt(e));if(r){var o=t.state.doc.resolve(r.pos);if(o){var i=n&&n.slice||Dt(t,e.dataTransfer.getData(Pn?"Text":"text/plain"),Pn?null:e.dataTransfer.getData("text/html"),!1,o),s=n&&!e[Dn];if(t.someProp("handleDrop",function(n){return n(t,e,i||je.Slice.empty,s)}))return void e.preventDefault();if(i){e.preventDefault();var a=i?Re.dropPoint(t.state.doc,o.pos,i):o.pos;null==a&&(a=o.pos);var l=t.state.tr;s&&l.deleteSelection();var c=l.mapping.map(a),u=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,p=l.doc;if(u?l.replaceRangeWith(c,c,i.content.firstChild):l.replaceRange(c,c,i),!l.doc.eq(p)){var h=l.doc.resolve(c);if(u&&De.NodeSelection.isSelectable(i.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(i.content.firstChild))l.setSelection(new De.NodeSelection(h));else{var f=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach(function(t,e,n,r){return f=r}),l.setSelection(ot(t,h,l.doc.resolve(f)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}}}}}},Cn.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&X(t)},20))},Cn.blur=function(t){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),t.domObserver.currentSelection.set({}),t.focused=!1)},Cn.beforeinput=function(t,e){if(Ie.chrome&&Ie.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout(function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",function(e){return e(t,a(8,"Backspace"))}))){var e=t.state.selection,r=e.$cursor;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())}},50)}};for(var jn in On)Cn[jn]=On[jn];var Rn=function(t,e){this.spec=e||Nn,this.side=this.spec.side||0,this.toDOM=t};Rn.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,this.side<0?-1:1),i=o.pos,s=o.deleted;return s?null:new zn(i-n,i-n,this)},Rn.prototype.valid=function(){return!0},Rn.prototype.eq=function(t){return this==t||t instanceof Rn&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&ve(this.spec,t.spec))};var In=function(t,e){this.spec=e||Nn,this.attrs=t};In.prototype.map=function(t,e,n,r){var o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,i=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new zn(o,i,this)},In.prototype.valid=function(t,e){return e.from<e.to},In.prototype.eq=function(t){return this==t||t instanceof In&&ve(this.attrs,t.attrs)&&ve(this.spec,t.spec)},In.is=function(t){return t.type instanceof In};var Ln=function(t,e){this.spec=e||Nn,this.attrs=t};Ln.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,1);if(o.deleted)return null;var i=t.mapResult(e.to+r,-1);return i.deleted||i.pos<=o.pos?null:new zn(o.pos-n,i.pos-n,this)},Ln.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),r=n.index,o=n.offset;return o==e.from&&o+t.child(r).nodeSize==e.to},Ln.prototype.eq=function(t){return this==t||t instanceof Ln&&ve(this.attrs,t.attrs)&&ve(this.spec,t.spec)};var zn=function(t,e,n){this.from=t,this.to=e,this.type=n},Fn={spec:{configurable:!0},inline:{configurable:!0}};zn.prototype.copy=function(t,e){return new zn(t,e,this.type)},zn.prototype.eq=function(t,e){return void 0===e&&(e=0),this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to},zn.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},zn.widget=function(t,e,n){return new zn(t,t,new Rn(e,n))},zn.inline=function(t,e,n,r){return new zn(t,e,new In(n,r))},zn.node=function(t,e,n,r){return new zn(t,e,new Ln(n,r))},Fn.spec.get=function(){return this.type.spec},Fn.inline.get=function(){return this.type instanceof In},Object.defineProperties(zn.prototype,Fn);var Bn=[],Nn={},Vn=function(t,e){this.local=t&&t.length?t:Bn,this.children=e&&e.length?e:Bn};Vn.create=function(t,e){return e.length?_e(e,t,0,Nn):Hn},Vn.prototype.find=function(t,e,n){var r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r},Vn.prototype.findInner=function(t,e,n,r,o){for(var i=0;i<this.local.length;i++){var s=this.local[i];s.from<=e&&s.to>=t&&(!o||o(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){var l=this.children[a]+1;this.children[a+2].findInner(t-l,e-l,n,r+l,o)}},Vn.prototype.map=function(t,e,n){return this==Hn||0==t.maps.length?this:this.mapInner(t,e,0,0,n||Nn)},Vn.prototype.mapInner=function(t,e,n,r,o){for(var i,s=0;s<this.local.length;s++){var a=this.local[s].map(t,n,r);a&&a.type.valid(e,a)?(i||(i=[])).push(a):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?ye(this.children,i,t,e,n,r,o):i?new Vn(i.sort(xe)):Hn},Vn.prototype.add=function(t,e){return e.length?this==Hn?Vn.create(t,e):this.addInner(t,e,0):this},Vn.prototype.addInner=function(t,e,n){var r,o=this,i=0;t.forEach(function(t,s){var a,l=s+n;if(a=be(e,t,l)){for(r||(r=o.children.slice());i<r.length&&r[i]<s;)i+=3;r[i]==s?r[i+2]=r[i+2].addInner(t,a,l+1):r.splice(i,0,s,s+t.nodeSize,_e(a,t,l+1,Nn)),i+=3}});for(var s=0;s<e.length;s++){var a=e[s];a&&!a.type.valid(t,a)&&(e[s]=null,i=1)}var l=ge(i?we(e):e,-n);return new Vn(l.length?this.local.concat(l).sort(xe):this.local,r||this.children)},Vn.prototype.remove=function(t){return 0==t.length||this==Hn?this:this.removeInner(t,0)},Vn.prototype.removeInner=function(t,e){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,s=n[o]+e,a=n[o+1]+e,l=0,c=void 0;l<t.length;l++)(c=t[l])&&c.from>s&&c.to<a&&(t[l]=null,(i||(i=[])).push(c));if(i){n==this.children&&(n=this.children.slice());var u=n[o+2].removeInner(i,s+1);u!=Hn?n[o+2]=u:(n.splice(o,3),o-=3)}}if(r.length)for(var p=0,h=void 0;p<t.length;p++)if(h=t[p])for(var f=0;f<r.length;f++)r[f].eq(h,e)&&(r==this.local&&(r=this.local.slice()),r.splice(f--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Vn(r,n):Hn},Vn.prototype.forChild=function(t,e){if(this==Hn)return this;if(e.isLeaf)return Vn.empty;for(var n,r,o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(n=this.children[o+2]);break}for(var i=t+1,s=i+e.content.size,a=0;a<this.local.length;a++){var l=this.local[a];if(l.from<s&&l.to>i&&l.type instanceof In){var c=Math.max(i,l.from)-i,u=Math.min(s,l.to)-i;c<u&&(r||(r=[])).push(l.copy(c,u))}}if(r){var p=new Vn(r.sort(xe));return n?new Wn([p,n]):p}return n||Hn},Vn.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof Vn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0},Vn.prototype.locals=function(t){return ke(this.localsInner(t))},Vn.prototype.localsInner=function(t){if(this==Hn)return Bn;if(t.inlineContent||!this.local.some(In.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof In||e.push(this.local[n]);return e};var Hn=new Vn;Vn.empty=Hn,Vn.removeOverlap=ke;var Wn=function(t){this.members=t};Wn.prototype.forChild=function(t,e){if(e.isLeaf)return Vn.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(t,e);o!=Hn&&(o instanceof Wn?n=n.concat(o.members):n.push(o))}return Wn.from(n)},Wn.prototype.eq=function(t){if(!(t instanceof Wn)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},Wn.prototype.locals=function t(e){for(var n,r=!0,o=0;o<this.members.length;o++){var t=this.members[o].localsInner(e);if(t.length)if(n){r&&(n=n.slice(),r=!1);for(var i=0;i<t.length;i++)n.push(t[i])}else n=t}return n?ke(r?n:n.sort(xe)):Bn},Wn.from=function(t){switch(t.length){case 0:return Hn;case 1:return t[0];default:return new Wn(t)}};var Un=function(t,e){this._props=e,this.state=e.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Te(this),this.markCursor=null,this.cursorWrapper=null,Ee(this),this.nodeViews=Pe(this),this.docView=j(this.state.doc,Oe(this),Ce(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,Wt(this),this.pluginViews=[],this.updatePluginViews()},Kn={props:{configurable:!0},root:{configurable:!0}};Kn.props.get=function(){if(this._props.state!=this.state){var t=this._props;this._props={};for(var e in t)this._props[e]=t[e];this._props.state=this.state}return this._props},Un.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&qt(this),this._props=t,this.updateStateInner(t.state,!0)},Un.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];e.state=this.state;for(var r in t)e[r]=t[r];this.update(e)},Un.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},Un.prototype.updateStateInner=function(t,e){var n=this,r=this.state,o=!1,i=!1;if(t.storedMarks&&this.composing&&(ce(this),i=!0),this.state=t,e){var s=Pe(this);Ae(s,this.nodeViews)&&(this.nodeViews=s,o=!0),qt(this)}this.editable=Te(this),Ee(this);var a=Ce(this),l=Oe(this),c=e?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",u=o||!this.docView.matchesNode(t.doc,l,a);!u&&t.selection.eq(r.selection)||(i=!0);var f="preserve"==c&&i&&null==this.dom.style.overflowAnchor&&h(this);if(i){this.domObserver.stop();var v=u&&(Ie.ie||Ie.chrome)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&Me(r.selection,t.selection);if(u){var y=Ie.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!o&&this.docView.update(t.doc,l,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=j(t.doc,l,a,this.dom,this)),y&&!this.trackWrites&&(v=!0)}v||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&at(this))?X(this,v):(nt(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==c)this.dom.scrollTop=0;else if("to selection"==c){var g=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(t){return t(n)})||(t.selection instanceof De.NodeSelection?p(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),g):p(this,this.coordsAtPos(t.selection.head,1),g))}else f&&d(f)},Un.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()},Un.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var o=this.state.plugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}},Un.prototype.someProp=function(t,e){var n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;var o=this.state.plugins;if(o)for(var i=0;i<o.length;i++){var s=o[i].props[t];if(null!=s&&(n=e?e(s):s))return n}},Un.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Un.prototype.focus=function(){this.domObserver.stop(),this.editable&&y(this.dom),X(this),this.domObserver.start()},Kn.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},Un.prototype.posAtCoords=function(t){return S(this,t)},Un.prototype.coordsAtPos=function(t,e){return void 0===e&&(e=1),O(this,t,e)},Un.prototype.domAtPos=function(t,e){return void 0===e&&(e=0),this.docView.domFromPos(t,e)},Un.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},Un.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},Un.prototype.endOfTextblock=function(t,e){return D(this,e||this.state,t)},Un.prototype.destroy=function(){this.docView&&(Kt(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ce(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Un.prototype.dispatchEvent=function(t){return Yt(this,t)},Un.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(Un.prototype,Kn),e.Decoration=zn,e.DecorationSet=Vn,e.EditorView=Un,e.__endComposition=ue,e.__parseFromClipboard=Dt,e.__serializeForClipboard=At},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(189),o=n(197),i=n(199),s=n(188),a=n(200),l=n(175),c="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);e.buildKeymap=function(t){var e={};if(e["Mod-z"]=o.undo,e["Shift-Mod-z"]=o.redo,e.Backspace=r.chainCommands(i.undoInputRule,r.deleteSelection,r.joinBackward,r.selectNodeBackward),e.Enter=r.chainCommands(r.newlineInCode,r.createParagraphNear,r.liftEmptyBlock,r.splitBlockKeepMarks),c||(e["Mod-y"]=o.redo),t.marks.strong&&(e["Mod-b"]=l.toggleInlineFormat(a.bold)),t.marks.em&&(e["Mod-i"]=l.toggleInlineFormat(a.italic)),t.marks.underline&&(e["Mod-u"]=l.toggleInlineFormat(a.underline)),t.nodes.hard_break){var n=t.nodes.hard_break,s=r.chainCommands(r.exitCode,function(t,e){return e(t.tr.replaceSelectionWith(n.create()).scrollIntoView()),!0});e["Shift-Enter"]=s}return e},e.buildListKeymap=function(t){var e={};return t.nodes.list_item&&(e.Enter=s.splitListItemKeepMarks(t.nodes.list_item)),e}},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t,e){var n;return t.forEach(function(t,r){if(t.selection&&0==e--)return n=r,!1}),t.slice(n)}function i(t,e,n,r){var o,i=n.getMeta(E);if(i)return i.historyState;n.getMeta(T)&&(t=new k(t.done,t.undone,null,0));var c=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(c&&c.getMeta(E))return c.getMeta(E).redo?new k(t.done.addTransform(n,null,r,u(e)),t.undone,a(n.mapping.maps[n.steps.length-1]),t.prevTime):new k(t.done,t.undone.addTransform(n,null,r,u(e)),null,t.prevTime);if(n.getMeta("addToHistory")===!1||c&&c.getMeta("addToHistory")===!1)return(o=n.getMeta("rebased"))?new k(t.done.rebased(n,o),t.undone.rebased(n,o),l(t.prevRanges,n.mapping),t.prevTime):new k(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),l(t.prevRanges,n.mapping),t.prevTime);var p=0==t.prevTime||!c&&(t.prevTime<(n.time||0)-r.newGroupDelay||!s(n,t.prevRanges)),h=c?l(t.prevRanges,n.mapping):a(n.mapping.maps[n.steps.length-1]);return new k(t.done.addTransform(n,p?e.selection.getBookmark():null,r,u(e)),_.empty,h,n.time)}function s(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach(function(t,r){for(var o=0;o<e.length;o+=2)t<=e[o+1]&&r>=e[o]&&(n=!0)}),n}function a(t){var e=[];return t.forEach(function(t,n,r,o){return e.push(r,o)}),e}function l(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function c(t,e,n,r){var o=u(e),i=E.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,o);if(s){var a=s.selection.resolve(s.transform.doc),l=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,o),c=new k(r?l:s.remaining,r?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(E,{redo:r,historyState:c}).scrollIntoView())}}function u(t){var e=t.plugins;if(O!=e){C=!1,O=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){C=!0;break}}return C}function p(t){return t.setMeta(T,!0)}function h(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new b.Plugin({key:E,state:{init:function(){return new k(_.empty,_.empty,null,0)},apply:function(e,n,r){return i(n,r,e,t)}},config:t})}function f(t,e){var n=E.getState(t);return!(!n||0==n.done.eventCount)&&(e&&c(n,t,e,!1),!0)}function d(t,e){var n=E.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&c(n,t,e,!0),!0)}function v(t){var e=E.getState(t);return e?e.done.eventCount:0}function y(t){var e=E.getState(t);return e?e.undone.eventCount:0}Object.defineProperty(e,"__esModule",{value:!0});var g=r(n(198)),m=n(174),b=n(173),w=500,_=function(t,e){this.items=t,this.eventCount=e};_.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var r=this.items.length;;r--){var o=this.items.get(r-1);if(o.selection){--r;break}}var i,s;e&&(i=this.remapping(r,this.items.length),s=i.maps.length);var a,l,c=t.tr,u=[],p=[];return this.items.forEach(function(t,e){if(!t.step)return i||(i=n.remapping(r,e+1),s=i.maps.length),s--,void p.push(t);if(i){p.push(new x(t.map));var o,h=t.step.map(i.slice(s));h&&c.maybeStep(h).doc&&(o=c.mapping.maps[c.mapping.maps.length-1],u.push(new x(o,null,null,u.length+p.length))),s--,o&&i.appendMap(o,s)}else c.maybeStep(t.step);return t.selection?(a=i?t.selection.map(i.slice(s)):t.selection,l=new _(n.items.slice(0,r).append(p.reverse().concat(u)),n.eventCount-1),!1):void 0},this.items.length,0),{remaining:l,transform:c,selection:a}},_.prototype.addTransform=function(t,e,n,r){for(var i=[],s=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null,c=0;c<t.steps.length;c++){var u=t.steps[c].invert(t.docs[c]),p=new x(t.mapping.maps[c],u,e),h=void 0;(h=l&&l.merge(p))&&(p=h,c?i.pop():a=a.slice(0,a.length-1)),i.push(p),e&&(s++,e=null),r||(l=p)}var f=s-n.depth;return f>S&&(a=o(a,f),s-=f),new _(a.append(i),s)},_.prototype.remapping=function(t,e){var n=new m.Mapping;return this.items.forEach(function(e,r){var o=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:null;n.appendMap(e.map,o)},t,e),n},_.prototype.addMaps=function(t){return 0==this.eventCount?this:new _(this.items.append(t.map(function(t){return new x(t)})),this.eventCount)},_.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-e),o=t.mapping,i=t.steps.length,s=this.eventCount;this.items.forEach(function(t){t.selection&&s--},r);var a=e;this.items.forEach(function(e){var r=o.getMirror(--a);if(null!=r){i=Math.min(i,r);var l=o.maps[r];if(e.step){var c=t.steps[r].invert(t.docs[r]),u=e.selection&&e.selection.map(o.slice(a+1,r));u&&s++,n.push(new x(l,c,u))}else n.push(new x(l))}},r);for(var l=[],c=e;c<i;c++)l.push(new x(o.maps[c]));var u=this.items.slice(0,r).append(l).append(n),p=new _(u,s);return p.emptyItemCount()>w&&(p=p.compress(this.items.length-n.length)),p},_.prototype.emptyItemCount=function(){var t=0;return this.items.forEach(function(e){e.step||t++}),t},_.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach(function(i,s){if(s>=t)r.push(i),i.selection&&o++;else if(i.step){var a=i.step.map(e.slice(n)),l=a&&a.getMap();if(n--,l&&e.appendMap(l,n),a){var c=i.selection&&i.selection.map(e.slice(n));c&&o++;var u,p=new x(l.invert(),a,c),h=r.length-1;(u=r.length&&r[h].merge(p))?r[h]=u:r.push(p)}}else i.map&&n--},this.items.length,0),new _(g.from(r.reverse()),o)},_.empty=new _(g.empty,0);var x=function(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r};x.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new x(e.getMap().invert(),e,this.selection)}};var k=function(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r},S=20,C=!1,O=null,E=new b.PluginKey("history"),T=new b.PluginKey("closeHistory");e.HistoryState=k,e.closeHistory=p,e.history=h,e.redo=d,e.redoDepth=y,e.undo=f,e.undoDepth=v},function(t,e){"use strict";var n=200,r=function(){};r.prototype.append=function(t){return t.length?(t=r.from(t),!this.length&&t||t.length<n&&this.leafAppend(t)||this.length<n&&t.leafPrepend(this)||this.appendInner(t)):this},r.prototype.prepend=function(t){return t.length?r.from(t).append(this):this},r.prototype.appendInner=function(t){return new i(this,t)},r.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?r.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},r.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},r.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},r.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(e,n){return r.push(t(e,n))},e,n),r},r.from=function(t){return t instanceof r?t:t&&t.length?new o(t):r.empty};var o=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var o=e;o<n;o++)if(t(this.values[o],r+o)===!1)return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var o=e-1;o>=n;o--)if(t(this.values[o],r+o)===!1)return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=n)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=n)return new e(t.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(r);r.empty=new o([]);var i=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var o=this.left.length;return!(e<o&&this.left.forEachInner(t,e,Math.min(n,o),r)===!1)&&(!(n>o&&this.right.forEachInner(t,Math.max(e-o,0),Math.min(this.length,n)-o,r+o)===!1)&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var o=this.left.length;return!(e>o&&this.right.forEachInvertedInner(t,e-o,Math.max(n,o)-o,r+o)===!1)&&(!(n<o&&this.left.forEachInvertedInner(t,Math.min(e,o),n,r)===!1)&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(r),s=r;t.exports=s},function(t,e,n){"use strict";function r(t){return function(e,n,r,o){var i=t;if(n[1]){var s=n[0].lastIndexOf(n[1]);i+=n[0].slice(s+n[1].length),r+=s;var a=r-o;a>0&&(i=n[0].slice(s-a,s)+i,r=o)}return e.tr.insertText(i,r,o)}}function o(t){var e=t.rules,n=new c.Plugin({state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(this);return n?n:t.selectionSet||t.docChanged?null:e}},props:{handleTextInput:function(t,r,o,s){return i(t,r,o,s,e,n)},handleDOMEvents:{compositionend:function(t){setTimeout(function(){var r=t.state.selection,o=r.$cursor;o&&i(t,o.pos,o.pos,"",e,n)})}}},isInputRules:!0});return n}function i(t,e,n,r,o,i){if(t.composing)return!1;var s=t.state,a=s.doc.resolve(e);if(a.parent.type.spec.code)return!1;for(var l=a.parent.textBetween(Math.max(0,a.parentOffset-h),a.parentOffset,null,"")+r,c=0;c<o.length;c++){var u=o[c].match.exec(l),p=u&&o[c].handler(s,u,e-(u[0].length-r.length),n);if(p)return t.dispatch(p.setMeta(i,{transform:p,from:e,to:n,text:r})),!0}return!1}function s(t,e){for(var n=t.plugins,r=0;r<n.length;r++){var o=n[r],i=void 0;if(o.spec.isInputRules&&(i=o.getState(t))){if(e){for(var s=t.tr,a=i.transform,l=a.steps.length-1;l>=0;l--)s.step(a.steps[l].invert(a.docs[l]));if(i.text){var c=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,t.schema.text(i.text,c))}else s.delete(i.from,i.to);e(s)}return!0}}return!1}function a(t,e,n,r){return new p(t,function(t,o,i,s){var a=n instanceof Function?n(o):n,l=t.tr.delete(i,s),c=l.doc.resolve(i),p=c.blockRange(),h=p&&u.findWrapping(p,e,a);if(!h)return null;l.wrap(p,h);var f=l.doc.resolve(i-1).nodeBefore;return f&&f.type==e&&u.canJoin(l.doc,i-1)&&(!r||r(o,f))&&l.join(i-1),l})}function l(t,e,n){return new p(t,function(t,r,o,i){var s=t.doc.resolve(o),a=n instanceof Function?n(r):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e)?t.tr.delete(o,i).setBlockType(o,o,e,a):null})}Object.defineProperty(e,"__esModule",{value:!0});var c=n(173),u=n(174),p=function(t,e){this.match=t,this.handler="string"==typeof e?r(e):e},h=500,f=new p(/--$/,""),d=new p(/\.\.\.$/,""),v=new p(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),y=new p(/"$/,""),g=new p(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),m=new p(/'$/,""),b=[v,y,g,m];e.InputRule=p,e.closeDoubleQuote=y,e.closeSingleQuote=m,e.ellipsis=d,e.emDash=f,e.inputRules=o,e.openDoubleQuote=v,e.openSingleQuote=g,e.smartQuotes=b,e.textblockTypeInputRule=l,e.undoInputRule=s,e.wrappingInputRule=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bold={mark:"strong",altMarks:["b"],altStyle:{name:"font-weight",value:/^(bold(er)?|[5-9]\d{2,})$/}},e.italic={mark:"em",altMarks:["i"],altStyle:{name:"font-style",value:/^italic$/i}},e.underline={mark:"u",altStyle:{name:"text-decoration",value:/^underline$/i}},e.strikethrough={mark:"del",altStyle:{name:"text-decoration",value:/^line-through$/i}},e.subscript={mark:"sub"},e.superscript={mark:"sup"},e.link={mark:"link"},e.unlink={mark:"link"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(202);e.sanitize=function(t){return t=t.replace(/^[\s\S]+?<!--StartFragment-->\s*([\s\S]*?)\s*<!--EndFragment-->[\s\S]+$/,"$1"),t=t.replace(/<\/?[ovw]:[^>]*?>/gi,""),t=t.replace(/<\\?\??xml[^>]*>/gi,""),t=t.replace(/<(?:link|meta) [^>]+?>/gi,""),t=t.replace(/<style[^>]*?>\s*<\/style>/gi,""),t=t.replace(/<\/?st1:.*?>/gi,""),t=t.replace(/<a name="[a-zA-Z0-9_]+">/gim,""),t=t.replace(/v:shapes?="[^"]+"/gi,""),t=t.replace(/<!\[if !supportLists\]>/gi,""),t=t.replace(/<!\[endif\]>/gi,"")},e.removeComments=function(t){return t.replace(/<!--[\s\S]+?-->/g,"")},e.removeTag=function(t,e){return t.replace(new RegExp("<\\/?("+e+")(?:\\s[^>]*?)?>","gi"),"")},e.removeAttribute=function(t){t.ownerElement&&t.ownerElement.removeAttribute(t.name)},e.sanitizeClassAttr=function(t){/^Mso/.test(t.value)&&e.removeAttribute(t)};var o=/\s*;\s*/,i=/\s*:\s*/;e.sanitizeStyleAttr=function(t){var n,r,s=t.value.split(o).filter(function(t){return Boolean(t)}),a=t.ownerElement,l=a.style,c="";s.forEach(function(t){var e;e=t.split(i),n=e[0],r=e[1],void 0!==l[n]&&(c+=n+": "+r+"; ")}),c=c.trim(),c?t.value=c:e.removeAttribute(t)};var s=function(t){var e=t.parentNode;if(e){for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}},a=function(t,e){if(t.nodeType===Node.ELEMENT_NODE){for(var n=t.attributes.length-1;n>=0;n--){var r=t.attributes[n];e[r.name]?e[r.name](r):e["*"]&&e["*"](r)}"SPAN"===t.nodeName&&0===t.attributes.length&&s(t)}};e.pasteCleanup=function(t,n){var o=t;if(n.convertMsLists&&(o=r.convertMsLists(o)),n.stripTags&&(o=e.removeTag(o,n.stripTags)),n.attributes){var i=document.createElement("div");i.innerHTML=o,Array.from(i.querySelectorAll("*")).forEach(function(t){return a(t,n.attributes)}),o=i.innerHTML}return o}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=/style=['"]?[^'"]*?mso-list:\s*[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi,r=function(t){return t=t.replace(n,function(t,e,n){return'datalist="'+e+'" datalevel="'+n+'" '+t})},o=function(t){return/^MsoListParagraph/.test(t.className)},i=function(t){var e=t.innerHTML;return e=e.replace(/<!--(.|\s)*?-->/gi,""),e=e.replace(/<\/?[^>]+?\/?>/gm,"")},s=function(t,e){var n=document.createElement(t);return n.style.listStyleType=e,n},a=function(t){return/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(t)?null:/^o/.test(t)?"circle":"square"},l=function(t){var e=null;return/^\d/.test(t)||(e=(/^[a-z]/.test(t)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(t)?"roman":"alpha")),e},c=function(t,e){var n=[];Array.from(t).forEach(function(t){if(t.nodeType===Node.ELEMENT_NODE){var r=t;r.getAttribute("datalist")?(n.push(t),e.add(n)):o(r)&&n.length?n.push(t):(n=[],"DIV"===r.nodeName?c(r.children,e):"TABLE"===r.nodeName&&Array.from(r.querySelectorAll("td,th")).forEach(function(t){c(t.children,e)}))}})},u=function(t){var e=t.innerHTML,n=function(t){
return t.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"")};return e=e.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,""),/^[\u2022\u00b7\u00a7\u00d8ovn][\u00a0 ]+/.test(e)?{tag:"ul",style:a(n(i(t)))}:/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(e)?{tag:"ol",style:l(n(i(t)))}:void 0},p=function(t){var e,n=t.nodeName.toLowerCase();t.firstChild&&t.firstChild.nodeType===Node.COMMENT_NODE&&t.removeChild(t.firstChild),1===t.childNodes.length?e=t.firstChild.nodeType===Node.TEXT_NODE?i(t):t.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""):(t.removeChild(t.firstChild),3===t.firstChild.nodeType&&/^[ivxlcdm]+\.$/i.test(t.firstChild.nodeValue)&&t.removeChild(t.firstChild),/^(&nbsp;|\s)+$/i.test(t.firstChild.innerHTML)&&t.removeChild(t.firstChild),e="p"!==n?"<"+n+">"+t.innerHTML+"</"+n+">":t.innerHTML),t.parentNode.removeChild(t);var r=document.createElement("li");return r.innerHTML=e,r},h=function(t){var e,n,r,i,a,l,c,h,f,d,v,y,g,m=-1,b={};for(h=0;h<t.length;h++){f=t[h],g={datalist:f.getAttribute("datalist"),datalevel:f.getAttribute("datalevel")};var w=g.datalist,_=u(f);if(d=_&&_.tag){if(v=g.datalevel||parseFloat(f.style.marginLeft||0),g.datalevel||f.style.marginLeft){var x=d+w;b[v]||(b[v]={}),(!n||n<0)&&(n=v,r=w,c=t.filter(function(t){return t.getAttribute("datalist")===String(r)}),i=c[c.length-1],l=s(d,_&&_.style),f.parentNode.insertBefore(l,f),m=v,b[v][x]=l),a=i===f,y=b[v][x],(v>m||!y)&&(y=s(d,_&&_.style),b[v][x]=y,e.appendChild(y)),e=p(f),y.appendChild(e),a?n=m=-1:m=v}}else!e||a&&!o(f)||(f.style.marginLeft&&(f.style.marginLeft=""),f.style.marginLeft&&(f.style.margin=""),e.appendChild(f))}};e.convertMsLists=function(t){var e=document.createElement("div");e.innerHTML=r(t);var n=new Set;return c(e.children,n),n.forEach(function(t){return h(t)}),e.innerHTML}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTable=function(t,e,n){for(var r,o=t.table,i=t.table_row,s=t.table_cell,a=[],l=0;l<e+1;l++){r=[];for(var c=0;c<n+1;c++)r.push(s.createAndFill());a.push(i.createAndFill(void 0,r))}return o.createAndFill(void 0,a)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(86),o=n(173);e.findAt=function(t,e,n,r,i){var l,c,u,p,h,f,d=[],v=[],y=e.matchCase,g=e.matchWord,m=e.useRegExp,b=e.text;if(m&&(/^\\$/.test(b)||/[^\\]\\$/.test(b))&&(b=b.substring(0,b.length-1)),!b)return d;var w=y?"g":"gi",_=m?new RegExp(b,w):a(b,w);return t.nodesBetween(n,r,function(e,a,y){return!i(d)&&void(e.inlineContent&&a+e.content.size>=n&&(v.length=0,e.nodesBetween(0,e.content.size,function(e,y,m,b){if(i(d))return!1;var w=1+a+y;if(e.isText&&w+e.nodeSize>=n){if(h=e.text||"",f=m.childCount-1>=b+1&&m.child(b+1),v.push(n<=w?{text:h,start:w}:{text:h.slice(n-w),start:n}),f&&f.isText)return;for(c=v.map(function(t){return t.text}).join(""),l=_.exec(c);null!==l&&(u=v[0].start+l.index,p=u+l[0].length,n<=u&&r>=p&&s(l,g)&&d.push(o.TextSelection.create(t,u,p)),!i(d));)l=_.exec(c)}else v.length=0})))}),d},e.find=function(t,n){var o=n.backward,i=n.matchCyclic,s=r.__rest(n,["backward","matchCyclic"]),a=o?function(){return!1}:function(t){return t.length>0},l=t.doc,c=t.selection,u=[];return o?(u=e.findAt(l,s,0,c.from,a),!u.length&&i&&(u=e.findAt(l,s,c.from,l.content.size,a))):(u=e.findAt(l,s,c.to,l.content.size,a),!u.length&&i&&(u=e.findAt(l,s,0,c.to,a))),u.length?u[u.length-1]:null},e.findAll=function(t,n){return e.findAt(t,n,0,t.content.size,function(){return!1})},e.replace=function(t,e,n){var r=t.from,i=t.to;return n.insertText(e,r,i).setSelection(o.TextSelection.create(n.doc,r,r+e.length)),n},e.replaceAll=function(t,n,r){var o=e.findAll(t.doc,r);if(0===o.length)return null;for(var i=t.tr,s=o.length-1;s>=0;s--)i.insertText(n,o[s].from,o[s].to);return i};var i=/^[\s0-9~`!@#$%\^&*\(\)_\-=+\\|\[\]{};:'"\?\/.,<>]?$/,s=function(t,e){if(e){if(e===!0){var n=t.input,r=n.charAt(t.index-1),o=n.charAt(t.index+t[0].length);return i.test(r)&&i.test(o)}return e(t)}return!0},a=function(t,e){var n=t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d").replace(/\s/g,"\\s");return new RegExp(n,e)}},function(t,e,n){"use strict";function r(t){var e={class:"k-placeholder","data-placeholder":t};return new o.Plugin({key:new o.PluginKey("placeholder"),props:{decorations:function(t){var n=t.doc,r=n.content.firstChild,o=0===n.childCount||1===n.childCount&&r.inlineContent&&0===r.childCount;if(!o)return i.DecorationSet.empty;var s=[];return n.descendants(function(t,n){s.push(i.Decoration.node(n,n+t.nodeSize,e))}),i.DecorationSet.create(n,s)}}})}Object.defineProperty(e,"__esModule",{value:!0});var o=n(173),i=n(195);e.placeholder=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(173),o=n(195),i=/\s+/g,s=/text-align/,a=function(t){return s.test(t&&t.attrs&&t.attrs.style||"")};e.spacesFix=function(){return new r.Plugin({key:new r.PluginKey("spaces-fix"),props:{decorations:function(t){var e,n,r,s,l=[],c=t.doc;return c.nodesBetween(0,c.content.size,function(t,c,u){if(t.type.isText&&a(u))for(n=i.exec(t.text||"");null!==n;){if(e=c+n.index,r=n[0].length,n.index+r<n.input.length)for(s=0;s<=r-1;s+=2)l.push(o.Decoration.inline(e+s,e+s+1,{style:"white-space: normal"}));n=i.exec(t.text||"")}}),o.DecorationSet.create(c,l)}}})}},function(t,e,n){"use strict";function r(t){return void 0===t&&(t=e.textHighlightKey),new o.Plugin({key:t,state:{init:function(){return null},apply:function(t){return t.getMeta(this.spec.key)}},props:{decorations:function(t){var e=(this.spec.key.getState(t)||[]).map(function(t){return i.Decoration.inline(t.from,t.to,t.attrs)});return i.DecorationSet.create(t.doc,e)}}})}Object.defineProperty(e,"__esModule",{value:!0});var o=n(173),i=n(195);e.textHighlightKey=new o.PluginKey("highlight"),e.textHighlight=r},function(t,e,n){"use strict";function r(t){return void 0===t&&(t={}),new o.Plugin({view:function(e){return new s(e,t)}})}Object.defineProperty(e,"__esModule",{value:!0});var o=n(173),i=n(174),s=function(t,e){var n=this;this.editorView=t,this.width=e.width||1,this.color=e.color||"black",this.class=e.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map(function(e){var r=function(t){return n[e](t)};return t.dom.addEventListener(e,r),{name:e,handler:r}})};s.prototype.destroy=function(){var t=this;this.handlers.forEach(function(e){var n=e.name,r=e.handler;return t.editorView.dom.removeEventListener(n,r)})},s.prototype.update=function(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&this.updateOverlay()},s.prototype.setCursor=function(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},s.prototype.updateOverlay=function(){var t,e=this.editorView.state.doc.resolve(this.cursorPos);if(!e.parent.inlineContent){var n=e.nodeBefore,r=e.nodeAfter;if(n||r){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!t){var s=this.editorView.coordsAtPos(this.cursorPos);t={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}var a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);var l=!a||a==document.body&&"static"==getComputedStyle(a).position?{left:-pageXOffset,top:-pageYOffset}:a.getBoundingClientRect();this.element.style.left=t.left-l.left+"px",this.element.style.top=t.top-l.top+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"},s.prototype.scheduleRemoval=function(t){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){return e.setCursor(null)},t)},s.prototype.dragover=function(t){if(this.editorView.editable){var e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY});if(e){var n=e.pos;this.editorView.dragging&&this.editorView.dragging.slice&&(n=i.dropPoint(this.editorView.state.doc,n,this.editorView.dragging.slice),null==n&&(n=e.pos)),this.setCursor(n),this.scheduleRemoval(5e3)}}},s.prototype.dragend=function(){this.scheduleRemoval(20)},s.prototype.drop=function(){this.scheduleRemoval(20)},s.prototype.dragleave=function(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)},e.dropCursor=r},function(t,e,n){"use strict";function r(t){for(var e=t.depth;e>=0;e--){var n=t.index(e);if(0!=n)for(var r=t.node(e).child(n-1);;r=r.lastChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function o(t){for(var e=t.depth;e>=0;e--){var n=t.indexAfter(e),r=t.node(e);if(n!=r.childCount)for(var o=r.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function i(t,e){var n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,r,o){var i=t.selection,s=e>0?i.$to:i.$from,a=i.empty;if(i instanceof c.TextSelection){if(!o.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=t.doc.resolve(e>0?s.after():s.before())}var l=h.findFrom(s,e,a);return!!l&&(r&&r(t.tr.setSelection(new h(l))),!0)}}function s(t,e,n){if(!t.editable)return!1;var r=t.state.doc.resolve(e);if(!h.valid(r))return!1;var o=t.posAtCoords({left:n.clientX,top:n.clientY}),i=o.inside;return!(i>-1&&c.NodeSelection.isSelectable(t.state.doc.nodeAt(i)))&&(t.dispatch(t.state.tr.setSelection(new h(r))),!0)}function a(t){if(!(t.selection instanceof h))return null;var e=document.createElement("div");return e.className="ProseMirror-gapcursor",u.DecorationSet.create(t.doc,[u.Decoration.widget(t.selection.head,e,{key:"gapcursor"})])}Object.defineProperty(e,"__esModule",{value:!0});var l=n(193),c=n(173),u=n(195),p=n(171),h=function(t){function e(e){t.call(this,e,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));return e.valid(o)?new e(o):t.near(o)},e.prototype.content=function(){return p.Slice.empty},e.prototype.eq=function(t){return t instanceof e&&t.head==this.head},e.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new e(t.resolve(n.pos))},e.prototype.getBookmark=function(){return new f(this.anchor)},e.valid=function(t){var e=t.parent;if(e.isTextblock||!r(t)||!o(t))return!1;var n=e.type.spec.allowGapCursor;if(null!=n)return n;var i=e.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock},e.findFrom=function(t,n,r){t:for(;;){if(!r&&e.valid(t))return t;for(var o=t.pos,i=null,s=t.depth;;s--){var a=t.node(s);if(n>0?t.indexAfter(s)<a.childCount:t.index(s)>0){i=a.child(n>0?t.indexAfter(s):t.index(s)-1);break}if(0==s)return null;o+=n;var l=t.doc.resolve(o);if(e.valid(l))return l}for(;;){var u=n>0?i.firstChild:i.lastChild;if(!u){if(i.isAtom&&!i.isText&&!c.NodeSelection.isSelectable(i)){t=t.doc.resolve(o+i.nodeSize*n),r=!1;continue t}break}i=u,o+=n;var p=t.doc.resolve(o);if(e.valid(p))return p}return null}},e}(c.Selection);h.prototype.visible=!1,c.Selection.jsonID("gapcursor",h);var f=function(t){this.pos=t};f.prototype.map=function(t){return new f(t.map(this.pos))},f.prototype.resolve=function(t){var e=t.resolve(this.pos);return h.valid(e)?new h(e):c.Selection.near(e)};var d=function(){return new c.Plugin({props:{decorations:a,createSelectionBetween:function(t,e,n){if(e.pos==n.pos&&h.valid(n))return new h(n)},handleClick:s,handleKeyDown:v}})},v=l.keydownHandler({ArrowLeft:i("horiz",-1),ArrowRight:i("horiz",1),ArrowUp:i("vert",-1),ArrowDown:i("vert",1)});e.GapCursor=h,e.gapCursor=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.schema=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(169),i=n(211),s=r({},o.nodes,{table:{attrs:{id:{default:null},style:{default:null},class:{default:"k-table"},cellspacing:{default:null},cellpadding:{default:null}},content:"(table_body | table_row | table_head | table_foot | table_colgroup)+",tableRole:"table",isolating:!0,group:"block",parseDOM:[{getAttrs:i.getAttributes,tag:"table"}],toDOM:function(t){return["table",t.attrs,["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",attrs:r({},(0,i.commonAttributes)()),tableRole:"row",parseDOM:[{getAttrs:i.getAttributes,tag:"tr"}],toDOM:function(t){return["tr",t.attrs,0]}},table_cell:{content:"block+",attrs:r({},(0,i.commonAttributes)(),(0,i.createDefaultAttributes)(["headers"]),{colspan:{default:1},rowspan:{default:1}}),tableRole:"cell",isolating:!0,parseDOM:[{getAttrs:i.getAttributes,tag:"td"}],toDOM:function(t){return["td",(0,i.setCellAttrs)(t.attrs),0]}},table_header:{content:"block+",attrs:r({},(0,i.commonAttributes)(),(0,i.createDefaultAttributes)(["headers","abbr","scope"]),{colspan:{default:1},rowspan:{default:1}}),tableRole:"header_cell",isolating:!0,parseDOM:[{getAttrs:i.getAttributes,tag:"th"}],toDOM:function(t){return["th",(0,i.setCellAttrs)(t.attrs),0]}},table_body:{attrs:r({},(0,i.commonAttributes)()),content:"table_row+",isolating:!0,parseDOM:[{getAttrs:i.getAttributes,tag:"tbody"}],toDOM:function(t){return["tbody",t.attrs,0]}},table_foot:{attrs:r({},(0,i.commonAttributes)()),content:"table_row+",isolating:!0,parseDOM:[{getAttrs:i.getAttributes,tag:"tfoot"}],toDOM:function(t){return["tfoot",t.attrs,0]}},table_head:{attrs:r({},(0,i.commonAttributes)()),content:"table_row+",isolating:!0,parseDOM:[{getAttrs:i.getAttributes,tag:"thead"}],toDOM:function(t){return["thead",t.attrs,0]}},table_col:{attrs:r({},(0,i.commonAttributes)(),(0,i.createDefaultAttributes)(["span"])),selectable:!1,atom:!0,parseDOM:[{getAttrs:i.getAttributes,tag:"col"}],toDOM:function(t){return["col",t.attrs]}},table_colgroup:{attrs:r({},(0,i.commonAttributes)(),(0,i.createDefaultAttributes)(["span"])),content:"table_col*",selectable:!1,parseDOM:[{getAttrs:i.getAttributes,tag:"colgroup"}],toDOM:function(t){return["colgroup",t.attrs,0]}},video:{attrs:r({src:{},controls:{},poster:{default:null},width:{default:null},height:{default:null}},(0,i.commonAttributes)()),group:"block",content:"inline*",draggable:!0,parseDOM:[{tag:"video",getAttrs:i.getAttributes}],toDOM:function(t){return["video",(0,i.setAttributes)(t.attrs)]}},audio:{attrs:r({controls:{},src:{},width:{default:null},height:{default:null}},(0,i.commonAttributes)()),group:"block",content:"inline*",draggable:!0,parseDOM:[{tag:"audio",getAttrs:i.getAttributes}],toDOM:function(t){return["audio",(0,i.setAttributes)(t.attrs)]}},iframe:{attrs:r({src:{},width:{default:null},height:{default:null}},(0,i.commonAttributes)()),group:"block",draggable:!0,parseDOM:[{tag:"iframe",getAttrs:i.getAttributes}],toDOM:function(t){return["iframe",(0,i.setAttributes)(t.attrs)]}}});e.schema=new o.Schema({nodes:s,marks:o.marks})},function(t,e){"use strict";function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=(e.getAttributes=function(t){for(var e={},n=t.attributes,r=void 0,o=0;o<n.length;o++)r=n[o],e[r.name]=r.value;return e},e.setAttributes=function(t,e){var n={};for(var r in t)r&&null!==t[r]&&r!==e&&(n[r]=t[r]);return n},e.setCellAttrs=function(t){var e=r({},t);return 1!==t.colspan?e.colspan=t.colspan:e.colspan=null,1!==t.rowspan?e.rowspan=t.rowspan:e.rowspan=null,e},e.commonAttributes=function(){return o(["class","id","style"])},e.createDefaultAttributes=function(t){return t.reduce(function(t,e){return r({},t,n({},e,{default:null}))},{})})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.defaultStyle='\nhtml, body {\n    margin: 0;\n    height: 100%;\n    padding: 0;\n}\n\nhtml {\n  min-height: 100%;\n}\n\nbody {\n  box-sizing: border-box;\n  position: relative;\n  padding: 8px;\n}\n\n.ProseMirror-selectednode {\n  outline: 2px solid #8cf;\n}\n\ndiv.ProseMirror {\n  position: relative;\n  min-height: 100%;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\ndiv.ProseMirror:focus {\n  outline: none;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-hideselection *::selection { background: transparent; }\n.ProseMirror-hideselection *::-moz-selection { background: transparent; }\n.ProseMirror-hideselection { caret-color: transparent; }\n\n.ProseMirror li {\n  position: relative;\n}\n\nli.ProseMirror-selectednode {\n  outline: none;\n}\n\nli.ProseMirror-selectednode:after {\n  content: "";\n  position: absolute;\n  left: -32px;\n  right: -2px;\n  top: -2px;\n  bottom: -2px;\n  border: 2px solid #8cf;\n  pointer-events: none;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n.ProseMirror .tableWrapper {\n    overflow-x: auto;\n    margin: 1em 0;\n  }\n\n  .ProseMirror table {\n    margin: 0;\n    border-collapse: collapse;\n    table-layout: fixed;\n    width: 100%;\n    overflow: hidden;\n  }\n\n  .ProseMirror td, .ProseMirror th {\n    min-width: 1em;\n    border: 1px solid #ddd;\n    padding: 3px 5px;\n    vertical-align: top;\n    box-sizing: border-box;\n    position: relative;\n  }\n\n  .ProseMirror th {\n    font-weight: bold;\n    text-align: left;\n  }\n\n  .ProseMirror .column-resize-handle {\n    position: absolute;\n    right: -2px;\n    top: 0;\n    bottom: 0;\n    width: 4px;\n    z-index: 20;\n    background-color: #adf;\n    pointer-events: none;\n  }\n\n  .ProseMirror.resize-cursor {\n    cursor: ew-resize;\n    cursor: col-resize;\n  }\n\n  /* Give selected cells a blue overlay */\n  .ProseMirror .selectedCell:after {\n    z-index: 2;\n    position: absolute;\n    content: "";\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background: rgba(200, 200, 255, 0.4);\n    pointer-events: none;\n  }\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorCommands=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(169),i=n(210),s=function(t){return function(e,n){(0,o.isAligned)(e,t)||(0,o.alignBlocks)(t)(e,n)}},a=function(t){return function(e,n){var r=(0,o.createTable)(e.schema.nodes,t.rows,t.cols);r&&(0,o.insertNode)(r,!0)(e,n)}},l=function(t){return function(e,n){var r=document.createElement("div");r.innerHTML=t.value;var s=o.DOMParser.fromSchema(i.schema).parse(r,{topNode:t.inline?i.schema.nodes.paragraph.create():null});s&&s.firstChild&&n(e.tr.replaceSelectionWith(s.firstChild,!1))}},c={bold:function(){return(0,o.toggleInlineFormat)(o.bold)},cleanFormatting:function(){return(0,o.removeAllMarks)({except:i.schema.marks.link})},createLink:function(t){return(0,o.applyLink)({mark:"link",attrs:t})},fontFamily:function(t){return(0,o.applyInlineStyle)({style:"font-family",value:t.value})},fontSize:function(t){return(0,o.applyInlineStyle)({style:"font-size",value:t.value})},insertFile:function(t){return(0,o.applyLink)({mark:"link",attrs:t})},insertText:function(t){return(0,o.insertText)(t)},italic:function(){return(0,o.toggleInlineFormat)(o.italic)},strikethrough:function(){return(0,o.toggleInlineFormat)(o.strikethrough)},subscript:function(){return(0,o.toggleInlineFormat)(o.subscript)},superscript:function(){return(0,o.toggleInlineFormat)(o.superscript)},underline:function(){return(0,o.toggleInlineFormat)(o.underline)},unlink:function(){return(0,o.removeLink)(o.link)},foreColor:function(t){return(0,o.applyInlineStyle)({style:"color",value:t.value})},backColor:function(t){return(0,o.applyInlineStyle)({style:"background-color",value:t.value})}},u={alignCenter:function(){return s(o.alignCenterRules)},alignJustify:function(){return s(o.alignJustifyRules)},alignLeft:function(){return s(o.alignLeftRules)},alignRight:function(){return s(o.alignRightRules)},format:function(t){return(0,o.formatBlockElements)(t.value)},insertOrderedList:function(){return o.toggleOrderedList},insertUnorderedList:function(){return o.toggleUnorderedList},outdent:function(){return o.outdent},indent:function(){return o.indent},insertImage:function(t){return(0,o.insertImage)(t)},redo:function(){return o.redo},undo:function(){return o.undo},setHtml:function(t){return(0,o.setHtml)(t.value)},insertHtml:function(t){return l(t)}},p={insertTable:function(t){return a(t)},addColumnBefore:function(){return o.addColumnBefore},addColumnAfter:function(){return o.addColumnAfter},addRowBefore:function(){return o.addRowBefore},addRowAfter:function(){return o.addRowAfter},deleteRow:function(){return o.deleteRow},deleteColumn:function(){return o.deleteColumn},mergeCells:function(){return o.mergeCells},splitCell:function(){return o.splitCell},deleteTable:function(){return o.deleteTable}};e.editorCommands=r({},c,u,p)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getBuiltInToolState=e.getToolsState=void 0;var o=n(169),i=n(210),s=(e.getToolsState=function(t,e){var n=c(t),r=Object.keys(e),o=!1,i=!0,a=!1,l=void 0;try{for(var u,p=r[Symbol.iterator]();!(i=(u=p.next()).done);i=!0){var h=u.value,f=n[h],d=e[h];f&&d&&!s(f,d)&&(o=!0,e[h]=f)}}catch(t){a=!0,l=t}finally{try{!i&&p.return&&p.return()}finally{if(a)throw l}}return{stateChanged:o,state:e}},function(t,e){var n=t.enabled===e.enabled,r=!0;return r=t.hasOwnProperty("selectedValue")?t.selectedValue===e.selectedValue:t.selected===e.selected,n&&r}),a=function(t,e){var n=[].concat(r((0,o.getInlineStyles)(t,{name:e,value:/^.+$/})));return 1===n.length?n[0]:null},l=function(t){return t.selection instanceof o.CellSelection?null:(0,o.activeNode)(t).tag},c=e.getBuiltInToolState=function(t){return{alignCenter:{selected:(0,o.isAligned)(t,o.alignCenterRules),enabled:!0},alignJustify:{selected:(0,o.isAligned)(t,o.alignJustifyRules),enabled:!0},alignLeft:{selected:(0,o.isAligned)(t,o.alignLeftRules),enabled:!0},alignRight:{selected:(0,o.isAligned)(t,o.alignRightRules),enabled:!0},bold:{selected:(0,o.hasMark)(t,o.bold),enabled:!0},cleanFormatting:{selected:!1,enabled:!t.selection.empty},format:{selectedValue:l(t),enabled:!0},indent:{enabled:(0,o.canIndentAsListItem)(t,i.schema.nodes.list_item)||(0,o.canBeIndented)(t,o.indentRules)},insertOrderedList:{selected:(0,o.hasNode)(t,i.schema.nodes.ordered_list),enabled:!0},insertUnorderedList:{selected:(0,o.hasNode)(t,i.schema.nodes.bullet_list),enabled:!0},italic:{selected:(0,o.hasMark)(t,o.italic),enabled:!0},unlink:{enabled:(0,o.hasMark)(t,o.link)},outdent:{enabled:(0,o.canOutdentAsListItem)(t,o.outdentRules)||(0,o.isIndented)(t,o.outdentRules.nodes)},redo:{enabled:(0,o.redo)(t)},strikethrough:{selected:(0,o.hasMark)(t,o.strikethrough),enabled:!0},style:{selected:(0,o.getActiveMarks)(t,i.schema.marks.style),enabled:!0},fontFamily:{selectedValue:a(t,"font-family"),enabled:!0},fontSize:{selectedValue:a(t,"font-size"),enabled:!0},foreColor:{selectedValue:a(t,"color"),enabled:!0},backColor:{selectedValue:a(t,"background-color"),enabled:!0},subscript:{selected:(0,o.hasMark)(t,o.subscript),enabled:!0},superscript:{selected:(0,o.hasMark)(t,o.superscript),enabled:!0},underline:{selected:(0,o.hasMark)(t,o.underline),enabled:!0},undo:{enabled:(0,o.undo)(t)},createLink:{enabled:!t.selection.empty||(0,o.hasMark)(t,o.link)},insertFile:{enabled:!t.selection.empty},insertImage:{enabled:!0},viewSource:{enabled:!0},insertTable:{enabled:!0},addColumnBefore:{enabled:(0,o.addColumnBefore)(t)},addColumnAfter:{enabled:(0,o.addColumnAfter)(t)},addRowBefore:{enabled:(0,o.addRowBefore)(t)},addRowAfter:{enabled:(0,o.addRowAfter)(t)},deleteRow:{enabled:(0,o.deleteRow)(t)},deleteColumn:{enabled:(0,o.deleteColumn)(t)},mergeCells:{enabled:(0,o.mergeCells)(t)},splitCell:{enabled:(0,o.splitCell)(t)},deleteTable:{enabled:(0,o.deleteTable)(t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDialogContexts=void 0;var r=n(169),o=n(210);e.getDialogContexts=function(t){return{createLink:function(){var e=(0,r.getMark)(t.state,o.schema.marks.link);return{href:e?e.attrs.href:null,title:e?e.attrs.title:null,target:e?e.attrs.target:null}},insertImage:function(){var e=(0,r.getNodeFromSelection)(t.state);return{src:e?e.attrs.src:null,alt:e?e.attrs.alt:null,width:e?e.attrs.width:null,height:e?e.attrs.height:null}},setHtml:function(){return{value:(0,r.getHtml)(t.state)}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(217);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.FilterMenu,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initFilterMenu=r;var o=n(218),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.FilterMenu=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c="focus",u="focusout";e.FilterMenu=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null},i.onKeyDown=function(t){i.invokeKeyDown(t)},i.onFocus=function(){i.invokeFocus()},i.onFocusOut=function(){i.invokeFocusOut()},i.extendOptions(n),i.bindEvents(),i.initNavigationService(),i}return i(e,t),s(e,[{key:"bindEvents",value:function(){this.element.addEventListener(c,this.onFocus),this.element.addEventListener(u,this.onFocusOut)}},{key:"unbindEvents",value:function(){this.element.removeEventListener(c,this.onFocus),this.element.removeEventListener(u,this.onFocusOut)}},{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(l.KeyModifiers.ALT+" "+l.Key.ARROWDOWN,this.onKeyDown)}},{key:"destroy",value:function(){this.disableTabKeyTrap(),this.navigationService.destroy(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"enableTabKeyTrap",value:function(t){if(this.options.navigable){var e=(0,l.getElementByDataId)(t);this.formKeyTrap=new l.FormKeyTrap(e),this.formKeyTrap.enableKeyTrap()}}},{key:"disableTabKeyTrap",value:function(){this.formKeyTrap&&this.formKeyTrap.disableTabKeyTrap()}},{key:"invokeKeyDown",value:function(t){this.invokeMethodAsync(this.options.jsinterop.keydown,t.name)}},{key:"invokeFocus",value:function(){this.invokeMethodAsync(this.options.jsinterop.focus)}},{key:"invokeFocusOut",value:function(){this.invokeMethodAsync(this.options.jsinterop.focusout)}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(220);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,s.initComponent)(i.Gantt,t,e)}function o(t,e){(0,s.initComponent)(a.GanttTimeline,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initGantt=r,e.initGanttTimeline=o;var i=n(221),s=n(4),a=n(222)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Gantt=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4);e.Gantt=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{}},i.onTimeLineScroll=function(){i.timelineHeader.scrollLeft=i.timelineContent.scrollLeft,i.treeListContent.scrollTop=i.timelineContent.scrollTop},i.onTreeListWheelFF=function(t){i.onTreeListScroll(t,-40*t.detail)},i.onTreeListWheel=function(t){i.onTreeListScroll(t,t.wheelDelta)},i.onTreeListScroll=function(t,e){if(i.timelineContent){var n=i.timelineContent.scrollTop-e;i.timelineContent.scrollTop=n}else{var r=i.treeListContent.scrollTop-e;i.treeListContent.scrollTop=r}t.preventDefault()},i.extendOptions(n),i.timelineContent=i.element.querySelector(".k-gantt-timeline .k-grid-content"),i.timelineHeader=i.element.querySelector(".k-gantt-timeline .k-grid-header-wrap"),i.treeListContent=i.element.querySelector(".k-gantt-treelist .k-grid-content"),i.unifyFilterRowHeight(),i.setTreeListHeight(),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.timelineContent&&this.timelineContent.addEventListener("scroll",this.onTimeLineScroll),l.Platform.firefox?this.treeListContent.addEventListener("DOMMouseScroll",this.onTreeListWheelFF):this.treeListContent.addEventListener("wheel",this.onTreeListWheel)}},{key:"unbindEvents",value:function(){this.timelineContent&&this.timelineContent.removeEventListener("scroll",this.onTimeLineScroll),l.Platform.firefox?this.treeListContent.removeEventListener("DOMMouseScroll",this.onTreeListWheelFF):this.treeListContent.removeEventListener("wheel",this.onTreeListWheel);
}},{key:"unifyFilterRowHeight",value:function(){var t=this.element.querySelector(".k-gantt-timeline .k-filter-row"),e=this.element.querySelector(".k-gantt-treelist .k-filter-row");e&&t&&(t.style.height=e.offsetHeight+"px")}},{key:"setTreeListHeight",value:function(){var t=this.element.querySelector(".k-gantt-treelist"),e=t.querySelector(".k-grid-header");this.treeListContent.style.height=t.offsetHeight-e.offsetHeight+"px"}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.GanttTimeline=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(6),u=n(24);e.GanttTimeline=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{moveTask:"",updatePercentComplete:"",getDragTaskTooltipDates:"",createDependency:""}},i.renderMoveHints=function(){i.moveTarget&&(i.destroyHint(),i.destroyTooltip(),i.hint=i.createHint(),i.tooltip=i.createTooltip(),i.tooltipContent=i.tooltip.querySelector(".k-tooltip-content"),i.getContentElement().appendChild(i.hint),i.getContentElement().appendChild(i.tooltip))},i.createHint=function(){var t=document.createElement("div");t.className="k-marquee k-gantt-marquee",t.style.top="0px",t.style.height=i.getTablesWrapperElement().getBoundingClientRect().height+"px",t.style.left=i.originalLeft+"px",t.style.width=i.originalWidth+"px";var e=document.createElement("div");return e.className="k-marquee-color",t.appendChild(e),t},i.destroyHint=function(){i.hint&&(i.hint.parentNode.removeChild(i.hint),i.hint=null)},i.createTooltip=function(){var t=document.createElement("div");t.className="k-tooltip k-gantt-resize-hint",t.style.zIndex="100002",t.style.minWidth="160px";var e=document.createElement("div");return e.className="k-tooltip-content",t.appendChild(e),t},i.destroyTooltip=function(){i.tooltip&&(i.tooltip.parentNode.removeChild(i.tooltip),i.tooltip=null,i.tooltipContent=null)},i.renderPercentDragTooltip=function(){i.destroyPercentDragTooltip(),i.percentDragTooltip=i.createPercentDragTooltip(),i.element.appendChild(i.percentDragTooltip)},i.createPercentDragTooltip=function(){var t=document.createElement("div");t.className="k-tooltip",t.style.zIndex="100002";var e=document.createElement("div");e.className="k-tooltip-content",t.appendChild(e);var n=document.createElement("div");return n.className="k-callout k-callout-s",t.appendChild(n),t},i.destroyPercentDragTooltip=function(){i.percentDragTooltip&&(i.percentDragTooltip.parentNode.removeChild(i.percentDragTooltip),i.percentDragTooltip=null)},i.renderDependencyDragHint=function(){i.destroyDependencyDragHint(),i.dependencyDragHint=i.createDependencyDragHint(),i.element.querySelector(".k-gantt-dependencies-svg").appendChild(i.dependencyDragHint)},i.createDependencyDragHint=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","polyline");return t.style.fill="none",t.style.stroke="black",t.style.strokeWidth="2",t},i.destroyDependencyDragHint=function(){i.dependencyDragHint&&(i.dependencyDragHint.parentNode.removeChild(i.dependencyDragHint),i.dependencyDragHint=null)},i.getContentElement=function(){return i.element.querySelector(".k-grid-content")},i.getTablesWrapperElement=function(){return i.getContentElement().querySelector(".k-gantt-tables")},i.getRowHeight=function(){return i.element.querySelector(".k-gantt-tables tr").getBoundingClientRect().height},i.getMilestoneWidth=function(){var t=(0,c.convertToHtml)('<div class="k-task-wrap k-milestone-wrap">\n                <div class="k-task k-task-milestone" >\n                </div>\n            </div>');i.getTablesWrapperElement().appendChild(t);var e=t.querySelector(".k-task").getBoundingClientRect().width;return t.parentNode.removeChild(t),e},i.extendOptions(n),i.bindEvents(),i.createMovable(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),this.destroyMovable(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){}},{key:"unbindEvents",value:function(){}},{key:"createMovable",value:function(){this.destroyMovable(),this.movable=new u.Draggable({press:this.onMovableDragStart.bind(this),drag:this.onMovableDrag.bind(this),release:this.onMovableDrop.bind(this),mouseOnly:!0}),this.movable.bindTo(this.element)}},{key:"destroyMovable",value:function(){this.movable&&this.movable.destroy&&this.movable.destroy(),this.moveTarget=null}},{key:"onMovableDragStart",value:function(t){this.moveTarget=null,this.dragStarted=!1;var e=t.originalEvent.target;e&&(e.closest(".k-task")?this.onTaskDragStart(t):e.closest(".k-task-dot")?this.onDependencyDragStart(t):e.closest(".k-task-draghandle")&&this.onPercentDragStart(t))}},{key:"onTaskDragStart",value:function(t){var e=t.originalEvent.target;this.moveTarget=e.closest(".k-task"),this.resizeTask=!0,this.resizeStart=Boolean(e.closest(".k-resize-w")),this.resizeEnd=Boolean(e.closest(".k-resize-e"));var n=this.moveTarget.getBoundingClientRect();this.originalLeft=this.currentLeft=n.left-this.getTablesWrapperElement().getBoundingClientRect().left,this.originalWidth=this.currentWidth=n.width,this.originalTaskMouseOffset=t.clientX-n.left}},{key:"onDependencyDragStart",value:function(t){var e=t.originalEvent.target;this.moveTarget=e.closest(".k-task-dot");var n=this.moveTarget.getBoundingClientRect(),r=this.getTablesWrapperElement().getBoundingClientRect(),o=r.x,i=r.y;this.dependencyDragOptions={predecessorIndex:this.getTaskIndex(e),fromStart:(0,l.hasClass)("k-task-start",this.moveTarget),startX:n.x+n.width/2-o,startY:n.y+n.height/2-i}}},{key:"onPercentDragStart",value:function(t){var e=t.originalEvent.target;this.moveTarget=e.closest(".k-task-draghandle");var n=this.moveTarget.parentElement.querySelector(".k-task");this.percentCompleteBarElement=n.querySelector(".k-task-complete");var r=n.getBoundingClientRect();this.maxPercentWidth=r.width,this.originalWidth=this.currentWidth=t.clientX-r.left,this.originalLeft=t.clientX}},{key:"onMovableDrag",value:function(t){if(this.moveTarget)return this.dragStarted?void(this.resizeTask?this.onTaskDrag(t):this.dependencyDragOptions?this.onDependencyDrag(t):this.onPercentDrag(t)):(this.dragStarted=!0,void(this.resizeTask?this.renderMoveHints():this.dependencyDragOptions?this.renderDependencyDragHint():this.renderPercentDragTooltip()))}},{key:"onTaskDrag",value:function(t){var e=this,n=t.clientX-this.getTablesWrapperElement().getBoundingClientRect().left;n<0&&(n=0),this.resizeStart?(this.currentLeft=n,this.currentLeft>this.originalLeft+this.originalWidth&&(this.currentLeft=this.originalLeft+this.originalWidth)):this.resizeEnd||(this.currentLeft=n-this.originalTaskMouseOffset),this.resizeStart?this.currentWidth=this.originalWidth+this.originalLeft-n:this.resizeEnd&&(this.currentWidth=n-this.originalLeft),this.currentWidth<0&&(this.currentWidth=0),this.invokeMethodAsync(this.options.jsinterop.getDragTaskTooltipDates,{start:this.currentLeft,end:this.currentLeft+this.currentWidth}).then(function(t){if(e.dragStarted){e.tooltipContent.innerHTML="<div>Start: "+t.start+"</div><div>End: "+t.end+"</div>";var n=e.currentLeft-e.tooltip.getBoundingClientRect().width/2;e.resizeEnd&&(n+=e.currentWidth),n<0&&(n=0),e.tooltip.style.left=n+"px";var r=e.moveTarget.getBoundingClientRect().top-e.getTablesWrapperElement().getBoundingClientRect().top,o=e.tooltip.getBoundingClientRect().height;r-o<0?r+=e.moveTarget.getBoundingClientRect().height:r-=o,e.tooltip.style.top=r+"px",e.hint.style.left=e.currentLeft+"px",e.hint.style.width=e.currentWidth+"px"}})}},{key:"onDependencyDrag",value:function(t){var e=this.getTablesWrapperElement().getBoundingClientRect(),n=e.x,r=e.y;if(!this.dependencyDragOptions.startX){var o=this.moveTarget.getBoundingClientRect();this.dependencyDragOptions.startX=o.x+o.width/2-n,this.dependencyDragOptions.startY=o.y+o.height/2-r}var i=t.clientX-n,s=t.clientY-r;this.dependencyDragHint.setAttribute("points",this.dependencyDragOptions.startX+","+this.dependencyDragOptions.startY+" "+i+","+s)}},{key:"onPercentDrag",value:function(t){var e=this.element.getBoundingClientRect(),n=this.moveTarget.parentElement.querySelector(".k-task").getBoundingClientRect(),r=this.percentDragTooltip.getBoundingClientRect(),o=this.originalWidth+(t.clientX-this.originalLeft);if(!(o<0||o>this.maxPercentWidth)){this.currentWidth=o;var i=Math.round(this.currentWidth/this.maxPercentWidth*100);this.moveTarget.style.left=this.currentWidth+"px",this.percentCompleteBarElement.style.width=this.currentWidth+"px",this.percentDragTooltip.querySelector(".k-tooltip-content").textContent=i+"%",this.percentDragTooltip.style.left=t.clientX-e.left-r.width/2+"px",this.percentDragTooltip.style.top=n.top-e.top-r.height-6+"px"}}},{key:"onMovableDrop",value:function(t){if(this.destroyHint(),this.destroyTooltip(),this.destroyPercentDragTooltip(),this.destroyDependencyDragHint(),this.dragStarted)if(this.resizeTask)this.invokeMethodAsync(this.options.jsinterop.moveTask,{resizeStart:this.resizeStart,resizeEnd:this.resizeEnd,left:this.currentLeft,right:this.currentLeft+this.currentWidth});else if(this.dependencyDragOptions){var e=this.getElementUnderCursor(t);e.closest(".k-task-dot")&&this.invokeMethodAsync(this.options.jsinterop.createDependency,{predecessorIndex:this.dependencyDragOptions.predecessorIndex,fromStart:this.dependencyDragOptions.fromStart,successorIndex:this.getTaskIndex(e),toStart:(0,l.hasClass)("k-task-start",e.closest(".k-task-dot"))})}else{var n=Math.round(this.currentWidth/this.maxPercentWidth*100)/100;this.invokeMethodAsync(this.options.jsinterop.updatePercentComplete,n)}this.dragStarted=!1,this.moveTarget=null,this.resizeTask=this.resizeStart=this.resizeEnd=!1,this.dependencyDragOptions=null}},{key:"getTaskIndex",value:function(t){return parseInt(t.closest(".k-task-wrap").getAttribute("data-index"))}},{key:"getElementUnderCursor",value:function(t){return document.elementFromPoint(t.clientX,t.clientY)}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(224);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(229);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(231);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(233);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})})},function(t,e,n){"use strict";function r(t,e,n){(0,i.initOrUpdateGauge)({id:t,widgetOptions:e,componentOptions:n,componentConstructor:o.ArcGauge})}Object.defineProperty(e,"__esModule",{value:!0}),e.initOrUpdateArcGauge=r;var o=n(225),i=n(226)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGauge=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(48),c=n(43),u=function(t){return parseFloat(t)+"px"};e.ArcGauge=function(t){function e(t,n,i,s){r(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,s));return a.extendOptions(n),a.initWidget(),a}return i(e,t),s(e,[{key:"getWidgetConstructor",value:function(){return c.ArcGauge}},{key:"setOptions",value:function(t){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setOptions",this).call(this,t),this.showCenterLabel()}},{key:"getCenterLabel",value:function(){return this.element.querySelector(".k-arcgauge-label")}},{key:"showCenterLabel",value:function(){var t=this.getCenterLabel();if(t){var e=this.getCenterLabelPosition();t.style.top=u(e.top),t.style.left=u(e.left),t.style.display=""}}},{key:"getCenterLabelPosition",value:function(){var t=this.getCenterLabel(),e={top:0,left:0};if(t){var n=t.style.display;t.style.visibility="hidden",t.style.display="block",e=this.getLabelPositionFromGauge(),t.style.display=n,t.style.visibility=""}return e}},{key:"getLabelPositionFromGauge",value:function(){var t=this.getCenterLabel(),e=t?t.offsetWidth:0,n=t?t.offsetHeight:0,r=this.widget.centerLabelPosition(e,n);return{top:r.top,left:r.left}}}]),e}(l.DataVizComponent)},function(t,e,n){"use strict";function r(t){var e=t.id,n=void 0===e?"":e,r=t.widgetOptions,a=void 0===r?{}:r,l=t.componentOptions,c=void 0===l?{}:l,u=t.componentConstructor;(0,s.initOrUpdateDataVizComponent)({id:n,widgetOptions:a,componentOptions:c,services:{themeService:new i.ThemeService,intlService:o.IntlService},componentConstructor:u})}Object.defineProperty(e,"__esModule",{value:!0}),e.initOrUpdateGauge=r;var o=n(37),i=n(227),s=n(48)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(38);Object.defineProperty(e,"IntlService",{enumerable:!0,get:function(){return r.IntlService}});var o=n(228);Object.defineProperty(e,"ThemeService",{enumerable:!0,get:function(){return o.ThemeService}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeService=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(47),l='\n    <div class="k-var--gauge-pointer"></div>\n    <div class="k-var--gauge-track"></div>\n    <div class="k-var--normal-text-color"></div>\n';e.ThemeService=function(t){function e(){var t,n,i,s;r(this,e);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=i=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),i.store={},i.loaded=!1,i.element=null,s=n,o(i,s)}return i(e,t),s(e,[{key:"reset",value:function(){this.loaded=!1}},{key:"getThemeOptions",value:function(){return this.store}},{key:"loadTheme",value:function(){this.loaded||(this.readTheme(),this.loaded=!0)}},{key:"createElement",value:function(){var t=this.element=document.createElement("div");t.style.display="none",t.innerHTML=l,document.body.appendChild(t)}},{key:"destroyElement",value:function(){this.element&&(document.body.removeChild(this.element),this.element=void 0)}},{key:"readTheme",value:function(){this.createElement();try{var t=this.queryColor("gauge-pointer"),e=this.queryColor("gauge-track"),n=this.queryColor("normal-text-color");this.store={pointer:{color:t},scale:{labels:{color:n},rangePlaceholderColor:e,minorTicks:{color:n},majorTicks:{color:n},line:{color:n}}}}finally{this.destroyElement()}}},{key:"setStyle",value:function(t,e){this.set(t,e)}},{key:"queryColor",value:function(t){return this.queryStyle(t).backgroundColor}},{key:"queryStyle",value:function(t){var e=this.element.querySelector(".k-var--"+t);return window.getComputedStyle(e)}}]),e}(a.ConfigurationService)},function(t,e,n){"use strict";function r(t,e,n){(0,i.initOrUpdateGauge)({id:t,widgetOptions:e,componentOptions:n,componentConstructor:o.CircularGauge})}Object.defineProperty(e,"__esModule",{value:!0}),e.initOrUpdateCircularGauge=r;var o=n(230),i=n(226)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.CircularGauge=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(225),l=n(43);e.CircularGauge=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,[{key:"getWidgetConstructor",value:function(){return l.CircularGauge}},{key:"getCenterLabel",value:function(){return this.element.querySelector(".k-circulargauge-label")}}]),e}(a.ArcGauge)},function(t,e,n){"use strict";function r(t,e,n){(0,i.initOrUpdateGauge)({id:t,widgetOptions:e,componentOptions:n,componentConstructor:o.LinearGauge})}Object.defineProperty(e,"__esModule",{value:!0}),e.initOrUpdateLinearGauge=r;var o=n(232),i=n(226)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.LinearGauge=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(48),l=n(43);e.LinearGauge=function(t){function e(t,n,i,s){r(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,s));return a.extendOptions(n),a.initWidget(),a}return i(e,t),s(e,[{key:"getWidgetConstructor",value:function(){return l.LinearGauge}}]),e}(a.DataVizComponent)},function(t,e,n){"use strict";function r(t,e,n){(0,i.initOrUpdateGauge)({id:t,widgetOptions:e,componentOptions:n,componentConstructor:o.RadialGauge})}Object.defineProperty(e,"__esModule",{value:!0}),e.initOrUpdateRadialGauge=r;var o=n(234),i=n(226)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.RadialGauge=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(48),l=n(43);e.RadialGauge=function(t){function e(t,n,i,s){r(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,s));return a.extendOptions(n),a.initWidget(),a}return i(e,t),s(e,[{key:"getWidgetConstructor",value:function(){return l.RadialGauge}}]),e}(a.DataVizComponent)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(236);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,s.initComponent)(i.Grid,t,e)}function o(t){(0,s.destroyComponent)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.initGrid=r,e.destroyGrid=o;var i=n(237),s=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Grid=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4);e.Grid=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,rowDraggable:!1,draggedItemsHint:"",rowDraggableOptions:{allowDropOver:!1},componentSelector:".k-grid",jsinterop:{removeFocus:"",blur:"",rowDrop:""}},i.extendOptions(n),i.options.rowDraggable&&i.createRowDraggable(),i}return i(e,t),s(e,[{key:"destroy",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}(l.GridBase)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(239);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(241);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(249);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(251);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=n(254);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var l=n(255);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})});var c=n(257);Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});var u=n(260);Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.CheckBox,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initCheckBox=r;var o=n(240),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.CheckBox=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c="focusout";e.CheckBox=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{focusout:""}},i.onFocusOut=function(){i.invokeMethodAsync(i.options.jsinterop.focusout)},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"bindEvents",value:function(){this.element.addEventListener(c,this.onFocusOut)}},{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"unbindEvents",value:function(){this.element.removeEventListener(c,this.onFocusOut)}},{key:"focus",value:function(){this.element.focus()}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.MaskedTextBox,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initMaskedTextBox=r;var o=n(242),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MaskedTextBox=void 0;var s=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},c=n(4),u=n(243);e.MaskedTextBox=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.defaultRules={"#":/[\d\s\+\-]/,"&":/[\S]/,0:/[\d]/,9:/[\d\s]/,"?":/[a-zA-Z\s]/,A:/[a-zA-Z0-9]/,C:/./,L:/[a-zA-Z]/,a:/[a-zA-Z0-9\s]/},i.options={dotNetInstance:null,includeLiterals:!1,mask:"",prompt:"",promptPlaceholder:"",maskOnFocus:!1,rules:i.defaultRules,value:"",debounceDelay:150,jsinterop:{blur:"",updateValue:"",change:""}},i.state={selection:[0,0],isPasted:!1,shouldFocusOnClick:!1,service:null,isFocused:!1,maskedValue:"",value:""},i.onFocus=function(){i.state.isFocused=!0,i.options.maskOnFocus&&i.isMaskEmpty()&&(i.updateInput(i.state.service.maskRaw(i.state.value)),i.setSelection(0,0)),i.invokeFocus()},i.onPaste=function(t){var e=t.target,n=e.selectionStart,r=e.selectionEnd;r!==n&&(i.state.isPasted=!0,i.state.selection=[n,r])},i.onBlur=function(){i.state.isFocused=!1,i.state.shouldFocusOnClick=!1,i.options.maskOnFocus&&i.isMaskEmpty()&&i.updateInput(i.state.maskedValue),i.invokeBlur()},i.onClick=function(){if(i.state.isFocused&&!i.state.shouldFocusOnClick){i.state.shouldFocusOnClick=!0;var t=i.element,e=t.selectionStart,n=t.selectionEnd;e===n&&i.setFocusSelection()}},i.onInput=function(t){var e=t.target.value,n=s(i.state.selection,2),r=n[0],o=n[1];if(!i.options.mask)return i.updateComponentValue(e),void(i.state.isPasted=!1);var a=void 0;if(i.state.isPasted){i.state.isPasted=!1;var l=i.state.maskedValue.length-o,c=e.length-l;a=i.state.service.maskInRange(e.slice(r,c),i.state.maskedValue,r,o)}else a=i.state.service.maskInput(e,i.state.maskedValue,t.target.selectionStart);i.updateInput(a.value,a.selection),i.debounceUpdateComponentValue(a.value)},i.extendOptions(n),i.bindEvents(),i.state.service=new u.MaskingService,i.updateService(),i.setValue(i.options.value),i.debounceUpdateComponentValue=(0,c.debounce)(i.updateComponentValue,i.options.debounceDelay).bind(i),i}return i(e,t),a(e,[{key:"bindEvents",value:function(){this.element.addEventListener("blur",this.onBlur),this.element.addEventListener("input",this.onInput),this.element.addEventListener("focus",this.onFocus),this.element.addEventListener("click",this.onClick),this.element.addEventListener("paste",this.onPaste)}},{key:"destroy",value:function(){this.unbindEvents(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("blur",this.onBlur),this.element.removeEventListener("input",this.onInput),this.element.removeEventListener("focus",this.onFocus),this.element.removeEventListener("click",this.onClick),this.element.removeEventListener("paste",this.onPaste)}},{key:"focus",value:function(){
this.element.focus()}},{key:"updateService",value:function(){this.state.service.update({includeLiterals:this.options.includeLiterals,mask:this.options.mask,prompt:this.options.prompt,promptPlaceholder:this.options.promptPlaceholder,rules:this.options.rules})}},{key:"setOptions",value:function(t){var e=this.options.promptPlaceholder,n=this.options.includeLiterals;this.extendOptions(t),this.updateService(),this.setValue(this.options.value),e===this.options.promptPlaceholder&&n===this.options.includeLiterals||this.updateComponentValue(this.state.maskedValue)}},{key:"updateComponentValue",value:function(t){this.options.mask&&!this.state.service.validationValue(t)?this.state.value="":this.state.value=this.state.service.rawValue(t),this.invokeUpdate(this.state.value)}},{key:"setValue",value:function(t){if(this.state.value=t,!this.options.mask)return void this.updateInput(this.state.value);var e=this.state.service.maskRaw(this.state.value);this.updateInput(e)}},{key:"setFocusSelection",value:function(){var t=this.element.selectionStart,e=this.state.maskedValue?this.state.maskedValue.indexOf(this.options.prompt):0;e>=0&&e<t&&(this.state.selection=[e,e],this.setSelection())}},{key:"updateInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments[1];this.state.maskedValue=t;var n=this.shouldResetValue()?"":t;this.element.value=n,void 0!==e&&this.setSelection(e,e)}},{key:"setSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.selection[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.selection[1];this.state.isFocused&&this.element.setSelectionRange(t,e)}},{key:"isMaskEmpty",value:function(){return this.state.service.maskRaw()===this.state.maskedValue}},{key:"shouldResetValue",value:function(){return this.options.maskOnFocus&&!this.state.isFocused&&this.isMaskEmpty()}},{key:"invokeBlur",value:function(){this.invokeMethodAsync(this.options.jsinterop.blur)}},{key:"invokeFocus",value:function(){this.invokeMethodAsync(this.options.jsinterop.focus)}},{key:"invokeUpdate",value:function(t){this.invokeMethodAsync(this.options.jsinterop.updateValue,t)}}]),e}(c.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(244);e.MaskingService=r.MaskingService},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(245),o=n(246),i=function(){function t(){this.rules={},this.prompt="_",this.mask="",this.promptPlaceholder=" ",this.includeLiterals=!1,this.maskTokens=[],this.unmaskTokens=[],this.rawTokens=[],this.validationTokens=[]}return t.prototype.update=function(t){var e=t.mask,n=void 0===e?"":e,r=t.prompt,o=void 0===r?"":r,i=t.promptPlaceholder,s=void 0===i?" ":i,a=t.rules,l=void 0===a?{}:a,c=t.includeLiterals,u=void 0!==c&&c;this.mask=n,this.prompt=o,this.promptPlaceholder=s,this.rules=l,this.includeLiterals=u,this.tokenize()},t.prototype.validationValue=function(t){void 0===t&&(t="");var e=t;return r.sequence(this.validationTokens).run(t).fold(function(t){e=t.join("")}),e},t.prototype.rawValue=function(t){void 0===t&&(t="");var e=t;return this.rawTokens.length?(r.sequence(this.rawTokens).run(t).fold(function(t){e=t.join("")}),e):e},t.prototype.maskRaw=function(t){void 0===t&&(t="");var e=t;return this.maskTokens.length?(r.sequence(this.maskTokens).run(t).fold(function(t){e=t.join("")}),e):e},t.prototype.maskInput=function(t,e,n){return t.length<e.length?this.maskRemoved(t,e,n):this.maskInserted(t,e,n)},t.prototype.maskInRange=function(t,e,n,o){var i="",s=o,a=e.split("").slice(0,n),l=e.split("").slice(o);return r.sequence(this.maskTokens.slice(n,o)).run(t).fold(function(t){i=a.concat(t).concat(l).join("")}),{selection:s,value:i}},t.prototype.maskRemoved=function(t,e,n){var o=this,i="",s=n,a=t.split("").slice(n),l=t.split("").slice(0,n).join(""),c=this.maskTokens.length-(t.length-n);return r.sequence(this.maskTokens.slice(0,c)).run(l,e).fold(function(t){s=o.adjustPosition(t,s),i=t.concat(a).join("")}),{selection:s,value:i}},t.prototype.adjustPosition=function(t,e){var n=t[e],r=this.maskTokens[e].isLiteral(n);return r||n===this.prompt?e:e+1},t.prototype.maskInserted=function(t,e,n){var o=this,i="",s=n,a=t.slice(0,n);return r.sequence(this.unmaskTokens).run(a,e).chain(function(t){s=t.join("").length;var n=e.slice(s);return r.sequence(o.maskTokens).run(t.join("")+n,e)}).fold(function(t){i=t.join("")}),{selection:s,value:i}},Object.defineProperty(t.prototype,"maskTokenCreator",{get:function(){var t=this,e=t.prompt,n=t.promptPlaceholder;return{literal:function(t){return o.literal(t)},mask:function(t){return o.mask({prompt:e,promptPlaceholder:n})(t)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unmaskTokenCreator",{get:function(){var t=this;return{literal:function(t){return o.unliteral(t)},mask:function(e){return o.unmask(t.prompt)(e)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawTokenCreator",{get:function(){var t=this,e=t.prompt,n=t.promptPlaceholder,r=t.includeLiterals;return{literal:function(t){return o.rawLiteral(r)},mask:function(t){return o.rawMask({prompt:e,promptPlaceholder:n})}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validationTokenCreator",{get:function(){var t=this.prompt;return{literal:function(t){return o.rawLiteral(!1)},mask:function(e){return o.rawMask({prompt:t,promptPlaceholder:""})}}},enumerable:!0,configurable:!0}),t.prototype.tokenize=function(){var t=this;r.greedy(o.token(this.rules,this.maskTokenCreator)).run(this.mask).fold(function(e,n){t.maskTokens=e}),r.greedy(o.token(this.rules,this.unmaskTokenCreator)).run(this.mask).fold(function(e,n){t.unmaskTokens=e}),r.greedy(o.token(this.rules,this.rawTokenCreator)).run(this.mask).fold(function(e,n){t.rawTokens=e}),r.greedy(o.token(this.rules,this.validationTokenCreator)).run(this.mask).fold(function(e,n){t.validationTokens=e})},t}();e.MaskingService=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(246),o=n(247),i=function(t){return new r.Parser(function(e){return new o.Result(t,e)})},s=function(t,e){return t.chain(function(t){return e.map(function(e){return t.concat([e])})})};e.sequence=function(t){return t.reduce(function(t,e){return s(t,e)},i([]))},e.greedy=function(t){return new r.Parser(function(e){for(var n=new o.Result([],e);!e.eof();)n=n.concat(t.run(e));return n})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(247),o=n(248),i=function(t){return(t||"").split("")},s="\\",a=function(){function t(t){this.parse=t}return t.prototype.run=function(t,e){return void 0===e&&(e=""),t instanceof o.Stream?this.parse(t):this.parse(new o.Stream(i(t),i(e)))},t.prototype.map=function(e){var n=this;return new t(function(t){return n.parse(t).map(e)})},t.prototype.chain=function(e){var n=this;return new t(function(t){return n.parse(t).chain(function(t,n){return e(t).run(n)})})},t.prototype.isLiteral=function(t){return this.run(t).type===r.ResultType.Literal},t}();e.Parser=a,e.mask=function(t){var e=t.prompt,n=t.promptPlaceholder;return function(t){return new a(function(o){for(;!o.eof();){var i=o.peek(),s=i.char,a=i.control;if(s===a&&a===e)return o.eat(),new r.Result(e,o,r.ResultType.Mask);if(t.test(s))return o.eat(),new r.Result(s,o,r.ResultType.Mask);if(s===n)return o.eat(),new r.Result(e,o,r.ResultType.Mask);o.eat_input()}return o.eat(),new r.Result(e,o,r.ResultType.Mask)})}},e.literal=function(t){return new a(function(e){var n=e.peek().char;return n===t?(e.eat(),new r.Result(t,e,r.ResultType.Literal)):new r.Result(t,e,r.ResultType.Literal)})},e.unmask=function(t){return function(e){return new a(function(n){for(;!n.eof();){var o=n.peek(),i=o.char,s=o.control;if(i===t&&s===t)return n.eat(),new r.Result(i,n);if(e.test(i))return n.eat(),new r.Result(i,n);n.eat_input()}return n.eat(),new r.Result("",n)})}},e.unliteral=function(t){return new a(function(e){if(e.eof())return new r.Result("",e);var n=e.peek().char;return n===t&&e.eat(),new r.Result(t,e)})},e.token=function(t,e){return new a(function(n){var o=n.next().char,i=t[o];return o===s?(o=n.next().char,new r.Result(e.literal(o),n)):i?new r.Result(e.mask(i),n):new r.Result(e.literal(o),n)})},e.rawMask=function(t){var e=t.prompt,n=t.promptPlaceholder;return new a(function(t){var o=t.next().char;return o===e?new r.Result(n,t):new r.Result(o,t)})},e.rawLiteral=function(t){return new a(function(e){var n=e.next().char;return t?new r.Result(n,e):new r.Result("",e)})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.Literal=0]="Literal",t[t.Mask=1]="Mask",t[t.Undefined=2]="Undefined"}(n=e.ResultType||(e.ResultType={}));var r=function(){function t(t,e,r){void 0===r&&(r=n.Undefined),this.value=t,this.rest=e,this.type=r}return t.prototype.map=function(e){return new t(e(this.value),this.rest)},t.prototype.chain=function(t){return t(this.value,this.rest)},t.prototype.fold=function(t,e){return t(this.value,this.rest)},t.prototype.concat=function(t){return this.map(function(e,n){return t.chain(function(t,n){return e.concat([t])})})},t.prototype.toString=function(){return"Result({ value: '"+this.value+"', rest: "+this.rest+" })"},t}();e.Result=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]),this.input=t,this.control=e,this.inputCursor=0,this.controlCursor=0}return t.prototype.eof=function(){return this.inputCursor>=this.input.length},t.prototype.next=function(){return{char:this.input[this.inputCursor++],control:this.control[this.controlCursor++]}},t.prototype.peek=function(){return{char:this.input[this.inputCursor],control:this.control[this.controlCursor]}},t.prototype.eat_input=function(){this.inputCursor++},t.prototype.eat_control=function(){this.controlCursor++},t.prototype.eat=function(){this.inputCursor++,this.controlCursor++},t}();e.Stream=n},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.NumericTextBox,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initNumericTextBox=r;var o=n(250),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.NumericTextBox=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c={increaseArrow:"k-spinner-increase",descreaseArrow:"k-spinner-decrease"},u=[l.KeyCode.ARROWDOWN,l.KeyCode.ARROWUP];e.NumericTextBox=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,decimals:0,separator:"\\.",min:null,max:null,value:"",jsinterop:{blur:""}},i.onKeyDown=function(t){u.includes(t.keyCode)&&t.preventDefault()},i.extendOptions(n),i.element.value=i.options.value,i.upArrowElement=t.parentElement.getElementsByClassName(c.increaseArrow)[0],i.downArrowElement=t.parentElement.getElementsByClassName(c.descreaseArrow)[0],i.bindEvents(),i}return i(e,t),s(e,[{key:"bindEvents",value:function(){this.onKeyPress=this.onKeyPress.bind(this),this.onPaste=this.onPaste.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onBlur=this.onBlur.bind(this),this.element.addEventListener("keydown",this.onKeyDown),this.element.addEventListener("keypress",this.onKeyPress),this.element.addEventListener("paste",this.onPaste),this.element.addEventListener("blur",this.onBlur),this.upArrowElement&&this.upArrowElement.addEventListener("mousedown",this.onMouseDown),this.downArrowElement&&this.downArrowElement.addEventListener("mousedown",this.onMouseDown)}},{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.upArrowElement=null,this.downArrowElement=null}},{key:"unbindEvents",value:function(){this.element.removeEventListener("keydown",this.onKeyDown),this.element.removeEventListener("keypress",this.onKeyPress),this.element.removeEventListener("paste",this.onPaste),this.element.removeEventListener("blur",this.onBlur),this.upArrowElement&&this.upArrowElement.removeEventListener("mousedown",this.onMouseDown),this.downArrowElement&&this.downArrowElement.removeEventListener("mousedown",this.onMouseDown)}},{key:"focus",value:function(){this.element.focus()}},{key:"onKeyPress",value:function(t){var e=String.fromCharCode(t.which);this.isValid(e)||t.keyCode===l.KeyCode.ENTER||t.preventDefault()}},{key:"onPaste",value:function(t){this.isValid(t.clipboardData.getData("text/plain"))||t.preventDefault()}},{key:"onMouseDown",value:function(t){t.preventDefault(),document.activeElement!==this.element&&this.element.focus()}},{key:"onBlur",value:function(){var t=this.options.jsinterop.blur;this.invokeMethodAsync(t)}},{key:"numericRegex",value:function(){var t=this.options.separator,e=this.options.decimals,n="{0,"+e+"}";return e?new RegExp("^(-)?(((\\d+(["+t+"]\\d"+n+")?)|(["+t+"]\\d"+n+")))?$"):/^(-)?(\d*)$/}},{key:"caret",value:function(){return[this.element.selectionStart,this.element.selectionEnd]}},{key:"isValid",value:function(t){var e=this.element.value,n=this.caret();return e=e.substring(0,n[0])+t+e.substring(n[1]),!!this.numericRegex().test(e)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.TextArea,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initTextArea=r;var o=n(252),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TextArea=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(253),u=function(t){return t+"px"};e.TextArea=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={autoSize:!1,debounceDelay:150,jsinterop:{updateValue:""}},i.extendOptions(n),i.resize(),i.debounceChangeValue=(0,l.debounce)(i.changeValue,i.options.debounceDelay).bind(i),i}return i(e,t),s(e,[{key:"destroy",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bindEvents",this).call(this),this.onInput=this.onInput.bind(this),this.element.addEventListener("input",this.onInput)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("input",this.onInput),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"unbindEvents",this).call(this)}},{key:"onInput",value:function(){this.resize(),this.debounceChangeValue()}},{key:"setValue",value:function(t){this.element.value=t,this.resize()}},{key:"resize",value:function(){if(this.options.autoSize){var t=this.element;t.style.height="",t.style.height=u(t.scrollHeight)}}},{key:"changeValue",value:function(){this.invokeMethodAsync(this.options.jsinterop.updateValue,this.element.value)}}]),e}(c.TextBox)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TextBox=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4);e.TextBox=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{blur:""}},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"bindEvents",value:function(){this.onBlur=this.onBlur.bind(this),this.element.addEventListener("blur",this.onBlur)}},{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("blur",this.onBlur)}},{key:"focus",value:function(){this.element.focus()}},{key:"onBlur",value:function(){var t=this.options.jsinterop.blur;this.invokeMethodAsync(t)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.TextBox,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initTextBox=r;var o=n(253),i=n(4)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.Switch,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initSwitch=r;var o=n(256),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Switch=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4);e.Switch=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{onSpaceKeyDown:""}},i.onSpaceKeyDown=function(){return i.invokeMethodAsync(i.options.jsinterop.onSpaceKeyDown),!1},i.extendOptions(n),i.initNavigationService(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.navigationService.destroy(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){this.element.focus()}},{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(l.Key.SPACE,this.onSpaceKeyDown)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.Slider,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initSlider=r;var o=n(258),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Slider=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(23),u=n(259),p=[l.Key.ARROWUP,l.Key.ARROWDOWN,l.Key.ARROWLEFT,l.Key.ARROWRIGHT,l.Key.PAGE_UP,l.Key.PAGE_DOWN,l.Key.HOME,l.Key.END];e.Slider=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.onDragStart=function(){(0,l.removeClass)("k-slider-transitions",i.element)},i.onDrag=function(t){var e=i.eventValue(t);i.setSliderEnd(e),i.throttleChangeValue({isChangeCommitted:!1},i.endValue)},i.onDragEnd=function(){i.changeValue(i.endValue),(0,l.addClass)("k-slider-transitions",i.element)},i.onClick=function(t){var e=i.eventValue(t);e!==i.endValue&&i.changeValue(e),i.dragHandle.focus()},i.onNavigate=function(t){i.invokeNavigate(t.name)},i.extendOptions(n),i.dragHandle=i.element.querySelector(".k-draghandle"),i.endValue=i.options.value,i.bindEvents(),(0,l.addClass)("k-slider-transitions",i.element),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"setOptions",value:function(t){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setOptions",this).call(this,t),(0,l.hasClass)("k-slider-transitions")||(0,l.addClass)("k-slider-transitions",this.element)}},{key:"bindEvents",value:function(){this.initDraggable(),this.initNavigationService(),this.sliderTrack.addEventListener("click",this.onClick)}},{key:"unbindEvents",value:function(){this.draggable.destroy(),this.navigationService.destroy(),this.sliderTrack.removeEventListener("click",this.onClick)}},{key:"initDraggable",value:function(){this.draggable=new c.Draggable(this.element,{filter:".k-draghandle",events:{dragStart:this.onDragStart,drag:this.onDrag,dragEnd:this.onDragEnd}})}},{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.dragHandle),this.navigationService.bind(p,this.onNavigate)}},{key:"changeValue",value:function(t){var e=null===t?this.options.min:t;this.setSliderEnd(Math.max(e,this.options.min)),this.invokeChangeValue({isChangeCommitted:!0},this.endValue)}},{key:"invokeNavigate",value:function(t){var e=this;this.invokeMethodAsync(this.options.jsinterop.navigate,t).then(function(t){return e.setSliderEnd(t)})}}]),e}(u.SliderBase)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.SliderBase=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(4);e.SliderBase=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.snapValue=function(t){var e=(0,a.closestDivisibleTo)(t-i.options.min,i.options.smallStep)+i.options.min;return(0,a.clamp)(e,i.options.min,i.options.max)},i.extendOptions(n),i.sliderTrack=i.element.querySelector(".k-slider-track-wrap"),i.throttleChangeValue=(0,a.throttle)(i.invokeChangeValue,150).bind(i),i}return i(e,t),s(e,[{key:"eventValue",value:function(t){var e=this.calculatePercentageValue(t),n=this.convertToValue(e);return this.snapValue(n)}},{key:"calculatePercentageValue",value:function(t){var e=this.sliderTrack.getBoundingClientRect();return"vertical"===this.options.orientation?100-(t.clientY-e.top)/e.height*100:(t.clientX-e.left)/e.width*100}},{key:"convertToValue",value:function(t){return this.options.min+t*(this.options.max-this.options.min)/100}},{key:"convertToPercentage",value:function(t){return(t-this.options.min)/(this.options.max-this.options.min)*100}},{key:"setSliderEnd",value:function(t){this.endValue=t,this.element&&this.element.style.setProperty("--kendo-slider-end",this.convertToPercentage(t))}},{key:"setSliderStart",value:function(t){this.startValue=t,this.element&&this.element.style.setProperty("--kendo-slider-start",this.convertToPercentage(t))}},{key:"invokeChangeValue",value:function(t){var e=t.isChangeCommitted,n=this.options.jsinterop.changeValue;if(this.dotNetInstance&&this.dotNetInstance.invokeMethodAsync&&n){for(var r,o=arguments.length,i=Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];return(r=this.dotNetInstance).invokeMethodAsync.apply(r,[n].concat(i,[e]))}}}]),e}(a.Component)},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.RangeSlider,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initRangeSlider=r;var o=n(261),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.RangeSlider=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(259),u=n(23),p=[l.Key.ARROWUP,l.Key.ARROWDOWN,l.Key.ARROWLEFT,l.Key.ARROWRIGHT,l.Key.PAGE_UP,l.Key.PAGE_DOWN,l.Key.HOME,l.Key.END];e.RangeSlider=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.onStartHandleDrag=function(t){var e=i.eventValue(t);e>i.endValue&&i.setSliderEnd(e),i.setSliderStart(e),i.throttleChangeValue({isChangeCommitted:!1},i.startValue,i.endValue)},i.onEndHandleDrag=function(t){var e=i.eventValue(t);e<i.startValue&&i.setSliderStart(e),i.setSliderEnd(e),i.throttleChangeValue({isChangeCommitted:!1},i.startValue,i.endValue)},i.onDragEnd=function(){i.changeValue(i.startValue,i.endValue)},i.onClick=function(t){var e=i.eventValue(t);e<=i.startValue||e<(i.startValue+i.endValue)/2?(e!==i.startValue&&i.changeValue(e,i.endValue),i.startHandle.focus()):(e>=i.endValue||e>=(i.startValue+i.endValue)/2)&&(e!==i.endValue&&i.changeValue(i.startValue,e),i.endHandle.focus())},i.onStartHandleNavigate=function(t){i.invokeMethodAsync(i.options.jsinterop.startNavigate,t.name).then(function(t){i.setSliderStart(t.startValue),i.setSliderEnd(t.endValue)})},i.onEndHandleNavigate=function(t){i.invokeMethodAsync(i.options.jsinterop.endNavigate,t.name).then(function(t){i.setSliderStart(t.startValue),i.setSliderEnd(t.endValue)})},i.startHandle=i.element.querySelector(".k-draghandle-start"),i.endHandle=i.element.querySelector(".k-draghandle-end"),i.startValue=i.options.startValue,i.endValue=i.options.endValue,i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.startHandle=this.endHandle=null}},{key:"setOptions",value:function(t){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setOptions",this).call(this,t),this.startValue=this.options.startValue,this.endValue=this.options.endValue}},{key:"bindEvents",value:function(){this.initDraggable(),this.initNavigationService(),this.sliderTrack.addEventListener("click",this.onClick)}},{key:"unbindEvents",value:function(){this.destroyDraggable(),this.destroyNavigationService(),this.sliderTrack.removeEventListener("click",this.onClick)}},{key:"initDraggable",value:function(){this.startDraggable=new u.Draggable(this.element,{filter:".k-draghandle-start",events:{drag:this.onStartHandleDrag,dragEnd:this.onDragEnd}}),this.endDraggable=new u.Draggable(this.element,{filter:".k-draghandle-end",events:{drag:this.onEndHandleDrag,dragEnd:this.onDragEnd}})}},{key:"destroyDraggable",value:function(){this.startDraggable.destroy(),this.endDraggable.destroy()}},{key:"initNavigationService",value:function(){this.startNavigationService=new l.NavigationService(this.startHandle),this.endNavigationService=new l.NavigationService(this.endHandle),this.startNavigationService.bind(p,this.onStartHandleNavigate),this.endNavigationService.bind(p,this.onEndHandleNavigate)}},{key:"destroyNavigationService",value:function(){this.startNavigationService.destroy(),this.endNavigationService.destroy()}},{key:"changeValue",value:function(t,e){var n=null===t?this.options.min:t,r=null===e?this.options.min:e;this.setSliderStart(Math.max(n,this.options.min)),this.setSliderEnd(Math.max(r,this.options.min,n)),this.invokeChangeValue({isChangeCommitted:!0},this.startValue,this.endValue)}}]),e}(c.SliderBase)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(263);Object.keys(r).forEach(function(t){
"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var o=n(265);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(267);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var s=n(269);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a=n(271);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,o.initComponent)(i.MenuItem,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initMenuItem=r;var o=n(4),i=n(264)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MenuItem=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=[l.Key.ENTER,l.Key.SPACE,l.Key.HOME,l.Key.END,l.Key.ARROWDOWN,l.Key.ARROWUP,l.Key.ARROWLEFT,l.Key.ARROWRIGHT];e.MenuItem=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.onKeyDown=function(t){i.invokeKeyDown(t)},i.onFocus=function(){i.invokeFocus()},i.onFocusOut=function(){i.invokeFocusOut()},i.onClick=function(){i.invokeClick()},i.popup=(0,l.getElementByDataId)(n.popupId),i.options=n,i.bindEvents(),i.initNavigationService(),i}return i(e,t),s(e,[{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(c,this.onKeyDown)}},{key:"bindEvents",value:function(){this.element.addEventListener("focus",this.onFocus),this.element.addEventListener("focusout",this.onFocusOut),this.element.addEventListener("click",this.onClick)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("focus",this.onFocus),this.element.removeEventListener("focusout",this.onFocusOut),this.element.removeEventListener("click",this.onClick)}},{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.popup=null}},{key:"hasParentPopupWithDisplayNone",value:function(t){if("none"===t.style.display)return!0;var e=t.closest(".k-popup")!==t?t.closest(".k-popup"):null,n=e!==t?e:null;return n&&this.hasParentPopupWithDisplayNone(n)}},{key:"focusNode",value:function(){this.element&&(this.hasParentPopupWithDisplayNone(this.element)?(0,l.focusInNextFrameAsync)(this.element):document.activeElement!==this.element&&this.element.focus())}},{key:"invokeKeyDown",value:function(t){this.invokeMethodAsync(this.options.jsinterop.keydown,t.name)}},{key:"invokeFocus",value:function(){this.invokeMethodAsync(this.options.jsinterop.focus)}},{key:"invokeFocusOut",value:function(){this.invokeMethodAsync(this.options.jsinterop.focusout)}},{key:"invokeClick",value:function(){this.invokeMethodAsync(this.options.jsinterop.click)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,o.initComponent)(i.Stepper,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initStepper=r;var o=n(4),i=n(266)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Stepper=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c="keydown",u=[l.KeyCode.ARROWLEFT,l.KeyCode.ARROWRIGHT,l.KeyCode.ARROWUP,l.KeyCode.ARROWDOWN,l.KeyCode.HOME,l.KeyCode.END,l.KeyCode.ENTER,l.KeyCode.SPACE];e.Stepper=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.onKeyDown=function(t){var e=u.includes(t.keyCode);e&&t.preventDefault()},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener(c,this.onKeyDown)}},{key:"unbindEvents",value:function(){this.element.removeEventListener(c,this.onKeyDown)}},{key:"focusStep",value:function(t){var e=this.element.querySelector('[data-index="'+t+'"]');e&&e.focus()}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,o.initComponent)(i.TabStrip,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initTabStrip=r;var o=n(4),i=n(268)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TabStrip=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=".k-item",u="keydown",p={horizontal:"horizontal",vertical:"vertical"},h=[l.KeyCode.ARROWUP,l.KeyCode.ARROWDOWN],f=[l.KeyCode.ARROWLEFT,l.KeyCode.ARROWRIGHT],d=[l.KeyCode.HOME,l.KeyCode.END];e.TabStrip=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.onKeyDown=function(t){var e=i.options.orientation===p.vertical?h:f,n=e.concat(d);n.includes(t.keyCode)&&t.preventDefault()},i.tabList=i.element.querySelector(".k-tabstrip-items"),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.tabList.addEventListener(u,this.onKeyDown)}},{key:"unbindEvents",value:function(){this.tabList.removeEventListener(u,this.onKeyDown)}},{key:"focusTab",value:function(t){var e=this.tabList.querySelectorAll(c)[t];e&&e.focus()}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){(0,o.initComponent)(i.TreeView,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initTreeView=r;var o=n(4),i=n(270)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TreeView=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(21),u="keydown",p="mousedown",h=[l.KeyCode.ARROWLEFT,l.KeyCode.ARROWRIGHT,l.KeyCode.ARROWUP,l.KeyCode.ARROWDOWN,l.KeyCode.HOME,l.KeyCode.END,l.KeyCode.ENTER],f=(e.TreeView=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return f.call(i),i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),this.draggable&&this.draggable.destroy(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener(u,this.onKeyDown),this.element.addEventListener(p,this.onMouseDown),this.options.draggable&&this.createDraggable()}},{key:"unbindEvents",value:function(){this.element.removeEventListener(u,this.onKeyDown),this.element.removeEventListener(p,this.onMouseDown)}},{key:"setOptions",value:function(t){this.options.draggable!==t.draggable&&(t.draggable?this.createDraggable():this.draggable.destroy()),this.extendOptions(t)}},{key:"focusNode",value:function(t){var e=this.element.querySelector('[data-treeindex="'+t+'"]');e&&e.focus()}},{key:"createDraggable",value:function(){this.element&&(this.draggable=new c.RowDraggable(this.element,{componentSelector:".k-treeview",group:".k-treeview",filter:".k-treeview-leaf",dropClueTargetSelector:".k-treeview-mid",itemSelector:".k-treeview-item",offsetDropClue:!0,hint:this.createHint,events:{itemDrop:this.onItemDrop}}))}},{key:"getDestinationTree",value:function(t){var e=this.element,n=t.closest(".k-treeview");if(n&&e!==n){var r=n.getAttribute("data-id"),o=(0,l.getComponentInstance)(r);return o&&o.dotNetInstance}return this.dotNetInstance}}]),e}(l.Component),function(){var t=this;this.onKeyDown=function(t){var e=h.includes(t.keyCode);e&&t.preventDefault()},this.onMouseDown=function(t){t.shiftKey&&t.preventDefault()},this.createHint=function(t){var e=t.textContent;return(0,l.convertToHtml)('<div class="k-header k-drag-clue">\n                <span class="k-icon k-drag-status k-icon-with-modifier">\n                    <span class="k-icon k-icon-modifier"></span>\n                </span>\n                '+e+"\n            </div>")},this.onItemDrop=function(e){var n=t.getDestinationTree(e.destinationItem);t.invokeMethodAsync(t.options.jsinterop.drop,{sourceIndex:e.sourceItem.getAttribute("data-treeindex"),destinationIndex:e.destinationItem.getAttribute("data-treeindex"),treeviewDotNetInstance:n,dropPosition:e.dropPosition})}})},function(t,e,n){"use strict";function r(t,e){(0,o.initComponent)(i.ToolBar,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initToolBar=r;var o=n(4),i=n(272)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ToolBar=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},c=n(4),u=[c.Key.ARROWLEFT,c.Key.ARROWRIGHT,c.Key.HOME,c.Key.END],p=":not([disabled]):not([data-focusable='false'])",h="a[href], area[href], input"+p+", select"+p+", textarea"+p+", button"+p+", [tabindex]"+p;e.ToolBar=function(t){function e(t,n){o(this,e);var s=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return s.onKeyDown=function(t){var e=s.element.querySelectorAll(h),n=s.element.querySelector(":focus"),o=e.length-1,i=[].concat(r(e)).indexOf(n),a=-1;t.name===c.Key.ARROWRIGHT&&i===o||t.name===c.Key.HOME?a=0:t.name===c.Key.ARROWLEFT&&0===i||t.name===c.Key.END?a=o:t.name===c.Key.ARROWRIGHT?a=i+1:t.name===c.Key.ARROWLEFT&&(a=i-1),a!==-1&&(s.setTabIndices(a),e[a].focus())},s.setTabIndices(0),s.initNavigationService(),s}return s(e,t),a(e,[{key:"destroy",value:function(){this.navigationService.destroy(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"initNavigationService",value:function(){this.navigationService=new c.NavigationService(this.element),this.navigationService.bind(u,this.onKeyDown)}},{key:"setTabIndices",value:function(t){var e=this.element.querySelectorAll(h);e.forEach(function(e,n){var r=t===n?0:-1;e.setAttribute("tabindex",r)})}}]),e}(c.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(274);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e,n){var r=(0,a.getElementByDataId)(t);if(r){var o=l(e),i=(0,a.getComponentInstance)(t),c=(0,a.extend)(o,n);if(i)(0,a.setComponentOptions)(i,c);else{var u=new s.Map(r,c);(0,a.setComponentInstance)(t,u)}}}Object.defineProperty(e,"__esModule",{value:!0}),e.initOrUpdateMap=r;var o=n(43),i=n(37),s=n(275),a=n(4);o.TemplateService.register(i.TemplateService);var l=function(t){var e=c(t),n=u(e);return e.layers=n||[],e.layers.forEach(function(t){"shape"===t.type&&t.shapeSettings.style?t.style=t.shapeSettings.style:"bubble"===t.type&&t.bubbleSettings.style&&(t.style=t.bubbleSettings.style)}),e},c=function(t){var e=JSON.parse(t),n=u(e);return e.layers=n,e},u=function(t){var e=t.layers||[];return e.forEach(function(t){"string"==typeof t.data&&(t.data=JSON.parse(t.data))}),e}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Map=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(4),l=n(48),c=n(43),u=n(276);e.Map=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={markerTooltipId:"",jsinterop:{onObserverMapClick:"",onObserverMapPan:"",onObserverMapPanEnd:"",onObserverMarkerClick:"",onObserverMarkerMouseEnter:"",onObserverMarkerMouseLeave:"",onObserverMarkerActivate:"",onObserverShapeClick:""}},i.onObserverMapClick=function(t){var e=i.createMapClickEventArgs(t);i.invokeMapClickAsync(e)},i.onObserverMapPan=function(t){i.hideMarkerTooltip(t)},i.onObserverMapPanEnd=function(){i.showMarkerTooltip(i._hoveredMarker)},i.onObserverMarkerActivate=function(t){i.repositionMarkerTooltip(t.marker)},i.onObserverMarkerClick=function(t){var e=i.createMarkerClickEventArgs(t);i.invokeMarkerClickAsync(e)},i.onObserverMarkerMouseEnter=function(t){i._hoveredMarker=t.marker;var e=i.createMarkerEventArgs(t);i.invokeMarkerMouseEnterAsync(e)},i.onObserverMarkerMouseLeave=function(){i._hoveredMarker=null},i.onObserverShapeClick=function(t){var e=i.createShapeClickEventArgs(t);i.invokeShapeClickAsync(e)},i.extendOptions(n),i.createInstanceObserver(),i.initWidget(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyInstanceObserver(),this._hoveredMarker=null,this.widget&&(this.widget.destroy(),this.widget=null)}},{key:"getThemeOptions",value:function(){return{}}},{key:"getWidgetConstructor",value:function(){return c.Map}},{key:"createInstanceObserver",value:function(){this.instanceObserver=new u.MapInstanceObserver(this)}},{key:"destroyInstanceObserver",value:function(){this.instanceObserver=null}},{key:"trigger",value:function(){}},{key:"requiresHandlers",value:function(){return!1}},{key:"invokeMapClickAsync",value:function(t){return this.invokeMethodAsync(this.options.jsinterop.onObserverMapClick,t)}},{key:"invokeMarkerClickAsync",value:function(t){return this.invokeMethodAsync(this.options.jsinterop.onObserverMarkerClick,t)}},{key:"invokeMarkerMouseEnterAsync",value:function(t){return this.invokeMethodAsync(this.options.jsinterop.onObserverMarkerMouseEnter,t)}},{key:"invokeShapeClickAsync",value:function(t){return this.invokeMethodAsync(this.options.jsinterop.onObserverShapeClick,t)}},{key:"createMapClickEventArgs",value:function(t){var e=t.location||{lat:null,lng:null},n={location:{latitude:e.lat,longitude:e.lng}},r=this.extendWithOriginalMouseEvent(n,t);return r}},{key:"createMarkerClickEventArgs",value:function(t){var e=this.createMarkerEventArgs(t),n=this.extendWithOriginalMouseEvent(e,t);return n}},{key:"createShapeClickEventArgs",value:function(t){var e=this.createShapeEventArgs(t),n=this.extendWithOriginalMouseEvent(e,t);return n}},{key:"createMarkerEventArgs",value:function(t){var e={layerIndex:t.layerIndex,markerIndex:t.markerIndex};return e}},{key:"createShapeEventArgs",value:function(t){var e=t.shape.dataItem,n=t.shape.location&&t.shape.value,r={layerIndex:t.layerIndex,shapeIndex:t.shapeIndex,geoJsonDataItem:n?null:e};return r}},{key:"getOriginalEvent",value:function(t){var e=t.originalEvent,n=(e||{}).event||e;return n}},{key:"extendWithOriginalMouseEvent",value:function(t,e){var n=this.getOriginalEvent(e);return(0,a.extend)(t,{eventArgs:(0,a.convertToMouseEventArgs)(n)})}},{key:"repositionMarkerTooltip",value:function(t){var e=this.getMarkerTooltip();if(e&&t){var n=e.getPopupComponent();n&&n.anchor===t.element&&e.repositionPopup()}}},{key:"showMarkerTooltip",value:function(t){var e=this.getMarkerTooltip();if(e&&t){var n=e.getPopupComponent();n&&n.anchor&&n.anchor===t.element&&e.open(n.anchor)}}},{key:"hideMarkerTooltip",value:function(){var t=this.getMarkerTooltip();if(t){var e=t.getPopupComponent();e&&e.anchor&&t.close(e.anchor)}}},{key:"getMarkerTooltip",value:function(){var t=(0,a.getComponentInstance)(this.options.markerTooltipId);return t}}]),e}(l.DataVizComponent)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MapInstanceObserver=void 0;var s=n(43);e.MapInstanceObserver=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.handlerMap={click:"onObserverMapClick",pan:"onObserverMapPan",panEnd:"onObserverMapPanEnd",markerMouseEnter:"onObserverMarkerMouseEnter",markerMouseLeave:"onObserverMarkerMouseLeave",markerClick:"onObserverMarkerClick",markerActivate:"onObserverMarkerActivate",shapeClick:"onObserverShapeClick"},i}return i(e,t),e}(s.InstanceObserver)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(278);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.MediaQuery,t,e);var n=(0,i.getComponentInstance)(t);return n.getMatches()}Object.defineProperty(e,"__esModule",{value:!0}),e.initMediaQuery=r;var o=n(279),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MediaQuery=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4);e.MediaQuery=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={media:"",jsinterop:{change:""}},i.onMediaChange=function(t){i.invokeMethodAsync(i.options.jsinterop.change,t.matches)},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.mediaQueryList=window.matchMedia(this.options.media),this.mediaQueryList.addEventListener("change",this.onMediaChange)}},{key:"unbindEvents",value:function(){this.mediaQueryList&&this.mediaQueryList.removeEventListener("change",this.onMediaChange)}},{key:"getMatches",value:function(){return this.mediaQueryList.matches}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(281);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.Pager,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initPager=r;var o=n(282),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Pager=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(283);e.Pager=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,focusElementSelector:function(t){return"[data-index='"+t+"']"},jsinterop:{focusOut:""}},i.onNavigationRemoveFocus=function(){i.removeFocus()},i.extendOptions(n),i.createNavigationService(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyNavigationService(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"createNavigationService",value:function(){this.navigationService=new c.NavigationService(this.element,{events:{focusOut:this.onNavigationRemoveFocus}})}},{key:"destroyNavigationService",value:function(){this.navigationService&&(this.navigationService.destroy(),this.navigationService=null)}},{key:"focusElement",value:function(t){this.navigationService&&this.navigationService.focusElement(t)}},{key:"removeFocus",value:function(){var t=this;setTimeout(function(){t.invokeMethodAsync(t.options.jsinterop.focusOut)},1)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.NavigationService=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4);e.NavigationService=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={events:{focusOut:null},focusElementSelector:function(t){return"[data-index='"+t+"']"}},i.onKeyDown=function(t){var e=[l.KeyCode.ARROWRIGHT,l.KeyCode.ARROWLEFT,l.KeyCode.ARROWUP,l.KeyCode.ARROWDOWN].includes(t.keyCode);e&&t.preventDefault()},i.onFocusOut=function(t){(0,l.ownsElement)(i.element,t.relatedTarget)||i.trigger("focusOut")},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener("keydown",this.onKeyDown),this.element.addEventListener("focusout",this.onFocusOut)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("keydown",this.onKeyDown),this.element.removeEventListener("focusout",this.onFocusOut)}},{key:"focusElement",value:function(t){var e=t.index,n=this.element.querySelector(this.options.focusElementSelector(e));n&&n.focus()}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(285);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,o.initComponent)(i.PanelBar,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initPanelBar=r;var o=n(4),i=n(286)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.PanelBar=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c="keydown",u=[l.KeyCode.ARROWLEFT,l.KeyCode.ARROWRIGHT,l.KeyCode.ARROWUP,l.KeyCode.ARROWDOWN,l.KeyCode.HOME,l.KeyCode.END,l.KeyCode.ENTER,l.KeyCode.SPACE];e.PanelBar=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.onKeyDown=function(t){var e=u.includes(t.keyCode);e&&t.target.matches("span.k-link")&&t.preventDefault()},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener(c,this.onKeyDown)}},{key:"unbindEvents",value:function(){this.element.removeEventListener(c,this.onKeyDown)}},{key:"focusNode",value:function(t){var e=this.element.querySelector('[data-treeindex="'+t+'"]');e&&e.focus()}}]),e}(l.Component)},function(t,e,n){
"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(288);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,o.initComponent)(i.Popup,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initPopup=r;var o=n(4),i=n(289)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Popup=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},c=n(4),u=n(290),p={x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0},h=30,f=function(){return window&&window.PointerEvent},d=Array.from,v="mouseleave",y="mouseover",g="mousedown",m="pointerdown",b="scroll",w="resize";e.Popup=function(t){function e(t,n){o(this,e);var s=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(s.mouseHoverTimeout=null,s.options={dotNetInstance:null,anchorSelector:"",dynamicAnchors:!1,anchorRect:p,toggleElementSelector:"",width:"",anchorAlign:{horizontal:"left",vertical:"bottom"},elementAlign:{horizontal:"left",vertical:"top"},openOn:"click",closeOn:"click",closeParentPopupsUntilSelector:"",jsinterop:{close:"",closeAsync:"",openAsync:"",positionSet:""}},s.toggle=function(t){t.preventDefault(),s._visible?s.closeAsync():s.openAsync(t)},s.onCloseEvent=function(t){var e=s.toggleElements&&[].concat(r(s.toggleElements)).includes(t.target);!e&&t.target!==s.anchor||s.isChild(t.relatedTarget)||(s.mouseHoverTimeout=setTimeout(function(){s.closeAsync()},h))},s.onElementMouseOver=function(){s.mouseHoverTimeout&&clearTimeout(s.mouseHoverTimeout)},s.onMouseDown=function(t){s.isChild(t.target)||s.closeAsync()},s.onElementMouseLeave=function(t){var e=t.relatedTarget;if(!(0,c.ownsElementOrSelf)(s.element,e)&&!(0,c.ownsElementOrSelf)(s.anchor,e)){var n=e&&e.closest(".k-animation-container"),r=n&&(n.dataset.id===s.element.dataset.id||s.isChild(e));n&&r||t.target!==s.element||(s.mouseHoverTimeout=setTimeout(function(){s.closeAsync(),s.options.closeParentPopupsUntilSelector&&s.closeParentPopups()},h))}},s.onScroll=function(t){s.isChild(t.target)||s.positionElement()},s.onResize=function(){s.close()},s.openAsync=function(t,e,n){s.mouseHoverTimeout&&clearTimeout(s.mouseHoverTimeout);var r=s.anchor;s.anchors.length>1&&s.anchors.forEach(function(e){if((0,c.ownsElementOrSelf)(e,t.target))return void(s.anchor=e)}),r!==s.anchor&&s.closeAsync(),s.options.anchorRect={top:n,left:e,width:0,height:0},s.invokeMethodAsync(s.options.jsinterop.openAsync)},s.extendOptions(n),s.anchors=s.getAnchorsFromDocument(),s.anchor=s.anchors[0],s.anchors.length>1&&n.toggleElementSelector)throw new Error("Toggle element is not supported when you have more than one anchor");return n.toggleElementSelector&&(s.toggleElements=d(document.querySelectorAll(n.toggleElementSelector))),(0,c.supportsTouchEvents)()||s.createIntersectionObserver(),s.bindAnchorsEvents(),s.bindElementEvents(),s.initPosition(),s}return s(e,t),a(e,[{key:"destroy",value:function(){this.unbindElementEvents(),this.unbindEvents(),this.unbindAnchorsEvents(),this.destroyIntersectionObserver(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.toggleElements=null,this.anchor=null}},{key:"getElementRect",value:function(t){var e=t?t.getBoundingClientRect():p,n=document.body.getBoundingClientRect();return{top:e.top-n.top,left:e.left-n.left,width:e.width,height:e.height}}},{key:"bindElementEvents",value:function(){this.options.closeOn===v&&(this.element.addEventListener(v,this.onElementMouseLeave),this.element.addEventListener(y,this.onElementMouseOver))}},{key:"unbindElementEvents",value:function(){this.element&&(this.element.removeEventListener(v,this.onElementMouseLeave),this.element.removeEventListener(y,this.onElementMouseOver))}},{key:"bindAnchorsEvents",value:function(){var t=this;this.toggleElements&&this.toggleElements.length?this.toggleElements.forEach(function(e){t.bindAnchorEvents(e)}):this.anchors.forEach(function(e){t.bindAnchorEvents(e)})}},{key:"unbindAnchorsEvents",value:function(){var t=this;this.toggleElements&&this.toggleElements.forEach(function(e){t.unbindAnchorEvents(e)}),this.anchors.forEach(function(e){t.unbindAnchorEvents(e)})}},{key:"bindAnchorEvents",value:function(t){if((0,c.isDomElement)(t)){var e=this.options,n=e.openOn,r=e.closeOn;n===r?t.addEventListener(n,this.toggle,!0):(t.addEventListener(n,this.openAsync,!0),t.addEventListener(r,this.onCloseEvent,!0))}}},{key:"unbindAnchorEvents",value:function(t){if((0,c.isDomElement)(t)){var e=this.options,n=e.openOn,r=e.closeOn;t.removeEventListener(n,this.toggle,!0),t.removeEventListener(n,this.openAsync,!0),t.removeEventListener(r,this.onCloseEvent,!0)}}},{key:"bindEvents",value:function(){this.bound||(this.bound=!0,document.addEventListener(b,this.onScroll,!0),(0,c.supportsTouchEvents)()||window.addEventListener(w,this.onResize),f()?document.addEventListener(m,this.onMouseDown,!0):document.addEventListener(g,this.onMouseDown,!0))}},{key:"unbindEvents",value:function(){document.removeEventListener(b,this.onScroll,!0),document.removeEventListener(g,this.onMouseDown,!0),document.removeEventListener(m,this.onMouseDown,!0),window.removeEventListener(w,this.onResize,!0),this.bound=!1}},{key:"closeParentPopups",value:function(){for(var t=this.element;t&&!t.querySelector(this.options.closeParentPopupsUntilSelector);){var e=t.getAttribute("data-id"),n=(0,c.getComponentInstance)(e),r=n.anchor;n.close(),t=r&&r.closest(".k-animation-container")}}},{key:"onOpen",value:function(){this._visible=!0,this.bindEvents(),this.options.width||(this.element.style.width=this.getAnchorWidth()),this.anchor&&this.setZIndex(this.anchor),this.positionElement()}},{key:"getAutoSizePosition",value:function(){var t=this.element.children[0];if(t){var e=t.style.display;t.style.visibility="hidden",t.style.display="block";var n=this.getPosition();return t.style.display=e,t.style.visibility="",n}return this.getPosition()}},{key:"onClose",value:function(){this._visible=!1,this.unbindEvents()}},{key:"initPosition",value:function(){this.element&&(this.element.style.left="-10000px",this.element.style.top="0px")}},{key:"getPosition",value:function(){var t=this.getAnchorRect(),e=this.element.style.left,n=this.element.style.top;this.element.style.left="",this.element.style.top="";var r=this.getElementRect(this.element);this.element.style.left=e,this.element.style.top=n;var o=(0,u.align)({anchorRect:t,elementRect:r,anchorAlign:this.options.anchorAlign,elementAlign:this.options.elementAlign,margin:this.options.margin});r.top=o.top,r.left=o.left,r=(0,u.removeScroll)(r,(0,u.scrollPosition)(this.element));var i=(0,u.restrictToView)({anchorRect:t,elementRect:r,anchorAlign:this.options.anchorAlign,elementAlign:this.options.elementAlign,collisions:{horizontal:"fit",vertical:"flip"},viewPort:(0,u.getWindowViewPort)(this.element)});return this.flipped=i.flipped,{top:o.top+i.offset.top+"px",left:o.left+i.offset.left+"px",flipped:i.flipped}}},{key:"positionElement",value:function(){var t=this.getElementPosition();return this.element.style.top=t.top,this.element.style.left=t.left,this.invokePositionSet(),t}},{key:"getElementPosition",value:function(){var t=void 0;return t=this.options.autoSize===!0?this.getAutoSizePosition():this.getPosition()}},{key:"getAnchorWidth",value:function(){if(!this.anchor)return"";var t=this.getElementRect(this.anchor);return t.width+"px"}},{key:"getAnchorRect",value:function(){return this.anchor?this.getElementRect(this.anchor):this.options.anchorRect}},{key:"setZIndex",value:function(t){if(this.element){var e=void 0;t&&(e=(0,u.zIndex)(t,this.element)),this.element.style.zIndex=e||10002}}},{key:"createIntersectionObserver",value:function(){var t=this;this.destroyIntersectionObserver(),this.intersectionObserver=this.initIntersectionObserver(),this.anchors.forEach(function(e){t.observeIntersection(e)})}},{key:"initIntersectionObserver",value:function(){var t=this,e={threshold:this.getIntersectionThreshold()};return new window.IntersectionObserver(function(e){e.forEach(function(e){e.intersectionRatio>=0&&e.intersectionRatio<1&&t.onAnchorHide(e.target)})},e)}},{key:"observeIntersection",value:function(t){this.canObserveIntersection(t)&&this.intersectionObserver.observe(t)}},{key:"unobserveIntersection",value:function(t){this.canObserveIntersection(t)&&this.intersectionObserver.unobserve(t)}},{key:"canObserveIntersection",value:function(t){return this.intersectionObserver&&(0,c.isDomElement)(t)}},{key:"destroyIntersectionObserver",value:function(){var t=this;this.intersectionObserver&&(this.anchors.forEach(function(e){t.unobserveIntersection(e)}),this.intersectionObserver.disconnect&&this.intersectionObserver.disconnect()),this.intersectionObserver=null}},{key:"onAnchorHide",value:function(t){if(this.hasDynamicAnchors()&&this._ignoreFirstIntersectionCheck){if((0,c.ownsElementOrSelf)(this.anchor,t))return void(this._ignoreFirstIntersectionCheck=!1)}else this.close()}},{key:"getIntersectionThreshold",value:function(){for(var t=[],e=0,n=1,r=.1,o=e;o<=n;o+=r)t.push(o);return t}},{key:"isElementVisible",value:function(){return this.element&&this.element.getElementsByClassName("k-popup")[0]}},{key:"isChild",value:function(t){var e=t;if((0,c.isChild)(e,[this.element,this.anchor]))return!0;var n=e instanceof HTMLElement&&e.closest(".k-animation-container");if(n&&n!==this.element){var r=n.getAttribute("data-id"),o=(0,c.getComponentInstance)(r||n.id),i=o&&o.isParent(this.element);return!!i||this.isChildOfPopup(e,this.element)}return!1}},{key:"isChildOfPopup",value:function(t,e){var n=t&&t.closest(".k-animation-container");if(n&&n===e)return!0;if(n&&n!==e){var r=n.getAttribute("data-id"),o=(0,c.getComponentInstance)(r||n.id);if(o)return this.isChildOfPopup(o.anchor,e)}return!1}},{key:"isParent",value:function(t){return t&&(0,c.ownsElement)(t,this.anchor)}},{key:"close",value:function(){this.invokeMethodAsync(this.options.jsinterop.close)}},{key:"closeAsync",value:function(){this.invokeMethodAsync(this.options.jsinterop.closeAsync)}},{key:"invokePositionSet",value:function(){this.options.jsinterop.positionSet&&this.invokeMethodAsync(this.options.jsinterop.positionSet)}},{key:"getAnchorsFromDocument",value:function(){return d(document.querySelectorAll(this.options.anchorSelector))}},{key:"hasAnyAnchorChanged",value:function(t){if(!this.hasDynamicAnchors())return!1;var e=d(this._anchors||[]);if(!e||e.length!==t.length)return!0;for(var n=0;n<t.length;n++)if(!e.includes(t[n]))return!0;return!1}},{key:"hasDynamicAnchors",value:function(){return this.options.dynamicAnchors}},{key:"anchors",get:function(){return this.hasDynamicAnchors()&&(this.anchors=this.getAnchorsFromDocument()),this._anchors},set:function(t){var e=this,n=this.hasAnyAnchorChanged(t);this.hasDynamicAnchors()&&n&&((this._anchors||[]).forEach(function(t){e.unobserveIntersection(t),e.unbindAnchorEvents(t)}),t.forEach(function(t){e.bindAnchorEvents(t)})),this._anchors=t}},{key:"anchor",get:function(){return this._anchor?this._anchor:(this._anchor=this._anchors[0],this._anchor)},set:function(t){this.unobserveIntersection(this._anchor),this.unbindAnchorEvents(this._anchor),this._anchor=t,this.hasDynamicAnchors()&&(this._ignoreFirstIntersectionCheck=!0,this.observeIntersection(this._anchor),this.bindAnchorEvents(this._anchor))}}]),e}(c.Component)},function(t,e){"use strict";function n(t,e){return{top:t.top+e.y,left:t.left+e.x,height:t.height,width:t.width}}function r(t,e,n){var r=t.top,o=t.left;return n&&(o=0,r=0),{top:r+e.top,left:o+e.left,height:t.height,width:t.width}}function o(t){return t.ownerDocument||t.document||t}function i(){if(!v&&"undefined"!=typeof document){var t=document.createElement("div");t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",document.body.appendChild(t),v=t.offsetWidth-t.scrollWidth,document.body.removeChild(t)}return v}function s(t){var e=f(t),n=d(t),r={height:e.innerHeight,width:e.innerWidth};return n.scrollHeight-n.clientHeight>0&&(r.width-=i()),r}function a(t){var e=d(t),n=f(t);return{x:n.pageXOffset||e.scrollLeft||0,y:n.pageYOffset||e.scrollTop||0}}function l(t){var e=g(t);return e?x(e):{x:0,y:0}}function c(t,e){return{top:t.top-e.y,left:t.left-e.x,height:t.height,width:t.width}}function u(t,e){if(!t||!e)return null;var n=A(t,e);if(!n)return null;var r=[t].concat(_(t,n)).reduce(function(t,e){var n=e.style.zIndex||window.getComputedStyle(e).zIndex,r=parseInt(n,10);return r>t?r:t},0);return r?r+1:null}Object.defineProperty(e,"__esModule",{value:!0});var p={bottom:"bottom",center:"center",middle:"middle",left:"left",right:"right",top:"top"},h=function(t){var e=t.anchorRect,n=t.anchorAlign,r=t.elementRect,o=t.elementAlign,i=t.margin;void 0===i&&(i={});var s=n.horizontal,a=n.vertical,l=o.horizontal,c=o.vertical,u=i.horizontal||0,h=i.vertical||0,f=e.top,d=e.left;return a===p.bottom&&(f+=e.height),a!==p.center&&a!==p.middle||(f+=Math.round(e.height/2)),c===p.bottom&&(f-=r.height,h*=-1),c!==p.center&&c!==p.middle||(f-=Math.round(r.height/2),h*=-1),s===p.right&&(d+=e.width),s!==p.center&&s!==p.middle||(d+=Math.round(e.width/2)),l===p.right&&(d-=r.width,u*=-1),l!==p.center&&l!==p.middle||(d-=Math.round(r.width/2),u*=-1),{top:f+h,left:d+u}},f=function(t){return o(t).defaultView},d=function(t){return o(t).documentElement},v=0,y=function(t){if(!t.getBoundingClientRect){var e=s(t);return{bottom:e.height,left:0,right:e.width,top:0}}var n=t.getBoundingClientRect(),r=n.bottom,o=n.left,i=n.right,a=n.top;return{bottom:r,left:o,right:i,top:a}},g=function(t){for(var e=t.offsetParent;e&&"static"===e.style.position;)e=e.offsetParent;return e||d(t)},m=function(t){return g(t)===t.ownerDocument.body},b=function(t){var e=t.style,n=e.display,r=e.left,o=e.position;t.style.display="",t.style.left="-10000px",t.style.position="absolute";var i=t.getBoundingClientRect();return t.style.display=n,t.style.left=r,t.style.position=o,i},w=function(t){var e=t.getBoundingClientRect(),n=e.left,r=e.top;return e.height||e.width||(e=b(t)),{top:r,left:n,height:e.height,width:e.width}},_=function(t,e){for(var n=[],r=t.parentNode;r&&(n.push(r),r!==e);)r=r.parentNode;return n},x=function(t){return t===(t.ownerDocument||{}).body?a(t):{x:t.scrollLeft,y:t.scrollTop}},k=function(t,e){var n=f(t),r=n.getComputedStyle(t),o=w(t),i=e||g(t),s=t.ownerDocument,a=i!==s.body&&i!==s.documentElement,l={top:0,left:0};if("fixed"!==r.position&&a){var c=n.getComputedStyle(i);l=w(i),l.top+=parseInt(c.borderTopWidth,10),l.left+=parseInt(c.borderLeftWidth,10)}return{top:o.top-l.top,left:o.left-l.left,height:o.height,width:o.width}},S=function(t,e){return t?x(t):l(e)},C=function(t,e,n){void 0===n&&(n=1);var r=e?g(e):null,o=k(t,r),i=o.top,s=o.left,a=o.height,l=o.width,c=S(r,t),u=c.x,p=c.y,h=t.ownerDocument,f=r===h.body||r===h.documentElement?1:n;return{top:i+p*f,left:s+u*f,height:a,width:l}},O={fit:"fit",flip:"flip"},E=function(t,e,n){var r=0;return t+e>n&&(r=n-(t+e)),t<0&&(r=-t),r},T=function(t){var e=t.offset,n=t.size,r=t.anchorSize,o=t.viewPortSize,i=t.anchorAlignPoint,s=t.elementAlignPoint,a=t.margin,l=0,c=s===p.center||s===p.middle,u=i===p.center||i===p.middle,h=2*a;if(s!==i&&!c&&!u){var f=i===p.top||i===p.left;e<0&&f?(l=n+r+h,e+l+n>o&&(l=0)):e>=0&&!f&&(e+n>o&&(l+=-(r+n+h)),e+l<0&&(l=0))}return l},M=function(t){var e=t.anchorRect,n=t.anchorAlign,r=t.elementRect,o=t.elementAlign,i=t.collisions,s=t.viewPort,a=t.margin;void 0===a&&(a={});var l=r.top,c=r.left,u=r.height,p=r.width,h=s.height,f=s.width,d=a.horizontal||0,v=a.vertical||0,y=0,g=0,m=i.horizontal===O.flip,b=i.vertical===O.flip;i.vertical===O.fit&&(g+=E(l,u,h)),i.horizontal===O.fit&&(y+=E(c,p,f)),b&&(g+=T({margin:v,offset:l,size:u,anchorSize:e.height,viewPortSize:h,anchorAlignPoint:n.vertical,elementAlignPoint:o.vertical})),m&&(y+=T({margin:d,offset:c,size:p,anchorSize:e.width,viewPortSize:f,anchorAlignPoint:n.horizontal,elementAlignPoint:o.horizontal}));var w=m&&0!==y,_=b&&0!==g;return{flipped:w||_,flip:{horizontal:w,vertical:_},offset:{left:y,top:g}}},P=function(t){for(var e=[],n=t.parentNode.firstElementChild;n;)n!==t&&e.push(n),n=n.nextElementSibling;return e},A=function(t,e){for(var n,r,o=_(t),i=e;i&&(n=P(i),!(r=o.reduce(function(t,e){return t.concat(n.filter(function(t){return t===e}))},[])[0]));)i=i.parentElement;return r};e.align=h,e.addScroll=n,e.applyLocationOffset=r,e.boundingOffset=y,e.isBodyOffset=m,e.offsetParent=g,e.offset=w,e.parents=_,e.parentScrollPosition=l,e.position=k,e.positionWithScroll=C,e.removeScroll=c,e.restrictToView=M,e.scrollPosition=a,e.siblingContainer=A,e.siblings=P,e.zIndex=u,e.getDocumentElement=d,e.getWindow=f,e.getWindowViewPort=s,e.AlignPoint=p,e.Collision=O},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(292);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,h.initComponent)(l.Scheduler,t,e)}function o(t,e){(0,h.initComponent)(c.DayTable,t,e)}function i(t,e){(0,h.initComponent)(u.MonthTable,t,e)}function s(t,e){(0,h.initComponent)(p.TimelineTable,t,e)}function a(t){var e=(0,h.getComponentInstance)(t);return e?e.getSlotMetrics():{width:0,height:0,left:0}}Object.defineProperty(e,"__esModule",{value:!0}),e.initScheduler=r,e.initDayTable=o,e.initMonthTable=i,e.initTimelineTable=s,e.getSlotMetrics=a;var l=n(293),c=n(295),u=n(297),p=n(298),h=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Scheduler=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(294);e.Scheduler=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{removeFocus:"",keyDown:""}},i.onKeyDown=function(t){i.invokeMethodAsync(i.options.jsinterop.keyDown,t)},i.onRemoveFocus=function(){i.invokeMethodAsync(i.options.jsinterop.removeFocus)},i.extendOptions(n),i.createNavigationService(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyNavigationService(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"createNavigationService",value:function(){this.navigationService=new c.NavigationService(this.element,{events:{keyDown:this.onKeyDown,removeFocus:this.onRemoveFocus}})}},{key:"destroyNavigationService",value:function(){this.navigationService&&(this.navigationService.destroy(),this.navigationService=null)}},{key:"focusAppointmentElement",value:function(t){this.navigationService.focusAppointmentElement(t)}},{key:"focusElement",value:function(){this.navigationService.focusElement(this.element)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.NavigationService=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4);e.NavigationService=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={events:{removeFocus:null,keyDown:null},appointmentElementSelector:function(t){return".k-event[data-render-index='"+t+"']"}},i.onKeyDown=function(t){var e=[l.KeyCode.ARROWRIGHT,l.KeyCode.ARROWLEFT,l.KeyCode.ARROWUP,l.KeyCode.ARROWDOWN,l.KeyCode.PAGE_DOWN,l.KeyCode.PAGE_UP,l.KeyCode.HOME,l.KeyCode.END,l.KeyCode.SPACE].includes(t.keyCode);e&&(0,l.hasClass)("k-state-selected",t.target)&&t.target.matches("div.k-event")&&t.preventDefault(),i.trigger("keyDown",{key:t.key,shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.ctrlKey})},i.onFocusOut=function(t){!t.relatedTarget||i.element.querySelector(".k-scheduler-layout").contains(t.relatedTarget)||t.relatedTarget.closest(".k-window")||i.trigger("removeFocus")},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener("keydown",this.onKeyDown),this.element.addEventListener("focusout",this.onFocusOut)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("keydown",this.onKeyDown),this.element.removeEventListener("focusout",this.onFocusOut)}},{key:"focusAppointmentElement",value:function(t){var e=this.element.querySelector(this.options.appointmentElementSelector(t));e&&this.focusElement(e)}},{key:"focusElement",value:function(t){t instanceof HTMLElement&&t!==document.activeElement&&t.focus()}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DayTable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(296),c=(e.DayTable=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return c.call(i),i.extendOptions(n),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.allDayRowElement=null,a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"getAllDayRowElement",value:function(){return this.allDayRowElement||(this.allDayRowElement=this.element.querySelector(".k-scheduler-all-day-row")),this.allDayRowElement}}]),e}(l.ContentTableBase),function(){var t=this;this.options={jsinterop:{getMoveHint:"",moveAppointment:""}},this.renderHintElement=function(e,n){var r=t.getAllDayRowElement();e.style.left=n.left+"px",e.style.width=n.width+"px",n.isAllDay&&r?(e.style.top="0px",e.style.height="100%",r.appendChild(e)):(e.style.top=n.top+"px",e.style.height=n.height+"px",t.getBodyElement().appendChild(e))}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ContentTableBase=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(24),u=n(6),p=n(22),h=(e.ContentTableBase=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return h.call(i),i.extendOptions(n),i.bindEvents(),i.createMovable(),i.hints=[],i.width=0,i}return i(e,t),s(e,[{key:"destroy",value:function(){this.bodyElement=null,this.unbindEvents(),this.destroyMovable(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){window.addEventListener("resize",this.onResize)}},{key:"unbindEvents",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"invokeResizeAppointments",value:function(){this.invokeMethodAsync(this.options.jsinterop.resizeAppointments,this.getSlotMetrics())}},{key:"refresh",value:function(){this.invokeResizeAppointments()}},{key:"getSlotMetrics",value:function(){var t=this.getFirstCell(),e=this.getContentWidth();return this.setHeadersWidths(),this.slotMetrics={width:e-t.offsetLeft,height:t.offsetHeight,left:t.offsetLeft},this.slotMetrics}},{key:"createMovable",value:function(){this.destroyMovable(),this.options.allowUpdate&&(this.movable=new c.Draggable({press:this.onMovableDragStart.bind(this),drag:this.onMovableDrag.bind(this),release:this.onMovableDrop.bind(this),mouseOnly:!0}),this.movable.bindTo(this.element))}},{key:"destroyMovable",value:function(){this.movable&&this.movable.destroy&&this.movable.destroy(),this.moveTarget=null}},{key:"onMovableDragStart",value:function(t){this.moveTarget=null,this.dragStarted=!1;var e=t.originalEvent.target;if(e&&e.closest(".k-event")){var n=this.getSlotUnderCursor(t);this.moveTarget=e.closest(".k-event"),this.resizeStart=Boolean(e.closest(".k-resize-n, .k-resize-w")),this.resizeEnd=Boolean(e.closest(".k-resize-s, .k-resize-e")),this.lastCellIndex=this.originalCellIndex=this.getCellIndex(n),this.lastRowIndex=this.originalRowIndex=this.getRowIndex(n),this.lastResourceIndex=this.originalResourceIndex=this.getResourceIndex(n)}}},{key:"onMovableDrag",value:function(t){if(this.moveTarget){if(!this.dragStarted)return void(this.dragStarted=!0);var e=this.getSlotUnderCursor(t);if(e){var n=(0,l.hasClass)("k-scheduler-alldays-slot",e),r=this.getCellIndex(e),o=this.getRowIndex(e),i=this.getResourceIndex(e),s=!1;r!==this.lastCellIndex&&(this.lastCellIndex=r,s=!0),o!==this.lastRowIndex&&(this.lastRowIndex=o,s=!0),i!==this.lastResourceIndex&&(this.resourceRowIndex=i,s=!0),s&&this.invokeMethodAsync(this.options.jsinterop.getMoveHint,{rowIndex:o,cellIndex:r,resourceIndex:i,originalCellIndex:this.originalCellIndex,originalRowIndex:this.originalRowIndex,originalResourceIndex:this.originalResourceIndex,resizeStart:this.resizeStart,resizeEnd:this.resizeEnd,isAllDay:n}).then(this.renderMoveHints)}}}},{key:"onMovableDrop",value:function(){this.destroyHints(),this.dragStarted&&this.invokeMethodAsync(this.options.jsinterop.moveAppointment),this.moveTarget=null,this.lastCellIndex=this.lastRowIndex=this.lastResourceIndex=0,this.originalCellIndex=this.originalRowIndex=this.originalResourceIndex=0}},{key:"getFirstCell",value:function(){return this.element.querySelector(".k-first-cell")}},{key:"getContentWidth",value:function(){var t=this.getBodyElement();return t.offsetWidth}},{key:"setHeadersWidths",value:function(){var t=Array.from(this.element.querySelectorAll(".k-heading-cell.k-group-cell,.k-heading-cell.k-resource-cell")),e=(0,u.groupBy)(t,function(t){return t.getAttribute("data-depth-index")}),n=function(t){var n=0;e[t].forEach(function(t){t.style.minWidth="",n=Math.max(t.offsetWidth,n)}),e[t].forEach(function(t){t.style.minWidth=n+"px"})};for(var r in e)n(r)}},{key:"getBodyElement",value:function(){return this.bodyElement||(this.bodyElement=this.element.querySelector(".k-scheduler-body")),this.bodyElement}},{key:"getCellIndex",value:function(t){return this.getCellDataIndex(t,"data-cell-index")}},{key:"getRowIndex",value:function(t){return this.getCellDataIndex(t,"data-row-index")}},{key:"getResourceIndex",value:function(t){return this.getCellDataIndex(t,"data-resource-index")}},{key:"getCellDataIndex",value:function(t,e){return t?parseInt(t.getAttribute(e),10):-1}}]),e}(l.Component),function(){var t=this;this.options={dotNetInstance:null,allowUpdate:!1,jsinterop:{resizeAppointments:""}},this.onResize=function(){var e=t.element.offsetWidth;e!==t.width&&(t.width=e,t.invokeResizeAppointments())},this.renderMoveHints=function(e){e&&e.length&&t.moveTarget&&(t.destroyHints(),e.forEach(function(e){var n=t.createHint(t.moveTarget);t.renderHintElement(n,e)}))},this.renderHintElement=function(){throw new Error("You have to implement the method renderHintElement!")},this.getSlotUnderCursor=function(e){var n=(0,p.getElementFromPoint)(e);if(!n)return null;var r=n.closest(".k-event");return r&&((0,l.hideElement)(r),n=t.getSlotUnderCursor(e),(0,l.showElement)(r)),n.closest(".k-scheduler-cell.k-slot-cell")},this.createHint=function(e){var n=e.cloneNode();return n.className+=" k-event-drag-hint",n.style.zIndex="2",t.hints[t.hints.length]=n,n},this.destroyHints=function(){t.hints.forEach(function(t){
t.parentNode.removeChild(t)}),t.hints=[]}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MonthTable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(296),c=(e.MonthTable=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return c.call(i),i.extendOptions(n),i}return i(e,t),s(e,[{key:"destroy",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"getFirstCell",value:function(){return this.element.querySelector(".k-slot-cell")}}]),e}(l.ContentTableBase),function(){var t=this;this.options={jsinterop:{getMoveHint:"",moveAppointment:""}},this.renderHintElement=function(e,n){e.style.left=n.left+"px",e.style.width=n.width+"px",e.style.top=n.top+"px",e.style.height=n.height+"px",t.getBodyElement().appendChild(e)}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TimelineTable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(296),c=(e.TimelineTable=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return c.call(i),i.extendOptions(n),i}return i(e,t),s(e,[{key:"destroy",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"getFirstCell",value:function(){return this.element.querySelector(".k-slot-cell")}}]),e}(l.ContentTableBase),function(){var t=this;this.options={jsinterop:{getMoveHint:"",moveAppointment:""}},this.renderHintElement=function(e,n){e.style.left=n.left+"px",e.style.width=n.width+"px",e.style.top=n.top+"px",e.style.height=n.height+"px",t.getBodyElement().appendChild(e)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(300);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.Splitter,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initSplitter=r;var o=n(301),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Splitter=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(148),c=n(4),u=".k-splitbar",p=".k-splitbar-draggable-horizontal",h=".k-splitbar-draggable-vertical",f="horizontal",d=Number.MAX_SAFE_INTEGER,v="flex-basis",y="k-pane-static",g=".k-collapse-next",m=".k-collapse-prev",b=function(t){return/%$/.test(t)},w=function(t){return t+"px"},_=function(t){return t+"%"},x=function(t,e){var n=parseFloat(t);return b(t)&&(n=e*n/100),n},k=function(t,e){return C(t,e,"client")},S=function(t,e){if(!t)return 0;var n=t.getBoundingClientRect();return e===f?n.width:n.height},C=function(t,e,n){return t?e===f?t[n+"Width"]:t[n+"Height"]:0};e.Splitter=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,orientation:f,resizable:!0,keyboardResizeDelta:10,panes:[],jsinterop:{resizePane:""}},i.onResizableResizeStart=function(t){t.originalEvent.stopPropagation();var e=(0,c.getElementIndex)(t.originalCurrentTarget,u);i.resetPaneState(),i.addResizeOverlays(e)},i.onResizableResize=function(t){var e=(0,c.getElementIndex)(t.originalCurrentTarget,u),n=i.isHorizontal()?t.delta.x:t.delta.y;i.dragSplitterBar(e,n)},i.onResizableResizeEnd=function(){i.removeResizeOverlays(),i.invokeResizePane()},i.onElementKeyDown=function(t){var e=t.target.closest(u);e&&i.onSplitterBarKeyDown(t)},i.extendOptions(n),i.resetPaneState(),i.createResizable(),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),this.destroyResizable(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"setOptions",value:function(t){this.extendOptions(t);for(var e=0;e<this.options.panes.length;e++){var n=this.options.panes[e];if(n.forceExpanded){var r=this.getPaneElement(e);(0,c.removeClass)(y,r)}}}},{key:"bindEvents",value:function(){this.element&&this.element.addEventListener("keydown",this.onElementKeyDown)}},{key:"unbindEvents",value:function(){this.element&&this.element.removeEventListener("keydown",this.onElementKeyDown)}},{key:"setState",value:function(t){this.state=(0,c.extend)(this.state||{},t)}},{key:"resetPaneState",value:function(){this.setState({resizedPanes:{}})}},{key:"createResizable",value:function(){this.options.resizable&&(this.resizable=new l.Resizable(this.element,{draggable:{filter:[p,h].join(","),ignore:[m,g].join(",")},events:{resizeStart:this.onResizableResizeStart,resize:this.onResizableResize,resizeEnd:this.onResizableResizeEnd}}))}},{key:"destroyResizable",value:function(){this.resizable&&(this.resizable.destroy(),this.resizable=null)}},{key:"dragSplitterBar",value:function(t,e){var n=this.getAdjacentPanes(t),r=n.leftPane,o=n.rightPane,i=r.computedSize+e,s=i>r.min&&i<r.max,a=this.getPaneElements().filter(function(t){return!t.style[v]}),l=(r.size||o.size)&&a.length>1;r.size&&o.size||l?s&&(this.resizePane(r,e),this.resizePane(o,-e)):o.size?this.resizePane(o,-e):this.resizePane(r,e)}},{key:"resizePane",value:function(t,e){var n=(0,c.clamp)(t.computedSize+e,t.min,t.max),r="";if(b(t.size)){var o=this.getElementClientSize();r=_(100*n/o)}else r=w(n);this.setPaneSize(t.index,r)}},{key:"isHorizontal",value:function(){return this.options.orientation===f}},{key:"getPane",value:function(t){return(this.options.panes||[])[t]}},{key:"getPaneElements",value:function(){var t=Array.from(this.element.children||[]).filter(function(t){return(0,c.hasClass)("k-pane",t)});return t}},{key:"getPaneElement",value:function(t){var e=this.getPaneElements();return e[t]}},{key:"getAdjacentPanes",value:function(t){var e=t,n=t+1,r=this.getPaneElement(e),o=this.getPaneElement(n),i=this.getPane(e),s=this.getPane(n),a=this.getPaneOffsetSize(e),l=this.getPaneOffsetSize(n),c=a+l,u=this.getElementClientSize(),p=function(t){return x(t,u)},h=this.getAdjacentPanesMaxSize(t),f=h.leftPaneMaxSize,d=h.rightPaneMaxSize;return{leftPane:{index:e,computedSize:a,min:p(i.min)||c-p(s.max)||0,max:f,size:r.style[v],collapsible:i.collapsible},rightPane:{index:n,computedSize:l,min:p(s.min)||c-p(i.max)||0,max:d,size:o.style[v],collapsible:s.collapsible}}}},{key:"getAdjacentPanesMaxSize",value:function(t){var e=this.getPaneSizes(t),n=e.size,r=e.min,o=e.max,i=this.getPaneSizes(t+1),s=i.size,a=i.min,l=i.max,c=n+s,u=Math.min(o,c-a),p=Math.min(l,c-r);return{leftPaneMaxSize:u,rightPaneMaxSize:p}}},{key:"getPaneSizes",value:function(t){var e=this.getElementClientSize(),n=this.getPane(t),r=this.getPaneOffsetSize(t),o=n.min?x(n.min,e):0,i=n.max?x(n.max,e):d;return{size:r,min:o,max:i}}},{key:"getPaneOffsetSize",value:function(t){var e=this.getPaneElement(t),n=S(e,this.options.orientation);return n}},{key:"getElementClientSize",value:function(){var t=k(this.element,this.options.orientation);return t}},{key:"setPaneSize",value:function(t,e){var n=this.getPaneElement(t);if(n){this.state.resizedPanes[t]={index:t,size:e};var r=this.options.panes[t]||{};r.forceExpanded||(0,c.addClass)(y,n),n.style[v]=e}}},{key:"addResizeOverlays",value:function(t){this.addResizeOverlay(t),this.addResizeOverlay(t+1)}},{key:"addResizeOverlay",value:function(t){var e=this.getPaneElement(t);if(e){var n=(0,c.convertToHtml)('<div class="k-splitter-overlay k-overlay"></div>');e.appendChild(n)}}},{key:"removeResizeOverlays",value:function(){var t=Array.from(this.element.querySelectorAll(".k-splitter-overlay"));t.forEach(function(t){t.remove()})}},{key:"invokeResizePane",value:function(){var t=this;Object.values(this.state.resizedPanes).forEach(function(e){t.invokeMethodAsync(t.options.jsinterop.resizePane,{index:e.index,size:e.size})})}},{key:"isSplitterBarDraggable",value:function t(e){var t=(0,c.hasClass)(p.replace(".",""),e)||(0,c.hasClass)(h.replace(".",""),e);return t}},{key:"getSplitterBarIndex",value:function(t){var e=(0,c.getElementIndex)(t,u);return e}},{key:"onSplitterBarKeyDown",value:function(t){var e=t.target.closest(u),n=t.key;if(this.isSplitterBarDraggable(e)){var r=(0,c.getElementIndex)(e,u),o=this.options.keyboardResizeDelta,i=this.isHorizontal(),s=n===c.Key.ARROWRIGHT&&i||n===c.Key.ARROWDOWN&&!i,a=n===c.Key.ARROWLEFT&&i||n===c.Key.ARROWUP&&!i,l=s?1:-1;(s||a)&&(t.preventDefault(),this.dragSplitterBar(r,l*o),this.invokeResizePane())}}}]),e}(c.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(303);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,s.initComponent)(i.TileLayout,t,e)}function o(t){(0,s.destroyComponent)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.initTileLayout=r,e.destroyTileLayout=o;var i=n(304),s=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TileLayout=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(22),u=n(148),p=".k-tilelayout-item",h=".k-resize-handle",f=".k-tilelayout-item-header",d="k-layout-item-hint k-layout-item-hint-resize",v=(e.TileLayout=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return v.call(i),i.extendOptions(n),i.options.resizable&&i.createResizable(),i.options.reorderable&&i.createReorderable(),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyResizable(),this.destroyReorderable(),this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){}},{key:"unbindEvents",value:function(){}},{key:"setOptions",value:function(t){this.options.resizable!==t.resizable&&(t.resizable?this.createResizable():this.destroyResizable()),this.options.reorderable!==t.reorderable&&(t.reorderable?this.createReorderable():this.destroyReorderable()),this.extendOptions(t)}},{key:"createResizable",value:function(){this.resizable=new u.Resizable(this.element,{draggable:{filter:h},events:{resizeStart:this.onResizableResizeStart,resize:this.onResizableResize,resizeEnd:this.onResizableResizeEnd}})}},{key:"destroyResizable",value:function(){this.resizable&&(this.resizable.destroy(),this.resizable=null,this.destroyResizeHint())}},{key:"createReorderable",value:function(){this.reorderable=new u.Resizable(this.element,{draggable:{filter:f},events:{resizeStart:this.onReorderableDragStart,resize:this.onReorderableDrag,resizeEnd:this.onReorderableDragEnd}})}},{key:"destroyReorderable",value:function(){this.reorderable&&(this.reorderable.destroy(),this.reorderable=null)}}]),e}(l.Component),function(){var t=this;this.options={dotNetInstance:null,resizable:!1,reorderable:!1,jsinterop:{resizeItem:"",reorderItem:""}},this.onResizableResizeStart=function(e){var n=e.originalCurrentTarget.closest(p),r=parseInt(n.style.gridColumnEnd.substring(5)),o=parseInt(n.style.gridRowEnd.substring(5)),i=Array.from(t.element.querySelectorAll(p)).find(function(t){return"1"===t.style.order}),s=i.offsetTop-t.element.offsetTop,a=i.offsetLeft-t.element.offsetLeft,l=(n.offsetWidth-(r-1)*a)/r,c=(n.offsetHeight-(o-1)*s)/o,u=e.originalCurrentTarget.className;t.resizeState={item:n,columnWidth:l,columnHeight:c,segmentWidth:l+a,segmentHeight:c+s,totalWidth:t.element.offsetWidth,originalWidth:n.offsetWidth,originalHeight:n.offsetHeight,originalColSpan:r,originalRowSpan:o,maxWidth:t.element.offsetWidth-(n.offsetLeft+a),colSpanDelta:0,rowSpanDelta:0,resizeSide:u.indexOf("ew")>-1||u.indexOf("nwse")>-1,resizeDown:u.indexOf("ns")>-1||u.indexOf("nwse")>-1}},this.onResizableResize=function(e){t.pinContainer(t.resizeState.item),t.createResizeHint(t.resizeState.item);var n=function(){t.resizeState.item.style.top=t.hint.offsetTop+"px",t.resizeState.item.style.left=t.hint.offsetLeft+"px"};if(t.resizeState.resizeSide){var r=t.resizeState.originalWidth+e.initialDelta.x;r<=t.resizeState.maxWidth&&r>=t.resizeState.columnWidth&&(t.resizeState.item.style.width=r+"px",t.resizeState.colSpanDelta=Math.floor((e.initialDelta.x+t.resizeState.segmentWidth/2)/t.resizeState.segmentWidth),t.hint.style.gridColumnEnd="span "+(t.resizeState.originalColSpan+t.resizeState.colSpanDelta),t.resizeState.item.style.gridColumnEnd="span "+(t.resizeState.originalColSpan+t.resizeState.colSpanDelta),n(),t.resizeState.resizeDown||(t.resizeState.item.style.height=t.hint.offsetHeight+"px"))}if(t.resizeState.resizeDown){var o=t.resizeState.originalHeight+e.initialDelta.y;o>=t.resizeState.columnHeight&&(t.resizeState.item.style.height=o+"px",t.resizeState.rowSpanDelta=Math.floor((e.initialDelta.y+t.resizeState.segmentHeight/2)/t.resizeState.segmentHeight),t.hint.style.gridRowEnd="span "+(t.resizeState.originalRowSpan+t.resizeState.rowSpanDelta),t.resizeState.item.style.gridRowEnd="span "+(t.resizeState.originalRowSpan+t.resizeState.rowSpanDelta),n())}},this.onResizableResizeEnd=function(){(t.resizeState.colSpanDelta||t.resizeState.rowSpanDelta)&&t.invokeMethodAsync(t.options.jsinterop.resizeItem,{order:parseInt(t.resizeState.item.style.order),colSpan:t.resizeState.originalColSpan+t.resizeState.colSpanDelta,rowSpan:t.resizeState.originalRowSpan+t.resizeState.rowSpanDelta}),t.unpinContainer(t.resizeState.item),t.destroyResizeHint(),t.resizeState=null},this.onReorderableDragStart=function(e){var n=e.originalCurrentTarget.closest(p),r=parseInt(n.style.order);t.reorderState={item:n,left:n.offsetLeft,top:n.offsetTop,order:r,originalOrder:r}},this.onReorderableDrag=function(e){t.pinContainer(t.reorderState.item),t.createResizeHint(t.reorderState.item),t.reorderState.item.style.left=t.reorderState.left+e.initialDelta.x+"px",t.reorderState.item.style.top=t.reorderState.top+e.initialDelta.y+"px";var n=t.getItemUnderCursor(e,t.reorderState.item);if(n){var r=n.getBoundingClientRect(),o=e.clientX<r.left+r.width/2,i=parseInt(n.style.order),s=i+(o?0:1),a=void 0,l=void 0,c=void 0;if(n===t.reorderState.lastItemUnderCursor&&o===t.reorderState.lastIsLeftOfMiddle)return;if(i>t.reorderState.order?(a=t.reorderState.order+1,l=s,c=-1,t.reorderState.order=s-1):i<t.reorderState.order&&(a=s,l=t.reorderState.order,c=1,t.reorderState.order=s),l>a){t.shiftItemsOrder(a,l,c),t.hint.style.order=t.reorderState.order,t.reorderState.item.style.order=t.reorderState.order;var u=t.getItemUnderCursor(e,t.reorderState.item);if(t.reorderState.lastItemUnderCursor=u,u){var p=u.getBoundingClientRect(),h=e.clientX<p.left+p.width/2;t.reorderState.lastIsLeftOfMiddle=h}}}},this.onReorderableDragEnd=function(){t.reorderState.order!==t.reorderState.originalOrder&&t.invokeMethodAsync(t.options.jsinterop.reorderItem,{fromOrder:t.reorderState.originalOrder,toOrder:t.reorderState.order}),t.destroyResizeHint(),t.unpinContainer(t.reorderState.item),t.reorderState=null},this.pinContainer=function(t){if("absolute"!==t.style.position){var e=t.offsetLeft,n=t.offsetTop,r=t.offsetWidth,o=t.offsetHeight;t.style.position="absolute",t.style.left=e+"px",t.style.top=n+"px",t.style.width=r+"px",t.style.height=o+"px",t.style.zIndex=2}},this.unpinContainer=function(t){t.style.position="",t.style.left="",t.style.top="",t.style.width="",t.style.height="",t.style.zIndex=""},this.createResizeHint=function(e){t.hint||(t.hint=document.createElement("div"),t.hint.className=d,t.hint.style.order=e.style.order,t.hint.style.gridColumnEnd=e.style.gridColumnEnd,t.hint.style.gridRowEnd=e.style.gridRowEnd,t.element.appendChild(t.hint))},this.destroyResizeHint=function(){t.hint&&(t.element.removeChild(t.hint),t.hint=null)},this.getElementUnderCursor=function(t,e){var n=(0,c.getElementFromPoint)(t);return e&&e.contains(n)&&((0,l.hideElement)(e),n=(0,c.getElementFromPoint)(t),(0,l.showElement)(e)),n},this.getItemUnderCursor=function(e,n){var r=t.getElementUnderCursor(e,n);return r?r.closest(p):null},this.shiftItemsOrder=function(e,n,r){for(var o=t.element.querySelectorAll(p),i=0;i<o.length;i++){var s=o[i],a=parseInt(s.style.order);a>=e&&a<n&&(s.style.order=a+r)}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(306);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.ToggleButton,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initToggleButton=r;var o=n(307),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleButton=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c="k-active";e.ToggleButton=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null},i.setActive=function(){return i.element&&!i.element.classList.contains(c)&&i.element.classList.add(c),!0},i.removeActive=function(){return i.element&&i.element.classList.contains(c)&&i.element.classList.remove(c),!0},i.extendOptions(n),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.navigationService.destroy(),this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.initNavigationService(),this.element.addEventListener("mousedown",this.setActive),this.element.addEventListener("mouseleave",this.removeActive)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("mousedown",this.setActive),this.element.removeEventListener("mouseleave",this.removeActive)}},{key:"initNavigationService",value:function(){this.navigationService=new l.NavigationService(this.element),this.navigationService.bind(l.Key.SPACE,this.setActive)}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(309);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){var n=(0,o.getComponentInstance)(t);if(!n){var r=new i.Tooltip(null,e);(0,o.setComponentInstance)(t,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.initTooltip=r;var o=n(4),i=n(310)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Tooltip=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c="k-callout-n",u="k-callout-s",p="hover",h="top",f="bottom",d="mouseenter",v="mouseleave",y="mousedown",g="click",m="data-telerik-tooltip-id";e.Tooltip=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,showOn:"",targetSelector:"",popupId:"",jsinterop:{open:"",close:""}},i.onMouseDown=function(t){var e=i.getPopupComponent();e.anchor&&!e.isChild(t.target)&&i.close(e.anchor)},i.onClick=function(t){var e=t.target;if(!i.shouldSkipAnchor(e)){var n=i.getClosestMatchingAnchor(e);i.open(n)}},i.onAnyTargetMouseEnter=function(t){var e=t.target;if(!i.shouldSkipAnchor(e)){var n=i.getClosestMatchingAnchor(e);i.removeTitle(n)}},i.onMouseEnter=function(t){i.onAnyTargetMouseEnter(t);var e=i.getClosestMatchingAnchor(t.target);i.open(e)},i.onMouseLeave=function(t){var e=t.target;if(!i.shouldSkipAnchor(e)){var n=i.getPopupComponent(),r=t.relatedTarget;if(!(0,l.ownsElementOrSelf)(n.anchor,r)){var o=i.getClosestMatchingAnchor(e);i.close(o)}}},i.open=function(t){if((0,l.isDomElement)(t)&&!i.shouldSkipAnchor(t)){var e=i.getDataAttributes(t),n=i.getPopupComponent();n.anchors.forEach(function(e){if((0,l.ownsElementOrSelf)(e,t))return void(n.anchor=e)}),i.invokeMethodAsync(i.options.jsinterop.open,e)}},i.close=function(t){(0,l.isDomElement)(t)&&(i.restoreTitle(t),i.invokeMethodAsync(i.options.jsinterop.close))},i.id=(0,l.guid)(),i.options=n,i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){var t=window.document.documentElement;t&&(this.options.showOn===p?(t.addEventListener(d,this.onMouseEnter,!0),t.addEventListener(v,this.onMouseLeave,!0)):(t.addEventListener(d,this.onAnyTargetMouseEnter,!0),t.addEventListener(g,this.onClick,!0)),t.addEventListener(y,this.onMouseDown,!0))}},{key:"unbindEvents",value:function(){var t=window.document.documentElement;t&&(this.options.showOn===p?(t.removeEventListener(d,this.onMouseEnter,!0),t.removeEventListener(v,this.onMouseLeave,!0)):(t.removeEventListener(d,this.onAnyTargetMouseEnter,!0),t.removeEventListener(g,this.onClick,!0)),t.removeEventListener(y,this.onMouseDown,!0))}},{key:"getDataAttributes",value:function(t){var e=t.getAttribute("title")||t.getAttribute("data-title"),n=t.getAttribute("alt")||e;n&&t.setAttribute("data-title",n),t.removeAttribute("title");var r=t.dataset;return r}},{key:"restoreTitle",value:function(t){if((0,l.isDomElement)(t)){var e=t.getAttribute("data-title")||t.getAttribute("title");e&&t.setAttribute("title",e),t.removeAttribute("data-title"),this.untrackAnchor(t)}}},{key:"removeTitle",value:function(t){if((0,l.isDomElement)(t)){this.trackAnchor(t);var e=t.getAttribute("title")||t.getAttribute("data-title");t.setAttribute("data-title",e),t.removeAttribute("title")}}},{key:"flipCallout",value:function(t){var e=this.getPopupComponent();if(e.flipped){var n=e.element.querySelector(".k-callout");t===h?((0,l.removeClass)(u,n),(0,l.addClass)(c,n)):t===f&&((0,l.removeClass)(c,n),(0,l.addClass)(u,n))}}},{key:"correctCalloutPosition",value:function(){var t=this.getPopupComponent(),e=t.getElementRect(t.anchor),n=t.getElementRect(t.element),r=e.left-n.left+.5*e.width,o=t.element.querySelector(".k-callout");o&&(o.style.left=r+"px")}},{key:"positionCallout",value:function(t){this.flipCallout(t),t!==h&&t!==f||this.correctCalloutPosition()}},{key:"getCalloutSize",value:function(){var t=document.createElement("div");t.className="k-callout "+c,t.style.visibility="hidden",document.body.appendChild(t);var e=window.getComputedStyle(t),n=e.borderWidth||e.borderTopWidth,r=parseFloat(n);return document.body.removeChild(t),r}},{key:"getPopupComponent",value:function(){return(0,l.getComponentInstance)(this.options.popupId)}},{key:"shouldSkipAnchor",value:function(t){var e=this.isAnchorTracked(t),n=this.ownsAnchorBySelector(t);return!e&&!n}},{key:"trackAnchor",value:function(t){(0,l.isDomElement)(t)&&t.setAttribute(m,this.id)}},{key:"untrackAnchor",value:function(t){(0,l.isDomElement)(t)&&t.removeAttribute(m)}},{key:"isAnchorTracked",value:function(t){return(0,l.isDomElement)(t)&&t.getAttribute(m)===this.id}},{key:"ownsAnchorBySelector",value:function(t){return(0,l.isDomElement)(t)&&Boolean(t.closest(this.options.targetSelector))}},{key:"getClosestMatchingAnchor",value:function(t){var e=this.getClosestTrackedAnchor(t);if(e)return e;var n=this.getClosestAnchorBySelector(t);return n}},{key:"getClosestTrackedAnchor",value:function(t){if(!(0,l.isDomElement)(t))return null;var e=t.closest((0,l.toAttrValueQuerySelector)(m,this.id));return e}},{key:"getClosestAnchorBySelector",value:function(t){return(0,l.isDomElement)(t)?t.closest(this.options.targetSelector):null}},{key:"repositionPopup",value:function(){var t=this.getPopupComponent();t&&t.positionElement()}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(312);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,s.initComponent)(i.TreeList,t,e)}function o(t){(0,s.destroyComponent)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.initTreeList=r,e.destroyTreeList=o;var i=n(313),s=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TreeList=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4);e.TreeList=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,rowDraggable:!1,draggedItemsHint:"",rowDraggableOptions:{allowDropOver:!0},componentSelector:".k-treelist",jsinterop:{removeFocus:"",blur:"",rowDrop:""}},i.extendOptions(n),i.options.rowDraggable&&i.createRowDraggable(),i}return i(e,t),s(e,[{key:"destroy",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}(l.GridBase)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(315);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,a.initComponent)(i.Upload,t,e)}function o(t,e){(0,a.initComponent)(s.FileSelect,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initUpload=r,
e.initFileSelect=o;var i=n(316),s=n(325),a=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Upload=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(317),c=n(318),u=n(321),p=n(320),h=n(322);e.Upload=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={saveUrl:null,saveField:"files",removeUrl:null,removeField:"files",withCredentials:!1,autoUpload:!1,jsinterop:{onProgress:null,onSuccess:null,onError:null}},i.onProgress=function(t){var e=i.getFile(t.file.id);(0,l.hasValue)(e)&&(e.progress=t.file.progress,i.invokeMethodAsync(i.options.jsinterop.onProgress,{files:[e],progress:t.file.progress}))},i.onSuccess=function(t){var e=[i.getFile(t.file.id)];t.operation===p.UploadOperationType.Remove?i.removeFileFromState(t.file.id):i.setFileStatus(e,u.UploadFileStatus.Uploaded),i.invokeMethodAsync(i.options.jsinterop.onSuccess,{operation:t.operation,files:e,request:t.request})},i.onError=function(t){var e=[i.getFile(t.file.id)];t.operation===p.UploadOperationType.Upload&&i.setFileStatus(e,u.UploadFileStatus.Failed),i.invokeMethodAsync(i.options.jsinterop.onError,{operation:t.operation,files:e,request:t.request})},i.extendOptions(n),i.initOrUpdateUploadService(i.options),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.destroyUploadService(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"setOptions",value:function(t){this.extendOptions(t),this.initOrUpdateUploadService(this.options)}},{key:"initOrUpdateUploadService",value:function(t){this.uploadService?this.uploadService.setOptions(t):this.uploadService=this.initUploadService(t)}},{key:"initUploadService",value:function(t){var e=new c.UploadService({saveUrl:t.saveUrl,saveField:t.saveField,removeUrl:t.removeUrl,removeField:t.removeField,withCredentials:t.withCredentials,events:{uploadProgress:this.onProgress,uploadSuccess:this.onSuccess,uploadError:this.onError,removeSuccess:this.onSuccess,removeError:this.onError}});return e}},{key:"destroyUploadService",value:function(){this.uploadService&&this.uploadService.destroy()}},{key:"deleteFile",value:function(t){var e=t.fileId,n=t.options;this.removeFile(e,n)}},{key:"removeFile",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getFile(t);n&&(n.status===u.UploadFileStatus.Uploaded?this.uploadService.removeFile(n,{headers:e.requestHeaders,data:e.requestData}):this.removeFileFromState(t))}},{key:"uploadFiles",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(t.files||[]).length>0,n=e?t.files:this.getFiles(),r=this.getFilesForUpload(n);this.setFileStatus(r,u.UploadFileStatus.Uploading),this.uploadService.uploadFiles(r,{headers:t.requestHeaders,data:t.requestData})}},{key:"retryFile",value:function(t){var e=t.fileId,n=t.options,r=void 0===n?{}:n,o=this.getFile(e);o&&o.status===u.UploadFileStatus.Failed&&this.uploadService.uploadFile(o,{headers:r.requestHeaders,data:r.requestData})}},{key:"cancelFile",value:function(t){var e=this.getFile(t);e&&(this.uploadService.cancelFile(t),this.removeFile(t))}},{key:"focusClearButton",value:function(){var t=this.element.querySelector(".k-clear-selected");this.focusElement(t)}},{key:"getFilesForUpload",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return e.forEach(function(e){var r=t.getFile(e.id);t.isFileForUpload(r)&&n.push(r)}),n}},{key:"isFileForUpload",value:function(t){return t.isValid()&&t.status===u.UploadFileStatus.Selected}},{key:"setFileStatus",value:function(t,e){var n=Array.isArray(t)?t:[t];n.forEach(function(t){(0,l.hasValue)(t)&&(t.status=e)})}},{key:"openFileSelect",value:function(){this.inputElement&&this.inputElement.click()}}]),e}(h.UploadBase)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(e.toArray=Array.from,e.hasValue=function(t){return"undefined"!=typeof t&&null!==t},e.isWebkit=function(){return navigator.userAgent.match(/webkit/i)},e.getFileExtension=function(t){var e=t.match(/\.([^\.]+)$/);return e?e[0]:""});e.getFileInfo=function(t){var e={name:t.name,size:t.size,extension:n(t.name),rawFile:t};return e}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.UploadService=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(4),l=n(317),c=n(319),u=n(320),p="uploadSuccess",h="uploadError",f="uploadProgress",d="removeSuccess",v="removeError";e.UploadService=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,null,t));return n.options={saveUrl:"",saveMethod:"POST",saveField:"files",removeUrl:null,removeMethod:"POST",removeField:"files",withCredentials:!1,events:{uploadProgress:null,uploadSuccess:null,uploadError:null}},n.onUploadProgress=function(t){n.trigger(f,t)},n.onUploadSuccess=function(t){n.trigger(p,t)},n.onUploadError=function(t){n.trigger(h,t)},n.onRemoveSuccess=function(t){n.trigger(d,t)},n.onRemoveError=function(t){n.trigger(v,t)},n.extendOptions(t),n.resetState(),n}return i(e,t),s(e,[{key:"setOptions",value:function(t){this.extendOptions(t)}},{key:"resetState",value:function(){this.setState({fileRequests:{}})}},{key:"setState",value:function(t){this.state=(0,a.extend)(this.state||{},t)}},{key:"uploadFiles",value:function(t,e){var n=this;(0,l.toArray)(t).forEach(function(t){n.uploadFile(t,e)})}},{key:"uploadFile",value:function(t,e){this.sendUploadRequest(t,e)}},{key:"cancelFile",value:function(t){var e=this.state.fileRequests[t];e&&(this.untrackUploadRequest(t),e.abort())}},{key:"removeFile",value:function(t,e){this.sendRemoveRequest(t,e)}},{key:"sendUploadRequest",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options.saveUrl){var r=t.id,o=this.getFileUploadFormData(t.rawFile,n.data),i=c.HttpRequest.send({url:this.options.saveUrl,method:this.options.saveMethod,withCredentials:this.options.withCredentials,data:o,headers:n.headers,success:function(t){e.onUploadSuccess({operation:u.UploadOperationType.Upload,request:t.request,file:{id:r}})},error:function(t){e.onUploadError({operation:u.UploadOperationType.Upload,request:t.request,file:{id:r}})},progress:function(t){e.onUploadProgress({file:{id:r,progress:t.progress}})}});this.trackUploadRequest(r,i)}}},{key:"sendRemoveRequest",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options.removeUrl){var r=t.id,o=this.getFileRemoveFormData(t,n.data);c.HttpRequest.send({url:this.options.removeUrl,method:this.options.removeMethod,withCredentials:this.options.withCredentials,data:o,headers:n.headers,success:function(t){e.onRemoveSuccess({operation:u.UploadOperationType.Remove,request:t.request,file:{id:r}})},error:function(t){e.onRemoveError({operation:u.UploadOperationType.Remove,request:t.request,file:{id:r}})}})}}},{key:"trackUploadRequest",value:function(t,e){this.state.fileRequests[t]=e}},{key:"untrackUploadRequest",value:function(t){this.state.fileRequests[t]=null}},{key:"getFileUploadFormData",value:function(t,e){var n=this.getFormData({field:this.options.saveField,data:t,additionalData:e});return n}},{key:"getFileRemoveFormData",value:function(t,e){var n=this.getFormData({field:this.options.removeField,data:t.name,additionalData:e});return n}},{key:"getFormData",value:function(t){var e=t.data,n=t.field,r=t.additionalData,o=void 0===r?{}:r,i=new FormData;return Object.keys(o).forEach(function(t){i.append(t,o[t])}),i.append(n,e),i}}]),e}(a.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.HttpRequest=void 0;var o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(6),l="error",c="progress",u="load",p=function(){return{}},h=function(t){return(0,a.isFunction)(t)?t:p},f=function(t,e){var n=s({request:d(t)},e);return n},d=function(t){var e={status:t.status,statusText:t.statusText,responseText:t.responseText,responseType:t.responseType};return e};e.HttpRequest=function(){function t(){r(this,t)}return i(t,null,[{key:"send",value:function(t){var e=t.url,n=t.method,r=t.data,i=t.withCredentials,s=void 0!==i&&i,a=t.headers,p=void 0===a?{}:a,d=t.success,v=t.error,y=t.progress,g=new XMLHttpRequest,m=h(d),b=h(v),w=h(y);return g.withCredentials=s,g.addEventListener(u,function(){var t=g.status>=200&&g.status<300;t?m(f(g)):b(f(g))}),g.addEventListener(l,function(){b(f(g))}),g.upload.addEventListener(l,function(){b(f(g))}),g.upload.addEventListener(c,function(t){w(f(g,{progress:Math.round(100*t.loaded/t.total)}))}),g.open(n,e,!0),Object.entries(p).forEach(function(t){var e=o(t,2),n=e[0],r=e[1];g.setRequestHeader(n,r)}),g.send(r),g}}]),t}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.UploadOperationType={Upload:0,Remove:1}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.UploadFileStatus={Selected:0,Uploaded:1,Uploading:2,Failed:3}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.UploadBase=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(317),u=n(323),p=n(324),h="change",f="keydown",d="focusout",v=[l.Key.ARROWLEFT,l.Key.ARROWRIGHT,l.Key.ARROWUP,l.Key.ARROWDOWN],y=function(t){return t?parseInt(t.getAttribute("data-index"),10):null},g=function(t){return null!==t&&t>=0};e.UploadBase=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,allowedExtensions:[],minFileSize:null,maxFileSize:null,multiple:!1,jsinterop:{onSelect:null,focusout:null}},i.onInputChange=function(t){var e=i.getFilesInfo(t.target.files);(0,c.isWebkit)()&&(t.target.type="",t.target.type="file"),i.options.multiple||i.clearFiles(),i.addFiles(e),i.triggerFileSelect(e)},i.onKeyDown=function(t){var e=v.includes(t.key);e&&t.preventDefault()},i.onFocusOut=function(t){var e=t.target.closest(".k-file"),n=y(e),r=t.relatedTarget?t.relatedTarget.closest(".k-file"):null,o=y(r);i.invokeFocusOut(n,o)},i.extendOptions(n),i.inputElement=i.element.querySelector("input[type='file']"),i.initValidator(),i.resetState(),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),this.inputElement=null,this.destroyValidator(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.inputElement&&this.inputElement.addEventListener(h,this.onInputChange),this.element.addEventListener(f,this.onKeyDown),this.element.addEventListener(d,this.onFocusOut)}},{key:"unbindEvents",value:function(){this.inputElement&&this.inputElement.removeEventListener(h,this.onInputChange),this.element.removeEventListener(f,this.onKeyDown),this.element.removeEventListener(d,this.onFocusOut)}},{key:"resetState",value:function(){this.setState({files:[]})}},{key:"setState",value:function(t){this.state=(0,l.extend)(this.state||{},t)}},{key:"initValidator",value:function(){this.validator=new u.FileValidator}},{key:"destroyValidator",value:function(){this.validator=null}},{key:"triggerFileSelect",value:function(t){return this.invokeMethodAsync(this.options.jsinterop.onSelect,t)}},{key:"addFiles",value:function(t){var e=this;(0,c.toArray)(t).forEach(function(t){e.addFile(t)})}},{key:"addFile",value:function(t){var e=this.getFile(t.id);e||(this.validateFile(t),this.state.files.push(t))}},{key:"removeFileFromState",value:function(t){var e=this.state.files.filter(function(e){return e.id!==t});this.setState({files:e})}},{key:"getFiles",value:function(){return this.state.files}},{key:"getFile",value:function(t){return this.state.files.find(function(e){return e.id===t})}},{key:"getFileInfo",value:function(t){var e=(0,c.getFileInfo)(t);return new p.FileInfo(e)}},{key:"getFilesInfo",value:function(t){var e=(0,c.toArray)(t).map(this.getFileInfo);return e}},{key:"clearFiles",value:function(){this.setState({files:[]})}},{key:"validateFile",value:function(t){if(this.validator){var e=this.validator.validateFile(t,{allowedExtensions:this.options.allowedExtensions,minFileSize:this.options.minFileSize,maxFileSize:this.options.maxFileSize});t.invalidExtension=!e.validExtension,t.invalidMinFileSize=!e.validMinFileSize,t.invalidMaxFileSize=!e.validMaxFileSize}}},{key:"invokeFocusOut",value:function(t,e){var n=this;g(t)&&setTimeout(function(){n.invokeMethodAsync(n.options.jsinterop.focusout,{relatedTargetFileIndex:e})},1)}},{key:"focusFile",value:function(t){var e=Array.from(this.element.querySelectorAll(".k-file")||[])[t];this.focusElement(e)}},{key:"focusInput",value:function(){this.focusElement(this.inputElement)}},{key:"focusElement",value:function(t){t instanceof HTMLElement&&(0,l.focusInNextFrameAsync)(t)}}]),e}(l.Component)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.FileValidator=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(317);e.FileValidator=function(){function t(){r(this,t)}return o(t,[{key:"validateFile",value:function(t,e){var n=e.allowedExtensions,r=e.minFileSize,o=e.maxFileSize,i=this.isValidFileExtension(t.extension,n),s=this.isValidMinFileSize(t.size,r),a=this.isValidMaxFileSize(t.size,o);return{validExtension:i,validMinFileSize:s,validMaxFileSize:a}}},{key:"isValidFileExtension",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if((0,i.hasValue)(e)){var n=e.map(function(t){return t.toLowerCase()});return n.includes(t.toLowerCase())}return!0}},{key:"isValidMinFileSize",value:function(t,e){return!(0,i.hasValue)(e)||t>e}},{key:"isValidMaxFileSize",value:function(t,e){return!(0,i.hasValue)(e)||t<e}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.FileInfo=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(6),s=n(321);e.FileInfo=function(){function t(e){r(this,t),this.id=(0,i.guid)(),this.name=(0,i.htmlEncode)(e.name),this.size=e.size,this.extension=e.extension,this.progress=e.progress||0,this.rawFile=e.rawFile,this.status=e.status||s.UploadFileStatus.Selected,this.invalidExtension=e.invalidExtension||!1,this.invalidMinFileSize=e.invalidMinSize||!1,this.invalidMaxFileSize=e.invalidMaxFileSize||!1}return o(t,[{key:"isValid",value:function(){return!this.invalidExtension&&!this.invalidMinFileSize&&!this.invalidMaxFileSize}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.FileSelect=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(322);e.FileSelect=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.extendOptions(n),i}return i(e,t),s(e,[{key:"destroy",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"setOptions",value:function(t){this.extendOptions(t)}},{key:"deleteFile",value:function(t){this.removeFileFromState(t)}},{key:"readBlob",value:function(t){var e=function(t){return new Promise(function(e,n){var r=new FileReader;r.onerror=function(){r.abort(),n("Error reading file.")},r.onload=function(){e(r.result)},t&&r.readAsArrayBuffer(t.rawFile)})};return e(t)}},{key:"readBytes",value:function(t){var e=this.getFile(t[0].fileId),n=this.readBlob(e);return n.then(function(e){var n=new Uint8Array(e,t[0].start,Math.min(e.byteLength,t[0].count));return btoa(String.fromCharCode.apply(null,n))})}},{key:"triggerFileSelect",value:function(t){return this.invokeMethodAsync(this.options.jsinterop.onSelect,t)}}]),e}(l.UploadBase)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(327);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,s.initComponent)(i.VirtualColumnScroller,(0,s.addComponentSuffix)(t,"VirtualColumnScroller"),e)}function o(t){(0,s.destroyComponent)((0,s.addComponentSuffix)(t,"VirtualColumnScroller"))}Object.defineProperty(e,"__esModule",{value:!0}),e.initVirtualColumnScroller=r,e.destroyVirtualColumnScroller=o;var i=n(328),s=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.VirtualColumnScroller=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(20),u=180,p="data-col-index",h=(0,l.toAttrQuerySelector)(p),f="tr",d=Array.from;e.VirtualColumnScroller=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,tableSelector:".k-grid-table",debounceDelay:u,headerSelector:"k-grid-header",contentSelector:"k-grid-content",footerSelector:"k-grid-footer",jsinterop:{onScroll:""}},i.detectScrollTopChanged=function(t){i.state.scrollTopChanged=i.state.scrollTop!==t.target.scrollTop,i.state.scrollTop=t.target.scrollTop},i.onScroll=function(t){if(!i.state.scrollTopChanged){var e=document.activeElement,n=e?document.activeElement.closest(h):null,r=n?n.closest((0,l.toClassSelector)("k-state-focused"))||n:null,o=r?r.closest([(0,l.toClassSelector)(i.options.headerSelector),(0,l.toClassSelector)(i.options.contentSelector),(0,l.toClassSelector)(i.options.footerSelector)].join(",")):null,s=(0,l.hasValue)(r),a=(0,l.isWholeElementInView)(r,o),u=0;if(r){var p=r.getBoundingClientRect().width,v=r.closest(f),y=v?d(v.querySelectorAll(h)):[],g=y.filter(c.isLockedElement);u=g.reduce(function(t,e){var n=e.getBoundingClientRect().width;return t+n},0),g.length&&u+p>i.element.clientWidth&&(a=!0)}i.invokeScroll({scrollLeft:t.target.scrollLeft,containsActiveElement:s,isActiveCellInView:a})}},i.extendOptions(n),i.bindEvents(),i.setState({scrollTop:0,scrollTopChanged:!1,scrollLeft:0}),i}return i(e,t),s(e,[{key:"destroy",value:function(){this.unbindEvents(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){var t=this;this.debouncedScroll=(0,l.debounce)(function(e){t.onScroll(e)},this.options.debounceDelay).bind(this),this.element.addEventListener("scroll",this.detectScrollTopChanged),this.element.addEventListener("scroll",this.debouncedScroll)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("scroll",this.detectScrollTopChanged),this.element.removeEventListener("scroll",this.debouncedScroll),this.debouncedScroll=null}},{key:"setState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state=(0,l.extend)(this.state||{},t)}},{key:"invokeScroll",value:function(t){var e=t.scrollLeft,n=t.containsActiveElement,r=t.isActiveCellInView;this.invokeMethodAsync(this.options.jsinterop.onScroll,{scrollLeft:e,containsActiveElement:n,isActiveCellInView:r})}}]),e}(l.Component)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(330);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.VirtualScroller,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initVirtualScroller=r;var o=n(331),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.VirtualScroller=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=(e.VirtualScroller=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return c.call(i),i.extendOptions(n),i.timeout,i.contentElement=i.element.querySelector(".k-virtual-scroller-content"),i.total=parseInt(i.contentElement.getAttribute("data-total")),i.setScrollbarSize(),i.setPosition(n.skip),i.bindEvents(),i}return i(e,t),s(e,[{key:"destroy",value:function(){clearTimeout(this.timeout),this.unbindEvents(),this.contentElement=null,a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"bindEvents",value:function(){this.element.addEventListener("scroll",this.onElementScroll)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("scroll",this.onElementScroll)}},{key:"setScrollbarSize",value:function(){(0,l.setScrollbarSizeCssVariables)()}},{key:"setPosition",value:function(t){this.manualSet=!0,this.scrollTop=Math.floor(this.options.itemHeight*t);var e=this.element.parentElement.parentElement.style.display,n=this.element.parentElement.parentElement.parentElement.style.display;this.element.parentElement.parentElement.style.display="",this.element.parentElement.parentElement.parentElement.style.display="",this.element.scrollTop=this.scrollTop,this.element.parentElement.parentElement.style.display=e,this.element.parentElement.parentElement.parentElement.style.display=n}},{key:"setPositionToIndex",value:function(t){this.manualSet=!0;var e=t*this.options.itemHeight,n=e+this.options.itemHeight,r=Math.floor(this.element.scrollTop),o=(0,l.getScrollBarHeight)(this.element),i=r+(this.element.offsetHeight-o);n>i?(this.scrollTop+=n-i,this.element.scrollTop=this.scrollTop):n<r&&(this.scrollTop=e,this.element.scrollTop=this.scrollTop)}},{key:"scrollLoadingItems",value:function(){var t=this.options,e=Math.floor(this.element.scrollTop),n=(0,l.getScrollBarHeight)(this.element),r=this.element.offsetHeight-n,o=this.contentElement.children[0].offsetHeight,i=2*t.itemHeight,s=parseFloat(this.contentElement.getAttribute("data-translate")),a=s;e<s?a=e-e%i:o+s<r+e&&(a=Math.ceil((r+e-o)/i)*i),this.contentElement.style.setProperty("transform","translateY("+a+"px)")}}]),e}(l.Component),function(){var t=this;this.options={skip:0,itemHeight:0,loadingItems:!1,jsinterop:{scroll:""}},this.onElementScroll=function(){var e=t.options,n=Math.floor(t.element.scrollTop);if(t.scrollTop===n||t.manualSet)return void(t.manualSet=!1);clearTimeout(t.timeout),e.loadingItems&&t.scrollLoadingItems(),t.scrollTop=n;var r=Math.floor(n/e.itemHeight);t.timeout=setTimeout(function(){t.invokeMethodAsync(e.jsinterop.scroll,r)},66)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(333);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";function r(t,e){(0,i.initComponent)(o.Window,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initWindow=r;var o=n(334),i=n(4)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Window=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},l=n(4),c=n(290),u=n(24),p=n(22);e.Window=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.options={dotNetInstance:null,jsinterop:{keydown:"Window_KeyDown"},navigable:!1},i.onFocusIn=function(){i.invokeMethodAsync(i.options.jsinterop.focusin)},i.onKeyDown=function(t){i.element!==t.target&&t.keyCode!==l.KeyCode.ESCAPE||i.invokeKeyDown(t)},i.onDragStart=function(t){i.dragStarted=i.allowedDrag(t),i.dragStarted&&(i.setFixedPosition(),i.cursorOffset={top:t.pageY-i.top,left:t.pageX-i.left},(0,p.preventDefault)(t),i.startTop=i.top,i.startLeft=i.left,i.element.focus())},i.onDrag=function(t){if(!i.dragStarted)return!0;var e=t.pageY-i.cursorOffset.top,n=t.pageX-i.cursorOffset.left;i.setPosition(e,n)},i.onDragEnd=function(){i.dragStarted&&(i.startTop===i.top&&i.startLeft===i.left||i.invokeMethodAsync(i.options.jsinterop.dragEnd,{top:i.top+"px",left:i.left+"px"}))},i.extendOptions(n),i.titleBar=i.element.querySelector(".k-window-titlebar"),i.bindEvents(),i.options.navigable&&i.enableTabKeyTrap(),i}return i(e,t),s(e,[{key:"destroy",value:function(){
this.unbindEvents(),this.options.navigable&&this.disableTabKeyTrap(),this.destroyDraggable(),a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.content=this.titleBar=null}},{key:"bindEvents",value:function(){this.element.addEventListener("keydown",this.onKeyDown),this.element.addEventListener("focusin",this.onFocusIn)}},{key:"unbindEvents",value:function(){this.element.removeEventListener("keydown",this.onKeyDown),this.element.removeEventListener("focusin",this.onFocusIn)}},{key:"onShow",value:function(t){t.length&&this.setOptions(t[0]),this.unbindEvents();var e=this.element.getAttribute("data-id");this.element=(0,l.getElementByDataId)(e),this.titleBar=this.element.querySelector(".k-window-titlebar"),this.content=this.element.querySelector(".k-window-content"),this.bindEvents(),this.initDraggable(),this.formKeyTrap&&(this.formKeyTrap.destroy(),this.enableTabKeyTrap()),this.options.navigable?(0,l.focusFirstFocusableChild)(this.content.id):this.element.focus()}},{key:"invokeKeyDown",value:function(t){this.invokeMethodAsync(this.options.jsinterop.keydown,{type:t.type,key:t.key,code:t.keyCode,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey})}},{key:"enableTabKeyTrap",value:function(){this.options.modal&&(this.formKeyTrap=new l.FormKeyTrap(this.content),this.formKeyTrap.enableKeyTrap())}},{key:"disableTabKeyTrap",value:function(){this.formKeyTrap&&this.formKeyTrap.disableTabKeyTrap()}},{key:"initDraggable",value:function(){this.options.draggable&&this.createDraggable()}},{key:"createDraggable",value:function(){this.titleBar&&(this.draggable=new u.Draggable({press:this.onDragStart,drag:this.onDrag,release:this.onDragEnd}),this.draggable.bindTo(this.titleBar))}},{key:"destroyDraggable",value:function(){this.draggable&&(this.draggable.destroy(),this.draggable=null)}},{key:"allowedDrag",value:function(t){var e=t.originalEvent.target;return!this.isMaximized()&&!e.closest("button")}},{key:"setFixedPosition",value:function(){var t=(0,c.positionWithScroll)(this.element,this.element.parentElement);(0,l.removeClass)("k-centered",this.element),this.setPosition(t.top,t.left)}},{key:"setPosition",value:function(t,e){this.top=(Math.round(10*t)/10).toFixed(1),this.left=(Math.round(10*e)/10).toFixed(1),this.element&&(this.element.style.top=t+"px",this.element.style.left=e+"px")}},{key:"isMaximized",value:function(){if(this.element)return"100%"===this.element.style.width&&"100%"===this.element.style.height}}]),e}(l.Component)}])});